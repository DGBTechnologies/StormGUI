(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/iKR":function(e,t,n){var i;i=function(e){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=7)}([function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach((function(t){null!=t&&Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";var i=n(5).getBoundingBox;e.exports={getRef:function(e,t){var n=t.renderedDimensions;return{getBoundingClientRect:function(){return i(e,t)},get clientWidth(){return n(e).w},get clientHeight(){return n(e).h}}}}},function(e,t,n){"use strict";var i=n(0),r=n(1).getRef,o=n(6).getContent,s={},a=n(8),l=a.default;null!=l&&null!=l.Defaults&&(a=a.default),e.exports={getPopper:function(e,t){var n=r(e,t),l=o(e,t.content),c=i({},s,t.popper);return new a(n,l,c)}}},function(e,t,n){"use strict";var i=n(0),r=n(2).getPopper,o=n(1).getRef;function s(e,t){var n=function(e){return e.isNode()?{w:e.renderedWidth(),h:e.renderedHeight()}:{w:3,h:3}},r=e.cy();return i({},{renderedDimensions:n,renderedPosition:function(e){return e.isNode()?function(e,t){var n=e.renderedPosition(),i=t(e);return{x:n.x-i.w/2,y:n.y-i.h/2}}(e,n):function(e){var t=e.midpoint(),n=e.cy().pan(),i=e.cy().zoom();return{x:t.x*i+n.x,y:t.y*i+n.y}}(e)},popper:{},cy:r},t)}function a(e){e.length>1&&(console.warn("Popper.js Extension should only be used on one element."),console.warn("Ignoring all subsequent elements"))}e.exports={popper:function(e){return a(this),r(this[0],s(this[0],e))},popperRef:function(e){return a(this),o(this[0],s(this[0],e))}}},function(e,t,n){"use strict";var i=n(0),r=n(2).getPopper,o=n(1).getRef;function s(e,t){return i({},{boundingBox:{top:0,left:0,right:0,bottom:0,w:3,h:3},renderedDimensions:function(){return{w:3,h:3}},redneredPosition:function(){return{x:0,y:0}},popper:{},cy:e},t)}e.exports={popper:function(e){return r(this,s(this,e))},popperRef:function(e){return o(this,s(this,e))}}},function(e,t,n){"use strict";e.exports={getBoundingBox:function(e,t){var n=t.renderedPosition,i=t.renderedDimensions,r=t.cy.container().getBoundingClientRect(),o=i(e),s=n(e);return{top:s.y+r.top,left:s.x+r.left,right:s.x+o.w+r.left,bottom:s.y+o.h+r.top,width:o.w,height:o.h}}}},function(e,t,n){"use strict";e.exports={getContent:function(e,t){var n;if("function"!=typeof t){if(t instanceof HTMLElement)return t;throw new Error("Can not create popper from 'target' with unknown type")}if(null===(n=t(e)))throw new Error("No 'target' specified to create popper");return n}}},function(e,t,n){"use strict";var i=n(4),r=n(3),o=function(e){e&&(e("core","popper",i.popper),e("collection","popper",r.popper),e("core","popperRef",i.popperRef),e("collection","popperRef",r.popperRef))};"undefined"!=typeof cytoscape&&o(cytoscape),e.exports=o},function(t,n){t.exports=e}])},e.exports=i(n("8L3F"))},0:function(e,t,n){e.exports=n("zUnb")},"8L3F":function(e,t,n){"use strict";n.r(t);var i="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,r=function(){for(var e=["Edge","Trident","Firefox"],t=0;t<e.length;t+=1)if(i&&navigator.userAgent.indexOf(e[t])>=0)return 1;return 0}(),o=i&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then((function(){t=!1,e()})))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout((function(){t=!1,e()}),r))}};function s(e){return e&&"[object Function]"==={}.toString.call(e)}function a(e,t){if(1!==e.nodeType)return[];var n=e.ownerDocument.defaultView.getComputedStyle(e,null);return t?n[t]:n}function l(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function c(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=a(e);return/(auto|scroll|overlay)/.test(t.overflow+t.overflowY+t.overflowX)?e:c(l(e))}function h(e){return e&&e.referenceNode?e.referenceNode:e}var d=i&&!(!window.MSInputMethodContext||!document.documentMode),u=i&&/MSIE 10/.test(navigator.userAgent);function p(e){return 11===e?d:10===e?u:d||u}function g(e){if(!e)return document.documentElement;for(var t=p(10)?document.body:null,n=e.offsetParent||null;n===t&&e.nextElementSibling;)n=(e=e.nextElementSibling).offsetParent;var i=n&&n.nodeName;return i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(n.nodeName)&&"static"===a(n,"position")?g(n):n:e?e.ownerDocument.documentElement:document.documentElement}function f(e){return null!==e.parentNode?f(e.parentNode):e}function m(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&g(s.firstElementChild)!==s?g(l):l;var c=f(e);return c.host?m(c.host,t):m(e,f(t).host)}function v(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",n="top"===t?"scrollTop":"scrollLeft",i=e.nodeName;if("BODY"===i||"HTML"===i){var r=e.ownerDocument.documentElement,o=e.ownerDocument.scrollingElement||r;return o[n]}return e[n]}function y(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=v(t,"top"),r=v(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}function b(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"])+parseFloat(e["border"+i+"Width"])}function C(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],p(10)?parseInt(n["offset"+e])+parseInt(i["margin"+("Height"===e?"Top":"Left")])+parseInt(i["margin"+("Height"===e?"Bottom":"Right")]):0)}function w(e){var t=e.body,n=e.documentElement,i=p(10)&&getComputedStyle(n);return{height:C("Height",t,n,i),width:C("Width",t,n,i)}}var _=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),I=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},A=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function k(e){return A({},e,{right:e.left+e.width,bottom:e.top+e.height})}function S(e){var t={};try{if(p(10)){t=e.getBoundingClientRect();var n=v(e,"top"),i=v(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}else t=e.getBoundingClientRect()}catch(h){}var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?w(e.ownerDocument):{},s=e.offsetWidth-(o.width||e.clientWidth||r.width),l=e.offsetHeight-(o.height||e.clientHeight||r.height);if(s||l){var c=a(e);s-=b(c,"x"),l-=b(c,"y"),r.width-=s,r.height-=l}return k(r)}function E(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=p(10),r="HTML"===t.nodeName,o=S(e),s=S(t),l=c(e),h=a(t),d=parseFloat(h.borderTopWidth),u=parseFloat(h.borderLeftWidth);n&&r&&(s.top=Math.max(s.top,0),s.left=Math.max(s.left,0));var g=k({top:o.top-s.top-d,left:o.left-s.left-u,width:o.width,height:o.height});if(g.marginTop=0,g.marginLeft=0,!i&&r){var f=parseFloat(h.marginTop),m=parseFloat(h.marginLeft);g.top-=d-f,g.bottom-=d-f,g.left-=u-m,g.right-=u-m,g.marginTop=f,g.marginLeft=m}return(i&&!n?t.contains(l):t===l&&"BODY"!==l.nodeName)&&(g=y(g,t)),g}function O(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=e.ownerDocument.documentElement,i=E(e,n),r=Math.max(n.clientWidth,window.innerWidth||0),o=Math.max(n.clientHeight,window.innerHeight||0),s=t?0:v(n),a=t?0:v(n,"left"),l={top:s-i.top+i.marginTop,left:a-i.left+i.marginLeft,width:r,height:o};return k(l)}function P(e){var t=e.nodeName;if("BODY"===t||"HTML"===t)return!1;if("fixed"===a(e,"position"))return!0;var n=l(e);return!!n&&P(n)}function M(e){if(!e||!e.parentElement||p())return document.documentElement;for(var t=e.parentElement;t&&"none"===a(t,"transform");)t=t.parentElement;return t||document.documentElement}function T(e,t,n,i){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4],o={top:0,left:0},s=r?M(e):m(e,h(t));if("viewport"===i)o=O(s,r);else{var a=void 0;"scrollParent"===i?"BODY"===(a=c(l(t))).nodeName&&(a=e.ownerDocument.documentElement):a="window"===i?e.ownerDocument.documentElement:i;var d=E(a,s,r);if("HTML"!==a.nodeName||P(s))o=d;else{var u=w(e.ownerDocument),p=u.height,g=u.width;o.top+=d.top-d.marginTop,o.bottom=p+d.top,o.left+=d.left-d.marginLeft,o.right=g+d.left}}var f="number"==typeof(n=n||0);return o.left+=f?n:n.left||0,o.top+=f?n:n.top||0,o.right-=f?n:n.right||0,o.bottom-=f?n:n.bottom||0,o}function R(e){return e.width*e.height}function D(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=T(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map((function(e){return A({key:e},a[e],{area:R(a[e])})})).sort((function(e,t){return t.area-e.area})),c=l.filter((function(e){return e.width>=n.clientWidth&&e.height>=n.clientHeight})),h=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return h+(d?"-"+d:"")}function N(e,t,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,r=i?M(t):m(t,h(n));return E(n,r,i)}function L(e){var t=e.ownerDocument.defaultView.getComputedStyle(e),n=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),i=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function B(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,(function(e){return t[e]}))}function F(e,t,n){n=n.split("-")[0];var i=L(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[B(a)],r}function V(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function $(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex((function(e){return e.name===n}));var i=V(e,(function(e){return e.name===n}));return e.indexOf(i)}(e,0,n))).forEach((function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&s(n)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=n(t,e))})),t}function H(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=N(this.state,this.popper,this.reference,this.options.positionFixed),e.placement=D(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.positionFixed=this.options.positionFixed,e.offsets.popper=F(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position=this.options.positionFixed?"fixed":"absolute",e=$(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}function j(e,t){return e.some((function(e){return e.enabled&&e.name===t}))}function W(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function z(){return this.state.isDestroyed=!0,j(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[W("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function G(e){var t=e.ownerDocument;return t?t.defaultView:window}function Z(){this.state.eventsEnabled||(this.state=function(e,t,n,i){n.updateBound=i,G(e).addEventListener("resize",n.updateBound,{passive:!0});var r=c(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,i,{passive:!0}),o||e(c(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}(this.reference,0,this.state,this.scheduleUpdate))}function K(){var e;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.state,G(this.reference).removeEventListener("resize",e.updateBound),e.scrollParents.forEach((function(t){t.removeEventListener("scroll",e.updateBound)})),e.updateBound=null,e.scrollParents=[],e.scrollElement=null,e.eventsEnabled=!1,e))}function X(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function Y(e,t){Object.keys(t).forEach((function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&X(t[n])&&(i="px"),e.style[n]=t[n]+i}))}var U=i&&/Firefox/i.test(navigator.userAgent);function J(e,t,n){var i=V(e,(function(e){return e.name===t})),r=!!i&&e.some((function(e){return e.name===n&&e.enabled&&e.order<i.order}));if(!r){var o="`"+t+"`";console.warn("`"+n+"` modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],Q=q.slice(3);function ee(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Q.indexOf(e),i=Q.slice(n+1).concat(Q.slice(0,n));return t?i.reverse():i}var te={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",h={start:I({},l,o[l]),end:I({},l,o[l]+o[c]-s[c])};e.offsets.popper=A({},s,h[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n,i=t.offset,r=e.offsets,o=r.popper,s=r.reference,a=e.placement.split("-")[0];return n=X(+i)?[+i,0]:function(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map((function(e){return e.trim()})),a=s.indexOf(V(s,(function(e){return-1!==e.search(/,|\s/)})));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map((function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce((function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)}),[]).map((function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return k(a)[t]/100*o}return"vh"===s||"vw"===s?("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o:o}(e,r,t,n)}))}))).forEach((function(e,t){e.forEach((function(n,i){X(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))}))})),r}(i,o,s,a),"left"===a?(o.top+=n[0],o.left-=n[1]):"right"===a?(o.top+=n[0],o.left+=n[1]):"top"===a?(o.left+=n[0],o.top-=n[1]):"bottom"===a&&(o.left+=n[0],o.top+=n[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||g(e.instance.popper);e.instance.reference===n&&(n=g(n));var i=W("transform"),r=e.instance.popper.style,o=r.top,s=r.left,a=r[i];r.top="",r.left="",r[i]="";var l=T(e.instance.popper,e.instance.reference,t.padding,n,e.positionFixed);r.top=o,r.left=s,r[i]=a,t.boundaries=l;var c=e.offsets.popper,h={primary:function(e){var n=c[e];return c[e]<l[e]&&!t.escapeWithReference&&(n=Math.max(c[e],l[e])),I({},e,n)},secondary:function(e){var n="right"===e?"left":"top",i=c[n];return c[e]>l[e]&&!t.escapeWithReference&&(i=Math.min(c[n],l[e]-("right"===e?c.width:c.height))),I({},n,i)}};return t.priority.forEach((function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";c=A({},c,h[t](e))})),e.offsets.popper=c,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!J(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,s=o.popper,l=o.reference,c=-1!==["left","right"].indexOf(r),h=c?"height":"width",d=c?"Top":"Left",u=d.toLowerCase(),p=c?"left":"top",g=c?"bottom":"right",f=L(i)[h];l[g]-f<s[u]&&(e.offsets.popper[u]-=s[u]-(l[g]-f)),l[u]+f>s[g]&&(e.offsets.popper[u]+=l[u]+f-s[g]),e.offsets.popper=k(e.offsets.popper);var m=l[u]+l[h]/2-f/2,v=a(e.instance.popper),y=parseFloat(v["margin"+d]),b=parseFloat(v["border"+d+"Width"]),C=m-e.offsets.popper[u]-y-b;return C=Math.max(Math.min(s[h]-f,C),0),e.arrowElement=i,e.offsets.arrow=(I(n={},u,Math.round(C)),I(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(j(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=T(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement,e.positionFixed),i=e.placement.split("-")[0],r=B(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case"flip":s=[i,r];break;case"clockwise":s=ee(i);break;case"counterclockwise":s=ee(i,!0);break;default:s=t.behavior}return s.forEach((function(a,l){if(i!==a||s.length===l+1)return e;i=e.placement.split("-")[0],r=B(i);var c=e.offsets.popper,h=e.offsets.reference,d=Math.floor,u="left"===i&&d(c.right)>d(h.left)||"right"===i&&d(c.left)<d(h.right)||"top"===i&&d(c.bottom)>d(h.top)||"bottom"===i&&d(c.top)<d(h.bottom),p=d(c.left)<d(n.left),g=d(c.right)>d(n.right),f=d(c.top)<d(n.top),m=d(c.bottom)>d(n.bottom),v="left"===i&&p||"right"===i&&g||"top"===i&&f||"bottom"===i&&m,y=-1!==["top","bottom"].indexOf(i),b=!!t.flipVariations&&(y&&"start"===o&&p||y&&"end"===o&&g||!y&&"start"===o&&f||!y&&"end"===o&&m)||!!t.flipVariationsByContent&&(y&&"start"===o&&g||y&&"end"===o&&p||!y&&"start"===o&&m||!y&&"end"===o&&f);(u||v||b)&&(e.flipped=!0,(u||v)&&(i=s[l+1]),b&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=A({},e.offsets.popper,F(e.instance.popper,e.offsets.reference,e.placement)),e=$(e.instance.modifiers,e,"flip"))})),e},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=B(t),e.offsets.popper=k(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!J(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=V(e.instance.modifiers,(function(e){return"preventOverflow"===e.name})).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=V(e.instance.modifiers,(function(e){return"applyStyle"===e.name})).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s,a,l=void 0!==o?o:t.gpuAcceleration,c=g(e.instance.popper),h=S(c),d={position:r.position},u=function(e,t){var n=e.offsets,i=n.popper,r=Math.round,o=Math.floor,s=function(e){return e},a=r(n.reference.width),l=r(i.width),c=-1!==["left","right"].indexOf(e.placement),h=-1!==e.placement.indexOf("-"),d=t?c||h||a%2==l%2?r:o:s,u=t?r:s;return{left:d(a%2==1&&l%2==1&&!h&&t?i.left-1:i.left),top:u(i.top),bottom:u(i.bottom),right:d(i.right)}}(e,window.devicePixelRatio<2||!U),p="bottom"===n?"top":"bottom",f="right"===i?"left":"right",m=W("transform");if(a="bottom"===p?"HTML"===c.nodeName?-c.clientHeight+u.bottom:-h.height+u.bottom:u.top,s="right"===f?"HTML"===c.nodeName?-c.clientWidth+u.right:-h.width+u.right:u.left,l&&m)d[m]="translate3d("+s+"px, "+a+"px, 0)",d[p]=0,d[f]=0,d.willChange="transform";else{var v="right"===f?-1:1;d[p]=a*("bottom"===p?-1:1),d[f]=s*v,d.willChange=p+", "+f}return e.attributes=A({},{"x-placement":e.placement},e.attributes),e.styles=A({},d,e.styles),e.arrowStyles=A({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return Y(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach((function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)})),e.arrowElement&&Object.keys(e.arrowStyles).length&&Y(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=N(r,t,e,n.positionFixed),s=D(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),Y(t,{position:n.positionFixed?"fixed":"absolute"}),n},gpuAcceleration:void 0}}},ne=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};_(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=o(this.update.bind(this)),this.options=A({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(A({},e.Defaults.modifiers,r.modifiers)).forEach((function(t){i.options.modifiers[t]=A({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})})),this.modifiers=Object.keys(this.options.modifiers).map((function(e){return A({name:e},i.options.modifiers[e])})).sort((function(e,t){return e.order-t.order})),this.modifiers.forEach((function(e){e.enabled&&s(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)})),this.update();var a=this.options.eventsEnabled;a&&this.enableEventListeners(),this.state.eventsEnabled=a}return x(e,[{key:"update",value:function(){return H.call(this)}},{key:"destroy",value:function(){return z.call(this)}},{key:"enableEventListeners",value:function(){return Z.call(this)}},{key:"disableEventListeners",value:function(){return K.call(this)}}]),e}();ne.Utils=("undefined"!=typeof window?window:global).PopperUtils,ne.placements=q,ne.Defaults=te,t.default=ne},"9/5/":function(e,t){var n=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,r=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt,a="object"==typeof global&&global&&global.Object===Object&&global,l="object"==typeof self&&self&&self.Object===Object&&self,c=a||l||Function("return this")(),h=Object.prototype.toString,d=Math.max,u=Math.min,p=function(){return c.Date.now()};function g(e){var t=typeof e;return!!e&&("object"==t||"function"==t)}function f(e){if("number"==typeof e)return e;if(function(e){return"symbol"==typeof e||function(e){return!!e&&"object"==typeof e}(e)&&"[object Symbol]"==h.call(e)}(e))return NaN;if(g(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=g(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=e.replace(n,"");var a=r.test(e);return a||o.test(e)?s(e.slice(2),a?2:8):i.test(e)?NaN:+e}e.exports=function(e,t,n){var i,r,o,s,a,l,c=0,h=!1,m=!1,v=!0;if("function"!=typeof e)throw new TypeError("Expected a function");function y(t){var n=i,o=r;return i=r=void 0,c=t,s=e.apply(o,n)}function b(e){return c=e,a=setTimeout(w,t),h?y(e):s}function C(e){var n=e-l;return void 0===l||n>=t||n<0||m&&e-c>=o}function w(){var e=p();if(C(e))return _(e);a=setTimeout(w,function(e){var n=t-(e-l);return m?u(n,o-(e-c)):n}(e))}function _(e){return a=void 0,v&&i?y(e):(i=r=void 0,s)}function x(){var e=p(),n=C(e);if(i=arguments,r=this,l=e,n){if(void 0===a)return b(l);if(m)return a=setTimeout(w,t),y(l)}return void 0===a&&(a=setTimeout(w,t)),s}return t=f(t)||0,g(n)&&(h=!!n.leading,o=(m="maxWait"in n)?d(f(n.maxWait)||0,t):o,v="trailing"in n?!!n.trailing:v),x.cancel=function(){void 0!==a&&clearTimeout(a),c=0,i=l=r=a=void 0},x.flush=function(){return void 0===a?s:_(p())},x}},EVdn:function(e,t,n){var i;!function(t,n){"use strict";"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,(function(n,r){"use strict";var o=[],s=Object.getPrototypeOf,a=o.slice,l=o.flat?function(e){return o.flat.call(e)}:function(e){return o.concat.apply([],e)},c=o.push,h=o.indexOf,d={},u=d.toString,p=d.hasOwnProperty,g=p.toString,f=g.call(Object),m={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},b=n.document,C={type:!0,src:!0,nonce:!0,noModule:!0};function w(e,t,n){var i,r,o=(n=n||b).createElement("script");if(o.text=e,t)for(i in C)(r=t[i]||t.getAttribute&&t.getAttribute(i))&&o.setAttribute(i,r);n.head.appendChild(o).parentNode.removeChild(o)}function _(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?d[u.call(e)]||"object":typeof e}var x=function(e,t){return new x.fn.init(e,t)};function I(e){var t=!!e&&"length"in e&&e.length,n=_(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}x.fn=x.prototype={jquery:"3.5.1",constructor:x,length:0,toArray:function(){return a.call(this)},get:function(e){return null==e?a.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=x.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return x.each(this,e)},map:function(e){return this.pushStack(x.map(this,(function(t,n){return e.call(t,n,t)})))},slice:function(){return this.pushStack(a.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},even:function(){return this.pushStack(x.grep(this,(function(e,t){return(t+1)%2})))},odd:function(){return this.pushStack(x.grep(this,(function(e,t){return t%2})))},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:c,sort:o.sort,splice:o.splice},x.extend=x.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)i=e[t],"__proto__"!==t&&s!==i&&(c&&i&&(x.isPlainObject(i)||(r=Array.isArray(i)))?(n=s[t],o=r&&!Array.isArray(n)?[]:r||x.isPlainObject(n)?n:{},r=!1,s[t]=x.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},x.extend({expando:"jQuery"+("3.5.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==u.call(e)||(t=s(e))&&("function"!=typeof(n=p.call(t,"constructor")&&t.constructor)||g.call(n)!==f))},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e,t,n){w(e,{nonce:t&&t.nonce},n)},each:function(e,t){var n,i=0;if(I(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},makeArray:function(e,t){var n=t||[];return null!=e&&(I(Object(e))?x.merge(n,"string"==typeof e?[e]:e):c.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:h.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(I(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return l(s)},guid:1,support:m}),"function"==typeof Symbol&&(x.fn[Symbol.iterator]=o[Symbol.iterator]),x.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),(function(e,t){d["[object "+t+"]"]=t.toLowerCase()}));var A=function(e){var t,n,i,r,o,s,a,l,c,h,d,u,p,g,f,m,v,y,b,C="sizzle"+1*new Date,w=e.document,_=0,x=0,I=le(),A=le(),k=le(),S=le(),E=function(e,t){return e===t&&(d=!0),0},O={}.hasOwnProperty,P=[],M=P.pop,T=P.push,R=P.push,D=P.slice,N=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},L="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",B="[\\x20\\t\\r\\n\\f]",F="(?:\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\[^\\r\\n\\f]|[\\w-]|[^\0-\\x7f])+",V="\\["+B+"*("+F+")(?:"+B+"*([*^$|!~]?=)"+B+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+F+"))|)"+B+"*\\]",$=":("+F+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+V+")*)|.*)\\)|)",H=new RegExp(B+"+","g"),j=new RegExp("^"+B+"+|((?:^|[^\\\\])(?:\\\\.)*)"+B+"+$","g"),W=new RegExp("^"+B+"*,"+B+"*"),z=new RegExp("^"+B+"*([>+~]|"+B+")"+B+"*"),G=new RegExp(B+"|>"),Z=new RegExp($),K=new RegExp("^"+F+"$"),X={ID:new RegExp("^#("+F+")"),CLASS:new RegExp("^\\.("+F+")"),TAG:new RegExp("^("+F+"|[*])"),ATTR:new RegExp("^"+V),PSEUDO:new RegExp("^"+$),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+B+"*(even|odd|(([+-]|)(\\d*)n|)"+B+"*(?:([+-]|)"+B+"*(\\d+)|))"+B+"*\\)|)","i"),bool:new RegExp("^(?:"+L+")$","i"),needsContext:new RegExp("^"+B+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+B+"*((?:-\\d)?\\d*)"+B+"*\\)|)(?=[^-]|$)","i")},Y=/HTML$/i,U=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,q=/^[^{]+\{\s*\[native \w/,Q=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,ee=/[+~]/,te=new RegExp("\\\\[\\da-fA-F]{1,6}"+B+"?|\\\\([^\\r\\n\\f])","g"),ne=function(e,t){var n="0x"+e.slice(1)-65536;return t||(n<0?String.fromCharCode(n+65536):String.fromCharCode(n>>10|55296,1023&n|56320))},ie=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,re=function(e,t){return t?"\0"===e?"\ufffd":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},oe=function(){u()},se=Ce((function(e){return!0===e.disabled&&"fieldset"===e.nodeName.toLowerCase()}),{dir:"parentNode",next:"legend"});try{R.apply(P=D.call(w.childNodes),w.childNodes)}catch(Ae){R={apply:P.length?function(e,t){T.apply(e,D.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function ae(e,t,i,r){var o,a,c,h,d,g,v,y=t&&t.ownerDocument,w=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return i;if(!r&&(u(t),t=t||p,f)){if(11!==w&&(d=Q.exec(e)))if(o=d[1]){if(9===w){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(y&&(c=y.getElementById(o))&&b(t,c)&&c.id===o)return i.push(c),i}else{if(d[2])return R.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return R.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!S[e+" "]&&(!m||!m.test(e))&&(1!==w||"object"!==t.nodeName.toLowerCase())){if(v=e,y=t,1===w&&(G.test(e)||z.test(e))){for((y=ee.test(e)&&ve(t.parentNode)||t)===t&&n.scope||((h=t.getAttribute("id"))?h=h.replace(ie,re):t.setAttribute("id",h=C)),a=(g=s(e)).length;a--;)g[a]=(h?"#"+h:":scope")+" "+be(g[a]);v=g.join(",")}try{return R.apply(i,y.querySelectorAll(v)),i}catch(_){S(e,!0)}finally{h===C&&t.removeAttribute("id")}}}return l(e.replace(j,"$1"),t,i,r)}function le(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ce(e){return e[C]=!0,e}function he(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(Ae){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function de(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function pe(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function ge(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function fe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&se(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function me(e){return ce((function(t){return t=+t,ce((function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))}))}))}function ve(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=ae.support={},o=ae.isXML=function(e){var t=(e.ownerDocument||e).documentElement;return!Y.test(e.namespaceURI||t&&t.nodeName||"HTML")},u=ae.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:w;return s!=p&&9===s.nodeType&&s.documentElement?(g=(p=s).documentElement,f=!o(p),w!=p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",oe,!1):r.attachEvent&&r.attachEvent("onunload",oe)),n.scope=he((function(e){return g.appendChild(e).appendChild(p.createElement("div")),void 0!==e.querySelectorAll&&!e.querySelectorAll(":scope fieldset div").length})),n.attributes=he((function(e){return e.className="i",!e.getAttribute("className")})),n.getElementsByTagName=he((function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length})),n.getElementsByClassName=q.test(p.getElementsByClassName),n.getById=he((function(e){return g.appendChild(e).id=C,!p.getElementsByName||!p.getElementsByName(C).length})),n.getById?(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(te,ne);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&f){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&f)return t.getElementsByClassName(e)},v=[],m=[],(n.qsa=q.test(p.querySelectorAll))&&(he((function(e){var t;g.appendChild(e).innerHTML="<a id='"+C+"'></a><select id='"+C+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&m.push("[*^$]="+B+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||m.push("\\["+B+"*(?:value|"+L+")"),e.querySelectorAll("[id~="+C+"-]").length||m.push("~="),(t=p.createElement("input")).setAttribute("name",""),e.appendChild(t),e.querySelectorAll("[name='']").length||m.push("\\["+B+"*name"+B+"*="+B+"*(?:''|\"\")"),e.querySelectorAll(":checked").length||m.push(":checked"),e.querySelectorAll("a#"+C+"+*").length||m.push(".#.+[+~]"),e.querySelectorAll("\\\f"),m.push("[\\r\\n\\f]")})),he((function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&m.push("name"+B+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&m.push(":enabled",":disabled"),g.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&m.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),m.push(",.*:")}))),(n.matchesSelector=q.test(y=g.matches||g.webkitMatchesSelector||g.mozMatchesSelector||g.oMatchesSelector||g.msMatchesSelector))&&he((function(e){n.disconnectedMatch=y.call(e,"*"),y.call(e,"[s!='']:x"),v.push("!=",$)})),m=m.length&&new RegExp(m.join("|")),v=v.length&&new RegExp(v.join("|")),t=q.test(g.compareDocumentPosition),b=t||q.test(g.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},E=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)==(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e==p||e.ownerDocument==w&&b(w,e)?-1:t==p||t.ownerDocument==w&&b(w,t)?1:h?N(h,e)-N(h,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e==p?-1:t==p?1:r?-1:o?1:h?N(h,e)-N(h,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ue(s[i],a[i]):s[i]==w?-1:a[i]==w?1:0},p):p},ae.matches=function(e,t){return ae(e,null,null,t)},ae.matchesSelector=function(e,t){if(u(e),n.matchesSelector&&f&&!S[t+" "]&&(!v||!v.test(t))&&(!m||!m.test(t)))try{var i=y.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(Ae){S(t,!0)}return ae(t,p,null,[e]).length>0},ae.contains=function(e,t){return(e.ownerDocument||e)!=p&&u(e),b(e,t)},ae.attr=function(e,t){(e.ownerDocument||e)!=p&&u(e);var r=i.attrHandle[t.toLowerCase()],o=r&&O.call(i.attrHandle,t.toLowerCase())?r(e,t,!f):void 0;return void 0!==o?o:n.attributes||!f?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},ae.escape=function(e){return(e+"").replace(ie,re)},ae.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ae.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,h=!n.sortStable&&e.slice(0),e.sort(E),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return h=null,e},r=ae.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=ae.selectors={cacheLength:50,createPseudo:ce,match:X,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(te,ne),e[3]=(e[3]||e[4]||e[5]||"").replace(te,ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||ae.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&ae.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return X.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&Z.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(te,ne).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=I[e+" "];return t||(t=new RegExp("(^|"+B+")"+e+"("+B+"|$)"))&&I(e,(function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")}))},ATTR:function(e,t,n){return function(i){var r=ae.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(H," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,h,d,u,p,g,f=o!==s?"nextSibling":"previousSibling",m=t.parentNode,v=a&&t.nodeName.toLowerCase(),y=!l&&!a,b=!1;if(m){if(o){for(;f;){for(u=t;u=u[f];)if(a?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1;g=f="only"===e&&!g&&"nextSibling"}return!0}if(g=[s?m.firstChild:m.lastChild],s&&y){for(b=(p=(c=(h=(d=(u=m)[C]||(u[C]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]||[])[0]===_&&c[1])&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[f]||(b=p=0)||g.pop();)if(1===u.nodeType&&++b&&u===t){h[e]=[_,p,b];break}}else if(y&&(b=p=(c=(h=(d=(u=t)[C]||(u[C]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]||[])[0]===_&&c[1]),!1===b)for(;(u=++p&&u&&u[f]||(b=p=0)||g.pop())&&((a?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++b||(y&&((h=(d=u[C]||(u[C]={}))[u.uniqueID]||(d[u.uniqueID]={}))[e]=[_,b]),u!==t)););return(b-=r)===i||b%i==0&&b/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||ae.error("unsupported pseudo: "+e);return r[C]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ce((function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=N(e,o[s])]=!(n[i]=o[s])})):function(e){return r(e,0,n)}):r}},pseudos:{not:ce((function(e){var t=[],n=[],i=a(e.replace(j,"$1"));return i[C]?ce((function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))})):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}})),has:ce((function(e){return function(t){return ae(e,t).length>0}})),contains:ce((function(e){return e=e.replace(te,ne),function(t){return(t.textContent||r(t)).indexOf(e)>-1}})),lang:ce((function(e){return K.test(e||"")||ae.error("unsupported lang: "+e),e=e.replace(te,ne).toLowerCase(),function(t){var n;do{if(n=f?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}})),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===g},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:fe(!1),disabled:fe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return U.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:me((function(){return[0]})),last:me((function(e,t){return[t-1]})),eq:me((function(e,t,n){return[n<0?n+t:n]})),even:me((function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e})),odd:me((function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e})),lt:me((function(e,t,n){for(var i=n<0?n+t:n>t?t:n;--i>=0;)e.push(i);return e})),gt:me((function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e}))}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=pe(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=ge(t);function ye(){}function be(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function Ce(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=x++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,h,d,u=[_,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(h=(d=t[C]||(t[C]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=h[o])&&c[0]===_&&c[1]===a)return u[2]=c[2];if(h[o]=u,u[2]=e(t,n,l))return!0}return!1}}function we(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function _e(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function xe(e,t,n,i,r,o){return i&&!i[C]&&(i=xe(i)),r&&!r[C]&&(r=xe(r,o)),ce((function(o,s,a,l){var c,h,d,u=[],p=[],g=s.length,f=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)ae(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),m=!e||!o&&t?f:_e(f,u,e,a,l),v=n?r||(o?e:g||i)?[]:s:m;if(n&&n(m,v,a,l),i)for(c=_e(v,p),i(c,[],a,l),h=c.length;h--;)(d=c[h])&&(v[p[h]]=!(m[p[h]]=d));if(o){if(r||e){if(r){for(c=[],h=v.length;h--;)(d=v[h])&&c.push(m[h]=d);r(null,v=[],c,l)}for(h=v.length;h--;)(d=v[h])&&(c=r?N(o,d):u[h])>-1&&(o[c]=!(s[c]=d))}}else v=_e(v===s?v.splice(g,v.length):v),r?r(null,s,v,l):R.apply(s,v)}))}function Ie(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,h=Ce((function(e){return e===t}),a,!0),d=Ce((function(e){return N(t,e)>-1}),a,!0),u=[function(e,n,i){var r=!s&&(i||n!==c)||((t=n).nodeType?h(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])u=[Ce(we(u),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[C]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return xe(l>1&&we(u),l>1&&be(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(j,"$1"),n,l<r&&Ie(e.slice(l,r)),r<o&&Ie(e=e.slice(r)),r<o&&be(e))}u.push(n)}return we(u)}return ye.prototype=i.filters=i.pseudos,i.setFilters=new ye,s=ae.tokenize=function(e,t){var n,r,o,s,a,l,c,h=A[e+" "];if(h)return t?0:h.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=z.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(j," ")}),a=a.slice(n.length)),i.filter)!(r=X[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?ae.error(e):A(e,l).slice(0)},a=ae.compile=function(e,t){var n,r=[],o=[],a=k[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=Ie(t[n]))[C]?r.push(a):o.push(a);(a=k(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,h){var d,g,m,v=0,y="0",b=o&&[],C=[],w=c,x=o||r&&i.find.TAG("*",h),I=_+=null==w?1:Math.random()||.1,A=x.length;for(h&&(c=s==p||s||h);y!==A&&null!=(d=x[y]);y++){if(r&&d){for(g=0,s||d.ownerDocument==p||(u(d),a=!f);m=e[g++];)if(m(d,s||p,a)){l.push(d);break}h&&(_=I)}n&&((d=!m&&d)&&v--,o&&b.push(d))}if(v+=y,n&&y!==v){for(g=0;m=t[g++];)m(b,C,s,a);if(o){if(v>0)for(;y--;)b[y]||C[y]||(C[y]=M.call(l));C=_e(C)}R.apply(l,C),h&&!o&&C.length>0&&v+t.length>1&&ae.uniqueSort(l)}return h&&(_=I,c=w),b};return n?ce(o):o}(o,r))).selector=e}return a},l=ae.select=function(e,t,n,r){var o,l,c,h,d,u="function"==typeof e&&e,p=!r&&s(e=u.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&f&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(te,ne),t)||[])[0]))return n;u&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=X.needsContext.test(e)?0:l.length;o--&&!i.relative[h=(c=l[o]).type];)if((d=i.find[h])&&(r=d(c.matches[0].replace(te,ne),ee.test(l[0].type)&&ve(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&be(l)))return R.apply(n,r),n;break}}return(u||a(e,p))(r,t,!f,n,!t||ee.test(e)&&ve(t.parentNode)||t),n},n.sortStable=C.split("").sort(E).join("")===C,n.detectDuplicates=!!d,u(),n.sortDetached=he((function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))})),he((function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")}))||de("type|href|height|width",(function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)})),n.attributes&&he((function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}))||de("value",(function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue})),he((function(e){return null==e.getAttribute("disabled")}))||de(L,(function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null})),ae}(n);x.find=A,x.expr=A.selectors,x.expr[":"]=x.expr.pseudos,x.uniqueSort=x.unique=A.uniqueSort,x.text=A.getText,x.isXMLDoc=A.isXML,x.contains=A.contains,x.escapeSelector=A.escape;var k=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&x(e).is(n))break;i.push(e)}return i},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},E=x.expr.match.needsContext;function O(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var P=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function M(e,t,n){return v(t)?x.grep(e,(function(e,i){return!!t.call(e,i,e)!==n})):t.nodeType?x.grep(e,(function(e){return e===t!==n})):"string"!=typeof t?x.grep(e,(function(e){return h.call(t,e)>-1!==n})):x.filter(t,e,n)}x.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?x.find.matchesSelector(i,e)?[i]:[]:x.find.matches(e,x.grep(t,(function(e){return 1===e.nodeType})))},x.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(x(e).filter((function(){for(t=0;t<i;t++)if(x.contains(r[t],this))return!0})));for(n=this.pushStack([]),t=0;t<i;t++)x.find(e,r[t],n);return i>1?x.uniqueSort(n):n},filter:function(e){return this.pushStack(M(this,e||[],!1))},not:function(e){return this.pushStack(M(this,e||[],!0))},is:function(e){return!!M(this,"string"==typeof e&&E.test(e)?x(e):e||[],!1).length}});var T,R=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(x.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||T,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:R.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(x.merge(this,x.parseHTML(i[1],(t=t instanceof x?t[0]:t)&&t.nodeType?t.ownerDocument||t:b,!0)),P.test(i[1])&&x.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=b.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(x):x.makeArray(e,this)}).prototype=x.fn,T=x(b);var D=/^(?:parents|prev(?:Until|All))/,N={children:!0,contents:!0,next:!0,prev:!0};function L(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}x.fn.extend({has:function(e){var t=x(e,this),n=t.length;return this.filter((function(){for(var e=0;e<n;e++)if(x.contains(this,t[e]))return!0}))},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&x(e);if(!E.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&x.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?x.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?h.call(x(e),this[0]):h.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(x.uniqueSort(x.merge(this.get(),x(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),x.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return k(e,"parentNode")},parentsUntil:function(e,t,n){return k(e,"parentNode",n)},next:function(e){return L(e,"nextSibling")},prev:function(e){return L(e,"previousSibling")},nextAll:function(e){return k(e,"nextSibling")},prevAll:function(e){return k(e,"previousSibling")},nextUntil:function(e,t,n){return k(e,"nextSibling",n)},prevUntil:function(e,t,n){return k(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return null!=e.contentDocument&&s(e.contentDocument)?e.contentDocument:(O(e,"template")&&(e=e.content||e),x.merge([],e.childNodes))}},(function(e,t){x.fn[e]=function(n,i){var r=x.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=x.filter(i,r)),this.length>1&&(N[e]||x.uniqueSort(r),D.test(e)&&r.reverse()),this.pushStack(r)}}));var B=/[^\x20\t\r\n\f]+/g;function F(e){return e}function V(e){throw e}function $(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}x.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return x.each(e.match(B)||[],(function(e,n){t[n]=!0})),t}(e):x.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){x.each(n,(function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==_(i)&&t(i)}))}(arguments),n&&!t&&l()),this},remove:function(){return x.each(arguments,(function(e,t){for(var n;(n=x.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--})),this},has:function(e){return e?x.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},x.extend({Deferred:function(e){var t=[["notify","progress",x.Callbacks("memory"),x.Callbacks("memory"),2],["resolve","done",x.Callbacks("once memory"),x.Callbacks("once memory"),0,"resolved"],["reject","fail",x.Callbacks("once memory"),x.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return x.Deferred((function(n){x.each(t,(function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]]((function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)}))})),e=null})).promise()},then:function(e,i,r){var o=0;function s(e,t,i,r){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<o)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");v(c=n&&("object"==typeof n||"function"==typeof n)&&n.then)?r?c.call(n,s(o,t,F,r),s(o,t,V,r)):(o++,c.call(n,s(o,t,F,r),s(o,t,V,r),s(o,t,F,t.notifyWith))):(i!==F&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},h=r?c:function(){try{c()}catch(n){x.Deferred.exceptionHook&&x.Deferred.exceptionHook(n,h.stackTrace),e+1>=o&&(i!==V&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?h():(x.Deferred.getStackHook&&(h.stackTrace=x.Deferred.getStackHook()),n.setTimeout(h))}}return x.Deferred((function(n){t[0][3].add(s(0,n,v(r)?r:F,n.notifyWith)),t[1][3].add(s(0,n,v(e)?e:F)),t[2][3].add(s(0,n,v(i)?i:V))})).promise()},promise:function(e){return null!=e?x.extend(e,r):r}},o={};return x.each(t,(function(e,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add((function(){i=a}),t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith})),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=a.call(arguments),o=x.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?a.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&($(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)$(r[n],s(n),o.reject);return o.promise()}});var H=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;x.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&H.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},x.readyException=function(e){n.setTimeout((function(){throw e}))};var j=x.Deferred();function W(){b.removeEventListener("DOMContentLoaded",W),n.removeEventListener("load",W),x.ready()}x.fn.ready=function(e){return j.then(e).catch((function(e){x.readyException(e)})),this},x.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--x.readyWait:x.isReady)||(x.isReady=!0,!0!==e&&--x.readyWait>0||j.resolveWith(b,[x]))}}),x.ready.then=j.then,"complete"===b.readyState||"loading"!==b.readyState&&!b.documentElement.doScroll?n.setTimeout(x.ready):(b.addEventListener("DOMContentLoaded",W),n.addEventListener("load",W));var z=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===_(n))for(a in r=!0,n)z(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,v(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(x(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},G=/^-ms-/,Z=/-([a-z])/g;function K(e,t){return t.toUpperCase()}function X(e){return e.replace(G,"ms-").replace(Z,K)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function U(){this.expando=x.expando+U.uid++}U.uid=1,U.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[X(t)]=n;else for(i in t)r[X(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][X(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(X):(t=X(t))in i?[t]:t.match(B)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||x.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!x.isEmptyObject(t)}};var J=new U,q=new U,Q=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,ee=/[A-Z]/g;function te(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(ee,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:Q.test(e)?JSON.parse(e):e)}(n)}catch(r){}q.set(e,t,n)}else n=void 0;return n}x.extend({hasData:function(e){return q.hasData(e)||J.hasData(e)},data:function(e,t,n){return q.access(e,t,n)},removeData:function(e,t){q.remove(e,t)},_data:function(e,t,n){return J.access(e,t,n)},_removeData:function(e,t){J.remove(e,t)}}),x.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=q.get(o),1===o.nodeType&&!J.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=X(i.slice(5)),te(o,i,r[i]));J.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each((function(){q.set(this,e)})):z(this,(function(t){var n;if(o&&void 0===t)return void 0!==(n=q.get(o,e))||void 0!==(n=te(o,e))?n:void 0;this.each((function(){q.set(this,e,t)}))}),null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each((function(){q.remove(this,e)}))}}),x.extend({queue:function(e,t,n){var i;if(e)return i=J.get(e,t=(t||"fx")+"queue"),n&&(!i||Array.isArray(n)?i=J.access(e,t,x.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){var n=x.queue(e,t=t||"fx"),i=n.length,r=n.shift(),o=x._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,(function(){x.dequeue(e,t)}),o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return J.get(e,n)||J.access(e,n,{empty:x.Callbacks("once memory").add((function(){J.remove(e,[t+"queue",n])}))})}}),x.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?x.queue(this[0],e):void 0===t?this:this.each((function(){var n=x.queue(this,e,t);x._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&x.dequeue(this,e)}))},dequeue:function(e){return this.each((function(){x.dequeue(this,e)}))},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=x.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=J.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ne=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,ie=new RegExp("^(?:([+-])=|)("+ne+")([a-z%]*)$","i"),re=["Top","Right","Bottom","Left"],oe=b.documentElement,se=function(e){return x.contains(e.ownerDocument,e)},ae={composed:!0};oe.getRootNode&&(se=function(e){return x.contains(e.ownerDocument,e)||e.getRootNode(ae)===e.ownerDocument});var le=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&se(e)&&"none"===x.css(e,"display")};function ce(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return x.css(e,t,"")},l=a(),c=n&&n[3]||(x.cssNumber[t]?"":"px"),h=e.nodeType&&(x.cssNumber[t]||"px"!==c&&+l)&&ie.exec(x.css(e,t));if(h&&h[3]!==c){for(c=c||h[3],h=+(l/=2)||1;s--;)x.style(e,t,h+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),h/=o;x.style(e,t,(h*=2)+c),n=n||[]}return n&&(h=+h||+l||0,r=n[1]?h+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=h,i.end=r)),r}var he={};function de(e){var t,n=e.ownerDocument,i=e.nodeName,r=he[i];return r||(t=n.body.appendChild(n.createElement(i)),r=x.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),he[i]=r,r)}function ue(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=J.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&le(i)&&(r[o]=de(i))):"none"!==n&&(r[o]="none",J.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}x.fn.extend({show:function(){return ue(this,!0)},hide:function(){return ue(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each((function(){le(this)?x(this).show():x(this).hide()}))}});var pe,ge,fe=/^(?:checkbox|radio)$/i,me=/<([a-z][^\/\0>\x20\t\r\n\f]*)/i,ve=/^$|^module$|\/(?:java|ecma)script/i;pe=b.createDocumentFragment().appendChild(b.createElement("div")),(ge=b.createElement("input")).setAttribute("type","radio"),ge.setAttribute("checked","checked"),ge.setAttribute("name","t"),pe.appendChild(ge),m.checkClone=pe.cloneNode(!0).cloneNode(!0).lastChild.checked,pe.innerHTML="<textarea>x</textarea>",m.noCloneChecked=!!pe.cloneNode(!0).lastChild.defaultValue,pe.innerHTML="<option></option>",m.option=!!pe.lastChild;var ye={thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function be(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&O(e,t)?x.merge([e],n):n}function Ce(e,t){for(var n=0,i=e.length;n<i;n++)J.set(e[n],"globalEval",!t||J.get(t[n],"globalEval"))}ye.tbody=ye.tfoot=ye.colgroup=ye.caption=ye.thead,ye.th=ye.td,m.option||(ye.optgroup=ye.option=[1,"<select multiple='multiple'>","</select>"]);var we=/<|&#?\w+;/;function _e(e,t,n,i,r){for(var o,s,a,l,c,h,d=t.createDocumentFragment(),u=[],p=0,g=e.length;p<g;p++)if((o=e[p])||0===o)if("object"===_(o))x.merge(u,o.nodeType?[o]:o);else if(we.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(me.exec(o)||["",""])[1].toLowerCase(),s.innerHTML=(l=ye[a]||ye._default)[1]+x.htmlPrefilter(o)+l[2],h=l[0];h--;)s=s.lastChild;x.merge(u,s.childNodes),(s=d.firstChild).textContent=""}else u.push(t.createTextNode(o));for(d.textContent="",p=0;o=u[p++];)if(i&&x.inArray(o,i)>-1)r&&r.push(o);else if(c=se(o),s=be(d.appendChild(o),"script"),c&&Ce(s),n)for(h=0;o=s[h++];)ve.test(o.type||"")&&n.push(o);return d}var xe=/^key/,Ie=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Ae=/^([^.]*)(?:\.(.+)|)/;function ke(){return!0}function Se(){return!1}function Ee(e,t){return e===function(){try{return b.activeElement}catch(e){}}()==("focus"===t)}function Oe(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Oe(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Se;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return x().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=x.guid++)),e.each((function(){x.event.add(this,t,r,i,n)}))}function Pe(e,t,n){n?(J.set(e,t,!1),x.event.add(e,t,{namespace:!1,handler:function(e){var i,r,o=J.get(this,t);if(1&e.isTrigger&&this[t]){if(o.length)(x.event.special[t]||{}).delegateType&&e.stopPropagation();else if(o=a.call(arguments),J.set(this,t,o),i=n(this,t),this[t](),o!==(r=J.get(this,t))||i?J.set(this,t,!1):r={},o!==r)return e.stopImmediatePropagation(),e.preventDefault(),r.value}else o.length&&(J.set(this,t,{value:x.event.trigger(x.extend(o[0],x.Event.prototype),o.slice(1),this)}),e.stopImmediatePropagation())}})):void 0===J.get(e,t)&&x.event.add(e,t,ke)}x.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,h,d,u,p,g,f,m=J.get(e);if(Y(e))for(n.handler&&(n=(o=n).handler,r=o.selector),r&&x.find.matchesSelector(oe,r),n.guid||(n.guid=x.guid++),(l=m.events)||(l=m.events=Object.create(null)),(s=m.handle)||(s=m.handle=function(t){return void 0!==x&&x.event.triggered!==t.type?x.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)p=f=(a=Ae.exec(t[c])||[])[1],g=(a[2]||"").split(".").sort(),p&&(d=x.event.special[p]||{},d=x.event.special[p=(r?d.delegateType:d.bindType)||p]||{},h=x.extend({type:p,origType:f,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&x.expr.match.needsContext.test(r),namespace:g.join(".")},o),(u=l[p])||((u=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,g,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),r?u.splice(u.delegateCount++,0,h):u.push(h),x.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,h,d,u,p,g,f,m=J.hasData(e)&&J.get(e);if(m&&(l=m.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(p=f=(a=Ae.exec(t[c])||[])[1],g=(a[2]||"").split(".").sort(),p){for(d=x.event.special[p]||{},u=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=u.length;o--;)h=u[o],!r&&f!==h.origType||n&&n.guid!==h.guid||a&&!a.test(h.namespace)||i&&i!==h.selector&&("**"!==i||!h.selector)||(u.splice(o,1),h.selector&&u.delegateCount--,d.remove&&d.remove.call(e,h));s&&!u.length&&(d.teardown&&!1!==d.teardown.call(e,g,m.handle)||x.removeEvent(e,p,m.handle),delete l[p])}else for(p in l)x.event.remove(e,p+t[c],n,i,!0);x.isEmptyObject(l)&&J.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=new Array(arguments.length),l=x.event.fix(e),c=(J.get(this,"events")||Object.create(null))[l.type]||[],h=x.event.special[l.type]||{};for(a[0]=l,t=1;t<arguments.length;t++)a[t]=arguments[t];if(l.delegateTarget=this,!h.preDispatch||!1!==h.preDispatch.call(this,l)){for(s=x.event.handlers.call(this,l,c),t=0;(r=s[t++])&&!l.isPropagationStopped();)for(l.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!l.isImmediatePropagationStopped();)l.rnamespace&&!1!==o.namespace&&!l.rnamespace.test(o.namespace)||(l.handleObj=o,l.data=o.data,void 0!==(i=((x.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,a))&&!1===(l.result=i)&&(l.preventDefault(),l.stopPropagation()));return h.postDispatch&&h.postDispatch.call(this,l),l.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?x(r,this).index(c)>-1:x.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(x.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[x.expando]?e:new x.Event(e)},special:{load:{noBubble:!0},click:{setup:function(e){var t=this||e;return fe.test(t.type)&&t.click&&O(t,"input")&&Pe(t,"click",ke),!1},trigger:function(e){var t=this||e;return fe.test(t.type)&&t.click&&O(t,"input")&&Pe(t,"click"),!0},_default:function(e){var t=e.target;return fe.test(t.type)&&t.click&&O(t,"input")&&J.get(t,"click")||O(t,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},x.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},x.Event=function(e,t){if(!(this instanceof x.Event))return new x.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?ke:Se,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&x.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[x.expando]=!0},x.Event.prototype={constructor:x.Event,isDefaultPrevented:Se,isPropagationStopped:Se,isImmediatePropagationStopped:Se,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=ke,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=ke,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=ke,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},x.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,code:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&xe.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&Ie.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},x.event.addProp),x.each({focus:"focusin",blur:"focusout"},(function(e,t){x.event.special[e]={setup:function(){return Pe(this,e,Ee),!1},trigger:function(){return Pe(this,e),!0},delegateType:t}})),x.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},(function(e,t){x.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=this,r=e.relatedTarget,o=e.handleObj;return r&&(r===i||x.contains(i,r))||(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}})),x.fn.extend({on:function(e,t,n,i){return Oe(this,e,t,n,i)},one:function(e,t,n,i){return Oe(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,x(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Se),this.each((function(){x.event.remove(this,e,n,t)}))}});var Me=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Re=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return O(e,"table")&&O(11!==t.nodeType?t:t.firstChild,"tr")&&x(e).children("tbody")[0]||e}function Ne(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Le(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Be(e,t){var n,i,r,o,s,a;if(1===t.nodeType){if(J.hasData(e)&&(a=J.get(e).events))for(r in J.remove(t,"handle events"),a)for(n=0,i=a[r].length;n<i;n++)x.event.add(t,r,a[r][n]);q.hasData(e)&&(o=q.access(e),s=x.extend({},o),q.set(t,s))}}function Fe(e,t){var n=t.nodeName.toLowerCase();"input"===n&&fe.test(e.type)?t.checked=e.checked:"input"!==n&&"textarea"!==n||(t.defaultValue=e.defaultValue)}function Ve(e,t,n,i){t=l(t);var r,o,s,a,c,h,d=0,u=e.length,p=u-1,g=t[0],f=v(g);if(f||u>1&&"string"==typeof g&&!m.checkClone&&Te.test(g))return e.each((function(r){var o=e.eq(r);f&&(t[0]=g.call(this,r,o.html())),Ve(o,t,n,i)}));if(u&&(o=(r=_e(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=x.map(be(r,"script"),Ne)).length;d<u;d++)c=r,d!==p&&(c=x.clone(c,!0,!0),a&&x.merge(s,be(c,"script"))),n.call(e[d],c,d);if(a)for(h=s[s.length-1].ownerDocument,x.map(s,Le),d=0;d<a;d++)ve.test((c=s[d]).type||"")&&!J.access(c,"globalEval")&&x.contains(h,c)&&(c.src&&"module"!==(c.type||"").toLowerCase()?x._evalUrl&&!c.noModule&&x._evalUrl(c.src,{nonce:c.nonce||c.getAttribute("nonce")},h):w(c.textContent.replace(Re,""),c,h))}return e}function $e(e,t,n){for(var i,r=t?x.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||x.cleanData(be(i)),i.parentNode&&(n&&se(i)&&Ce(be(i,"script")),i.parentNode.removeChild(i));return e}x.extend({htmlPrefilter:function(e){return e},clone:function(e,t,n){var i,r,o,s,a=e.cloneNode(!0),l=se(e);if(!(m.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||x.isXMLDoc(e)))for(s=be(a),i=0,r=(o=be(e)).length;i<r;i++)Fe(o[i],s[i]);if(t)if(n)for(o=o||be(e),s=s||be(a),i=0,r=o.length;i<r;i++)Be(o[i],s[i]);else Be(e,a);return(s=be(a,"script")).length>0&&Ce(s,!l&&be(e,"script")),a},cleanData:function(e){for(var t,n,i,r=x.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[J.expando]){if(t.events)for(i in t.events)r[i]?x.event.remove(n,i):x.removeEvent(n,i,t.handle);n[J.expando]=void 0}n[q.expando]&&(n[q.expando]=void 0)}}}),x.fn.extend({detach:function(e){return $e(this,e,!0)},remove:function(e){return $e(this,e)},text:function(e){return z(this,(function(e){return void 0===e?x.text(this):this.empty().each((function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)}))}),null,e,arguments.length)},append:function(){return Ve(this,arguments,(function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)}))},prepend:function(){return Ve(this,arguments,(function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}}))},before:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this)}))},after:function(){return Ve(this,arguments,(function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)}))},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(x.cleanData(be(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map((function(){return x.clone(this,e,t)}))},html:function(e){return z(this,(function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Me.test(e)&&!ye[(me.exec(e)||["",""])[1].toLowerCase()]){e=x.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(x.cleanData(be(t,!1)),t.innerHTML=e);t=0}catch(r){}}t&&this.empty().append(e)}),null,e,arguments.length)},replaceWith:function(){var e=[];return Ve(this,arguments,(function(t){var n=this.parentNode;x.inArray(this,e)<0&&(x.cleanData(be(this)),n&&n.replaceChild(t,this))}),e)}}),x.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},(function(e,t){x.fn[e]=function(e){for(var n,i=[],r=x(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),x(r[s])[t](n),c.apply(i,n.get());return this.pushStack(i)}}));var He=new RegExp("^("+ne+")(?!px)[a-z%]+$","i"),je=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},We=function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];for(r in i=n.call(e),t)e.style[r]=o[r];return i},ze=new RegExp(re.join("|"),"i");function Ge(e,t,n){var i,r,o,s,a=e.style;return(n=n||je(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||se(e)||(s=x.style(e,t)),!m.pixelBoxStyles()&&He.test(s)&&ze.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ze(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(h){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",h.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",oe.appendChild(c).appendChild(h);var e=n.getComputedStyle(h);i="1%"!==e.top,l=12===t(e.marginLeft),h.style.right="60%",s=36===t(e.right),r=36===t(e.width),h.style.position="absolute",o=12===t(h.offsetWidth/3),oe.removeChild(c),h=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,s,a,l,c=b.createElement("div"),h=b.createElement("div");h.style&&(h.style.backgroundClip="content-box",h.cloneNode(!0).style.backgroundClip="",m.clearCloneStyle="content-box"===h.style.backgroundClip,x.extend(m,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),s},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o},reliableTrDimensions:function(){var e,t,i,r;return null==a&&(e=b.createElement("table"),t=b.createElement("tr"),i=b.createElement("div"),e.style.cssText="position:absolute;left:-11111px",t.style.height="1px",i.style.height="9px",oe.appendChild(e).appendChild(t).appendChild(i),r=n.getComputedStyle(t),a=parseInt(r.height)>3,oe.removeChild(e)),a}}))}();var Ke=["Webkit","Moz","ms"],Xe=b.createElement("div").style,Ye={};function Ue(e){return x.cssProps[e]||Ye[e]||(e in Xe?e:Ye[e]=function(e){for(var t=e[0].toUpperCase()+e.slice(1),n=Ke.length;n--;)if((e=Ke[n]+t)in Xe)return e}(e)||e)}var Je=/^(none|table(?!-c[ea]).+)/,qe=/^--/,Qe={position:"absolute",visibility:"hidden",display:"block"},et={letterSpacing:"0",fontWeight:"400"};function tt(e,t,n){var i=ie.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function nt(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=x.css(e,n+re[s],!0,r)),i?("content"===n&&(l-=x.css(e,"padding"+re[s],!0,r)),"margin"!==n&&(l-=x.css(e,"border"+re[s]+"Width",!0,r))):(l+=x.css(e,"padding"+re[s],!0,r),"padding"!==n?l+=x.css(e,"border"+re[s]+"Width",!0,r):a+=x.css(e,"border"+re[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))||0),l}function it(e,t,n){var i=je(e),r=(!m.boxSizingReliable()||n)&&"border-box"===x.css(e,"boxSizing",!1,i),o=r,s=Ge(e,t,i),a="offset"+t[0].toUpperCase()+t.slice(1);if(He.test(s)){if(!n)return s;s="auto"}return(!m.boxSizingReliable()&&r||!m.reliableTrDimensions()&&O(e,"tr")||"auto"===s||!parseFloat(s)&&"inline"===x.css(e,"display",!1,i))&&e.getClientRects().length&&(r="border-box"===x.css(e,"boxSizing",!1,i),(o=a in e)&&(s=e[a])),(s=parseFloat(s)||0)+nt(e,t,n||(r?"border":"content"),o,i,s)+"px"}function rt(e,t,n,i,r){return new rt.prototype.init(e,t,n,i,r)}x.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Ge(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,gridArea:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnStart:!0,gridRow:!0,gridRowEnd:!0,gridRowStart:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=X(t),l=qe.test(t),c=e.style;if(l||(t=Ue(a)),s=x.cssHooks[t]||x.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"==(o=typeof n)&&(r=ie.exec(n))&&r[1]&&(n=ce(e,t,r),o="number"),null!=n&&n==n&&("number"!==o||l||(n+=r&&r[3]||(x.cssNumber[a]?"":"px")),m.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=X(t);return qe.test(t)||(t=Ue(a)),(s=x.cssHooks[t]||x.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=Ge(e,t,i)),"normal"===r&&t in et&&(r=et[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),x.each(["height","width"],(function(e,t){x.cssHooks[t]={get:function(e,n,i){if(n)return!Je.test(x.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?it(e,t,i):We(e,Qe,(function(){return it(e,t,i)}))},set:function(e,n,i){var r,o=je(e),s=!m.scrollboxSize()&&"absolute"===o.position,a=(s||i)&&"border-box"===x.css(e,"boxSizing",!1,o),l=i?nt(e,t,i,a,o):0;return a&&s&&(l-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-nt(e,t,"border",!1,o)-.5)),l&&(r=ie.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=x.css(e,t)),tt(0,n,l)}}})),x.cssHooks.marginLeft=Ze(m.reliableMarginLeft,(function(e,t){if(t)return(parseFloat(Ge(e,"marginLeft"))||e.getBoundingClientRect().left-We(e,{marginLeft:0},(function(){return e.getBoundingClientRect().left})))+"px"})),x.each({margin:"",padding:"",border:"Width"},(function(e,t){x.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+re[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(x.cssHooks[e+t].set=tt)})),x.fn.extend({css:function(e,t){return z(this,(function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=je(e),r=t.length;s<r;s++)o[t[s]]=x.css(e,t[s],!1,i);return o}return void 0!==n?x.style(e,t,n):x.css(e,t)}),e,t,arguments.length>1)}}),x.Tween=rt,(rt.prototype={constructor:rt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||x.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(x.cssNumber[n]?"":"px")},cur:function(){var e=rt.propHooks[this.prop];return e&&e.get?e.get(this):rt.propHooks._default.get(this)},run:function(e){var t,n=rt.propHooks[this.prop];return this.pos=t=this.options.duration?x.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):rt.propHooks._default.set(this),this}}).init.prototype=rt.prototype,(rt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=x.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){x.fx.step[e.prop]?x.fx.step[e.prop](e):1!==e.elem.nodeType||!x.cssHooks[e.prop]&&null==e.elem.style[Ue(e.prop)]?e.elem[e.prop]=e.now:x.style(e.elem,e.prop,e.now+e.unit)}}}).scrollTop=rt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},x.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},x.fx=rt.prototype.init,x.fx.step={};var ot,st,at=/^(?:toggle|show|hide)$/,lt=/queueHooks$/;function ct(){st&&(!1===b.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(ct):n.setTimeout(ct,x.fx.interval),x.fx.tick())}function ht(){return n.setTimeout((function(){ot=void 0})),ot=Date.now()}function dt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=re[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ut(e,t,n){for(var i,r=(pt.tweeners[t]||[]).concat(pt.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function pt(e,t,n){var i,r,o=0,s=pt.prefilters.length,a=x.Deferred().always((function(){delete l.elem})),l=function(){if(r)return!1;for(var t=ot||ht(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:x.extend({},t),opts:x.extend(!0,{specialEasing:{},easing:x.easing._default},n),originalProperties:t,originalOptions:n,startTime:ot||ht(),duration:n.duration,tweens:[],createTween:function(t,n){var i=x.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),h=c.props;for(function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=X(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=x.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(h,c.opts.specialEasing);o<s;o++)if(i=pt.prefilters[o].call(c,e,h,c.opts))return v(i.stop)&&(x._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return x.map(h,ut,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),x.fx.timer(x.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}x.Animation=x.extend(pt,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return ce(n.elem,e,ie.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(B);for(var n,i=0,r=e.length;i<r;i++)(pt.tweeners[n=e[i]]=pt.tweeners[n]||[]).unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,h,d="width"in t||"height"in t,u=this,p={},g=e.style,f=e.nodeType&&le(e),m=J.get(e,"fxshow");for(i in n.queue||(null==(s=x._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,u.always((function(){u.always((function(){s.unqueued--,x.queue(e,"fx").length||s.empty.fire()}))}))),t)if(at.test(r=t[i])){if(delete t[i],o=o||"toggle"===r,r===(f?"hide":"show")){if("show"!==r||!m||void 0===m[i])continue;f=!0}p[i]=m&&m[i]||x.style(e,i)}if((l=!x.isEmptyObject(t))||!x.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[g.overflow,g.overflowX,g.overflowY],null==(c=m&&m.display)&&(c=J.get(e,"display")),"none"===(h=x.css(e,"display"))&&(c?h=c:(ue([e],!0),c=e.style.display||c,h=x.css(e,"display"),ue([e]))),("inline"===h||"inline-block"===h&&null!=c)&&"none"===x.css(e,"float")&&(l||(u.done((function(){g.display=c})),null==c&&(c="none"===(h=g.display)?"":h)),g.display="inline-block")),n.overflow&&(g.overflow="hidden",u.always((function(){g.overflow=n.overflow[0],g.overflowX=n.overflow[1],g.overflowY=n.overflow[2]}))),l=!1,p)l||(m?"hidden"in m&&(f=m.hidden):m=J.access(e,"fxshow",{display:c}),o&&(m.hidden=!f),f&&ue([e],!0),u.done((function(){for(i in f||ue([e]),J.remove(e,"fxshow"),p)x.style(e,i,p[i])}))),l=ut(f?m[i]:0,i,u),i in m||(m[i]=l.start,f&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?pt.prefilters.unshift(e):pt.prefilters.push(e)}}),x.speed=function(e,t,n){var i=e&&"object"==typeof e?x.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return x.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration=i.duration in x.fx.speeds?x.fx.speeds[i.duration]:x.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&x.dequeue(this,i.queue)},i},x.fn.extend({fadeTo:function(e,t,n,i){return this.filter(le).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=x.isEmptyObject(e),o=x.speed(t,n,i),s=function(){var t=pt(this,x.extend({},e),o);(r||J.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&this.queue(e||"fx",[]),this.each((function(){var t=!0,r=null!=e&&e+"queueHooks",o=x.timers,s=J.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&lt.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||x.dequeue(this,e)}))},finish:function(e){return!1!==e&&(e=e||"fx"),this.each((function(){var t,n=J.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=x.timers,s=i?i.length:0;for(n.finish=!0,x.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish}))}}),x.each(["toggle","show","hide"],(function(e,t){var n=x.fn[t];x.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(dt(t,!0),e,i,r)}})),x.each({slideDown:dt("show"),slideUp:dt("hide"),slideToggle:dt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},(function(e,t){x.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}})),x.timers=[],x.fx.tick=function(){var e,t=0,n=x.timers;for(ot=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||x.fx.stop(),ot=void 0},x.fx.timer=function(e){x.timers.push(e),x.fx.start()},x.fx.interval=13,x.fx.start=function(){st||(st=!0,ct())},x.fx.stop=function(){st=null},x.fx.speeds={slow:600,fast:200,_default:400},x.fn.delay=function(e,t){return e=x.fx&&x.fx.speeds[e]||e,this.queue(t=t||"fx",(function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}}))},function(){var e=b.createElement("input"),t=b.createElement("select").appendChild(b.createElement("option"));e.type="checkbox",m.checkOn=""!==e.value,m.optSelected=t.selected,(e=b.createElement("input")).value="t",e.type="radio",m.radioValue="t"===e.value}();var gt,ft=x.expr.attrHandle;x.fn.extend({attr:function(e,t){return z(this,x.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each((function(){x.removeAttr(this,e)}))}}),x.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?x.prop(e,t,n):(1===o&&x.isXMLDoc(e)||(r=x.attrHooks[t.toLowerCase()]||(x.expr.match.bool.test(t)?gt:void 0)),void 0!==n?null===n?void x.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=x.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!m.radioValue&&"radio"===t&&O(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(B);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),gt={set:function(e,t,n){return!1===t?x.removeAttr(e,n):e.setAttribute(n,n),n}},x.each(x.expr.match.bool.source.match(/\w+/g),(function(e,t){var n=ft[t]||x.find.attr;ft[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=ft[s],ft[s]=r,r=null!=n(e,t,i)?s:null,ft[s]=o),r}}));var mt=/^(?:input|select|textarea|button)$/i,vt=/^(?:a|area)$/i;function yt(e){return(e.match(B)||[]).join(" ")}function bt(e){return e.getAttribute&&e.getAttribute("class")||""}function Ct(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}x.fn.extend({prop:function(e,t){return z(this,x.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each((function(){delete this[x.propFix[e]||e]}))}}),x.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&x.isXMLDoc(e)||(r=x.propHooks[t=x.propFix[t]||t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=x.find.attr(e,"tabindex");return t?parseInt(t,10):mt.test(e.nodeName)||vt.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),m.optSelected||(x.propHooks.selected={get:function(e){return null},set:function(e){}}),x.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],(function(){x.propFix[this.toLowerCase()]=this})),x.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(v(e))return this.each((function(t){x(this).addClass(e.call(this,t,bt(this)))}));if((t=Ct(e)).length)for(;n=this[l++];)if(r=bt(n),i=1===n.nodeType&&" "+yt(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=yt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(v(e))return this.each((function(t){x(this).removeClass(e.call(this,t,bt(this)))}));if(!arguments.length)return this.attr("class","");if((t=Ct(e)).length)for(;n=this[l++];)if(r=bt(n),i=1===n.nodeType&&" "+yt(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=yt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):v(e)?this.each((function(n){x(this).toggleClass(e.call(this,n,bt(this),t),t)})):this.each((function(){var t,r,o,s;if(i)for(r=0,o=x(this),s=Ct(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=bt(this))&&J.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":J.get(this,"__className__")||""))}))},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+yt(bt(n))+" ").indexOf(t)>-1)return!0;return!1}});var wt=/\r/g;x.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each((function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,x(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=x.map(r,(function(e){return null==e?"":e+""}))),(t=x.valHooks[this.type]||x.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))}))):r?(t=x.valHooks[r.type]||x.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(wt,""):null==n?"":n:void 0}}),x.extend({valHooks:{option:{get:function(e){var t=x.find.attr(e,"value");return null!=t?t:yt(x.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!O(n.parentNode,"optgroup"))){if(t=x(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=x.makeArray(t),s=r.length;s--;)((i=r[s]).selected=x.inArray(x.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),x.each(["radio","checkbox"],(function(){x.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=x.inArray(x(e).val(),t)>-1}},m.checkOn||(x.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})),m.focusin="onfocusin"in n;var _t=/^(?:focusinfocus|focusoutblur)$/,xt=function(e){e.stopPropagation()};x.extend(x.event,{trigger:function(e,t,i,r){var o,s,a,l,c,h,d,u,g=[i||b],f=p.call(e,"type")?e.type:e,m=p.call(e,"namespace")?e.namespace.split("."):[];if(s=u=a=i=i||b,3!==i.nodeType&&8!==i.nodeType&&!_t.test(f+x.event.triggered)&&(f.indexOf(".")>-1&&(m=f.split("."),f=m.shift(),m.sort()),c=f.indexOf(":")<0&&"on"+f,(e=e[x.expando]?e:new x.Event(f,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=m.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:x.makeArray(t,[e]),d=x.event.special[f]||{},r||!d.trigger||!1!==d.trigger.apply(i,t))){if(!r&&!d.noBubble&&!y(i)){for(_t.test((l=d.delegateType||f)+f)||(s=s.parentNode);s;s=s.parentNode)g.push(s),a=s;a===(i.ownerDocument||b)&&g.push(a.defaultView||a.parentWindow||n)}for(o=0;(s=g[o++])&&!e.isPropagationStopped();)u=s,e.type=o>1?l:d.bindType||f,(h=(J.get(s,"events")||Object.create(null))[e.type]&&J.get(s,"handle"))&&h.apply(s,t),(h=c&&s[c])&&h.apply&&Y(s)&&(e.result=h.apply(s,t),!1===e.result&&e.preventDefault());return e.type=f,r||e.isDefaultPrevented()||d._default&&!1!==d._default.apply(g.pop(),t)||!Y(i)||c&&v(i[f])&&!y(i)&&((a=i[c])&&(i[c]=null),x.event.triggered=f,e.isPropagationStopped()&&u.addEventListener(f,xt),i[f](),e.isPropagationStopped()&&u.removeEventListener(f,xt),x.event.triggered=void 0,a&&(i[c]=a)),e.result}},simulate:function(e,t,n){var i=x.extend(new x.Event,n,{type:e,isSimulated:!0});x.event.trigger(i,null,t)}}),x.fn.extend({trigger:function(e,t){return this.each((function(){x.event.trigger(e,t,this)}))},triggerHandler:function(e,t){var n=this[0];if(n)return x.event.trigger(e,t,n,!0)}}),m.focusin||x.each({focus:"focusin",blur:"focusout"},(function(e,t){var n=function(e){x.event.simulate(t,e.target,x.event.fix(e))};x.event.special[t]={setup:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,t);r||i.addEventListener(e,n,!0),J.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this.document||this,r=J.access(i,t)-1;r?J.access(i,t,r):(i.removeEventListener(e,n,!0),J.remove(i,t))}}}));var It=n.location,At={guid:Date.now()},kt=/\?/;x.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(i){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||x.error("Invalid XML: "+e),t};var St=/\[\]$/,Et=/\r?\n/g,Ot=/^(?:submit|button|image|reset|file)$/i,Pt=/^(?:input|select|textarea|keygen)/i;function Mt(e,t,n,i){var r;if(Array.isArray(t))x.each(t,(function(t,r){n||St.test(e)?i(e,r):Mt(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)}));else if(n||"object"!==_(t))i(e,t);else for(r in t)Mt(e+"["+r+"]",t[r],n,i)}x.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(null==e)return"";if(Array.isArray(e)||e.jquery&&!x.isPlainObject(e))x.each(e,(function(){r(this.name,this.value)}));else for(n in e)Mt(n,e[n],t,r);return i.join("&")},x.fn.extend({serialize:function(){return x.param(this.serializeArray())},serializeArray:function(){return this.map((function(){var e=x.prop(this,"elements");return e?x.makeArray(e):this})).filter((function(){var e=this.type;return this.name&&!x(this).is(":disabled")&&Pt.test(this.nodeName)&&!Ot.test(e)&&(this.checked||!fe.test(e))})).map((function(e,t){var n=x(this).val();return null==n?null:Array.isArray(n)?x.map(n,(function(e){return{name:t.name,value:e.replace(Et,"\r\n")}})):{name:t.name,value:n.replace(Et,"\r\n")}})).get()}});var Tt=/%20/g,Rt=/#.*$/,Dt=/([?&])_=[^&]*/,Nt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Bt=/^\/\//,Ft={},Vt={},$t="*/".concat("*"),Ht=b.createElement("a");function jt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(B)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Wt(e,t,n,i){var r={},o=e===Vt;function s(a){var l;return r[a]=!0,x.each(e[a]||[],(function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)})),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function zt(e,t){var n,i,r=x.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&x.extend(!0,e,i),e}Ht.href=It.href,x.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:It.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(It.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":$t,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":x.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?zt(zt(e,x.ajaxSettings),t):zt(x.ajaxSettings,e)},ajaxPrefilter:jt(Ft),ajaxTransport:jt(Vt),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0);var i,r,o,s,a,l,c,h,d,u,p=x.ajaxSetup({},t=t||{}),g=p.context||p,f=p.context&&(g.nodeType||g.jquery)?x(g):x.event,m=x.Deferred(),v=x.Callbacks("once memory"),y=p.statusCode||{},C={},w={},_="canceled",I={readyState:0,getResponseHeader:function(e){var t;if(c){if(!s)for(s={};t=Nt.exec(o);)s[t[1].toLowerCase()+" "]=(s[t[1].toLowerCase()+" "]||[]).concat(t[2]);t=s[e.toLowerCase()+" "]}return null==t?null:t.join(", ")},getAllResponseHeaders:function(){return c?o:null},setRequestHeader:function(e,t){return null==c&&(e=w[e.toLowerCase()]=w[e.toLowerCase()]||e,C[e]=t),this},overrideMimeType:function(e){return null==c&&(p.mimeType=e),this},statusCode:function(e){var t;if(e)if(c)I.always(e[I.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||_;return i&&i.abort(t),A(0,t),this}};if(m.promise(I),p.url=((e||p.url||It.href)+"").replace(Bt,It.protocol+"//"),p.type=t.method||t.type||p.method||p.type,p.dataTypes=(p.dataType||"*").toLowerCase().match(B)||[""],null==p.crossDomain){l=b.createElement("a");try{l.href=p.url,l.href=l.href,p.crossDomain=Ht.protocol+"//"+Ht.host!=l.protocol+"//"+l.host}catch(k){p.crossDomain=!0}}if(p.data&&p.processData&&"string"!=typeof p.data&&(p.data=x.param(p.data,p.traditional)),Wt(Ft,p,t,I),c)return I;for(d in(h=x.event&&p.global)&&0==x.active++&&x.event.trigger("ajaxStart"),p.type=p.type.toUpperCase(),p.hasContent=!Lt.test(p.type),r=p.url.replace(Rt,""),p.hasContent?p.data&&p.processData&&0===(p.contentType||"").indexOf("application/x-www-form-urlencoded")&&(p.data=p.data.replace(Tt,"+")):(u=p.url.slice(r.length),p.data&&(p.processData||"string"==typeof p.data)&&(r+=(kt.test(r)?"&":"?")+p.data,delete p.data),!1===p.cache&&(r=r.replace(Dt,"$1"),u=(kt.test(r)?"&":"?")+"_="+At.guid+++u),p.url=r+u),p.ifModified&&(x.lastModified[r]&&I.setRequestHeader("If-Modified-Since",x.lastModified[r]),x.etag[r]&&I.setRequestHeader("If-None-Match",x.etag[r])),(p.data&&p.hasContent&&!1!==p.contentType||t.contentType)&&I.setRequestHeader("Content-Type",p.contentType),I.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+$t+"; q=0.01":""):p.accepts["*"]),p.headers)I.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(!1===p.beforeSend.call(g,I,p)||c))return I.abort();if(_="abort",v.add(p.complete),I.done(p.success),I.fail(p.error),i=Wt(Vt,p,t,I)){if(I.readyState=1,h&&f.trigger("ajaxSend",[I,p]),c)return I;p.async&&p.timeout>0&&(a=n.setTimeout((function(){I.abort("timeout")}),p.timeout));try{c=!1,i.send(C,A)}catch(k){if(c)throw k;A(-1,k)}}else A(-1,"No Transport");function A(e,t,s,l){var d,u,b,C,w,_=t;c||(c=!0,a&&n.clearTimeout(a),i=void 0,o=l||"",I.readyState=e>0?4:0,d=e>=200&&e<300||304===e,s&&(C=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(p,I,s)),!d&&x.inArray("script",p.dataTypes)>-1&&(p.converters["text script"]=function(){}),C=function(e,t,n,i){var r,o,s,a,l,c={},h=e.dataTypes.slice();if(h[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=h.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=h.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],h.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(k){return{state:"parsererror",error:s?k:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(p,C,I,d),d?(p.ifModified&&((w=I.getResponseHeader("Last-Modified"))&&(x.lastModified[r]=w),(w=I.getResponseHeader("etag"))&&(x.etag[r]=w)),204===e||"HEAD"===p.type?_="nocontent":304===e?_="notmodified":(_=C.state,u=C.data,d=!(b=C.error))):(b=_,!e&&_||(_="error",e<0&&(e=0))),I.status=e,I.statusText=(t||_)+"",d?m.resolveWith(g,[u,_,I]):m.rejectWith(g,[I,_,b]),I.statusCode(y),y=void 0,h&&f.trigger(d?"ajaxSuccess":"ajaxError",[I,p,d?u:b]),v.fireWith(g,[I,_]),h&&(f.trigger("ajaxComplete",[I,p]),--x.active||x.event.trigger("ajaxStop")))}return I},getJSON:function(e,t,n){return x.get(e,t,n,"json")},getScript:function(e,t){return x.get(e,void 0,t,"script")}}),x.each(["get","post"],(function(e,t){x[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),x.ajax(x.extend({url:e,type:t,dataType:r,data:n,success:i},x.isPlainObject(e)&&e))}})),x.ajaxPrefilter((function(e){var t;for(t in e.headers)"content-type"===t.toLowerCase()&&(e.contentType=e.headers[t]||"")})),x._evalUrl=function(e,t,n){return x.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,converters:{"text script":function(){}},dataFilter:function(e){x.globalEval(e,t,n)}})},x.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=x(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map((function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e})).append(this)),this},wrapInner:function(e){return v(e)?this.each((function(t){x(this).wrapInner(e.call(this,t))})):this.each((function(){var t=x(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)}))},wrap:function(e){var t=v(e);return this.each((function(n){x(this).wrapAll(t?e.call(this,n):e)}))},unwrap:function(e){return this.parent(e).not("body").each((function(){x(this).replaceWith(this.childNodes)})),this}}),x.expr.pseudos.hidden=function(e){return!x.expr.pseudos.visible(e)},x.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},x.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Gt={0:200,1223:204},Zt=x.ajaxSettings.xhr();m.cors=!!Zt&&"withCredentials"in Zt,m.ajax=Zt=!!Zt,x.ajaxTransport((function(e){var t,i;if(m.cors||Zt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Gt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout((function(){t&&i()}))},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(l){if(t)throw l}},abort:function(){t&&t()}}})),x.ajaxPrefilter((function(e){e.crossDomain&&(e.contents.script=!1)})),x.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return x.globalEval(e),e}}}),x.ajaxPrefilter("script",(function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")})),x.ajaxTransport("script",(function(e){var t,n;if(e.crossDomain||e.scriptAttrs)return{send:function(i,r){t=x("<script>").attr(e.scriptAttrs||{}).prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),b.head.appendChild(t[0])},abort:function(){n&&n()}}}));var Kt,Xt=[],Yt=/(=)\?(?=&|$)|\?\?/;x.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||x.expando+"_"+At.guid++;return this[e]=!0,e}}),x.ajaxPrefilter("json jsonp",(function(e,t,i){var r,o,s,a=!1!==e.jsonp&&(Yt.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&Yt.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace(Yt,"$1"+r):!1!==e.jsonp&&(e.url+=(kt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||x.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always((function(){void 0===o?x(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Xt.push(r)),s&&v(o)&&o(s[0]),s=o=void 0})),"script"})),m.createHTMLDocument=((Kt=b.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Kt.childNodes.length),x.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(m.createHTMLDocument?((i=(t=b.implementation.createHTMLDocument("")).createElement("base")).href=b.location.href,t.head.appendChild(i)):t=b),o=!n&&[],(r=P.exec(e))?[t.createElement(r[1])]:(r=_e([e],t,o),o&&o.length&&x(o).remove(),x.merge([],r.childNodes)));var i,r,o},x.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=yt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&x.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done((function(e){o=arguments,s.html(i?x("<div>").append(x.parseHTML(e)).find(i):e)})).always(n&&function(e,t){s.each((function(){n.apply(this,o||[e.responseText,t,e])}))}),this},x.expr.pseudos.animated=function(e){return x.grep(x.timers,(function(t){return e===t.elem})).length},x.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=x.css(e,"position"),h=x(e),d={};"static"===c&&(e.style.position="relative"),a=h.offset(),o=x.css(e,"top"),l=x.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=h.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),v(t)&&(t=t.call(e,n,x.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):("number"==typeof d.top&&(d.top+="px"),"number"==typeof d.left&&(d.left+="px"),h.css(d))}},x.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each((function(t){x.offset.setOffset(this,e,t)}));var t,n,i=this[0];return i?i.getClientRects().length?{top:(t=i.getBoundingClientRect()).top+(n=i.ownerDocument.defaultView).pageYOffset,left:t.left+n.pageXOffset}:{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===x.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===x.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=x(e).offset()).top+=x.css(e,"borderTopWidth",!0),r.left+=x.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-x.css(i,"marginTop",!0),left:t.left-r.left-x.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map((function(){for(var e=this.offsetParent;e&&"static"===x.css(e,"position");)e=e.offsetParent;return e||oe}))}}),x.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},(function(e,t){var n="pageYOffset"===t;x.fn[e]=function(i){return z(this,(function(e,i,r){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r}),e,i,arguments.length)}})),x.each(["top","left"],(function(e,t){x.cssHooks[t]=Ze(m.pixelPosition,(function(e,n){if(n)return n=Ge(e,t),He.test(n)?x(e).position()[t]+"px":n}))})),x.each({Height:"height",Width:"width"},(function(e,t){x.each({padding:"inner"+e,content:t,"":"outer"+e},(function(n,i){x.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return z(this,(function(t,n,r){var o;return y(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?x.css(t,n,a):x.style(t,n,r,a)}),t,s?r:void 0,s)}}))})),x.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],(function(e,t){x.fn[t]=function(e){return this.on(t,e)}})),x.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),x.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),(function(e,t){x.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}));var Ut=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;x.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=a.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(a.call(arguments)))}).guid=e.guid=e.guid||x.guid++,r},x.holdReady=function(e){e?x.readyWait++:x.ready(!0)},x.isArray=Array.isArray,x.parseJSON=JSON.parse,x.nodeName=O,x.isFunction=v,x.isWindow=y,x.camelCase=X,x.type=_,x.now=Date.now,x.isNumeric=function(e){var t=x.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},x.trim=function(e){return null==e?"":(e+"").replace(Ut,"")},void 0===(i=(function(){return x}).apply(t,[]))||(e.exports=i);var Jt=n.jQuery,qt=n.$;return x.noConflict=function(e){return n.$===x&&(n.$=qt),e&&n.jQuery===x&&(n.jQuery=Jt),x},void 0===r&&(n.jQuery=n.$=x),x}))},Ekho:function(e,t,n){var i,r,o;(function(){var n,s,a,l,c,h,d,u,p,g,f,m,v,y,b;a=Math.floor,g=Math.min,s=function(e,t){return e<t?-1:e>t?1:0},p=function(e,t,n,i,r){var o;if(null==n&&(n=0),null==r&&(r=s),n<0)throw new Error("lo must be non-negative");for(null==i&&(i=e.length);n<i;)r(t,e[o=a((n+i)/2)])<0?i=o:n=o+1;return[].splice.apply(e,[n,n-n].concat(t)),t},h=function(e,t,n){return null==n&&(n=s),e.push(t),y(e,0,e.length-1,n)},c=function(e,t){var n,i;return null==t&&(t=s),n=e.pop(),e.length?(i=e[0],e[0]=n,b(e,0,t)):i=n,i},u=function(e,t,n){var i;return null==n&&(n=s),i=e[0],e[0]=t,b(e,0,n),i},d=function(e,t,n){var i;return null==n&&(n=s),e.length&&n(e[0],t)<0&&(t=(i=[e[0],t])[0],e[0]=i[1],b(e,0,n)),t},l=function(e,t){var n,i,r,o,l;for(null==t&&(t=s),o=[],n=0,i=(r=(function(){l=[];for(var t=0,n=a(e.length/2);0<=n?t<n:t>n;0<=n?t++:t--)l.push(t);return l}).apply(this).reverse()).length;n<i;n++)o.push(b(e,r[n],t));return o},v=function(e,t,n){var i;if(null==n&&(n=s),-1!==(i=e.indexOf(t)))return y(e,0,i,n),b(e,i,n)},f=function(e,t,n){var i,r,o,a;if(null==n&&(n=s),!(i=e.slice(0,t)).length)return i;for(l(i,n),r=0,o=(a=e.slice(t)).length;r<o;r++)d(i,a[r],n);return i.sort(n).reverse()},m=function(e,t,n){var i,r,o,a,h,d,u,f,m;if(null==n&&(n=s),10*t<=e.length){if(!(o=e.slice(0,t).sort(n)).length)return o;for(r=o[o.length-1],a=0,d=(u=e.slice(t)).length;a<d;a++)n(i=u[a],r)<0&&(p(o,i,0,null,n),o.pop(),r=o[o.length-1]);return o}for(l(e,n),m=[],h=0,f=g(t,e.length);0<=f?h<f:h>f;0<=f?++h:--h)m.push(c(e,n));return m},y=function(e,t,n,i){var r,o,a;for(null==i&&(i=s),r=e[n];n>t&&i(r,o=e[a=n-1>>1])<0;)e[n]=o,n=a;return e[n]=r},b=function(e,t,n){var i,r,o,a,l;for(null==n&&(n=s),r=e.length,l=t,o=e[t],i=2*t+1;i<r;)(a=i+1)<r&&!(n(e[i],e[a])<0)&&(i=a),e[t]=e[i],i=2*(t=i)+1;return e[t]=o,y(e,l,t,n)},n=function(){function e(e){this.cmp=null!=e?e:s,this.nodes=[]}return e.push=h,e.pop=c,e.replace=u,e.pushpop=d,e.heapify=l,e.updateItem=v,e.nlargest=f,e.nsmallest=m,e.prototype.push=function(e){return h(this.nodes,e,this.cmp)},e.prototype.pop=function(){return c(this.nodes,this.cmp)},e.prototype.peek=function(){return this.nodes[0]},e.prototype.contains=function(e){return-1!==this.nodes.indexOf(e)},e.prototype.replace=function(e){return u(this.nodes,e,this.cmp)},e.prototype.pushpop=function(e){return d(this.nodes,e,this.cmp)},e.prototype.heapify=function(){return l(this.nodes,this.cmp)},e.prototype.updateItem=function(e){return v(this.nodes,e,this.cmp)},e.prototype.clear=function(){return this.nodes=[]},e.prototype.empty=function(){return 0===this.nodes.length},e.prototype.size=function(){return this.nodes.length},e.prototype.clone=function(){var t;return(t=new e).nodes=this.nodes.slice(0),t},e.prototype.toArray=function(){return this.nodes.slice(0)},e.prototype.insert=e.prototype.push,e.prototype.top=e.prototype.peek,e.prototype.front=e.prototype.peek,e.prototype.has=e.prototype.contains,e.prototype.copy=e.prototype.clone,e}(),r=[],void 0===(o="function"==typeof(i=function(){return n})?i.apply(t,r):i)||(e.exports=o)}).call(this)},F1pL:function(e,t,n){e.exports=n("Ekho")},ICWq:function(e){e.exports=JSON.parse('[{"selector":".EndInterEdge","css":{"curve-style":"bezier","control-point-step-size":80,"target-arrow-shape":"none","width":2,"line-color":"gray","target-arrow-color":"black"}},{"selector":".InterEndEdge","css":{"curve-style":"bezier","control-point-step-size":80,"target-arrow-shape":"triangle","width":2,"line-color":"#42adf5","target-arrow-color":"black"}},{"selector":".InterNode","style":{"background-color":"red","width":"7px","height":"7px","label":""},"css":{"curve-style":"bezier","control-point-step-size":40,"target-arrow-shape":"triangle","line-color":"grey","target-arrow-color":"black"}},{"selector":".Node","style":{"background-color":"white","border-width":2,"border-color":"gray","width":"65px","height":"65px","label":"data(name)","text-wrap":"ellipsis","text-max-width":"65px","text-valign":"center"}},{"selector":".InitialNode","style":{"border-width":3,"background-color":"white","border-color":"green","width":"65px","height":"65px","label":"data(name)","text-wrap":"ellipsis","text-max-width":"65px","text-valign":"center"}}]')},ROFb:function(e,t,n){"use strict";function i(e){return e&&"object"==typeof e&&"default"in e?e.default:e}var r=i(n("9/5/")),o=i(n("F1pL"));function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function c(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function h(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(l){r=!0,o=l}finally{try{i||null==a.return||a.return()}finally{if(r)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var u="undefined"==typeof window?null:window,p=u?u.navigator:null,g=s(""),f=s({}),m=s((function(){})),v="undefined"==typeof HTMLElement?"undefined":s(HTMLElement),y=function(e){return e&&e.instanceString&&C(e.instanceString)?e.instanceString():null},b=function(e){return null!=e&&s(e)==g},C=function(e){return null!=e&&s(e)===m},w=function(e){return!A(e)&&(Array.isArray?Array.isArray(e):null!=e&&e instanceof Array)},_=function(e){return null!=e&&s(e)===f&&!w(e)&&e.constructor===Object},x=function(e){return null!=e&&s(e)===s(1)&&!isNaN(e)},I=function(e){return"undefined"===v?void 0:null!=e&&e instanceof HTMLElement},A=function(e){return k(e)||S(e)},k=function(e){return"collection"===y(e)&&e._private.single},S=function(e){return"collection"===y(e)&&!e._private.single},E=function(e){return"core"===y(e)},O=function(e){return"stylesheet"===y(e)},P=function(e){return null==e||!(""!==e&&!e.match(/^\s+$/))},M=function(e){return function(e){return null!=e&&s(e)===f}(e)&&C(e.then)},T=function(e,t){t||(t=function(){if(1===arguments.length)return arguments[0];if(0===arguments.length)return"undefined";for(var e=[],t=0;t<arguments.length;t++)e.push(arguments[t]);return e.join("$")});var n=function n(){var i,r=this,o=arguments,s=t.apply(r,o),a=n.cache;return(i=a[s])||(i=a[s]=e.apply(r,o)),i};return n.cache={},n},R=T((function(e){return e.replace(/([A-Z])/g,(function(e){return"-"+e.toLowerCase()}))})),D=T((function(e){return e.replace(/(-\w)/g,(function(e){return e[1].toUpperCase()}))})),N=T((function(e,t){return e+t[0].toUpperCase()+t.substring(1)}),(function(e,t){return e+"$"+t})),L=function(e){return P(e)?e:e.charAt(0).toUpperCase()+e.substring(1)},B="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",F=function(e,t){return e<t?-1:e>t?1:0},V=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments,n=1;n<t.length;n++){var i=t[n];if(null!=i)for(var r=Object.keys(i),o=0;o<r.length;o++){var s=r[o];e[s]=i[s]}}return e},$={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},H=function(e){for(var t=e.map,n=e.keys,i=n.length,r=0;r<i;r++){var o=n[r];if(_(o))throw Error("Tried to set map with object key");r<n.length-1?(null==t[o]&&(t[o]={}),t=t[o]):t[o]=e.value}},j=function(e){for(var t=e.map,n=e.keys,i=n.length,r=0;r<i;r++){var o=n[r];if(_(o))throw Error("Tried to get map with object key");if(null==(t=t[o]))return t}return t},W=u?u.performance:null,z=W&&W.now?function(){return W.now()}:function(){return Date.now()},G=function(){if(u){if(u.requestAnimationFrame)return function(e){u.requestAnimationFrame(e)};if(u.mozRequestAnimationFrame)return function(e){u.mozRequestAnimationFrame(e)};if(u.webkitRequestAnimationFrame)return function(e){u.webkitRequestAnimationFrame(e)};if(u.msRequestAnimationFrame)return function(e){u.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout((function(){e(z())}),1e3/60)}}(),Z=function(e){return G(e)},K=z,X=65599,Y=function(e){for(var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261,i=n;!(t=e.next()).done;)i=i*X+t.value|0;return i},U=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9261;return t*X+e|0},J=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:5381;return(t<<5)+t+e|0},q=function(e){return 2097152*e[0]+e[1]},Q=function(e,t){return[U(e[0],t[0]),J(e[1],t[1])]},ee=function(e,t){var n={value:0,done:!1},i=0,r=e.length;return Y({next:function(){return i<r?n.value=e.charCodeAt(i++):n.done=!0,n}},t)},te=function(){return ne(arguments)},ne=function(e){for(var t,n=0;n<e.length;n++){var i=e[n];t=0===n?ee(i):ee(i,t)}return t},ie=!0,re=null!=console.warn,oe=null!=console.trace,se=Number.MAX_SAFE_INTEGER||9007199254740991,ae=function(){return!0},le=function(){return!1},ce=function(){return 0},he=function(){},de=function(e){throw new Error(e)},ue=function(e){if(void 0===e)return ie;ie=!!e},pe=function(e){ue()&&(re?console.warn(e):(console.log(e),oe&&console.trace()))},ge=function(e){return null==e?e:w(e)?e.slice():_(e)?function(e){return V({},e)}(e):e},fe=function(e,t){for(t=e="";e++<36;t+=51*e&52?(15^e?8^Math.random()*(20^e?16:4):4).toString(16):"-");return t},me={},ve=function(){return me},ye=function(e){var t=Object.keys(e);return function(n){for(var i={},r=0;r<t.length;r++){var o=t[r],s=null==n?void 0:n[o];i[o]=void 0===s?e[o]:s}return i}},be=function(e,t,n){for(var i=e.length;i>=0&&(e[i]!==t||(e.splice(i,1),n));i--);},Ce=function(e){e.splice(0,e.length)},we=function(e,t,n){return n&&(t=N(n,t)),e[t]},_e=function(e,t,n,i){n&&(t=N(n,t)),e[t]=i},xe="undefined"!=typeof Map?Map:function(){function e(){a(this,e),this._obj={}}return c(e,[{key:"set",value:function(e,t){return this._obj[e]=t,this}},{key:"delete",value:function(e){return this._obj[e]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(e){return void 0!==this._obj[e]}},{key:"get",value:function(e){return this._obj[e]}}]),e}(),Ie=function(){function e(t){if(a(this,e),this._obj=Object.create(null),this.size=0,null!=t){var n;n=null!=t.instanceString&&t.instanceString()===this.instanceString()?t.toArray():t;for(var i=0;i<n.length;i++)this.add(n[i])}}return c(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(e){var t=this._obj;1!==t[e]&&(t[e]=1,this.size++)}},{key:"delete",value:function(e){var t=this._obj;1===t[e]&&(t[e]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(e){return 1===this._obj[e]}},{key:"toArray",value:function(){var e=this;return Object.keys(this._obj).filter((function(t){return e.has(t)}))}},{key:"forEach",value:function(e,t){return this.toArray().forEach(e,t)}}]),e}(),Ae="undefined"!==("undefined"==typeof Set?"undefined":s(Set))?Set:Ie,ke=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==e&&void 0!==t&&E(e)){var i=t.group;if(null==i&&(i=t.data&&null!=t.data.source&&null!=t.data.target?"edges":"nodes"),"nodes"===i||"edges"===i){this.length=1,this[0]=this;var r=this._private={cy:e,single:!0,data:t.data||{},position:t.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:i,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!t.selected,selectable:void 0===t.selectable||!!t.selectable,locked:!!t.locked,grabbed:!1,grabbable:void 0===t.grabbable||!!t.grabbable,pannable:void 0===t.pannable?"edges"===i:!!t.pannable,active:!1,classes:new Ae,animation:{current:[],queue:[]},rscratch:{},scratch:t.scratch||{},edges:[],children:[],parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(null==r.position.x&&(r.position.x=0),null==r.position.y&&(r.position.y=0),t.renderedPosition){var o=t.renderedPosition,s=e.pan(),a=e.zoom();r.position={x:(o.x-s.x)/a,y:(o.y-s.y)/a}}var l=[];w(t.classes)?l=t.classes:b(t.classes)&&(l=t.classes.split(/\s+/));for(var c=0,h=l.length;c<h;c++){var d=l[c];d&&""!==d&&r.classes.add(d)}this.createEmitter();var u=t.style||t.css;u&&(pe("Setting a `style` bypass at element creation is deprecated"),this.style(u)),(void 0===n||n)&&this.restore()}else de("An element must be of type `nodes` or `edges`; you specified `"+i+"`")}else de("An element must have a core reference and parameters set")},Se=function(e){return e={bfs:e.bfs||!e.dfs,dfs:e.dfs||!e.bfs},function(t,n,i){var r;_(t)&&!A(t)&&(t=(r=t).roots||r.root,n=r.visit,i=r.directed),i=2!==arguments.length||C(n)?i:n,n=C(n)?n:function(){};for(var o,s=this._private.cy,a=t=b(t)?this.filter(t):t,l=[],c=[],h={},d={},u={},p=0,g=this.byGroup(),f=g.nodes,m=g.edges,v=0;v<a.length;v++){var y=a[v],w=y.id();y.isNode()&&(l.unshift(y),e.bfs&&(u[w]=!0,c.push(y)),d[w]=0)}var x=function(){var t=e.bfs?l.shift():l.pop(),r=t.id();if(e.dfs){if(u[r])return"continue";u[r]=!0,c.push(t)}var s,a=d[r],g=h[r],v=null!=g?g.source():null,y=null!=g?g.target():null,b=null==g?void 0:t.same(v)?y[0]:v[0];if(!0===(s=n(t,g,b,p++,a)))return o=t,"break";if(!1===s)return"break";for(var C=t.connectedEdges().filter((function(e){return(!i||e.source().same(t))&&m.has(e)})),w=0;w<C.length;w++){var _=C[w],x=_.connectedNodes().filter((function(e){return!e.same(t)&&f.has(e)})),I=x.id();0===x.length||u[I]||(l.push(x=x[0]),e.bfs&&(u[I]=!0,c.push(x)),h[I]=_,d[I]=d[r]+1)}};e:for(;0!==l.length;){var I=x();switch(I){case"continue":continue;case"break":break e}}for(var k=s.collection(),S=0;S<c.length;S++){var E=c[S],O=h[E.id()];null!=O&&k.push(O),k.push(E)}return{path:s.collection(k),found:s.collection(o)}}},Ee={breadthFirstSearch:Se({bfs:!0}),depthFirstSearch:Se({dfs:!0})};Ee.bfs=Ee.breadthFirstSearch,Ee.dfs=Ee.depthFirstSearch;var Oe=ye({root:null,weight:function(e){return 1},directed:!1}),Pe={dijkstra:function(e){if(!_(e)){var t=arguments;e={root:t[0],weight:t[1],directed:t[2]}}var n=Oe(e),i=n.root,r=n.weight,s=n.directed,a=this,l=r,c=b(i)?this.filter(i)[0]:i[0],h={},d={},u={},p=this.byGroup(),g=p.nodes,f=p.edges;f.unmergeBy((function(e){return e.isLoop()}));for(var m=function(e){return h[e.id()]},v=function(e,t){h[e.id()]=t,y.updateItem(e)},y=new o((function(e,t){return m(e)-m(t)})),C=0;C<g.length;C++){var w=g[C];h[w.id()]=w.same(c)?0:1/0,y.push(w)}for(var x=function(e,t){for(var n,i=(s?e.edgesTo(t):e.edgesWith(t)).intersect(f),r=1/0,o=0;o<i.length;o++){var a=i[o],c=l(a);(c<r||!n)&&(r=c,n=a)}return{edge:n,dist:r}};y.size()>0;){var I=y.pop(),A=m(I),k=I.id();if(u[k]=A,A!==1/0)for(var S=I.neighborhood().intersect(g),E=0;E<S.length;E++){var O=S[E],P=O.id(),M=x(I,O),T=A+M.dist;T<m(O)&&(v(O,T),d[P]={node:I,edge:M.edge})}}return{distanceTo:function(e){var t=b(e)?g.filter(e)[0]:e[0];return u[t.id()]},pathTo:function(e){var t=b(e)?g.filter(e)[0]:e[0],n=[],i=t,r=i.id();if(t.length>0)for(n.unshift(t);d[r];){var o=d[r];n.unshift(o.edge),n.unshift(o.node),r=(i=o.node).id()}return a.spawn(n)}}}},Me={kruskal:function(e){e=e||function(e){return 1};for(var t=this.byGroup(),n=t.nodes,i=t.edges,r=n.length,o=new Array(r),s=n,a=function(e){for(var t=0;t<o.length;t++)if(o[t].has(e))return t},l=0;l<r;l++)o[l]=this.spawn(n[l]);for(var c=i.sort((function(t,n){return e(t)-e(n)})),h=0;h<c.length;h++){var d=c[h],u=d.source()[0],p=d.target()[0],g=a(u),f=a(p),m=o[g],v=o[f];g!==f&&(s.merge(d),m.merge(v),o.splice(f,1))}return s}},Te=ye({root:null,goal:null,weight:function(e){return 1},heuristic:function(e){return 0},directed:!1}),Re={aStar:function(e){var t=this.cy(),n=Te(e),i=n.root,r=n.goal,s=n.heuristic,a=n.directed,l=n.weight;i=t.collection(i)[0],r=t.collection(r)[0];var c,h,d=i.id(),u=r.id(),p={},g={},f={},m=new o((function(e,t){return g[e.id()]-g[t.id()]})),v=new Ae,y={},b={},C=function(e,t){m.push(e),v.add(t)};C(i,d),p[d]=0,g[d]=s(i);for(var w=0;m.size()>0;){if(h=(c=m.pop()).id(),v.delete(h),w++,h===u){for(var _=[],x=r,I=u,A=b[I];_.unshift(x),null!=A&&_.unshift(A),null!=(x=y[I]);)A=b[I=x.id()];return{found:!0,distance:p[h],path:this.spawn(_),steps:w}}f[h]=!0;for(var k=c._private.edges,S=0;S<k.length;S++){var E=k[S];if(this.hasElementWithId(E.id())&&(!a||E.data("source")===h)){var O=E.source(),P=E.target(),M=O.id()!==h?O:P,T=M.id();if(this.hasElementWithId(T)&&!f[T]){var R=p[h]+l(E);v.has(T)?R<p[T]&&(p[T]=R,g[T]=R+s(M),y[T]=c):(p[T]=R,g[T]=R+s(M),C(M,T),y[T]=c,b[T]=E)}}}}return{found:!1,distance:void 0,path:void 0,steps:w}}},De=ye({weight:function(e){return 1},directed:!1}),Ne={floydWarshall:function(e){for(var t=this.cy(),n=De(e),i=n.directed,r=n.weight,o=this.byGroup(),s=o.nodes,a=o.edges,l=s.length,c=l*l,h=function(e){return s.indexOf(e)},d=function(e){return s[e]},u=new Array(c),p=0;p<c;p++){var g=p%l;u[p]=(p-g)/l===g?0:1/0}for(var f=new Array(c),m=new Array(c),v=0;v<a.length;v++){var y=a[v],C=y.source()[0],w=y.target()[0];if(C!==w){var _=h(C),x=h(w),I=_*l+x,A=r(y);if(u[I]>A&&(u[I]=A,f[I]=x,m[I]=y),!i){var k=x*l+_;!i&&u[k]>A&&(u[k]=A,f[k]=_,m[k]=y)}}}for(var S=0;S<l;S++)for(var E=0;E<l;E++)for(var O=E*l+S,P=0;P<l;P++){var M=E*l+P,T=S*l+P;u[O]+u[T]<u[M]&&(u[M]=u[O]+u[T],f[M]=f[O])}var R=function(e){return h(function(e){return(b(e)?t.filter(e):e)[0]}(e))};return{distance:function(e,t){var n=R(e),i=R(t);return u[n*l+i]},path:function(e,n){var i=R(e),r=R(n),o=d(i);if(i===r)return o.collection();if(null==f[i*l+r])return t.collection();var s=t.collection();for(s.merge(o);i!==r;)s.merge(m[i*l+(i=f[i*l+r])]),s.merge(d(i));return s}}}},Le=ye({weight:function(e){return 1},directed:!1,root:null}),Be={bellmanFord:function(e){var t=this,n=Le(e),i=n.directed,r=n.root,o=n.weight,s=this,a=this.cy(),l=this.byGroup(),c=l.edges,h=l.nodes,d=h.length,u=new xe,p=!1;r=a.collection(r)[0],c.unmergeBy((function(e){return e.isLoop()}));for(var g=c.length,f=function(e){var t=u.get(e.id());return t||(t={},u.set(e.id(),t)),t},m=function(e){return(b(e)?a.$(e):e)[0]},v=0;v<d;v++){var y=h[v],C=f(y);C.dist=y.same(r)?0:1/0,C.pred=null,C.edge=null}for(var w=!1,_=function(e,t,n,i,r,o){var s=i.dist+o;s<r.dist&&!n.same(i.edge)&&(r.dist=s,r.pred=e,r.edge=n,w=!0)},x=1;x<d;x++){w=!1;for(var I=0;I<g;I++){var A=c[I],k=A.source(),S=A.target(),E=o(A),O=f(k),P=f(S);_(k,0,A,O,P,E),i||_(S,0,A,P,O,E)}if(!w)break}if(w)for(var M=0;M<g;M++){var T=c[M],R=T.source(),D=T.target(),N=o(T),L=f(R).dist,B=f(D).dist;if(L+N<B||!i&&B+N<L){pe("Graph contains a negative weight cycle for Bellman-Ford"),p=!0;break}}return{distanceTo:function(e){return f(m(e)).dist},pathTo:function(e){for(var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r,i=m(e),o=[],a=i;;){if(null==a)return t.spawn();var l=f(a),c=l.edge,h=l.pred;if(o.unshift(a[0]),a.same(n)&&o.length>0)break;null!=c&&o.unshift(c),a=h}return s.spawn(o)},hasNegativeWeightCycle:p,negativeWeightCycles:[]}}},Fe=Math.sqrt(2),Ve=function(e,t,n){0===n.length&&de("Karger-Stein must be run on a connected (sub)graph");for(var i=n[e],r=t[i[1]],o=t[i[2]],s=n,a=s.length-1;a>=0;a--){var l=s[a],c=l[1],h=l[2];(t[c]===r&&t[h]===o||t[c]===o&&t[h]===r)&&s.splice(a,1)}for(var d=0;d<s.length;d++){var u=s[d];u[1]===o?(s[d]=u.slice(),s[d][1]=r):u[2]===o&&(s[d]=u.slice(),s[d][2]=r)}for(var p=0;p<t.length;p++)t[p]===o&&(t[p]=r);return s},$e=function(e,t,n,i){for(;n>i;){var r=Math.floor(Math.random()*t.length);t=Ve(r,e,t),n--}return t},He={kargerStein:function(){var e=this,t=this.byGroup(),n=t.nodes,i=t.edges;i.unmergeBy((function(e){return e.isLoop()}));var r=n.length,o=i.length,s=Math.ceil(Math.pow(Math.log(r)/Math.LN2,2)),a=Math.floor(r/Fe);if(!(r<2)){for(var l=[],c=0;c<o;c++){var h=i[c];l.push([c,n.indexOf(h.source()),n.indexOf(h.target())])}for(var d=1/0,u=[],p=new Array(r),g=new Array(r),f=new Array(r),m=function(e,t){for(var n=0;n<r;n++)t[n]=e[n]},v=0;v<=s;v++){for(var y=0;y<r;y++)g[y]=y;var b=$e(g,l.slice(),r,a),C=b.slice();m(g,f);var w=$e(g,b,a,2),_=$e(f,C,a,2);w.length<=_.length&&w.length<d?(d=w.length,u=w,m(g,p)):_.length<=w.length&&_.length<d&&(d=_.length,u=_,m(f,p))}for(var x=this.spawn(u.map((function(e){return i[e[0]]}))),I=this.spawn(),A=this.spawn(),k=p[0],S=0;S<p.length;S++){var E=n[S];p[S]===k?I.merge(E):A.merge(E)}var O=function(t){var n=e.spawn();return t.forEach((function(t){n.merge(t),t.connectedEdges().forEach((function(t){e.contains(t)&&!x.contains(t)&&n.merge(t)}))})),n},P=[O(I),O(A)];return{cut:x,components:P,partition1:I,partition2:A}}de("At least 2 nodes are required for Karger-Stein algorithm")}},je=function(e,t,n){return{x:e.x*t+n.x,y:e.y*t+n.y}},We=function(e,t,n){return{x:(e.x-n.x)/t,y:(e.y-n.y)/t}},ze=function(e){return{x:e[0],y:e[1]}},Ge=function(e,t){return Math.atan2(t,e)-Math.PI/2},Ze=Math.log2||function(e){return Math.log(e)/Math.log(2)},Ke=function(e){return e>0?1:e<0?-1:0},Xe=function(e,t){return Math.sqrt(Ye(e,t))},Ye=function(e,t){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i},Ue=function(e){for(var t=e.length,n=0,i=0;i<t;i++)n+=e[i];for(var r=0;r<t;r++)e[r]=e[r]/n;return e},Je=function(e,t,n,i){return(1-i)*(1-i)*e+2*(1-i)*i*t+i*i*n},qe=function(e,t,n,i){return{x:Je(e.x,t.x,n.x,i),y:Je(e.y,t.y,n.y,i)}},Qe=function(e,t,n){return Math.max(e,Math.min(n,t))},et=function(e){if(null==e)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(null!=e.x1&&null!=e.y1){if(null!=e.x2&&null!=e.y2&&e.x2>=e.x1&&e.y2>=e.y1)return{x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2,w:e.x2-e.x1,h:e.y2-e.y1};if(null!=e.w&&null!=e.h&&e.w>=0&&e.h>=0)return{x1:e.x1,y1:e.y1,x2:e.x1+e.w,y2:e.y1+e.h,w:e.w,h:e.h}}},tt=function(e,t,n){e.x1=Math.min(e.x1,t),e.x2=Math.max(e.x2,t),e.w=e.x2-e.x1,e.y1=Math.min(e.y1,n),e.y2=Math.max(e.y2,n),e.h=e.y2-e.y1},nt=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return e.x1-=t,e.x2+=t,e.y1-=t,e.y2+=t,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},it=function(e){var t,n,i,r,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[0];if(1===o.length)t=n=i=r=o[0];else if(2===o.length)t=i=o[0],r=n=o[1];else if(4===o.length){var s=d(o,4);t=s[0],n=s[1],i=s[2],r=s[3]}return e.x1-=r,e.x2+=n,e.y1-=t,e.y2+=i,e.w=e.x2-e.x1,e.h=e.y2-e.y1,e},rt=function(e,t){e.x1=t.x1,e.y1=t.y1,e.x2=t.x2,e.y2=t.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1},ot=function(e,t){e.x1+=t.x,e.x2+=t.x,e.y1+=t.y,e.y2+=t.y},st=function(e,t){return!(e.x1>t.x2||t.x1>e.x2||e.x2<t.x1||t.x2<e.x1||e.y2<t.y1||t.y2<e.y1||e.y1>t.y2||t.y1>e.y2)},at=function(e,t,n){return e.x1<=t&&t<=e.x2&&e.y1<=n&&n<=e.y2},lt=function(e,t){return at(e,t.x1,t.y1)&&at(e,t.x2,t.y2)},ct=function(e,t,n,i,r,o,s){var a,l=St(r,o),c=r/2,h=o/2,d=i-h-s;if((a=wt(e,t,n,i,n-c+l-s,d,n+c-l+s,d,!1)).length>0)return a;var u=n+c+s;if((a=wt(e,t,n,i,u,i-h+l-s,u,i+h-l+s,!1)).length>0)return a;var p=i+h+s;if((a=wt(e,t,n,i,n-c+l-s,p,n+c-l+s,p,!1)).length>0)return a;var g,f=n-c-s;if((a=wt(e,t,n,i,f,i-h+l-s,f,i+h-l+s,!1)).length>0)return a;var m=n-c+l,v=i-h+l;if((g=bt(e,t,n,i,m,v,l+s)).length>0&&g[0]<=m&&g[1]<=v)return[g[0],g[1]];var y=n+c-l,b=i-h+l;if((g=bt(e,t,n,i,y,b,l+s)).length>0&&g[0]>=y&&g[1]<=b)return[g[0],g[1]];var C=n+c-l,w=i+h-l;if((g=bt(e,t,n,i,C,w,l+s)).length>0&&g[0]>=C&&g[1]>=w)return[g[0],g[1]];var _=n-c+l,x=i+h-l;return(g=bt(e,t,n,i,_,x,l+s)).length>0&&g[0]<=_&&g[1]>=x?[g[0],g[1]]:[]},ht=function(e,t,n,i,r,o,s){var a=s,l=Math.min(n,r),c=Math.max(n,r),h=Math.min(i,o),d=Math.max(i,o);return l-a<=e&&e<=c+a&&h-a<=t&&t<=d+a},dt=function(e,t,n,i,r,o,s,a,l){var c=Math.min(n,s,r)-l,h=Math.max(n,s,r)+l,d=Math.min(i,a,o)-l,u=Math.max(i,a,o)+l;return!(e<c||e>h||t<d||t>u)},ut=function(e,t,n,i,r,o,s,a){var l,c,h,d,u,p,g,f,m,v,y,b,C,w=[];c=9*n*r-3*n*n-3*n*s-6*r*r+3*r*s+9*i*o-3*i*i-3*i*a-6*o*o+3*o*a,h=3*n*n-6*n*r+n*s-n*e+2*r*r+2*r*e-s*e+3*i*i-6*i*o+i*a-i*t+2*o*o+2*o*t-a*t,d=1*n*r-n*n+n*e-r*e+i*o-i*i+i*t-o*t,0==(l=1*n*n-4*n*r+2*n*s+4*r*r-4*r*s+s*s+i*i-4*i*o+2*i*a+4*o*o-4*o*a+a*a)&&(l=1e-5),f=-27*(d/=l)+(c/=l)*(9*(h/=l)-c*c*2),p=(g=(3*h-c*c)/9)*g*g+(f/=54)*f,(u=w)[1]=0,b=c/3,p>0?(v=(v=f+Math.sqrt(p))<0?-Math.pow(-v,1/3):Math.pow(v,1/3),y=(y=f-Math.sqrt(p))<0?-Math.pow(-y,1/3):Math.pow(y,1/3),u[0]=-b+v+y,u[4]=u[2]=-(b+=(v+y)/2),b=Math.sqrt(3)*(-y+v)/2,u[3]=b,u[5]=-b):(u[5]=u[3]=0,0===p?(C=f<0?-Math.pow(-f,1/3):Math.pow(f,1/3),u[0]=2*C-b,u[4]=u[2]=-(C+b)):(m=(g=-g)*g*g,m=Math.acos(f/Math.sqrt(m)),C=2*Math.sqrt(g),u[0]=-b+C*Math.cos(m/3),u[2]=-b+C*Math.cos((m+2*Math.PI)/3),u[4]=-b+C*Math.cos((m+4*Math.PI)/3)));for(var _=[],x=0;x<6;x+=2)Math.abs(w[x+1])<1e-7&&w[x]>=0&&w[x]<=1&&_.push(w[x]);_.push(1),_.push(0);for(var I,A,k,S=-1,E=0;E<_.length;E++)I=Math.pow(1-_[E],2)*n+2*(1-_[E])*_[E]*r+_[E]*_[E]*s,A=Math.pow(1-_[E],2)*i+2*(1-_[E])*_[E]*o+_[E]*_[E]*a,k=Math.pow(I-e,2)+Math.pow(A-t,2),S>=0?k<S&&(S=k):S=k;return S},pt=function(e,t,n,i,r,o){var s=[e-n,t-i],a=[r-n,o-i],l=a[0]*a[0]+a[1]*a[1],c=s[0]*s[0]+s[1]*s[1],h=s[0]*a[0]+s[1]*a[1],d=h*h/l;return h<0?c:d>l?(e-r)*(e-r)+(t-o)*(t-o):c-d},gt=function(e,t,n){for(var i,r,o,s,a=0,l=0;l<n.length/2;l++)if(r=n[2*l+1],l+1<n.length/2?(o=n[2*(l+1)],s=n[2*(l+1)+1]):(o=n[2*(l+1-n.length/2)],s=n[2*(l+1-n.length/2)+1]),(i=n[2*l])==e&&o==e);else{if(!(i>=e&&e>=o||i<=e&&e<=o))continue;(e-i)/(o-i)*(s-r)+r>t&&a++}return a%2!=0},ft=function(e,t,n,i,r,o,s,a,l){var c,h=new Array(n.length);null!=a[0]?(c=Math.atan(a[1]/a[0]),a[0]<0?c+=Math.PI/2:c=-c-Math.PI/2):c=a;for(var d,u=Math.cos(-c),p=Math.sin(-c),g=0;g<h.length/2;g++)h[2*g]=o/2*(n[2*g]*u-n[2*g+1]*p),h[2*g+1]=s/2*(n[2*g+1]*u+n[2*g]*p),h[2*g]+=i,h[2*g+1]+=r;if(l>0){var f=vt(h,-l);d=mt(f)}else d=h;return gt(e,t,d)},mt=function(e){for(var t,n,i,r,o=new Array(e.length/2),s=0;s<e.length/4;s++){s<e.length/4-1?(t=e[4*(s+1)],n=e[4*(s+1)+1],i=e[4*(s+1)+2],r=e[4*(s+1)+3]):(t=e[0],n=e[1],i=e[2],r=e[3]);var a=wt(e[4*s],e[4*s+1],e[4*s+2],e[4*s+3],t,n,i,r,!0);o[2*s]=a[0],o[2*s+1]=a[1]}return o},vt=function(e,t){for(var n,i,r,o,s=new Array(2*e.length),a=0;a<e.length/2;a++){a<e.length/2-1?(r=e[2*(a+1)],o=e[2*(a+1)+1]):(r=e[0],o=e[1]);var l=o-(i=e[2*a+1]),c=-(r-(n=e[2*a])),h=Math.sqrt(l*l+c*c),d=l/h,u=c/h;s[4*a]=n+d*t,s[4*a+1]=i+u*t,s[4*a+2]=r+d*t,s[4*a+3]=o+u*t}return s},yt=function(e,t,n,i,r,o,s){return e-=r,t-=o,(e/=n/2+s)*e+(t/=i/2+s)*t<=1},bt=function(e,t,n,i,r,o,s){var a=[n-e,i-t],l=[e-r,t-o],c=a[0]*a[0]+a[1]*a[1],h=2*(l[0]*a[0]+l[1]*a[1]),d=h*h-4*c*(l[0]*l[0]+l[1]*l[1]-s*s);if(d<0)return[];var u=(-h+Math.sqrt(d))/(2*c),p=(-h-Math.sqrt(d))/(2*c),g=Math.min(u,p),f=Math.max(u,p),m=[];if(g>=0&&g<=1&&m.push(g),f>=0&&f<=1&&m.push(f),0===m.length)return[];var v=m[0]*a[0]+e,y=m[0]*a[1]+t;return m.length>1?m[0]==m[1]?[v,y]:[v,y,m[1]*a[0]+e,m[1]*a[1]+t]:[v,y]},Ct=function(e,t,n){return t<=e&&e<=n||n<=e&&e<=t?e:e<=t&&t<=n||n<=t&&t<=e?t:n},wt=function(e,t,n,i,r,o,s,a,l){var c=e-r,h=n-e,d=s-r,u=t-o,p=i-t,g=a-o,f=d*u-g*c,m=h*u-p*c,v=g*h-d*p;if(0!==v){var y=f/v,b=m/v;return-.001<=y&&y<=1.001&&-.001<=b&&b<=1.001||l?[e+y*h,t+y*p]:[]}return 0===f||0===m?Ct(e,n,s)===s?[s,a]:Ct(e,n,r)===r?[r,o]:Ct(r,s,n)===n?[n,i]:[]:[]},_t=function(e,t,n,i,r,o,s,a){var l,c,h,d,u=[],p=new Array(n.length),g=!0;if(null==o&&(g=!1),g){for(var f=0;f<p.length/2;f++)p[2*f]=n[2*f]*o+i,p[2*f+1]=n[2*f+1]*s+r;if(a>0){var m=vt(p,-a);c=mt(m)}else c=p}else c=n;for(var v=0;v<c.length/2;v++)v<c.length/2-1?(h=c[2*(v+1)],d=c[2*(v+1)+1]):(h=c[0],d=c[1]),0!==(l=wt(e,t,i,r,c[2*v],c[2*v+1],h,d)).length&&u.push(l[0],l[1]);return u},xt=function(e,t,n){var i=[e[0]-t[0],e[1]-t[1]],r=Math.sqrt(i[0]*i[0]+i[1]*i[1]),o=(r-n)/r;return o<0&&(o=1e-5),[t[0]+o*i[0],t[1]+o*i[1]]},It=function(e,t){var n=kt(e,t);return At(n)},At=function(e){for(var t,n,i=e.length/2,r=1/0,o=1/0,s=-1/0,a=-1/0,l=0;l<i;l++)t=e[2*l],n=e[2*l+1],r=Math.min(r,t),s=Math.max(s,t),o=Math.min(o,n),a=Math.max(a,n);for(var c=2/(s-r),h=2/(a-o),d=0;d<i;d++)t=e[2*d]=e[2*d]*c,n=e[2*d+1]=e[2*d+1]*h,r=Math.min(r,t),s=Math.max(s,t),o=Math.min(o,n),a=Math.max(a,n);if(o<-1)for(var u=0;u<i;u++)n=e[2*u+1]=e[2*u+1]+(-1-o);return e},kt=function(e,t){var n=1/e*2*Math.PI,i=e%2==0?Math.PI/2+n/2:Math.PI/2;i+=t;for(var r,o=new Array(2*e),s=0;s<e;s++)r=s*n+i,o[2*s]=Math.cos(r),o[2*s+1]=Math.sin(-r);return o},St=function(e,t){return Math.min(e/4,t/4,8)},Et=function(e,t){return Math.min(e/10,t/10,8)},Ot=function(e,t){return{heightOffset:Math.min(15,.05*t),widthOffset:Math.min(100,.25*e),ctrlPtOffsetPct:.05}},Pt=ye({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(e){return 1}}),Mt={pageRank:function(e){for(var t=Pt(e),n=t.dampingFactor,i=t.precision,r=t.iterations,o=t.weight,s=this._private.cy,a=this.byGroup(),l=a.nodes,c=a.edges,h=l.length,d=c.length,u=new Array(h*h),p=new Array(h),g=(1-n)/h,f=0;f<h;f++){for(var m=0;m<h;m++)u[f*h+m]=0;p[f]=0}for(var v=0;v<d;v++){var y=c[v],b=y.data("source"),C=y.data("target");if(b!==C){var w=l.indexOfId(b),_=l.indexOfId(C),x=o(y);u[_*h+w]+=x,p[w]+=x}}for(var I=1/h+g,A=0;A<h;A++)if(0===p[A])for(var k=0;k<h;k++)u[k*h+A]=I;else for(var S=0;S<h;S++){var E=S*h+A;u[E]=u[E]/p[A]+g}for(var O,P=new Array(h),M=new Array(h),T=0;T<h;T++)P[T]=1;for(var R=0;R<r;R++){for(var D=0;D<h;D++)M[D]=0;for(var N=0;N<h;N++)for(var L=0;L<h;L++)M[N]+=u[N*h+L]*P[L];Ue(M),O=P,P=M,M=O;for(var B=0,F=0;F<h;F++){var V=O[F]-P[F];B+=V*V}if(B<i)break}return{rank:function(e){return e=s.collection(e)[0],P[l.indexOf(e)]}}}},Tt=ye({root:null,weight:function(e){return 1},directed:!1,alpha:0}),Rt={degreeCentralityNormalized:function(e){e=Tt(e);var t=this.cy(),n=this.nodes(),i=n.length;if(e.directed){for(var r={},o={},s=0,a=0,l=0;l<i;l++){var c=n[l],h=c.id();e.root=c;var d=this.degreeCentrality(e);s<d.indegree&&(s=d.indegree),a<d.outdegree&&(a=d.outdegree),r[h]=d.indegree,o[h]=d.outdegree}return{indegree:function(e){return 0==s?0:(b(e)&&(e=t.filter(e)),r[e.id()]/s)},outdegree:function(e){return 0===a?0:(b(e)&&(e=t.filter(e)),o[e.id()]/a)}}}for(var u={},p=0,g=0;g<i;g++){var f=n[g];e.root=f;var m=this.degreeCentrality(e);p<m.degree&&(p=m.degree),u[f.id()]=m.degree}return{degree:function(e){return 0===p?0:(b(e)&&(e=t.filter(e)),u[e.id()]/p)}}},degreeCentrality:function(e){e=Tt(e);var t=this.cy(),n=this,i=e.root,r=e.weight,o=e.directed,s=e.alpha;if(i=t.collection(i)[0],o){for(var a=i.connectedEdges(),l=a.filter((function(e){return e.target().same(i)&&n.has(e)})),c=a.filter((function(e){return e.source().same(i)&&n.has(e)})),h=l.length,d=c.length,u=0,p=0,g=0;g<l.length;g++)u+=r(l[g]);for(var f=0;f<c.length;f++)p+=r(c[f]);return{indegree:Math.pow(h,1-s)*Math.pow(u,s),outdegree:Math.pow(d,1-s)*Math.pow(p,s)}}for(var m=i.connectedEdges().intersection(n),v=m.length,y=0,b=0;b<m.length;b++)y+=r(m[b]);return{degree:Math.pow(v,1-s)*Math.pow(y,s)}}};Rt.dc=Rt.degreeCentrality,Rt.dcn=Rt.degreeCentralityNormalised=Rt.degreeCentralityNormalized;var Dt=ye({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),Nt={closenessCentralityNormalized:function(e){for(var t=Dt(e),n=t.harmonic,i=t.weight,r=t.directed,o=this.cy(),s={},a=0,l=this.nodes(),c=this.floydWarshall({weight:i,directed:r}),h=0;h<l.length;h++){for(var d=0,u=l[h],p=0;p<l.length;p++)if(h!==p){var g=c.distance(u,l[p]);d+=n?1/g:g}n||(d=1/d),a<d&&(a=d),s[u.id()]=d}return{closeness:function(e){return 0==a?0:(e=b(e)?o.filter(e)[0].id():e.id(),s[e]/a)}}},closenessCentrality:function(e){var t=Dt(e),n=t.root,i=t.weight,r=t.directed,o=t.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:i,directed:r}),a=0,l=this.nodes(),c=0;c<l.length;c++){var h=l[c];if(!h.same(n)){var d=s.distanceTo(h);a+=o?1/d:d}}return o?a:1/a}};Nt.cc=Nt.closenessCentrality,Nt.ccn=Nt.closenessCentralityNormalised=Nt.closenessCentralityNormalized;var Lt=ye({weight:null,directed:!1}),Bt={betweennessCentrality:function(e){for(var t=Lt(e),n=t.directed,i=t.weight,r=null!=i,s=this.cy(),a=this.nodes(),l={},c={},h=0,d=function(e,t){c[e]=t,t>h&&(h=t)},u=function(e){return c[e]},p=0;p<a.length;p++){var g=a[p],f=g.id();l[f]=n?g.outgoers().nodes():g.openNeighborhood().nodes(),d(f,0)}for(var m=function(e){for(var t=a[e].id(),n=[],c={},h={},p={},g=new o((function(e,t){return p[e]-p[t]})),f=0;f<a.length;f++){var m=a[f].id();c[m]=[],h[m]=0,p[m]=1/0}for(h[t]=1,p[t]=0,g.push(t);!g.empty();){var v=g.pop();if(n.push(v),r)for(var y=0;y<l[v].length;y++){var b,C=l[v][y],w=s.getElementById(v);b=w.edgesTo(C).length>0?w.edgesTo(C)[0]:C.edgesTo(w)[0];var _=i(b);C=C.id(),p[C]>p[v]+_&&(p[C]=p[v]+_,g.nodes.indexOf(C)<0?g.push(C):g.updateItem(C),h[C]=0,c[C]=[]),p[C]==p[v]+_&&(h[C]=h[C]+h[v],c[C].push(v))}else for(var x=0;x<l[v].length;x++){var I=l[v][x].id();p[I]==1/0&&(g.push(I),p[I]=p[v]+1),p[I]==p[v]+1&&(h[I]=h[I]+h[v],c[I].push(v))}}for(var A={},k=0;k<a.length;k++)A[a[k].id()]=0;for(;n.length>0;){for(var S=n.pop(),E=0;E<c[S].length;E++){var O=c[S][E];A[O]=A[O]+h[O]/h[S]*(1+A[S])}S!=a[e].id()&&d(S,u(S)+A[S])}},v=0;v<a.length;v++)m(v);var y={betweenness:function(e){var t=s.collection(e).id();return u(t)},betweennessNormalized:function(e){if(0==h)return 0;var t=s.collection(e).id();return u(t)/h}};return y.betweennessNormalised=y.betweennessNormalized,y}};Bt.bc=Bt.betweennessCentrality;var Ft=ye({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),Vt=function(e,t){for(var n=0,i=0;i<t.length;i++)n+=t[i](e);return n},$t=function(e,t){for(var n,i=0;i<t;i++){n=0;for(var r=0;r<t;r++)n+=e[r*t+i];for(var o=0;o<t;o++)e[o*t+i]=e[o*t+i]/n}},Ht=function(e,t,n){for(var i=new Array(n*n),r=0;r<n;r++){for(var o=0;o<n;o++)i[r*n+o]=0;for(var s=0;s<n;s++)for(var a=0;a<n;a++)i[r*n+a]+=e[r*n+s]*t[s*n+a]}return i},jt=function(e,t,n){for(var i=e.slice(0),r=1;r<n;r++)e=Ht(e,i,t);return e},Wt=function(e,t,n){for(var i=new Array(t*t),r=0;r<t*t;r++)i[r]=Math.pow(e[r],n);return $t(i,t),i},zt=function(e,t,n,i){for(var r=0;r<n;r++)if(Math.round(e[r]*Math.pow(10,i))/Math.pow(10,i)!=Math.round(t[r]*Math.pow(10,i))/Math.pow(10,i))return!1;return!0},Gt=function(e,t){for(var n=0;n<e.length;n++)if(!t[n]||e[n].id()!==t[n].id())return!1;return!0},Zt=function(e){for(var t=this.nodes(),n=this.edges(),i=this.cy(),r=function(e){return Ft(e)}(e),o={},s=0;s<t.length;s++)o[t[s].id()]=s;for(var a,l=t.length,c=l*l,h=new Array(c),d=0;d<c;d++)h[d]=0;for(var u=0;u<n.length;u++){var p=n[u],g=o[p.source().id()],f=o[p.target().id()],m=Vt(p,r.attributes);h[g*l+f]+=m,h[f*l+g]+=m}!function(e,t,n){for(var i=0;i<t;i++)e[i*t+i]=n}(h,l,r.multFactor),$t(h,l);for(var v=!0,y=0;v&&y<r.maxIterations;)v=!1,a=jt(h,l,r.expandFactor),h=Wt(a,l,r.inflateFactor),zt(h,a,c,4)||(v=!0),y++;return function(e){for(var t=0;t<e.length;t++)for(var n=0;n<e.length;n++)t!=n&&Gt(e[t],e[n])&&e.splice(n,1);return e}(function(e,t,n,i){for(var r=[],o=0;o<t;o++){for(var s=[],a=0;a<t;a++)Math.round(1e3*e[o*t+a])/1e3>0&&s.push(n[a]);0!==s.length&&r.push(i.collection(s))}return r}(h,l,t,i))},Kt={markovClustering:Zt,mcl:Zt},Xt=function(e){return e},Yt=function(e,t){return Math.abs(t-e)},Ut=function(e,t,n){return e+Yt(t,n)},Jt=function(e,t,n){return e+Math.pow(n-t,2)},qt=function(e){return Math.sqrt(e)},Qt=function(e,t,n){return Math.max(e,Yt(t,n))},en=function(e,t,n,i,r){for(var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Xt,s=i,a=0;a<e;a++)s=r(s,t(a),n(a));return o(s)},tn={euclidean:function(e,t,n){return e>=2?en(e,t,n,0,Jt,qt):en(e,t,n,0,Ut)},squaredEuclidean:function(e,t,n){return en(e,t,n,0,Jt)},manhattan:function(e,t,n){return en(e,t,n,0,Ut)},max:function(e,t,n){return en(e,t,n,-1/0,Qt)}};function nn(e,t,n,i,r,o){var s;return s=C(e)?e:tn[e]||tn.euclidean,0===t&&C(e)?s(r,o):s(t,n,i,r,o)}tn["squared-euclidean"]=tn.squaredEuclidean,tn.squaredeuclidean=tn.squaredEuclidean;var rn=ye({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),on=function(e){return rn(e)},sn=function(e,t,n,i,r){var o="kMedoids"!==r?function(e){return n[e]}:function(e){return i[e](n)};return nn(e,i.length,o,(function(e){return i[e](t)}),n,t)},an=function(e,t,n){for(var i=n.length,r=new Array(i),o=new Array(i),s=new Array(t),a=null,l=0;l<i;l++)r[l]=e.min(n[l]).value,o[l]=e.max(n[l]).value;for(var c=0;c<t;c++){a=[];for(var h=0;h<i;h++)a[h]=Math.random()*(o[h]-r[h])+r[h];s[c]=a}return s},ln=function(e,t,n,i,r){for(var o=1/0,s=0,a=0;a<t.length;a++){var l=sn(n,e,t[a],i,r);l<o&&(o=l,s=a)}return s},cn=function(e,t,n){for(var i=[],r=null,o=0;o<t.length;o++)n[(r=t[o]).id()]===e&&i.push(r);return i},hn=function(e,t,n){for(var i=0;i<e.length;i++)for(var r=0;r<e[i].length;r++)if(Math.abs(e[i][r]-t[i][r])>n)return!1;return!0},dn=function(e,t,n){for(var i=0;i<n;i++)if(e===t[i])return!0;return!1},un=function(e,t){var n=new Array(t);if(e.length<50)for(var i=0;i<t;i++){for(var r=e[Math.floor(Math.random()*e.length)];dn(r,n,i);)r=e[Math.floor(Math.random()*e.length)];n[i]=r}else for(var o=0;o<t;o++)n[o]=e[Math.floor(Math.random()*e.length)];return n},pn=function(e,t,n){for(var i=0,r=0;r<t.length;r++)i+=sn("manhattan",t[r],e,n,"kMedoids");return i},gn=function(e,t,n,i,r){for(var o,s,a=0;a<t.length;a++)for(var l=0;l<e.length;l++)i[a][l]=Math.pow(n[a][l],r.m);for(var c=0;c<e.length;c++)for(var h=0;h<r.attributes.length;h++){o=0,s=0;for(var d=0;d<t.length;d++)o+=i[d][c]*r.attributes[h](t[d]),s+=i[d][c];e[c][h]=o/s}},fn=function(e,t,n,i,r){for(var o=0;o<e.length;o++)t[o]=e[o].slice();for(var s,a,l,c=2/(r.m-1),h=0;h<n.length;h++)for(var d=0;d<i.length;d++){s=0;for(var u=0;u<n.length;u++)a=sn(r.distance,i[d],n[h],r.attributes,"cmeans"),l=sn(r.distance,i[d],n[u],r.attributes,"cmeans"),s+=Math.pow(a/l,c);e[d][h]=1/s}},mn=function(e){var t,n,i,r,o=this.cy(),s=this.nodes(),a=on(e);i=new Array(s.length);for(var l=0;l<s.length;l++)i[l]=new Array(a.k);n=new Array(s.length);for(var c=0;c<s.length;c++)n[c]=new Array(a.k);for(var h=0;h<s.length;h++){for(var d=0,u=0;u<a.k;u++)n[h][u]=Math.random(),d+=n[h][u];for(var p=0;p<a.k;p++)n[h][p]=n[h][p]/d}t=new Array(a.k);for(var g=0;g<a.k;g++)t[g]=new Array(a.attributes.length);r=new Array(s.length);for(var f=0;f<s.length;f++)r[f]=new Array(a.k);for(var m=!0,v=0;m&&v<a.maxIterations;)m=!1,gn(t,s,n,r,a),fn(n,i,t,s,a),hn(n,i,a.sensitivityThreshold)||(m=!0),v++;return{clusters:function(e,t,n,i){for(var r,o,s=new Array(n.k),a=0;a<s.length;a++)s[a]=[];for(var l=0;l<t.length;l++){r=-1/0,o=-1;for(var c=0;c<t[0].length;c++)t[l][c]>r&&(r=t[l][c],o=c);s[o].push(e[l])}for(var h=0;h<s.length;h++)s[h]=i.collection(s[h]);return s}(s,n,a,o),degreeOfMembership:n}},vn={kMeans:function(e){var t,n=this.cy(),i=this.nodes(),r=null,o=on(e),a=new Array(o.k),l={};t=o.testMode?"number"==typeof o.testCentroids?an(i,o.k,o.attributes):"object"===s(o.testCentroids)?o.testCentroids:an(i,o.k,o.attributes):an(i,o.k,o.attributes);for(var c,h=!0,d=0;h&&d<o.maxIterations;){for(var u=0;u<i.length;u++)l[(r=i[u]).id()]=ln(r,t,o.distance,o.attributes,"kMeans");h=!1;for(var p=0;p<o.k;p++){var g=cn(p,i,l);if(0!==g.length){for(var f=o.attributes.length,m=t[p],v=new Array(f),y=new Array(f),b=0;b<f;b++){y[b]=0;for(var C=0;C<g.length;C++)y[b]+=o.attributes[b](r=g[C]);v[b]=y[b]/g.length,c=o.sensitivityThreshold,Math.abs(m[b]-v[b])<=c||(h=!0)}t[p]=v,a[p]=n.collection(g)}}d++}return a},kMedoids:function(e){var t,n,i=this.cy(),r=this.nodes(),o=null,a=on(e),l=new Array(a.k),c={},h=new Array(a.k);a.testMode?"number"==typeof a.testCentroids||(t="object"===s(a.testCentroids)?a.testCentroids:un(r,a.k)):t=un(r,a.k);for(var d=!0,u=0;d&&u<a.maxIterations;){for(var p=0;p<r.length;p++)c[(o=r[p]).id()]=ln(o,t,a.distance,a.attributes,"kMedoids");d=!1;for(var g=0;g<t.length;g++){var f=cn(g,r,c);if(0!==f.length){h[g]=pn(t[g],f,a.attributes);for(var m=0;m<f.length;m++)(n=pn(f[m],f,a.attributes))<h[g]&&(h[g]=n,t[g]=f[m],d=!0);l[g]=i.collection(f)}}u++}return l},fuzzyCMeans:mn,fcm:mn},yn=ye({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),bn={single:"min",complete:"max"},Cn=function(e,t,n,i,r){for(var o,s=0,a=1/0,l=r.attributes,c=function(e,t){return nn(r.distance,l.length,(function(t){return l[t](e)}),(function(e){return l[e](t)}),e,t)},h=0;h<e.length;h++){var d=e[h].key,u=n[d][i[d]];u<a&&(s=d,a=u)}if("threshold"===r.mode&&a>=r.threshold||"dendrogram"===r.mode&&1===e.length)return!1;var p,g=t[s],f=t[i[s]];p="dendrogram"===r.mode?{left:g,right:f,key:g.key}:{value:g.value.concat(f.value),key:g.key},e[g.index]=p,e.splice(f.index,1),t[g.key]=p;for(var m=0;m<e.length;m++){var v=e[m];g.key===v.key?o=1/0:"min"===r.linkage?(o=n[g.key][v.key],n[g.key][v.key]>n[f.key][v.key]&&(o=n[f.key][v.key])):"max"===r.linkage?(o=n[g.key][v.key],n[g.key][v.key]<n[f.key][v.key]&&(o=n[f.key][v.key])):o="mean"===r.linkage?(n[g.key][v.key]*g.size+n[f.key][v.key]*f.size)/(g.size+f.size):"dendrogram"===r.mode?c(v.value,g.value):c(v.value[0],g.value[0]),n[g.key][v.key]=n[v.key][g.key]=o}for(var y=0;y<e.length;y++){var b=e[y].key;if(i[b]===g.key||i[b]===f.key){for(var C=b,w=0;w<e.length;w++){var _=e[w].key;n[b][_]<n[b][C]&&(C=_)}i[b]=C}e[y].index=y}return g.key=f.key=g.index=f.index=null,!0},wn=function e(t,n,i){t&&(t.value?n.push(t.value):(t.left&&e(t.left,n),t.right&&e(t.right,n)))},_n=function(e){for(var t=this.cy(),n=this.nodes(),i=function(e){var t=yn(e),n=bn[t.linkage];return null!=n&&(t.linkage=n),t}(e),r=i.attributes,o=function(e,t){return nn(i.distance,r.length,(function(t){return r[t](e)}),(function(e){return r[e](t)}),e,t)},s=[],a=[],l=[],c=[],h=0;h<n.length;h++){var d={value:"dendrogram"===i.mode?n[h]:[n[h]],key:h,index:h};s[h]=d,c[h]=d,a[h]=[],l[h]=0}for(var u=0;u<s.length;u++)for(var p=0;p<=u;p++){var g;g="dendrogram"===i.mode?u===p?1/0:o(s[u].value,s[p].value):u===p?1/0:o(s[u].value[0],s[p].value[0]),a[u][p]=g,a[p][u]=g,g<a[u][l[u]]&&(l[u]=p)}for(var f,m=Cn(s,c,a,l,i);m;)m=Cn(s,c,a,l,i);return"dendrogram"===i.mode?(f=function e(t,n,i){if(!t)return[];var r=[],o=[],s=[];return 0===n?(t.left&&wn(t.left,r),t.right&&wn(t.right,o),s=r.concat(o),[i.collection(s)]):1===n?t.value?[i.collection(t.value)]:(t.left&&wn(t.left,r),t.right&&wn(t.right,o),[i.collection(r),i.collection(o)]):t.value?[i.collection(t.value)]:(t.left&&(r=e(t.left,n-1,i)),t.right&&(o=e(t.right,n-1,i)),r.concat(o))}(s[0],i.dendrogramDepth,t),i.addDendrogram&&function e(t,n){if(!t)return"";if(t.left&&t.right){var i=e(t.left,n),r=e(t.right,n),o=n.add({group:"nodes",data:{id:i+","+r}});return n.add({group:"edges",data:{source:i,target:o.id()}}),n.add({group:"edges",data:{source:r,target:o.id()}}),o.id()}return t.value?t.value.id():void 0}(s[0],t)):(f=new Array(s.length),s.forEach((function(e,n){e.key=e.index=null,f[n]=t.collection(e.value)}))),f},xn={hierarchicalClustering:_n,hca:_n},In=ye({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),An=function(e,t,n,i){var r=function(e,t){return i[t](e)};return-nn(e,i.length,(function(e){return r(t,e)}),(function(e){return r(n,e)}),t,n)},kn=function(e,t,n){for(var i=[],r=0;r<e;r++){for(var o=-1,s=-1/0,a=0;a<n.length;a++){var l=n[a];t[r*e+l]>s&&(o=l,s=t[r*e+l])}o>0&&i.push(o)}for(var c=0;c<n.length;c++)i[n[c]]=n[c];return i},Sn=function(e){for(var t,n,i,r,o,s,a=this.cy(),l=this.nodes(),c=function(e){var t=e.damping,n=e.preference;.5<=t&&t<1||de("Damping must range on [0.5, 1).  Got: ".concat(t));var i=["median","mean","min","max"];return i.some((function(e){return e===n}))||x(n)||de("Preference must be one of [".concat(i.map((function(e){return"'".concat(e,"'")})).join(", "),"] or a number.  Got: ").concat(n)),In(e)}(e),h={},d=0;d<l.length;d++)h[l[d].id()]=d;n=(t=l.length)*t,i=new Array(n);for(var u=0;u<n;u++)i[u]=-1/0;for(var p=0;p<t;p++)for(var g=0;g<t;g++)p!==g&&(i[p*t+g]=An(c.distance,l[p],l[g],c.attributes));r=function(e,t){return"median"===t?function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];i?e=e.slice(t,n):(n<e.length&&e.splice(n,e.length-n),t>0&&e.splice(0,t));for(var s=0,a=e.length-1;a>=0;a--){var l=e[a];o?isFinite(l)||(e[a]=-1/0,s++):e.splice(a,1)}r&&e.sort((function(e,t){return e-t}));var c=e.length,h=Math.floor(c/2);return c%2!=0?e[h+1+s]:(e[h-1+s]+e[h+s])/2}(e):"mean"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=0,r=0,o=t;o<n;o++){var s=e[o];isFinite(s)&&(i+=s,r++)}return i/r}(e):"min"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=1/0,r=t;r<n;r++){var o=e[r];isFinite(o)&&(i=Math.min(o,i))}return i}(e):"max"===t?function(e){for(var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:e.length,i=-1/0,r=t;r<n;r++){var o=e[r];isFinite(o)&&(i=Math.max(o,i))}return i}(e):t}(i,c.preference);for(var f=0;f<t;f++)i[f*t+f]=r;o=new Array(n);for(var m=0;m<n;m++)o[m]=0;s=new Array(n);for(var v=0;v<n;v++)s[v]=0;for(var y=new Array(t),b=new Array(t),C=new Array(t),w=0;w<t;w++)y[w]=0,b[w]=0,C[w]=0;for(var _,I=new Array(t*c.minIterations),A=0;A<I.length;A++)I[A]=0;for(_=0;_<c.maxIterations;_++){for(var k=0;k<t;k++){for(var S=-1/0,E=-1/0,O=-1,P=0,M=0;M<t;M++)y[M]=o[k*t+M],(P=s[k*t+M]+i[k*t+M])>=S?(E=S,S=P,O=M):P>E&&(E=P);for(var T=0;T<t;T++)o[k*t+T]=(1-c.damping)*(i[k*t+T]-S)+c.damping*y[T];o[k*t+O]=(1-c.damping)*(i[k*t+O]-E)+c.damping*y[O]}for(var R=0;R<t;R++){for(var D=0,N=0;N<t;N++)y[N]=s[N*t+R],b[N]=Math.max(0,o[N*t+R]),D+=b[N];D-=b[R],b[R]=o[R*t+R],D+=b[R];for(var L=0;L<t;L++)s[L*t+R]=(1-c.damping)*Math.min(0,D-b[L])+c.damping*y[L];s[R*t+R]=(1-c.damping)*(D-b[R])+c.damping*y[R]}for(var B=0,F=0;F<t;F++){var V=s[F*t+F]+o[F*t+F]>0?1:0;I[_%c.minIterations*t+F]=V,B+=V}if(B>0&&(_>=c.minIterations-1||_==c.maxIterations-1)){for(var $=0,H=0;H<t;H++){C[H]=0;for(var j=0;j<c.minIterations;j++)C[H]+=I[j*t+H];0!==C[H]&&C[H]!==c.minIterations||$++}if($===t)break}}for(var W=function(e,t,n){for(var i=[],r=0;r<e;r++)t[r*e+r]+n[r*e+r]>0&&i.push(r);return i}(t,o,s),z=function(e,t,n){for(var i=kn(e,t,n),r=0;r<n.length;r++){for(var o=[],s=0;s<i.length;s++)i[s]===n[r]&&o.push(s);for(var a=-1,l=-1/0,c=0;c<o.length;c++){for(var h=0,d=0;d<o.length;d++)h+=t[o[d]*e+o[c]];h>l&&(a=c,l=h)}n[r]=o[a]}return kn(e,t,n)}(t,i,W),G={},Z=0;Z<W.length;Z++)G[W[Z]]=[];for(var K=0;K<l.length;K++){var X=z[h[l[K].id()]];null!=X&&G[X].push(l[K])}for(var Y=new Array(W.length),U=0;U<W.length;U++)Y[U]=a.collection(G[W[U]]);return Y},En={affinityPropagation:Sn,ap:Sn},On=ye({root:void 0,directed:!1}),Pn=function(){var e=this,t={},n=0,i=0,r=[],o=[],s={};e.forEach((function(a){if(a.isNode()){var l=a.id();l in t||(i=0,function a(l,c,h){l===h&&(i+=1),t[c]={id:n,low:n++,cutVertex:!1};var d,u,p,g,f=e.getElementById(c).connectedEdges().intersection(e);0===f.size()?r.push(e.spawn(e.getElementById(c))):f.forEach((function(n){d=n.source().id(),u=n.target().id(),(p=d===c?u:d)!==h&&(g=n.id(),s[g]||(s[g]=!0,o.push({x:c,y:p,edge:n})),p in t?t[c].low=Math.min(t[c].low,t[p].id):(a(l,p,c),t[c].low=Math.min(t[c].low,t[p].low),t[c].id<=t[p].low&&(t[c].cutVertex=!0,function(n,i){for(var s=o.length-1,a=[],l=e.spawn();o[s].x!=n||o[s].y!=i;)a.push(o.pop().edge),s--;a.push(o.pop().edge),a.forEach((function(n){var i=n.connectedNodes().intersection(e);l.merge(n),i.forEach((function(n){var i=n.id(),r=n.connectedEdges().intersection(e);l.merge(n),l.merge(t[i].cutVertex?r.filter((function(e){return e.isLoop()})):r)}))})),r.push(l)}(c,p))))}))}(l,l),t[l].cutVertex=i>1)}}));var a=Object.keys(t).filter((function(e){return t[e].cutVertex})).map((function(t){return e.getElementById(t)}));return{cut:e.spawn(a),components:r}},Mn=function(){var e=this,t={},n=0,i=[],r=[],o=e.spawn(e);return e.forEach((function(s){if(s.isNode()){var a=s.id();a in t||function s(a){if(r.push(a),t[a]={index:n,low:n++,explored:!1},e.getElementById(a).connectedEdges().intersection(e).forEach((function(e){var n=e.target().id();n!==a&&(n in t||s(n),t[n].explored||(t[a].low=Math.min(t[a].low,t[n].low)))})),t[a].index===t[a].low){for(var l=e.spawn();;){var c=r.pop();if(l.merge(e.getElementById(c)),t[c].low=t[a].index,t[c].explored=!0,c===a)break}var h=l.edgesWith(l),d=l.merge(h);i.push(d),o=o.difference(d)}}(a)}})),{cut:o,components:i}},Tn={};[Ee,Pe,Me,Re,Ne,Be,He,Mt,Rt,Nt,Bt,Kt,vn,xn,En,{hierholzer:function(e){if(!_(e)){var t=arguments;e={root:t[0],directed:t[1]}}var n,i,r,o=On(e),s=o.root,a=o.directed,l=this,c=!1;s&&(r=b(s)?this.filter(s)[0].id():s[0].id());var h={},d={};l.forEach(a?function(e){var t=e.id();if(e.isNode()){var r=e.indegree(!0),o=e.outdegree(!0),s=r-o,a=o-r;1==s?n?c=!0:n=t:1==a?i?c=!0:i=t:(a>1||s>1)&&(c=!0),h[t]=[],e.outgoers().forEach((function(e){e.isEdge()&&h[t].push(e.id())}))}else d[t]=[void 0,e.target().id()]}:function(e){var t=e.id();e.isNode()?(e.degree(!0)%2&&(n?i?c=!0:i=t:n=t),h[t]=[],e.connectedEdges().forEach((function(e){return h[t].push(e.id())}))):d[t]=[e.source().id(),e.target().id()]});var u={found:!1,trail:void 0};if(c)return u;if(i&&n)if(a){if(r&&i!=r)return u;r=i}else{if(r&&i!=r&&n!=r)return u;r||(r=i)}else r||(r=l[0].id());var p=function(e){for(var t,n,i,r=e,o=[e];h[r].length;)t=h[r].shift(),n=d[t][0],r!=(i=d[t][1])?(h[i]=h[i].filter((function(e){return e!=t})),r=i):a||r==n||(h[n]=h[n].filter((function(e){return e!=t})),r=n),o.unshift(t),o.unshift(r);return o},g=[],f=[];for(f=p(r);1!=f.length;)0==h[f[0]].length?(g.unshift(l.getElementById(f.shift())),g.unshift(l.getElementById(f.shift()))):f=p(f.shift()).concat(f);for(var m in g.unshift(l.getElementById(f.shift())),h)if(h[m].length)return u;return u.found=!0,u.trail=this.spawn(g,!0),u}},{hopcroftTarjanBiconnected:Pn,htbc:Pn,htb:Pn,hopcroftTarjanBiconnectedComponents:Pn},{tarjanStronglyConnected:Mn,tsc:Mn,tscc:Mn,tarjanStronglyConnectedComponents:Mn}].forEach((function(e){V(Tn,e)}));var Rn=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=0,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},"function"==typeof t&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};Rn.prototype={fulfill:function(e){return Dn(this,1,"fulfillValue",e)},reject:function(e){return Dn(this,2,"rejectReason",e)},then:function(e,t){var n=new Rn;return this.onFulfilled.push(Bn(e,n,"fulfill")),this.onRejected.push(Bn(t,n,"reject")),Nn(this),n.proxy}};var Dn=function(e,t,n,i){return 0===e.state&&(e.state=t,e[n]=i,Nn(e)),e},Nn=function(e){1===e.state?Ln(e,"onFulfilled",e.fulfillValue):2===e.state&&Ln(e,"onRejected",e.rejectReason)},Ln=function(e,t,n){if(0!==e[t].length){var i=e[t];e[t]=[];var r=function(){for(var e=0;e<i.length;e++)i[e](n)};"function"==typeof setImmediate?setImmediate(r):setTimeout(r,0)}},Bn=function(e,t,n){return function(i){if("function"!=typeof e)t[n].call(t,i);else{var r;try{r=e(i)}catch(o){return void t.reject(o)}Fn(t,r)}}},Fn=function e(t,n){if(t!==n&&t.proxy!==n){var i;if("object"===s(n)&&null!==n||"function"==typeof n)try{i=n.then}catch(o){return void t.reject(o)}if("function"!=typeof i)t.fulfill(n);else{var r=!1;try{i.call(n,(function(i){r||(r=!0,i===n?t.reject(new TypeError("circular thenable chain")):e(t,i))}),(function(e){r||(r=!0,t.reject(e))}))}catch(o){r||t.reject(o)}}}else t.reject(new TypeError("cannot resolve promise with itself"))};Rn.all=function(e){return new Rn((function(t,n){for(var i=new Array(e.length),r=0,o=function(n,o){i[n]=o,++r===e.length&&t(i)},s=0;s<e.length;s++)!function(t){var i=e[t];null!=i&&null!=i.then?i.then((function(e){o(t,e)}),(function(e){n(e)})):o(t,i)}(s)}))},Rn.resolve=function(e){return new Rn((function(t,n){t(e)}))},Rn.reject=function(e){return new Rn((function(t,n){n(e)}))};var Vn="undefined"!=typeof Promise?Promise:Rn,$n=function(e,t,n){var i=E(e),r=!i,o=this._private=V({duration:1e3},t,n);if(o.target=e,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&C(o.complete)&&o.completes.push(o.complete),r){var s=e.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||e.cy().style().getAnimationStartStyle(e,o.style)}if(i){var a=e.pan();o.startPan={x:a.x,y:a.y},o.startZoom=e.zoom()}this.length=1,this[0]=this},Hn=$n.prototype;V(Hn,{instanceString:function(){return"animation"},hook:function(){var e=this._private;if(!e.hooked){var t=e.target._private.animation;(e.queue?t.queue:t.current).push(this),A(e.target)&&e.target.cy().addToAnimationPool(e.target),e.hooked=!0}return this},play:function(){var e=this._private;return 1===e.progress&&(e.progress=0),e.playing=!0,e.started=!1,e.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var e=this._private;return e.applying=!0,e.started=!1,e.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var e=this._private;return e.playing=!1,e.started=!1,this},stop:function(){var e=this._private;return e.playing=!1,e.started=!1,e.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(e){var t=this._private;return void 0===e?t.progress*t.duration:this.progress(e/t.duration)},progress:function(e){var t=this._private,n=t.playing;return void 0===e?t.progress:(n&&this.pause(),t.progress=e,t.started=!1,n&&this.play(),this)},completed:function(){return 1===this._private.progress},reverse:function(){var e=this._private,t=e.playing;t&&this.pause(),e.progress=1-e.progress,e.started=!1;var n=function(t,n){var i=e[t];null!=i&&(e[t]=e[n],e[n]=i)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),e.style)for(var i=0;i<e.style.length;i++){var r=e.style[i],o=r.name,s=e.startStyle[o];e.startStyle[o]=r,e.style[i]=s}return t&&this.play(),this},promise:function(e){var t,n=this._private;switch(e){case"frame":t=n.frames;break;default:case"complete":case"completed":t=n.completes}return new Vn((function(e,n){t.push((function(){e()}))}))}}),Hn.complete=Hn.completed,Hn.run=Hn.play,Hn.running=Hn.playing;var jn={};[{animated:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return!1;var t=e[0];return t?t._private.animation.current.length>0:void 0}},clearQueue:function(){return function(){var e=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;for(var t=0;t<e.length;t++)e[t]._private.animation.queue=[];return this}},delay:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animate({delay:e,duration:e,complete:t}):this}},delayAnimation:function(){return function(e,t){return(this._private.cy||this).styleEnabled()?this.animation({delay:e,duration:e,complete:t}):this}},animation:function(){return function(e,t){var n=void 0!==this.length,i=n?this:[this],r=this._private.cy||this,o=!n,s=!o;if(!r.styleEnabled())return this;var a=r.style();if(e=V({},e,t),0===Object.keys(e).length)return new $n(i[0],e);switch(void 0===e.duration&&(e.duration=400),e.duration){case"slow":e.duration=600;break;case"fast":e.duration=200}if(s&&(e.style=a.getPropsList(e.style||e.css),e.css=void 0),s&&null!=e.renderedPosition){var l=e.renderedPosition,c=r.pan(),h=r.zoom();e.position=We(l,h,c)}if(o&&null!=e.panBy){var d=e.panBy,u=r.pan();e.pan={x:u.x+d.x,y:u.y+d.y}}var p=e.center||e.centre;if(o&&null!=p){var g=r.getCenterPan(p.eles,e.zoom);null!=g&&(e.pan=g)}if(o&&null!=e.fit){var f=e.fit,m=r.getFitViewport(f.eles||f.boundingBox,f.padding);null!=m&&(e.pan=m.pan,e.zoom=m.zoom)}if(o&&_(e.zoom)){var v=r.getZoomedViewport(e.zoom);null!=v?(v.zoomed&&(e.zoom=v.zoom),v.panned&&(e.pan=v.pan)):e.zoom=null}return new $n(i[0],e)}},animate:function(){return function(e,t){var n=void 0!==this.length?this:[this];if(!(this._private.cy||this).styleEnabled())return this;t&&(e=V({},e,t));for(var i=0;i<n.length;i++){var r=n[i],o=r.animated()&&(void 0===e.queue||e.queue);r.animation(e,o?{queue:!0}:void 0).play()}return this}},stop:function(){return function(e,t){var n=void 0!==this.length?this:[this],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var r=0;r<n.length;r++){for(var o=n[r]._private,s=o.animation.current,a=0;a<s.length;a++)t&&(s[a]._private.duration=0);e&&(o.animation.queue=[]),t||(o.animation.current=[])}return i.notify("draw"),this}}},{data:function(e){return e=V({},{field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(e){},beforeSet:function(e,t){},onSet:function(e){},canSet:function(e){return!0}},e),function(t,n){var i=e,r=void 0!==this.length,o=r?this:[this],s=r?this[0]:this;if(b(t)){var a;if(i.allowGetting&&void 0===n)return s&&(i.beforeGet(s),a=s._private[i.field][t]),a;if(i.allowSetting&&void 0!==n&&!i.immutableKeys[t]){var l=h({},t,n);i.beforeSet(this,l);for(var c=0,d=o.length;c<d;c++){var u=o[c];i.canSet(u)&&(u._private[i.field][t]=n)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}}else if(i.allowSetting&&_(t)){var p,g,f=t,m=Object.keys(f);i.beforeSet(this,f);for(var v=0;v<m.length;v++)if(g=f[p=m[v]],!i.immutableKeys[p])for(var y=0;y<o.length;y++){var w=o[y];i.canSet(w)&&(w._private[i.field][p]=g)}i.updateStyle&&this.updateStyle(),i.onSet(this),i.settingTriggersEvent&&this[i.triggerFnName](i.settingEvent)}else if(i.allowBinding&&C(t))this.on(i.bindingEvent,t);else if(i.allowGetting&&void 0===t){var x;return s&&(i.beforeGet(s),x=s._private[i.field]),x}return this}},removeData:function(e){return e=V({},{field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}},e),function(t){var n=e,i=void 0!==this.length?this:[this];if(b(t)){for(var r=t.split(/\s+/),o=r.length,s=0;s<o;s++){var a=r[s];if(!P(a)&&!n.immutableKeys[a])for(var l=0,c=i.length;l<c;l++)i[l]._private[n.field][a]=void 0}n.triggerEvent&&this[n.triggerFnName](n.event)}else if(void 0===t){for(var h=0,d=i.length;h<d;h++)for(var u=i[h]._private[n.field],p=Object.keys(u),g=0;g<p.length;g++){var f=p[g];!n.immutableKeys[f]&&(u[f]=void 0)}n.triggerEvent&&this[n.triggerFnName](n.event)}return this}}},{eventAliasesOn:function(e){var t=e;t.addListener=t.listen=t.bind=t.on,t.unlisten=t.unbind=t.off=t.removeListener,t.trigger=t.emit,t.pon=t.promiseOn=function(e,t){var n=this,i=Array.prototype.slice.call(arguments,0);return new Vn((function(e,t){var r=i.concat([function(t){n.off.apply(n,o),e(t)}]),o=r.concat([]);n.on.apply(n,r)}))}}}].forEach((function(e){V(jn,e)}));var Wn={animate:jn.animate(),animation:jn.animation(),animated:jn.animated(),clearQueue:jn.clearQueue(),delay:jn.delay(),delayAnimation:jn.delayAnimation(),stop:jn.stop()},zn={classes:function(e){if(void 0===e){var t=[];return this[0]._private.classes.forEach((function(e){return t.push(e)})),t}w(e)||(e=(e||"").match(/\S+/g)||[]);for(var n=[],i=new Ae(e),r=0;r<this.length;r++){for(var o=this[r],s=o._private,a=s.classes,l=!1,c=0;c<e.length;c++)if(!a.has(e[c])){l=!0;break}l||(l=a.size!==e.length),l&&(s.classes=i,n.push(o))}return n.length>0&&this.spawn(n).updateStyle().emit("class"),this},addClass:function(e){return this.toggleClass(e,!0)},hasClass:function(e){var t=this[0];return null!=t&&t._private.classes.has(e)},toggleClass:function(e,t){w(e)||(e=e.match(/\S+/g)||[]);for(var n=void 0===t,i=[],r=0,o=this.length;r<o;r++)for(var s=this[r],a=s._private.classes,l=!1,c=0;c<e.length;c++){var h=e[c],d=a.has(h),u=!1;t||n&&!d?(a.add(h),u=!0):(!t||n&&d)&&(a.delete(h),u=!0),!l&&u&&(i.push(s),l=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),this},removeClass:function(e){return this.toggleClass(e,!1)},flashClass:function(e,t){var n=this;if(null==t)t=250;else if(0===t)return n;return n.addClass(e),setTimeout((function(){n.removeClass(e)}),t),n}};zn.className=zn.classNames=zn.classes;var Gn={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:"\"(?:\\\\\"|[^\"])*\"|'(?:\\\\'|[^'])*'",number:B,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Gn.variable="(?:[\\w-]|(?:\\\\"+Gn.metaChar+"))+",Gn.value=Gn.string+"|"+Gn.number,Gn.className=Gn.variable,Gn.id=Gn.variable,function(){var e,t,n;for(e=Gn.comparatorOp.split("|"),n=0;n<e.length;n++)Gn.comparatorOp+="|@"+(t=e[n]);for(e=Gn.comparatorOp.split("|"),n=0;n<e.length;n++)(t=e[n]).indexOf("!")>=0||"="!==t&&(Gn.comparatorOp+="|\\!"+t)}();var Zn=[{selector:":selected",matches:function(e){return e.selected()}},{selector:":unselected",matches:function(e){return!e.selected()}},{selector:":selectable",matches:function(e){return e.selectable()}},{selector:":unselectable",matches:function(e){return!e.selectable()}},{selector:":locked",matches:function(e){return e.locked()}},{selector:":unlocked",matches:function(e){return!e.locked()}},{selector:":visible",matches:function(e){return e.visible()}},{selector:":hidden",matches:function(e){return!e.visible()}},{selector:":transparent",matches:function(e){return e.transparent()}},{selector:":grabbed",matches:function(e){return e.grabbed()}},{selector:":free",matches:function(e){return!e.grabbed()}},{selector:":removed",matches:function(e){return e.removed()}},{selector:":inside",matches:function(e){return!e.removed()}},{selector:":grabbable",matches:function(e){return e.grabbable()}},{selector:":ungrabbable",matches:function(e){return!e.grabbable()}},{selector:":animated",matches:function(e){return e.animated()}},{selector:":unanimated",matches:function(e){return!e.animated()}},{selector:":parent",matches:function(e){return e.isParent()}},{selector:":childless",matches:function(e){return e.isChildless()}},{selector:":child",matches:function(e){return e.isChild()}},{selector:":orphan",matches:function(e){return e.isOrphan()}},{selector:":nonorphan",matches:function(e){return e.isChild()}},{selector:":compound",matches:function(e){return e.isNode()?e.isParent():e.source().isParent()||e.target().isParent()}},{selector:":loop",matches:function(e){return e.isLoop()}},{selector:":simple",matches:function(e){return e.isSimple()}},{selector:":active",matches:function(e){return e.active()}},{selector:":inactive",matches:function(e){return!e.active()}},{selector:":backgrounding",matches:function(e){return e.backgrounding()}},{selector:":nonbackgrounding",matches:function(e){return!e.backgrounding()}}].sort((function(e,t){return function(e,t){return-1*F(e,t)}(e.selector,t.selector)})),Kn=function(){for(var e,t={},n=0;n<Zn.length;n++)t[(e=Zn[n]).selector]=e.matches;return t}(),Xn="("+Zn.map((function(e){return e.selector})).join("|")+")",Yn=function(e){return e.replace(new RegExp("\\\\("+Gn.metaChar+")","g"),(function(e,t){return t}))},Un=function(e,t,n){e[e.length-1]=n},Jn=[{name:"group",query:!0,regex:"("+Gn.group+")",populate:function(e,t,n){var i=d(n,1)[0];t.checks.push({type:0,value:"*"===i?i:i+"s"})}},{name:"state",query:!0,regex:Xn,populate:function(e,t,n){var i=d(n,1);t.checks.push({type:7,value:i[0]})}},{name:"id",query:!0,regex:"\\#("+Gn.id+")",populate:function(e,t,n){var i=d(n,1);t.checks.push({type:8,value:Yn(i[0])})}},{name:"className",query:!0,regex:"\\.("+Gn.className+")",populate:function(e,t,n){var i=d(n,1);t.checks.push({type:9,value:Yn(i[0])})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Gn.variable+")\\s*\\]",populate:function(e,t,n){var i=d(n,1);t.checks.push({type:4,field:Yn(i[0])})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Gn.variable+")\\s*("+Gn.comparatorOp+")\\s*("+Gn.value+")\\s*\\]",populate:function(e,t,n){var i=d(n,3),r=i[0],o=i[1],s=i[2];s=null!=new RegExp("^"+Gn.string+"$").exec(s)?s.substring(1,s.length-1):parseFloat(s),t.checks.push({type:3,field:Yn(r),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Gn.boolOp+")\\s*("+Gn.variable+")\\s*\\]",populate:function(e,t,n){var i=d(n,2),r=i[0];t.checks.push({type:5,field:Yn(i[1]),operator:r})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Gn.meta+")\\s*("+Gn.comparatorOp+")\\s*("+Gn.number+")\\s*\\]\\]",populate:function(e,t,n){var i=d(n,3),r=i[1],o=i[2];t.checks.push({type:6,field:Yn(i[0]),operator:r,value:parseFloat(o)})}},{name:"nextQuery",separator:!0,regex:Gn.separator,populate:function(e,t){var n=e.currentSubject,i=e.edgeCount,r=e.compoundCount,o=e[e.length-1];return null!=n&&(o.subject=n,e.currentSubject=null),o.edgeCount=i,o.compoundCount=r,e.edgeCount=0,e.compoundCount=0,e[e.length++]={checks:[]}}},{name:"directedEdge",separator:!0,regex:Gn.directedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:11,source:t,target:i}),Un(e,0,n),e.edgeCount++,i}var r={checks:[]},o={checks:[]};return r.checks.push({type:12,source:t,target:o}),Un(e,0,r),e.edgeCount++,o}},{name:"undirectedEdge",separator:!0,regex:Gn.undirectedEdge,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:10,nodes:[t,i]}),Un(e,0,n),e.edgeCount++,i}var r={checks:[]},o={checks:[]};return r.checks.push({type:14,node:t,neighbor:o}),Un(e,0,r),o}},{name:"child",separator:!0,regex:Gn.child,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:15,parent:e[e.length-1],child:i}),Un(e,0,n),e.compoundCount++,i}if(e.currentSubject===t){var r={checks:[]},o={checks:[]},s={checks:[]},a={checks:[]},l={checks:[]};return r.checks.push({type:19,left:e[e.length-1],right:o,subject:s}),s.checks=t.checks,t.checks=[{type:20}],l.checks.push({type:20}),o.checks.push({type:17,parent:l,child:a}),Un(e,0,r),e.currentSubject=s,e.compoundCount++,a}var c={checks:[]},h={checks:[]},d=[{type:17,parent:c,child:h}];return c.checks=t.checks,t.checks=d,e.compoundCount++,h}},{name:"descendant",separator:!0,regex:Gn.descendant,populate:function(e,t){if(null==e.currentSubject){var n={checks:[]},i={checks:[]};return n.checks.push({type:16,ancestor:e[e.length-1],descendant:i}),Un(e,0,n),e.compoundCount++,i}if(e.currentSubject===t){var r={checks:[]},o={checks:[]},s={checks:[]},a={checks:[]},l={checks:[]};return r.checks.push({type:19,left:e[e.length-1],right:o,subject:s}),s.checks=t.checks,t.checks=[{type:20}],l.checks.push({type:20}),o.checks.push({type:18,ancestor:l,descendant:a}),Un(e,0,r),e.currentSubject=s,e.compoundCount++,a}var c={checks:[]},h={checks:[]},d=[{type:18,ancestor:c,descendant:h}];return c.checks=t.checks,t.checks=d,e.compoundCount++,h}},{name:"subject",modifier:!0,regex:Gn.subject,populate:function(e,t){if(null!=e.currentSubject&&e.currentSubject!==t)return pe("Redefinition of subject in selector `"+e.toString()+"`"),!1;e.currentSubject=t;var n=e[e.length-1].checks[0],i=null==n?null:n.type;11===i?n.type=13:10===i&&(n.type=14,n.node=n.nodes[1],n.neighbor=n.nodes[0],n.nodes=null)}}];Jn.forEach((function(e){return e.regexObj=new RegExp("^"+e.regex)}));var qn=function(e){for(var t,n,i,r=0;r<Jn.length;r++){var o=Jn[r],s=o.name,a=e.match(o.regexObj);if(null!=a){n=a,t=o,i=s,e=e.substring(a[0].length);break}}return{expr:t,match:n,name:i,remaining:e}},Qn={parse:function(e){var t=this.inputText=e,n=this[0]={checks:[]};for(this.length=1,t=function(e){var t=e.match(/^\s+/);return t&&(e=e.substring(t[0].length)),e}(t);;){var i=qn(t);if(null==i.expr)return pe("The selector `"+e+"`is invalid"),!1;var r=i.match.slice(1),o=i.expr.populate(this,n,r);if(!1===o)return!1;if(null!=o&&(n=o),(t=i.remaining).match(/^\s*$/))break}var s=this[this.length-1];null!=this.currentSubject&&(s.subject=this.currentSubject),s.edgeCount=this.edgeCount,s.compoundCount=this.compoundCount;for(var a=0;a<this.length;a++){var l=this[a];if(l.compoundCount>0&&l.edgeCount>0)return pe("The selector `"+e+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(l.edgeCount>1)return pe("The selector `"+e+"` is invalid because it uses multiple edge selectors"),!1;1===l.edgeCount&&pe("The selector `"+e+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},toString:function(){if(null!=this.toStringCache)return this.toStringCache;for(var e=function(e){return null==e?"":e},t=function(t){return b(t)?'"'+t+'"':e(t)},n=function(e){return" "+e+" "},i=function(r,o){return r.checks.reduce((function(s,a,l){return s+(o===r&&0===l?"$":"")+function(r,o){var s=r.value;switch(r.type){case 0:var a=e(s);return a.substring(0,a.length-1);case 3:return"["+r.field+n(e(r.operator))+t(s)+"]";case 5:var l=r.field;return"["+e(r.operator)+l+"]";case 4:return"["+r.field+"]";case 6:return"[["+r.field+n(e(r.operator))+t(s)+"]]";case 7:return s;case 8:return"#"+s;case 9:return"."+s;case 17:case 15:return i(r.parent,o)+n(">")+i(r.child,o);case 18:case 16:return i(r.ancestor,o)+" "+i(r.descendant,o);case 19:var c=i(r.left,o),h=i(r.subject,o),d=i(r.right,o);return c+(c.length>0?" ":"")+h+d;case 20:return""}}(a,o)}),"")},r="",o=0;o<this.length;o++){var s=this[o];r+=i(s,s.subject),this.length>1&&o<this.length-1&&(r+=", ")}return this.toStringCache=r,r}},ei=function(e,t,n){var i,r,o,s=b(e),a=x(e),l=b(n),c=!1,h=!1,d=!1;switch(t.indexOf("!")>=0&&(t=t.replace("!",""),h=!0),t.indexOf("@")>=0&&(t=t.replace("@",""),c=!0),(s||l||c)&&(r=s||a?""+e:"",o=""+n),c&&(e=r=r.toLowerCase(),n=o=o.toLowerCase()),t){case"*=":i=r.indexOf(o)>=0;break;case"$=":i=r.indexOf(o,r.length-o.length)>=0;break;case"^=":i=0===r.indexOf(o);break;case"=":i=e===n;break;case">":d=!0,i=e>n;break;case">=":d=!0,i=e>=n;break;case"<":d=!0,i=e<n;break;case"<=":d=!0,i=e<=n;break;default:i=!1}return!h||null==e&&d||(i=!i),i},ti=function(e,t){return e.data(t)},ni=[],ii=function(e,t){return e.checks.every((function(e){return ni[e.type](e,t)}))};ni[0]=function(e,t){var n=e.value;return"*"===n||n===t.group()},ni[7]=function(e,t){return function(e,t){return Kn[e](t)}(e.value,t)},ni[8]=function(e,t){var n=e.value;return t.id()===n},ni[9]=function(e,t){return t.hasClass(e.value)},ni[6]=function(e,t){var n=e.operator,i=e.value;return ei(function(e,t){return e[t]()}(t,e.field),n,i)},ni[3]=function(e,t){var n=e.operator,i=e.value;return ei(ti(t,e.field),n,i)},ni[5]=function(e,t){var n=e.operator;return function(e,t){switch(t){case"?":return!!e;case"!":return!e;case"^":return void 0===e}}(ti(t,e.field),n)},ni[4]=function(e,t){return void 0!==ti(t,e.field)},ni[10]=function(e,t){var n=e.nodes[0],i=e.nodes[1],r=t.source(),o=t.target();return ii(n,r)&&ii(i,o)||ii(i,r)&&ii(n,o)},ni[14]=function(e,t){return ii(e.node,t)&&t.neighborhood().some((function(t){return t.isNode()&&ii(e.neighbor,t)}))},ni[11]=function(e,t){return ii(e.source,t.source())&&ii(e.target,t.target())},ni[12]=function(e,t){return ii(e.source,t)&&t.outgoers().some((function(t){return t.isNode()&&ii(e.target,t)}))},ni[13]=function(e,t){return ii(e.target,t)&&t.incomers().some((function(t){return t.isNode()&&ii(e.source,t)}))},ni[15]=function(e,t){return ii(e.child,t)&&ii(e.parent,t.parent())},ni[17]=function(e,t){return ii(e.parent,t)&&t.children().some((function(t){return ii(e.child,t)}))},ni[16]=function(e,t){return ii(e.descendant,t)&&t.ancestors().some((function(t){return ii(e.ancestor,t)}))},ni[18]=function(e,t){return ii(e.ancestor,t)&&t.descendants().some((function(t){return ii(e.descendant,t)}))},ni[19]=function(e,t){return ii(e.subject,t)&&ii(e.left,t)&&ii(e.right,t)},ni[20]=function(){return!0},ni[1]=function(e,t){return e.value.has(t)},ni[2]=function(e,t){return(0,e.value)(t)};var ri=function(e){this.inputText=e,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,null==e||b(e)&&e.match(/^\s*$/)||(A(e)?this.addQuery({checks:[{type:1,value:e.collection()}]}):C(e)?this.addQuery({checks:[{type:2,value:e}]}):b(e)?this.parse(e)||(this.invalid=!0):de("A selector must be created from a string; found "))},oi=ri.prototype;[Qn,{matches:function(e){for(var t=0;t<this.length;t++)if(ii(this[t],e))return!0;return!1},filter:function(e){var t=this;if(1===t.length&&1===t[0].checks.length&&8===t[0].checks[0].type)return e.getElementById(t[0].checks[0].value).collection();var n=function(e){for(var n=0;n<t.length;n++)if(ii(t[n],e))return!0;return!1};return null==t.text()&&(n=function(){return!0}),e.filter(n)}}].forEach((function(e){return V(oi,e)})),oi.text=function(){return this.inputText},oi.size=function(){return this.length},oi.eq=function(e){return this[e]},oi.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()},oi.addQuery=function(e){this[this.length++]=e},oi.selector=oi.toString;var si={allAre:function(e){var t=new ri(e);return this.every((function(e){return t.matches(e)}))},is:function(e){var t=new ri(e);return this.some((function(e){return t.matches(e)}))},some:function(e,t){for(var n=0;n<this.length;n++)if(t?e.apply(t,[this[n],n,this]):e(this[n],n,this))return!0;return!1},every:function(e,t){for(var n=0;n<this.length;n++)if(!(t?e.apply(t,[this[n],n,this]):e(this[n],n,this)))return!1;return!0},same:function(e){if(this===e)return!0;e=this.cy().collection(e);var t=this.length;return t===e.length&&(1===t?this[0]===e[0]:this.every((function(t){return e.hasElementWithId(t.id())})))},anySame:function(e){return e=this.cy().collection(e),this.some((function(t){return e.hasElementWithId(t.id())}))},allAreNeighbors:function(e){e=this.cy().collection(e);var t=this.neighborhood();return e.every((function(e){return t.hasElementWithId(e.id())}))},contains:function(e){e=this.cy().collection(e);var t=this;return e.every((function(e){return t.hasElementWithId(e.id())}))}};si.allAreNeighbours=si.allAreNeighbors,si.has=si.contains,si.equal=si.equals=si.same;var ai,li,ci=function(e,t){return function(n,i,r,o){var s,a=n;if(null==a?s="":A(a)&&1===a.length&&(s=a.id()),1===this.length&&s){var l=this[0]._private,c=l.traversalCache=l.traversalCache||{},h=c[t]=c[t]||[],d=ee(s);return h[d]||(h[d]=e.call(this,n,i,r,o))}return e.call(this,n,i,r,o)}},hi={parent:function(e){var t=[];if(1===this.length){var n=this[0]._private.parent;if(n)return n}for(var i=0;i<this.length;i++){var r=this[i]._private.parent;r&&t.push(r)}return this.spawn(t,!0).filter(e)},parents:function(e){for(var t=[],n=this.parent();n.nonempty();){for(var i=0;i<n.length;i++)t.push(n[i]);n=n.parent()}return this.spawn(t,!0).filter(e)},commonAncestors:function(e){for(var t,n=0;n<this.length;n++){var i=this[n].parents();t=(t=t||i).intersect(i)}return t.filter(e)},orphans:function(e){return this.stdFilter((function(e){return e.isOrphan()})).filter(e)},nonorphans:function(e){return this.stdFilter((function(e){return e.isChild()})).filter(e)},children:ci((function(e){for(var t=[],n=0;n<this.length;n++)for(var i=this[n]._private.children,r=0;r<i.length;r++)t.push(i[r]);return this.spawn(t,!0).filter(e)}),"children"),siblings:function(e){return this.parent().children().not(this).filter(e)},isParent:function(){var e=this[0];if(e)return e.isNode()&&0!==e._private.children.length},isChildless:function(){var e=this[0];if(e)return e.isNode()&&0===e._private.children.length},isChild:function(){var e=this[0];if(e)return e.isNode()&&null!=e._private.parent},isOrphan:function(){var e=this[0];if(e)return e.isNode()&&null==e._private.parent},descendants:function(e){var t=[];return function e(n){for(var i=0;i<n.length;i++){var r=n[i];t.push(r),r.children().nonempty()&&e(r.children())}}(this.children()),this.spawn(t,!0).filter(e)}};function di(e,t,n,i){for(var r=[],o=new Ae,s=e.cy().hasCompoundNodes(),a=0;a<e.length;a++){var l=e[a];n?r.push(l):s&&i(r,o,l)}for(;r.length>0;){var c=r.shift();t(c),o.add(c.id()),s&&i(r,o,c)}return e}function ui(e,t,n){if(n.isParent())for(var i=n._private.children,r=0;r<i.length;r++){var o=i[r];t.has(o.id())||e.push(o)}}function pi(e,t,n){if(n.isChild()){var i=n._private.parent;t.has(i.id())||e.push(i)}}function gi(e,t,n){pi(e,t,n),ui(e,t,n)}hi.forEachDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return di(this,e,t,ui)},hi.forEachUp=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return di(this,e,t,pi)},hi.forEachUpAndDown=function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return di(this,e,t,gi)},hi.ancestors=hi.parents,(ai=li={data:jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:jn.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:jn.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var e=this[0];if(e)return e._private.data.id}}).attr=ai.data,ai.removeAttr=ai.removeData;var fi,mi,vi=li,yi={};function bi(e){return function(t){if(void 0===t&&(t=!0),0!==this.length&&this.isNode()&&!this.removed()){for(var n=0,i=this[0],r=i._private.edges,o=0;o<r.length;o++){var s=r[o];!t&&s.isLoop()||(n+=e(i,s))}return n}}}function Ci(e,t){return function(n){for(var i,r=this.nodes(),o=0;o<r.length;o++){var s=r[o][e](n);void 0===s||void 0!==i&&!t(s,i)||(i=s)}return i}}V(yi,{degree:bi((function(e,t){return t.source().same(t.target())?2:1})),indegree:bi((function(e,t){return t.target().same(e)?1:0})),outdegree:bi((function(e,t){return t.source().same(e)?1:0}))}),V(yi,{minDegree:Ci("degree",(function(e,t){return e<t})),maxDegree:Ci("degree",(function(e,t){return e>t})),minIndegree:Ci("indegree",(function(e,t){return e<t})),maxIndegree:Ci("indegree",(function(e,t){return e>t})),minOutdegree:Ci("outdegree",(function(e,t){return e<t})),maxOutdegree:Ci("outdegree",(function(e,t){return e>t}))}),V(yi,{totalDegree:function(e){for(var t=0,n=this.nodes(),i=0;i<n.length;i++)t+=n[i].degree(e);return t}});var wi=function(e,t,n){for(var i=0;i<e.length;i++){var r=e[i];if(!r.locked()){var o=r._private.position,s={x:null!=t.x?t.x-o.x:0,y:null!=t.y?t.y-o.y:0};!r.isParent()||0===s.x&&0===s.y||r.children().shift(s,n),r.shiftCachedBoundingBox(s)}}},_i={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(e){e.updateCompoundBounds()},beforeSet:function(e,t){wi(e,t,!1)},onSet:function(e){e.dirtyCompoundBoundsCache()},canSet:function(e){return!e.locked()}};(fi=mi={position:jn.data(_i),silentPosition:jn.data(V({},_i,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(e,t){wi(e,t,!0)}})),positions:function(e,t){if(_(e))t?this.silentPosition(e):this.position(e);else if(C(e)){var n=e,i=this.cy();i.startBatch();for(var r=0;r<this.length;r++){var o,s=this[r];(o=n(s,r))&&(t?s.silentPosition(o):s.position(o))}i.endBatch()}return this},silentPositions:function(e){return this.positions(e,!0)},shift:function(e,t,n){var i;if(_(e)?(i={x:x(e.x)?e.x:0,y:x(e.y)?e.y:0},n=t):b(e)&&x(t)&&((i={x:0,y:0})[e]=t),null!=i){var r=this.cy();r.startBatch();for(var o=0;o<this.length;o++){var s=this[o],a=s.position(),l={x:a.x+i.x,y:a.y+i.y};n?s.silentPosition(l):s.position(l)}r.endBatch()}return this},silentShift:function(e,t){return _(e)?this.shift(e,!0):b(e)&&x(t)&&this.shift(e,t,!0),this},renderedPosition:function(e,t){var n=this[0],i=this.cy(),r=i.zoom(),o=i.pan(),s=_(e)?e:void 0,a=void 0!==s||void 0!==t&&b(e);if(n&&n.isNode()){if(!a){var l=n.position();return s=je(l,r,o),void 0===e?s:s[e]}for(var c=0;c<this.length;c++){var h=this[c];void 0!==t?h.position(e,(t-o[e])/r):void 0!==s&&h.position(We(s,r,o))}}else if(!a)return;return this},relativePosition:function(e,t){var n=this[0],i=this.cy(),r=_(e)?e:void 0,o=void 0!==r||void 0!==t&&b(e),s=i.hasCompoundNodes();if(n&&n.isNode()){if(!o){var a=n.position(),l=s?n.parent():null,c=l&&l.length>0;c&&(l=l[0]);var h=c?l.position():{x:0,y:0};return r={x:a.x-h.x,y:a.y-h.y},void 0===e?r:r[e]}for(var d=0;d<this.length;d++){var u=this[d],p=s?u.parent():null,g=p&&p.length>0;g&&(p=p[0]);var f=g?p.position():{x:0,y:0};void 0!==t?u.position(e,t+f[e]):void 0!==r&&u.position({x:r.x+f.x,y:r.y+f.y})}}else if(!o)return;return this}}).modelPosition=fi.point=fi.position,fi.modelPositions=fi.points=fi.positions,fi.renderedPoint=fi.renderedPosition,fi.relativePoint=fi.relativePosition;var xi,Ii,Ai=mi;xi=Ii={},Ii.renderedBoundingBox=function(e){var t=this.boundingBox(e),n=this.cy(),i=n.zoom(),r=n.pan(),o=t.x1*i+r.x,s=t.x2*i+r.x,a=t.y1*i+r.y,l=t.y2*i+r.y;return{x1:o,x2:s,y1:a,y2:l,w:s-o,h:l-a}},Ii.dirtyCompoundBoundsCache=function(){var e=this.cy();return e.styleEnabled()&&e.hasCompoundNodes()?(this.forEachUp((function(e){if(e.isParent()){var t=e._private;t.compoundBoundsClean=!1,t.bbCache=null,e.emitAndNotify("bounds")}})),this):this},Ii.updateCompoundBounds=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function n(e){if(e.isParent()){var t=e._private,n=e.children(),i="include"===e.pstyle("compound-sizing-wrt-labels").value,r={width:{val:e.pstyle("min-width").pfValue,left:e.pstyle("min-width-bias-left"),right:e.pstyle("min-width-bias-right")},height:{val:e.pstyle("min-height").pfValue,top:e.pstyle("min-height-bias-top"),bottom:e.pstyle("min-height-bias-bottom")}},o=n.boundingBox({includeLabels:i,includeOverlays:!1,useCache:!1}),s=t.position;0!==o.w&&0!==o.h||((o={w:e.pstyle("width").pfValue,h:e.pstyle("height").pfValue}).x1=s.x-o.w/2,o.x2=s.x+o.w/2,o.y1=s.y-o.h/2,o.y2=s.y+o.h/2);var a=r.width.left.value;"px"===r.width.left.units&&r.width.val>0&&(a=100*a/r.width.val);var l=r.width.right.value;"px"===r.width.right.units&&r.width.val>0&&(l=100*l/r.width.val);var c=r.height.top.value;"px"===r.height.top.units&&r.height.val>0&&(c=100*c/r.height.val);var h=r.height.bottom.value;"px"===r.height.bottom.units&&r.height.val>0&&(h=100*h/r.height.val);var d=v(r.width.val-o.w,a,l),u=d.biasDiff,p=d.biasComplementDiff,g=v(r.height.val-o.h,c,h),f=g.biasDiff,m=g.biasComplementDiff;t.autoPadding=function(e,t,n,i){if("%"!==n.units)return"px"===n.units?n.pfValue:0;switch(i){case"width":return e>0?n.pfValue*e:0;case"height":return t>0?n.pfValue*t:0;case"average":return e>0&&t>0?n.pfValue*(e+t)/2:0;case"min":return e>0&&t>0?e>t?n.pfValue*t:n.pfValue*e:0;case"max":return e>0&&t>0?e>t?n.pfValue*e:n.pfValue*t:0;default:return 0}}(o.w,o.h,e.pstyle("padding"),e.pstyle("padding-relative-to").value),t.autoWidth=Math.max(o.w,r.width.val),s.x=(-u+o.x1+o.x2+p)/2,t.autoHeight=Math.max(o.h,r.height.val),s.y=(-f+o.y1+o.y2+m)/2}function v(e,t,n){var i=0,r=0,o=t+n;return e>0&&o>0&&(i=t/o*e,r=n/o*e),{biasDiff:i,biasComplementDiff:r}}}for(var i=0;i<this.length;i++){var r=this[i],o=r._private;o.compoundBoundsClean||(n(r),t.batching()||(o.compoundBoundsClean=!0))}return this};var ki=function(e){return e===1/0||e===-1/0?0:e},Si=function(e,t,n,i,r){i-t!=0&&r-n!=0&&null!=t&&null!=n&&null!=i&&null!=r&&(e.x1=t<e.x1?t:e.x1,e.x2=i>e.x2?i:e.x2,e.y1=n<e.y1?n:e.y1,e.y2=r>e.y2?r:e.y2,e.w=e.x2-e.x1,e.h=e.y2-e.y1)},Ei=function(e,t){return null==t?e:Si(e,t.x1,t.y1,t.x2,t.y2)},Oi=function(e,t,n){return we(e,t,n)},Pi=function(e,t,n){if(!t.cy().headless()){var i,r,o=t._private,s=o.rstyle,a=s.arrowWidth/2;if("none"!==t.pstyle(n+"-arrow-shape").value){"source"===n?(i=s.srcX,r=s.srcY):"target"===n?(i=s.tgtX,r=s.tgtY):(i=s.midX,r=s.midY);var l=o.arrowBounds=o.arrowBounds||{},c=l[n]=l[n]||{};c.x1=i-a,c.y1=r-a,c.x2=i+a,c.y2=r+a,c.w=c.x2-c.x1,c.h=c.y2-c.y1,nt(c,1),Si(e,c.x1,c.y1,c.x2,c.y2)}}},Mi=function(e,t,n){if(!t.cy().headless()){var i,r=t._private,o=r.rstyle;if(t.pstyle((i=n?n+"-":"")+"label").strValue){var s,a,l,c,h=t.pstyle("text-halign"),d=t.pstyle("text-valign"),u=Oi(o,"labelWidth",n),p=Oi(o,"labelHeight",n),g=Oi(o,"labelX",n),f=Oi(o,"labelY",n),m=t.pstyle(i+"text-margin-x").pfValue,v=t.pstyle(i+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle(i+"text-rotation"),C=t.pstyle("text-outline-width").pfValue,w=t.pstyle("text-border-width").pfValue/2,_=t.pstyle("text-background-padding").pfValue,x=p,I=u,A=I/2,k=x/2;if(y)s=g-A,a=g+A,l=f-k,c=f+k;else{switch(h.value){case"left":s=g-I,a=g;break;case"center":s=g-A,a=g+A;break;case"right":s=g,a=g+I}switch(d.value){case"top":l=f-x,c=f;break;case"center":l=f-k,c=f+k;break;case"bottom":l=f,c=f+x}}s+=m-Math.max(C,w)-_,a+=m+Math.max(C,w)+_,l+=v-Math.max(C,w)-_,c+=v+Math.max(C,w)+_;var S=n||"main",E=r.labelBounds,O=E[S]=E[S]||{};O.x1=s,O.y1=l,O.x2=a,O.y2=c,O.w=a-s,O.h=c-l,nt(O,1);var P=y&&"autorotate"===b.strValue;if(P||null!=b.pfValue&&0!==b.pfValue){var M=P?Oi(r.rstyle,"labelAngle",n):b.pfValue,T=Math.cos(M),R=Math.sin(M),D=(s+a)/2,N=(l+c)/2;if(!y){switch(h.value){case"left":D=a;break;case"right":D=s}switch(d.value){case"top":N=c;break;case"bottom":N=l}}var L=function(e,t){return{x:(e-=D)*T-(t-=N)*R+D,y:e*R+t*T+N}},B=L(s,l),F=L(s,c),V=L(a,l),$=L(a,c);s=Math.min(B.x,F.x,V.x,$.x),a=Math.max(B.x,F.x,V.x,$.x),l=Math.min(B.y,F.y,V.y,$.y),c=Math.max(B.y,F.y,V.y,$.y)}var H=S+"Rot",j=E[H]=E[H]||{};j.x1=s,j.y1=l,j.x2=a,j.y2=c,j.w=a-s,j.h=c-l,Si(e,s,l,a,c),Si(r.labelBounds.all,s,l,a,c)}return e}},Ti=function(e){var t=0,n=function(e){return(e?1:0)<<t++},i=0;return i+=n(e.incudeNodes),i+=n(e.includeEdges),i+=n(e.includeLabels),i+=n(e.includeMainLabels),i+=n(e.includeSourceLabels),(i+=n(e.includeTargetLabels))+n(e.includeOverlays)},Ri=function(e){if(e.isEdge()){var t=e.source().position(),n=e.target().position(),i=function(e){return Math.round(e)};return function(e,t){var n={value:0,done:!1},i=0,r=e.length;return Y({next:function(){return i<r?n.value=e[i++]:n.done=!0,n}},void 0)}([i(t.x),i(t.y),i(n.x),i(n.y)])}return 0},Di=function(e,t){var n,i=e._private,r=e.isEdge(),o=(null==t?Li:Ti(t))===Li,s=Ri(e),a=i.bbCachePosKey===s,l=function(e){return null==e._private.bbCache},c=!(t.useCache&&a)||l(e)||r&&l(e.source())||l(e.target());if(c?(a||e.recalculateRenderedStyle(),n=function(e,t){var n,i,r,o,s,a,l,c=e._private.cy,h=c.styleEnabled(),d=c.headless(),u=et(),p=e._private,g=e.isNode(),f=e.isEdge(),m=p.rstyle,v=g&&h?e.pstyle("bounds-expansion").pfValue:[0],y=function(e){return"none"!==e.pstyle("display").value},b=!h||y(e)&&(!f||y(e.source())&&y(e.target()));if(b){var C=0;h&&t.includeOverlays&&0!==e.pstyle("overlay-opacity").value&&(C=e.pstyle("overlay-padding").value);var w=0;if(h&&(w=e.pstyle("width").pfValue/2),g&&t.includeNodes){var _=e.position();s=_.x,a=_.y;var x=e.outerWidth()/2,I=e.outerHeight()/2;Si(u,n=s-x,r=a-I,i=s+x,o=a+I)}else if(f&&t.includeEdges)if(h&&!d){var A=e.pstyle("curve-style").strValue;if(n=Math.min(m.srcX,m.midX,m.tgtX),i=Math.max(m.srcX,m.midX,m.tgtX),r=Math.min(m.srcY,m.midY,m.tgtY),o=Math.max(m.srcY,m.midY,m.tgtY),Si(u,n-=w,r-=w,i+=w,o+=w),"haystack"===A){var k=m.haystackPts;if(k&&2===k.length){if((n=k[0].x)>(i=k[1].x)){var S=n;n=i,i=S}if((r=k[0].y)>(o=k[1].y)){var E=r;r=o,o=E}Si(u,n-w,r-w,i+w,o+w)}}else if("bezier"===A||"unbundled-bezier"===A||"segments"===A||"taxi"===A){var O;switch(A){case"bezier":case"unbundled-bezier":O=m.bezierPts;break;case"segments":case"taxi":O=m.linePts}if(null!=O)for(var P=0;P<O.length;P++){var M=O[P];Si(u,n=M.x-w,r=M.y-w,i=M.x+w,o=M.y+w)}}}else{var T=e.source().position(),R=e.target().position();if((n=T.x)>(i=R.x)){var D=n;n=i,i=D}if((r=T.y)>(o=R.y)){var N=r;r=o,o=N}Si(u,n-=w,r-=w,i+=w,o+=w)}if(h&&t.includeEdges&&f&&(Pi(u,e,"mid-source"),Pi(u,e,"mid-target"),Pi(u,e,"source"),Pi(u,e,"target")),h&&"yes"===e.pstyle("ghost").value){var L=e.pstyle("ghost-offset-x").pfValue,B=e.pstyle("ghost-offset-y").pfValue;Si(u,u.x1+L,u.y1+B,u.x2+L,u.y2+B)}var F=p.bodyBounds=p.bodyBounds||{};rt(F,u),it(F,v),nt(F,1),h&&Si(u,(n=u.x1)-C,(r=u.y1)-C,(i=u.x2)+C,(o=u.y2)+C);var V=p.overlayBounds=p.overlayBounds||{};rt(V,u),it(V,v),nt(V,1);var $=p.labelBounds=p.labelBounds||{};null!=$.all?((l=$.all).x1=1/0,l.y1=1/0,l.x2=-1/0,l.y2=-1/0,l.w=0,l.h=0):$.all=et(),h&&t.includeLabels&&(t.includeMainLabels&&Mi(u,e,null),f&&(t.includeSourceLabels&&Mi(u,e,"source"),t.includeTargetLabels&&Mi(u,e,"target")))}return u.x1=ki(u.x1),u.y1=ki(u.y1),u.x2=ki(u.x2),u.y2=ki(u.y2),u.w=ki(u.x2-u.x1),u.h=ki(u.y2-u.y1),u.w>0&&u.h>0&&b&&(it(u,v),nt(u,1)),u}(e,Ni),i.bbCache=n,i.bbCacheShift.x=i.bbCacheShift.y=0,i.bbCachePosKey=s):n=i.bbCache,!c&&(0!==i.bbCacheShift.x||0!==i.bbCacheShift.y)){var h=ot,d=i.bbCacheShift,u=function(e,t){null!=e&&h(e,t)};h(n,d);var p=i.overlayBounds,g=i.labelBounds,f=i.arrowBounds;u(i.bodyBounds,d),u(p,d),null!=f&&(u(f.source,d),u(f.target,d),u(f["mid-source"],d),u(f["mid-target"],d)),null!=g&&(u(g.main,d),u(g.all,d),u(g.source,d),u(g.target,d))}if(i.bbCacheShift.x=i.bbCacheShift.y=0,!o){var m=e.isNode();n=et(),(t.includeNodes&&m||t.includeEdges&&!m)&&Ei(n,t.includeOverlays?i.overlayBounds:i.bodyBounds),t.includeLabels&&(t.includeMainLabels&&(!r||t.includeSourceLabels&&t.includeTargetLabels)?Ei(n,i.labelBounds.all):(t.includeMainLabels&&Ei(n,i.labelBounds.mainRot),t.includeSourceLabels&&Ei(n,i.labelBounds.sourceRot),t.includeTargetLabels&&Ei(n,i.labelBounds.targetRot))),n.w=n.x2-n.x1,n.h=n.y2-n.y1}return n},Ni={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,useCache:!0},Li=Ti(Ni),Bi=ye(Ni);Ii.boundingBox=function(e){var t;if(1!==this.length||null==this[0]._private.bbCache||void 0!==e&&void 0!==e.useCache&&!0!==e.useCache){t=et();var n=Bi(e=e||Ni);if(this.cy().styleEnabled())for(var i=0;i<this.length;i++){var r=this[i],o=r._private,s=Ri(r);r.recalculateRenderedStyle(n.useCache&&o.bbCachePosKey===s)}this.updateCompoundBounds();for(var a=0;a<this.length;a++)Ei(t,Di(this[a],n))}else e=void 0===e?Ni:Bi(e),t=Di(this[0],e);return t.x1=ki(t.x1),t.y1=ki(t.y1),t.x2=ki(t.x2),t.y2=ki(t.y2),t.w=ki(t.x2-t.x1),t.h=ki(t.y2-t.y1),t},Ii.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCacheShift.x=t.bbCacheShift.y=0,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this},Ii.shiftCachedBoundingBox=function(e){for(var t=0;t<this.length;t++){var n=this[t]._private;null!=n.bbCache&&(n.bbCacheShift.x+=e.x,n.bbCacheShift.y+=e.y)}return this.emitAndNotify("bounds"),this},Ii.boundingBoxAt=function(e){var t=this.nodes(),n=this.cy(),i=n.hasCompoundNodes();if(i&&(t=t.filter((function(e){return!e.isParent()}))),_(e)){var r=e;e=function(){return r}}n.startBatch(),t.forEach((function(t,n){return t._private.bbAtOldPos=e(t,n)})).silentPositions(e),i&&this.updateCompoundBounds(!0);var o=function(e){return{x1:e.x1,x2:e.x2,w:e.w,y1:e.y1,y2:e.y2,h:e.h}}(this.boundingBox({useCache:!1}));return t.silentPositions((function(e){return e._private.bbAtOldPos})),n.endBatch(),o},xi.boundingbox=xi.bb=xi.boundingBox,xi.renderedBoundingbox=xi.renderedBoundingBox;var Fi,Vi,$i=Ii;Fi=Vi={};var Hi=function(e){e.uppercaseName=L(e.name),e.autoName="auto"+e.uppercaseName,e.labelName="label"+e.uppercaseName,e.outerName="outer"+e.uppercaseName,e.uppercaseOuterName=L(e.outerName),Fi[e.name]=function(){var t=this[0],n=t._private;if(t){if(!n.cy._private.styleEnabled)return 1;if(t.isParent())return t.updateCompoundBounds(),n[e.autoName]||0;var i=t.pstyle(e.name);switch(i.strValue){case"label":return t.recalculateRenderedStyle(),n.rstyle[e.labelName]||0;default:return i.pfValue}}},Fi["outer"+e.uppercaseName]=function(){var t=this[0];if(t)return t._private.cy._private.styleEnabled?t[e.name]()+t.pstyle("border-width").pfValue+2*t.padding():1},Fi["rendered"+e.uppercaseName]=function(){var t=this[0];if(t)return t[e.name]()*this.cy().zoom()},Fi["rendered"+e.uppercaseOuterName]=function(){var t=this[0];if(t)return t[e.outerName]()*this.cy().zoom()}};Hi({name:"width"}),Hi({name:"height"}),Vi.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),void 0!==t.autoPadding?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue},Vi.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()},Vi.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var ji=Vi,Wi={controlPoints:{get:function(e){return e.renderer().getControlPoints(e)},mult:!0},segmentPoints:{get:function(e){return e.renderer().getSegmentPoints(e)},mult:!0},sourceEndpoint:{get:function(e){return e.renderer().getSourceEndpoint(e)}},targetEndpoint:{get:function(e){return e.renderer().getTargetEndpoint(e)}},midpoint:{get:function(e){return e.renderer().getEdgeMidpoint(e)}}},zi=Object.keys(Wi).reduce((function(e,t){var n=Wi[t],i=function(e){return"rendered"+e[0].toUpperCase()+e.substr(1)}(t);return e[t]=function(){return function(e,t){if(e.isEdge())return t(e)}(this,n.get)},e[i]=n.mult?function(){return function(e,t){if(e.isEdge()){var n=e.cy(),i=n.pan(),r=n.zoom();return t(e).map((function(e){return je(e,r,i)}))}}(this,n.get)}:function(){return function(e,t){if(e.isEdge()){var n=e.cy();return je(t(e),n.zoom(),n.pan())}}(this,n.get)},e}),{}),Gi=V({},Ai,$i,ji,zi),Zi=function(e,t){this.recycle(e,t)};function Ki(){return!1}function Xi(){return!0}Zi.prototype={instanceString:function(){return"event"},recycle:function(e,t){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=Ki,null!=e&&e.preventDefault?(this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?Xi:Ki):null!=e&&e.type?t=e:this.type=e,null!=t&&(this.originalEvent=t.originalEvent,this.type=null!=t.type?t.type:this.type,this.cy=t.cy,this.target=t.target,this.position=t.position,this.renderedPosition=t.renderedPosition,this.namespace=t.namespace,this.layout=t.layout),null!=this.cy&&null!=this.position&&null==this.renderedPosition){var n=this.position,i=this.cy.zoom(),r=this.cy.pan();this.renderedPosition={x:n.x*i+r.x,y:n.y*i+r.y}}this.timeStamp=e&&e.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=Xi;var e=this.originalEvent;e&&e.preventDefault&&e.preventDefault()},stopPropagation:function(){this.isPropagationStopped=Xi;var e=this.originalEvent;e&&e.stopPropagation&&e.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=Xi,this.stopPropagation()},isDefaultPrevented:Ki,isPropagationStopped:Ki,isImmediatePropagationStopped:Ki};var Yi=/^([^.]+)(\.(?:[^.]+))?$/,Ui={qualifierCompare:function(e,t){return e===t},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(e){return e},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},Ji=Object.keys(Ui),qi={};function Qi(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:qi,t=arguments.length>1?arguments[1]:void 0,n=0;n<Ji.length;n++){var i=Ji[n];this[i]=e[i]||Ui[i]}this.context=t||this.context,this.listeners=[],this.emitting=0}var er=Qi.prototype,tr=function(e,t,n,i,r,o,s){C(i)&&(r=i,i=null),s&&(o=null==o?s:V({},o,s));for(var a=w(n)?n:n.split(/\s+/),l=0;l<a.length;l++){var c=a[l];if(!P(c)){var h=c.match(Yi);if(h&&!1===t(e,c,h[1],h[2]?h[2]:null,i,r,o))break}}},nr=function(e,t){return e.addEventFields(e.context,t),new Zi(t.type,t)};er.on=er.addListener=function(e,t,n,i,r){return tr(this,(function(e,t,n,i,r,o,s){C(o)&&e.listeners.push({event:t,callback:o,type:n,namespace:i,qualifier:r,conf:s})}),e,t,n,i,r),this},er.one=function(e,t,n,i){return this.on(e,t,n,i,{one:!0})},er.removeListener=er.off=function(e,t,n,i){var r=this;0!==this.emitting&&(this.listeners=this.listeners.slice());for(var o=this.listeners,s=function(s){var a=o[s];tr(r,(function(t,n,i,r,l,c){if((a.type===i||"*"===e)&&(!r&&".*"!==a.namespace||a.namespace===r)&&(!l||t.qualifierCompare(a.qualifier,l))&&(!c||a.callback===c))return o.splice(s,1),!1}),e,t,n,i)},a=o.length-1;a>=0;a--)s(a);return this},er.removeAllListeners=function(){return this.removeListener("*")},er.emit=er.trigger=function(e,t,n){var i=this.listeners,r=i.length;return this.emitting++,w(t)||(t=[t]),function(e,t,n){if("event"!==y(n))if(_(n))t(e,nr(e,n));else for(var i=w(n)?n:n.split(/\s+/),r=0;r<i.length;r++){var o=i[r];if(!P(o)){var s=o.match(Yi);s&&t(e,nr(e,{type:s[1],namespace:s[2]?s[2]:null,target:e.context}))}}else t(e,n)}(this,(function(e,o){null!=n&&(r=(i=[{event:o.event,type:o.type,namespace:o.namespace,callback:n}]).length);for(var s=function(n){var r=i[n];if(r.type===o.type&&(!r.namespace||r.namespace===o.namespace||".*"===r.namespace)&&e.eventMatches(e.context,r,o)){var s=[o];null!=t&&function(e,t){for(var n=0;n<t.length;n++)e.push(t[n])}(s,t),e.beforeEmit(e.context,r,o),r.conf&&r.conf.one&&(e.listeners=e.listeners.filter((function(e){return e!==r})));var a=e.callbackContext(e.context,r,o),l=r.callback.apply(a,s);e.afterEmit(e.context,r,o),!1===l&&(o.stopPropagation(),o.preventDefault())}},a=0;a<r;a++)s(a);e.bubble(e.context)&&!o.isPropagationStopped()&&e.parent(e.context).emit(o,t)}),e),this.emitting--,this};var ir={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return null==i||e!==n.target&&k(n.target)&&i.matches(n.target)},addEventFields:function(e,t){t.cy=e.cy(),t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e},beforeEmit:function(e,t){t.conf&&t.conf.once&&t.conf.onceCollection.removeListener(t.event,t.qualifier,t.callback)},bubble:function(){return!0},parent:function(e){return e.isChild()?e.parent():e.cy()}},rr=function(e){return b(e)?new ri(e):e},or={createEmitter:function(){for(var e=0;e<this.length;e++){var t=this[e],n=t._private;n.emitter||(n.emitter=new Qi(ir,t))}return this},emitter:function(){return this._private.emitter},on:function(e,t,n){for(var i=rr(t),r=0;r<this.length;r++)this[r].emitter().on(e,i,n);return this},removeListener:function(e,t,n){for(var i=rr(t),r=0;r<this.length;r++)this[r].emitter().removeListener(e,i,n);return this},removeAllListeners:function(){for(var e=0;e<this.length;e++)this[e].emitter().removeAllListeners();return this},one:function(e,t,n){for(var i=rr(t),r=0;r<this.length;r++)this[r].emitter().one(e,i,n);return this},once:function(e,t,n){for(var i=rr(t),r=0;r<this.length;r++)this[r].emitter().on(e,i,n,{once:!0,onceCollection:this})},emit:function(e,t){for(var n=0;n<this.length;n++)this[n].emitter().emit(e,t);return this},emitAndNotify:function(e,t){if(0!==this.length)return this.cy().notify(e,this),this.emit(e,t),this}};jn.eventAliasesOn(or);var sr={nodes:function(e){return this.filter((function(e){return e.isNode()})).filter(e)},edges:function(e){return this.filter((function(e){return e.isEdge()})).filter(e)},byGroup:function(){for(var e=this.spawn(),t=this.spawn(),n=0;n<this.length;n++){var i=this[n];i.isNode()?e.push(i):t.push(i)}return{nodes:e,edges:t}},filter:function(e,t){if(void 0===e)return this;if(b(e)||A(e))return new ri(e).filter(this);if(C(e)){for(var n=this.spawn(),i=0;i<this.length;i++){var r=this[i];(t?e.apply(t,[r,i,this]):e(r,i,this))&&n.push(r)}return n}return this.spawn()},not:function(e){if(e){b(e)&&(e=this.filter(e));for(var t=this.spawn(),n=0;n<this.length;n++){var i=this[n];e.has(i)||t.push(i)}return t}return this},absoluteComplement:function(){return this.cy().mutableElements().not(this)},intersect:function(e){if(b(e))return this.filter(e);for(var t=this.spawn(),n=this.length<e.length,i=n?this:e,r=n?e:this,o=0;o<i.length;o++){var s=i[o];r.has(s)&&t.push(s)}return t},xor:function(e){var t=this._private.cy;b(e)&&(e=t.$(e));var n=this.spawn(),i=e,r=function(e,t){for(var i=0;i<e.length;i++){var r=e[i];t.hasElementWithId(r._private.data.id)||n.push(r)}};return r(this,i),r(i,this),n},diff:function(e){var t=this._private.cy;b(e)&&(e=t.$(e));var n=this.spawn(),i=this.spawn(),r=this.spawn(),o=e,s=function(e,t,n){for(var i=0;i<e.length;i++){var o=e[i];t.hasElementWithId(o._private.data.id)?r.merge(o):n.push(o)}};return s(this,o,n),s(o,this,i),{left:n,right:i,both:r}},add:function(e){var t=this._private.cy;if(!e)return this;if(b(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=this.spawnSelf(),r=0;r<e.length;r++){var o=e[r];!this.has(o)&&i.push(o)}return i},merge:function(e){var t=this._private,n=t.cy;if(!e)return this;if(e&&b(e)){var i=e;e=n.mutableElements().filter(i)}for(var r=t.map,o=0;o<e.length;o++){var s=e[o],a=s._private.data.id;if(!r.has(a)){var l=this.length++;this[l]=s,r.set(a,{ele:s,index:l})}}return this},unmergeAt:function(e){var t=this[e].id(),n=this._private.map;if(this[e]=void 0,n.delete(t),this.length>1&&e!==this.length-1){var i=this.length-1,r=this[i],o=r._private.data.id;this[i]=void 0,this[e]=r,n.set(o,{ele:r,index:e})}return this.length--,this},unmergeOne:function(e){var t=this._private.map.get((e=e[0])._private.data.id);return t?(this.unmergeAt(t.index),this):this},unmerge:function(e){var t=this._private.cy;if(!e)return this;if(e&&b(e)){var n=e;e=t.mutableElements().filter(n)}for(var i=0;i<e.length;i++)this.unmergeOne(e[i]);return this},unmergeBy:function(e){for(var t=this.length-1;t>=0;t--)e(this[t])&&this.unmergeAt(t);return this},map:function(e,t){for(var n=[],i=0;i<this.length;i++){var r=this[i],o=t?e.apply(t,[r,i,this]):e(r,i,this);n.push(o)}return n},reduce:function(e,t){for(var n=t,i=0;i<this.length;i++)n=e(n,this[i],i,this);return n},max:function(e,t){for(var n,i=-1/0,r=0;r<this.length;r++){var o=this[r],s=t?e.apply(t,[o,r,this]):e(o,r,this);s>i&&(i=s,n=o)}return{value:i,ele:n}},min:function(e,t){for(var n,i=1/0,r=0;r<this.length;r++){var o=this[r],s=t?e.apply(t,[o,r,this]):e(o,r,this);s<i&&(i=s,n=o)}return{value:i,ele:n}}},ar=sr;ar.u=ar["|"]=ar["+"]=ar.union=ar.or=ar.add,ar["\\"]=ar["!"]=ar["-"]=ar.difference=ar.relativeComplement=ar.subtract=ar.not,ar.n=ar["&"]=ar["."]=ar.and=ar.intersection=ar.intersect,ar["^"]=ar["(+)"]=ar["(-)"]=ar.symmetricDifference=ar.symdiff=ar.xor,ar.fnFilter=ar.filterFn=ar.stdFilter=ar.filter,ar.complement=ar.abscomp=ar.absoluteComplement;var lr=function(e,t){var n=e.cy().hasCompoundNodes();function i(e){var t=e.pstyle("z-compound-depth");return"auto"===t.value?n?e.zDepth():0:"bottom"===t.value?-1:"top"===t.value?se:0}var r=i(e)-i(t);if(0!==r)return r;function o(e){return"auto"===e.pstyle("z-index-compare").value&&e.isNode()?1:0}var s=o(e)-o(t);if(0!==s)return s;var a=e.pstyle("z-index").value-t.pstyle("z-index").value;return 0!==a?a:e.poolIndex()-t.poolIndex()},cr={forEach:function(e,t){if(C(e))for(var n=this.length,i=0;i<n;i++){var r=this[i];if(!1===(t?e.apply(t,[r,i,this]):e(r,i,this)))break}return this},toArray:function(){for(var e=[],t=0;t<this.length;t++)e.push(this[t]);return e},slice:function(e,t){var n=[],i=this.length;null==t&&(t=i),null==e&&(e=0),e<0&&(e=i+e),t<0&&(t=i+t);for(var r=e;r>=0&&r<t&&r<i;r++)n.push(this[r]);return this.spawn(n)},size:function(){return this.length},eq:function(e){return this[e]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return 0===this.length},nonempty:function(){return!this.empty()},sort:function(e){if(!C(e))return this;var t=this.toArray().sort(e);return this.spawn(t)},sortByZIndex:function(){return this.sort(lr)},zDepth:function(){var e=this[0];if(e){var t=e._private;if("nodes"===t.group){var n=t.data.parent?e.parents().size():0;return e.isParent()?n:se-1}var i=t.target,r=t.source.zDepth(),o=i.zDepth();return Math.max(r,o,0)}}};cr.each=cr.forEach,"undefined"!=("undefined"==typeof Symbol?"undefined":s(Symbol))&&"undefined"!=s(Symbol.iterator)&&(cr[Symbol.iterator]=function(){var e=this,t={value:void 0,done:!1},n=0,i=this.length;return h({next:function(){return n<i?t.value=e[n++]:(t.value=void 0,t.done=!0),t}},Symbol.iterator,(function(){return this}))});var hr=ye({nodeDimensionsIncludeLabels:!1}),dr={layoutDimensions:function(e){var t;if(e=hr(e),this.takesUpSpace())if(e.nodeDimensionsIncludeLabels){var n=this.boundingBox();t={w:n.w,h:n.h}}else t={w:this.outerWidth(),h:this.outerHeight()};else t={w:0,h:0};return 0!==t.w&&0!==t.h||(t.w=t.h=1),t},layoutPositions:function(e,t,n){var i=this.nodes(),r=this.cy(),o=t.eles,s=function(e){return e.id()},a=T(n,s);e.emit({type:"layoutstart",layout:e}),e.animations=[];var l=t.spacingFactor&&1!==t.spacingFactor,c=function(){if(!l)return null;for(var e=et(),t=0;t<i.length;t++){var n=a(i[t],t);tt(e,n.x,n.y)}return e}(),h=T((function(e,n){var i,r,o,s,h,d=a(e,n);return l&&(i=Math.abs(t.spacingFactor),d={x:(s=(r=c).x1+r.w/2)+((o=d).x-s)*i,y:(h=r.y1+r.h/2)+(o.y-h)*i}),null!=t.transform&&(d=t.transform(e,d)),d}),s);if(t.animate){for(var d=0;d<i.length;d++){var u=i[d],p=h(u,d);if(null==t.animateFilter||t.animateFilter(u,d)){var g=u.animation({position:p,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(g)}else u.position(p)}if(t.fit){var f=r.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:t.padding},duration:t.animationDuration,easing:t.animationEasing});e.animations.push(f)}else if(void 0!==t.zoom&&void 0!==t.pan){var m=r.animation({zoom:t.zoom,pan:t.pan,duration:t.animationDuration,easing:t.animationEasing});e.animations.push(m)}e.animations.forEach((function(e){return e.play()})),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),Vn.all(e.animations.map((function(e){return e.promise()}))).then((function(){e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e})}))}else i.positions(h),t.fit&&r.fit(t.eles,t.padding),null!=t.zoom&&r.zoom(t.zoom),t.pan&&r.pan(t.pan),e.one("layoutready",t.ready),e.emit({type:"layoutready",layout:e}),e.one("layoutstop",t.stop),e.emit({type:"layoutstop",layout:e});return this},layout:function(e){return this.cy().makeLayout(V({},e,{eles:this}))}};function ur(e,t,n){var i,r=n._private,o=r.styleCache=r.styleCache||[];return null!=(i=o[e])?i:i=o[e]=t(n)}function pr(e,t){return e=ee(e),function(n){return ur(e,t,n)}}function gr(e,t){e=ee(e);var n=function(e){return t.call(e)};return function(){var t=this[0];if(t)return ur(e,n,t)}}dr.createLayout=dr.makeLayout=dr.layout;var fr={recalculateRenderedStyle:function(e){var t=this.cy(),n=t.renderer(),i=t.styleEnabled();return n&&i&&n.recalculateRenderedStyle(this,e),this},dirtyStyleCache:function(){var e,t=this.cy(),n=function(e){return e._private.styleCache=null};return t.hasCompoundNodes()?((e=this.spawnSelf().merge(this.descendants()).merge(this.parents())).merge(e.connectedEdges()),e.forEach(n)):this.forEach((function(e){n(e),e.connectedEdges().forEach(n)})),this},updateStyle:function(e){var t=this._private.cy;if(!t.styleEnabled())return this;if(t.batching())return t._private.batchStyleEles.merge(this),this;var n=this;e=!(!e&&void 0!==e),t.hasCompoundNodes()&&(n=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var i=n;return e?i.emitAndNotify("style"):i.emit("style"),n.forEach((function(e){return e._private.styleDirty=!0})),this},parsedStyle:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this[0],i=n.cy();if(i.styleEnabled()&&n){n._private.styleDirty&&(n._private.styleDirty=!1,i.style().apply(n),n.emitAndNotify("style"));var r=n._private.style[e];return null!=r?r:t?i.style().getDefaultProperty(e):null}},numericStyle:function(e){var t=this[0];if(t.cy().styleEnabled()&&t){var n=t.pstyle(e);return void 0!==n.pfValue?n.pfValue:n.value}},numericStyleUnits:function(e){var t=this[0];if(t.cy().styleEnabled())return t?t.pstyle(e).units:void 0},renderedStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=this[0];return n?t.style().getRenderedStyle(n,e):void 0},style:function(e,t){var n=this.cy();if(!n.styleEnabled())return this;var i=n.style();if(_(e))i.applyBypass(this,e,!1),this.emitAndNotify("style");else if(b(e)){if(void 0===t){var r=this[0];return r?i.getStylePropertyValue(r,e):void 0}i.applyBypass(this,e,t,!1),this.emitAndNotify("style")}else if(void 0===e){var o=this[0];return o?i.getRawStyle(o):void 0}return this},removeStyle:function(e){var t=this.cy();if(!t.styleEnabled())return this;var n=t.style();if(void 0===e)for(var i=0;i<this.length;i++)n.removeAllBypasses(this[i],!1);else{e=e.split(/\s+/);for(var r=0;r<this.length;r++)n.removeBypasses(this[r],e,!1)}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var e=this.cy();if(!e.styleEnabled())return 1;var t=e.hasCompoundNodes(),n=this[0];if(n){var i=n._private,r=n.pstyle("opacity").value;if(!t)return r;var o=i.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++)r*=o[s].pstyle("opacity").value;return r}},transparent:function(){if(!this.cy().styleEnabled())return!1;var e=this[0],t=e.cy().hasCompoundNodes();return e?t?0===e.effectiveOpacity():0===e.pstyle("opacity").value:void 0},backgrounding:function(){return!!this.cy().styleEnabled()&&!!this[0]._private.backgrounding}};function mr(e,t){var n=e._private.data.parent?e.parents():null;if(n)for(var i=0;i<n.length;i++)if(!t(n[i]))return!1;return!0}function vr(e){var t=e.ok,n=e.edgeOkViaNode||e.ok,i=e.parentOk||e.ok;return function(){var e=this.cy();if(!e.styleEnabled())return!0;var r=this[0],o=e.hasCompoundNodes();if(r){var s=r._private;if(!t(r))return!1;if(r.isNode())return!o||mr(r,i);var a=s.source,l=s.target;return n(a)&&(!o||mr(a,n))&&(a===l||n(l)&&(!o||mr(l,n)))}}}var yr=pr("eleTakesUpSpace",(function(e){return"element"===e.pstyle("display").value&&0!==e.width()&&(!e.isNode()||0!==e.height())}));fr.takesUpSpace=gr("takesUpSpace",vr({ok:yr}));var br=pr("eleInteractive",(function(e){return"yes"===e.pstyle("events").value&&"visible"===e.pstyle("visibility").value&&yr(e)})),Cr=pr("parentInteractive",(function(e){return"visible"===e.pstyle("visibility").value&&yr(e)}));fr.interactive=gr("interactive",vr({ok:br,parentOk:Cr,edgeOkViaNode:yr})),fr.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var wr=pr("eleVisible",(function(e){return"visible"===e.pstyle("visibility").value&&0!==e.pstyle("opacity").pfValue&&yr(e)}));fr.visible=gr("visible",vr({ok:wr,edgeOkViaNode:yr})),fr.hidden=function(){var e=this[0];if(e)return!e.visible()},fr.isBundledBezier=gr("isBundledBezier",(function(){return!!this.cy().styleEnabled()&&!this.removed()&&"bezier"===this.pstyle("curve-style").value&&this.takesUpSpace()})),fr.bypass=fr.css=fr.style,fr.renderedCss=fr.renderedStyle,fr.removeBypass=fr.removeCss=fr.removeStyle,fr.pstyle=fr.parsedStyle;var _r={};function xr(e){return function(){var t=arguments,n=[];if(2===t.length){var i=t[0],r=t[1];this.on(e.event,i,r)}else if(1===t.length&&C(t[0])){var o=t[0];this.on(e.event,o)}else if(0===t.length||1===t.length&&w(t[0])){for(var s=1===t.length?t[0]:null,a=0;a<this.length;a++){var l=this[a],c=!e.ableField||l._private[e.ableField],h=l._private[e.field]!=e.value;if(e.overrideAble){var d=e.overrideAble(l);if(void 0!==d&&(c=d,!d))return this}c&&(l._private[e.field]=e.value,h&&n.push(l))}var u=this.spawn(n);u.updateStyle(),u.emit(e.event),s&&u.emit(s)}return this}}function Ir(e){_r[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var n=e.overrideField(t);if(void 0!==n)return n}return t._private[e.field]}},_r[e.on]=xr({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),_r[e.off]=xr({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}Ir({field:"locked",overrideField:function(e){return!!e.cy().autolock()||void 0},on:"lock",off:"unlock"}),Ir({field:"grabbable",overrideField:function(e){return!e.cy().autoungrabify()&&!e.pannable()&&void 0},on:"grabify",off:"ungrabify"}),Ir({field:"selected",ableField:"selectable",overrideAble:function(e){return!e.cy().autounselectify()&&void 0},on:"select",off:"unselect"}),Ir({field:"selectable",overrideField:function(e){return!e.cy().autounselectify()&&void 0},on:"selectify",off:"unselectify"}),_r.deselect=_r.unselect,_r.grabbed=function(){var e=this[0];if(e)return e._private.grabbed},Ir({field:"active",on:"activate",off:"unactivate"}),Ir({field:"pannable",on:"panify",off:"unpanify"}),_r.inactive=function(){var e=this[0];if(e)return!e._private.active};var Ar={},kr=function(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode()){for(var o=!1,s=r.connectedEdges(),a=0;a<s.length;a++){var l=s[a],c=l.source(),h=l.target();if(e.noIncomingEdges&&h===r&&c!==r||e.noOutgoingEdges&&c===r&&h!==r){o=!0;break}}o||n.push(r)}}return this.spawn(n,!0).filter(t)}},Sr=function(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i];if(r.isNode())for(var o=r.connectedEdges(),s=0;s<o.length;s++){var a=o[s],l=a.source(),c=a.target();e.outgoing&&l===r?(n.push(a),n.push(c)):e.incoming&&c===r&&(n.push(a),n.push(l))}}return this.spawn(n,!0).filter(t)}},Er=function(e){return function(t){for(var n=this,i=[],r={};;){var o=e.outgoing?n.outgoers():n.incomers();if(0===o.length)break;for(var s=!1,a=0;a<o.length;a++){var l=o[a],c=l.id();r[c]||(r[c]=!0,i.push(l),s=!0)}if(!s)break;n=o}return this.spawn(i,!0).filter(t)}};function Or(e){return function(t){for(var n=[],i=0;i<this.length;i++){var r=this[i]._private[e.attr];r&&n.push(r)}return this.spawn(n,!0).filter(t)}}function Pr(e){return function(t){var n=[],i=this._private.cy,r=e||{};b(t)&&(t=i.$(t));for(var o=0;o<t.length;o++)for(var s=t[o]._private.edges,a=0;a<s.length;a++){var l=s[a],c=l._private.data,h=this.hasElementWithId(c.source)&&t.hasElementWithId(c.target),d=t.hasElementWithId(c.source)&&this.hasElementWithId(c.target);if(h||d){if(r.thisIsSrc||r.thisIsTgt){if(r.thisIsSrc&&!h)continue;if(r.thisIsTgt&&!d)continue}n.push(l)}}return this.spawn(n,!0)}}function Mr(e){return e=V({},{codirected:!1},e),function(t){for(var n=[],i=this.edges(),r=e,o=0;o<i.length;o++)for(var s=i[o]._private,a=s.source,l=a._private.data.id,c=s.data.target,h=a._private.edges,d=0;d<h.length;d++){var u=h[d],p=u._private.data,g=p.target,f=p.source,m=g===c&&f===l;(r.codirected&&m||!r.codirected&&(m||l===g&&c===f))&&n.push(u)}return this.spawn(n,!0).filter(t)}}Ar.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null},V(Ar,{roots:kr({noIncomingEdges:!0}),leaves:kr({noOutgoingEdges:!0}),outgoers:ci(Sr({outgoing:!0}),"outgoers"),successors:Er({outgoing:!0}),incomers:ci(Sr({incoming:!0}),"incomers"),predecessors:Er({incoming:!0})}),V(Ar,{neighborhood:ci((function(e){for(var t=[],n=this.nodes(),i=0;i<n.length;i++)for(var r=n[i],o=r.connectedEdges(),s=0;s<o.length;s++){var a=o[s],l=a.source(),c=a.target(),h=r===l?c:l;h.length>0&&t.push(h[0]),t.push(a[0])}return this.spawn(t,!0).filter(e)}),"neighborhood"),closedNeighborhood:function(e){return this.neighborhood().add(this).filter(e)},openNeighborhood:function(e){return this.neighborhood(e)}}),Ar.neighbourhood=Ar.neighborhood,Ar.closedNeighbourhood=Ar.closedNeighborhood,Ar.openNeighbourhood=Ar.openNeighborhood,V(Ar,{source:ci((function(e){var t,n=this[0];return n&&(t=n._private.source||n.cy().collection()),t&&e?t.filter(e):t}),"source"),target:ci((function(e){var t,n=this[0];return n&&(t=n._private.target||n.cy().collection()),t&&e?t.filter(e):t}),"target"),sources:Or({attr:"source"}),targets:Or({attr:"target"})}),V(Ar,{edgesWith:ci(Pr(),"edgesWith"),edgesTo:ci(Pr({thisIsSrc:!0}),"edgesTo")}),V(Ar,{connectedEdges:ci((function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];if(i.isNode())for(var r=i._private.edges,o=0;o<r.length;o++)t.push(r[o])}return this.spawn(t,!0).filter(e)}),"connectedEdges"),connectedNodes:ci((function(e){for(var t=[],n=0;n<this.length;n++){var i=this[n];i.isEdge()&&(t.push(i.source()[0]),t.push(i.target()[0]))}return this.spawn(t,!0).filter(e)}),"connectedNodes"),parallelEdges:ci(Mr(),"parallelEdges"),codirectedEdges:ci(Mr({codirected:!0}),"codirectedEdges")}),V(Ar,{components:function(e){var t=this,n=t.cy(),i=n.collection(),r=null==e?t.nodes():e.nodes(),o=[];null!=e&&r.empty()&&(r=e.sources());var s=function(e,t){i.merge(e),r.unmerge(e),t.merge(e)};if(r.empty())return t.spawn();var a=function(){var e=n.collection();o.push(e);var i=r[0];s(i,e),t.bfs({directed:!1,roots:i,visit:function(t){return s(t,e)}}),e.forEach((function(n){n.connectedEdges().forEach((function(n){t.has(n)&&e.has(n.source())&&e.has(n.target())&&e.merge(n)}))}))};do{a()}while(r.length>0);return o},component:function(){var e=this[0];return e.cy().mutableElements().components(e)[0]}}),Ar.componentsOf=Ar.components;var Tr=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(void 0!==e){var i=new xe,r=!1;if(t){if(t.length>0&&_(t[0])&&!k(t[0])){r=!0;for(var o=[],s=new Ae,a=0,l=t.length;a<l;a++){var c=t[a];null==c.data&&(c.data={});var h=c.data;if(null==h.id)h.id=fe();else if(e.hasElementWithId(h.id)||s.has(h.id))continue;var d=new ke(e,c,!1);o.push(d),s.add(h.id)}t=o}}else t=[];this.length=0;for(var u=0,p=t.length;u<p;u++){var g=t[u][0];if(null!=g){var f=g._private.data.id;n&&i.has(f)||(n&&i.set(f,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:e,get map(){return null==this.lazyMap&&this.rebuildMap(),this.lazyMap},set map(e){this.lazyMap=e},rebuildMap:function(){for(var e=this.lazyMap=new xe,t=this.eles,n=0;n<t.length;n++){var i=t[n];e.set(i.id(),{index:n,ele:i})}}},n&&(this._private.map=i),r&&this.restore()}else de("A collection must have a reference to the core")},Rr=ke.prototype=Tr.prototype=Object.create(Array.prototype);Rr.instanceString=function(){return"collection"},Rr.spawn=function(e,t){return new Tr(this.cy(),e,t)},Rr.spawnSelf=function(){return this.spawn(this)},Rr.cy=function(){return this._private.cy},Rr.renderer=function(){return this._private.cy.renderer()},Rr.element=function(){return this[0]},Rr.collection=function(){return S(this)?this:new Tr(this._private.cy,[this])},Rr.unique=function(){return new Tr(this._private.cy,this,!0)},Rr.hasElementWithId=function(e){return this._private.map.has(e=""+e)},Rr.getElementById=function(e){var t=this._private.cy,n=this._private.map.get(e=""+e);return n?n.ele:new Tr(t)},Rr.$id=Rr.getElementById,Rr.poolIndex=function(){return this._private.cy._private.elements._private.map.get(this[0]._private.data.id).index},Rr.indexOf=function(e){return this._private.map.get(e[0]._private.data.id).index},Rr.indexOfId=function(e){return this._private.map.get(e=""+e).index},Rr.json=function(e){var t=this.element(),n=this.cy();if(null==t&&e)return this;if(null!=t){var i=t._private;if(_(e)){if(n.startBatch(),e.data){t.data(e.data);var r=i.data;if(t.isEdge()){var o=!1,s={},a=e.data.source,l=e.data.target;null!=a&&a!=r.source&&(s.source=""+a,o=!0),null!=l&&l!=r.target&&(s.target=""+l,o=!0),o&&(t=t.move(s))}else{var c=e.data.parent;!("parent"in e.data)||null==c&&null==r.parent||c==r.parent||(void 0===c&&(c=null),null!=c&&(c=""+c),t=t.move({parent:c}))}}e.position&&t.position(e.position);var h=function(n,r,o){var s=e[n];null!=s&&s!==i[n]&&(s?t[r]():t[o]())};return h("removed","remove","restore"),h("selected","select","unselect"),h("selectable","selectify","unselectify"),h("locked","lock","unlock"),h("grabbable","grabify","ungrabify"),h("pannable","panify","unpanify"),null!=e.classes&&t.classes(e.classes),n.endBatch(),this}if(void 0===e){var d={data:ge(i.data),position:ge(i.position),group:i.group,removed:i.removed,selected:i.selected,selectable:i.selectable,locked:i.locked,grabbable:i.grabbable,pannable:i.pannable,classes:null};d.classes="";var u=0;return i.classes.forEach((function(e){return d.classes+=0==u++?e:" "+e})),d}}},Rr.jsons=function(){for(var e=[],t=0;t<this.length;t++){var n=this[t].json();e.push(n)}return e},Rr.clone=function(){for(var e=this.cy(),t=[],n=0;n<this.length;n++){var i=this[n].json(),r=new ke(e,i,!1);t.push(r)}return new Tr(e,t)},Rr.copy=Rr.clone,Rr.restore=function(){for(var e,t,n=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],i=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=this,o=r.cy(),s=o._private,a=[],l=[],c=0,h=r.length;c<h;c++){var d=r[c];i&&!d.removed()||(d.isNode()?a.push(d):l.push(d))}e=a.concat(l);var u=function(){e.splice(t,1),t--};for(t=0;t<e.length;t++){var p=e[t],g=p._private,f=g.data;if(p.clearTraversalCache(),i||g.removed)if(void 0===f.id)f.id=fe();else if(x(f.id))f.id=""+f.id;else{if(P(f.id)||!b(f.id)){de("Can not create element with invalid string ID `"+f.id+"`"),u();continue}if(o.hasElementWithId(f.id)){de("Can not create second element with ID `"+f.id+"`"),u();continue}}var m=f.id;if(p.isNode()){var v=g.position;null==v.x&&(v.x=0),null==v.y&&(v.y=0)}if(p.isEdge()){for(var y=p,C=["source","target"],w=C.length,_=!1,I=0;I<w;I++){var A=C[I],k=f[A];x(k)&&(k=f[A]=""+f[A]),null==k||""===k?(de("Can not create edge `"+m+"` with unspecified "+A),_=!0):o.hasElementWithId(k)||(de("Can not create edge `"+m+"` with nonexistant "+A+" `"+k+"`"),_=!0)}if(_){u();continue}var S=o.getElementById(f.source),E=o.getElementById(f.target);S.same(E)?S._private.edges.push(y):(S._private.edges.push(y),E._private.edges.push(y)),y._private.source=S,y._private.target=E}g.map=new xe,g.map.set(m,{ele:p,index:0}),g.removed=!1,i&&o.addToPool(p)}for(var O=0;O<a.length;O++){var M=a[O],T=M._private.data;x(T.parent)&&(T.parent=""+T.parent);var R=T.parent,D=null!=R;if(D){var N=o.getElementById(R);if(N.empty())T.parent=void 0;else{for(var L=!1,B=N;!B.empty();){if(M.same(B)){L=!0,T.parent=void 0;break}B=B.parent()}L||(N[0]._private.children.push(M),M._private.parent=N[0],s.hasCompoundNodes=!0)}}}if(e.length>0){for(var F=e.length===r.length?r:new Tr(o,e),V=0;V<F.length;V++){var $=F[V];$.isNode()||($.parallelEdges().clearTraversalCache(),$.source().clearTraversalCache(),$.target().clearTraversalCache())}(s.hasCompoundNodes?o.collection().merge(F).merge(F.connectedNodes()).merge(F.parent()):F).dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(n),n?F.emitAndNotify("add"):i&&F.emit("add")}return r},Rr.removed=function(){var e=this[0];return e&&e._private.removed},Rr.inside=function(){var e=this[0];return e&&!e._private.removed},Rr.remove=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this,i=[],r={},o=n._private.cy;function s(e){for(var t=e._private.edges,n=0;n<t.length;n++)l(t[n])}function a(e){for(var t=e._private.children,n=0;n<t.length;n++)l(t[n])}function l(e){var n=r[e.id()];t&&e.removed()||n||(r[e.id()]=!0,e.isNode()?(i.push(e),s(e),a(e)):i.unshift(e))}for(var c=0,h=n.length;c<h;c++){var d=n[c];l(d)}function u(e,t){be(e._private.edges,t),e.clearTraversalCache()}function p(e){e.clearTraversalCache()}var g=[];function f(e,t){t=t[0];var n=(e=e[0])._private.children,i=e.id();be(n,t),t._private.parent=null,g.ids[i]||(g.ids[i]=!0,g.push(e))}g.ids={},n.dirtyCompoundBoundsCache(),t&&o.removeFromPool(i);for(var m=0;m<i.length;m++){var v=i[m];if(v.isEdge()){var y=v.source()[0],b=v.target()[0];u(y,v),u(b,v);for(var C=v.parallelEdges(),w=0;w<C.length;w++){var _=C[w];p(_),_.isBundledBezier()&&_.dirtyBoundingBoxCache()}}else{var x=v.parent();0!==x.length&&f(x,v)}t&&(v._private.removed=!0)}var I=o._private.elements;o._private.hasCompoundNodes=!1;for(var A=0;A<I.length;A++){var k=I[A];if(k.isParent()){o._private.hasCompoundNodes=!0;break}}var S=new Tr(this.cy(),i);S.size()>0&&(e?S.emitAndNotify("remove"):t&&S.emit("remove"));for(var E=0;E<g.length;E++){var O=g[E];t&&O.removed()||O.updateStyle()}return S},Rr.move=function(e){var t=this._private.cy,n=this,i=function(e){return null==e?e:""+e};if(void 0!==e.source||void 0!==e.target){var r=i(e.source),o=i(e.target),s=null!=r&&t.hasElementWithId(r),a=null!=o&&t.hasElementWithId(o);(s||a)&&(t.batch((function(){n.remove(!1,!1),n.emitAndNotify("moveout");for(var e=0;e<n.length;e++){var t=n[e],i=t._private.data;t.isEdge()&&(s&&(i.source=r),a&&(i.target=o))}n.restore(!1,!1)})),n.emitAndNotify("move"))}else if(void 0!==e.parent){var l=i(e.parent);if(null===l||t.hasElementWithId(l)){var c=null===l?void 0:l;t.batch((function(){var e=n.remove(!1,!1);e.emitAndNotify("moveout");for(var t=0;t<n.length;t++){var i=n[t],r=i._private.data;i.isNode()&&(r.parent=c)}e.restore(!1,!1)})),n.emitAndNotify("move")}}return this},[Tn,Wn,zn,si,hi,vi,yi,Gi,or,sr,{isNode:function(){return"nodes"===this.group()},isEdge:function(){return"edges"===this.group()},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var e=this[0];if(e)return e._private.group}},cr,dr,fr,_r,Ar].forEach((function(e){V(Rr,e)}));var Dr={add:function(e){var t,n=this;if(A(e)){var i=e;if(i._private.cy===n)t=i.restore();else{for(var r=[],o=0;o<i.length;o++)r.push(i[o].json());t=new Tr(n,r)}}else if(w(e))t=new Tr(n,e);else if(_(e)&&(w(e.nodes)||w(e.edges))){for(var s=e,a=[],l=["nodes","edges"],c=0,h=l.length;c<h;c++){var d=l[c],u=s[d];if(w(u))for(var p=0,g=u.length;p<g;p++){var f=V({group:d},u[p]);a.push(f)}}t=new Tr(n,a)}else t=new ke(n,e).collection();return t},remove:function(e){return A(e)||b(e)&&(e=this.$(e)),e.remove()}},Nr=function(){function e(e){return-e.tension*e.x-e.friction*e.v}function t(t,n,i){var r={x:t.x+i.dx*n,v:t.v+i.dv*n,tension:t.tension,friction:t.friction};return{dx:r.v,dv:e(r)}}function n(n,i){var r={dx:n.v,dv:e(n)},o=t(n,.5*i,r),s=t(n,.5*i,o),a=t(n,i,s),l=1/6*(r.dv+2*(o.dv+s.dv)+a.dv);return n.x=n.x+1/6*(r.dx+2*(o.dx+s.dx)+a.dx)*i,n.v=n.v+l*i,n}return function e(t,i,r){var o,s,a,l={x:-1,v:0,tension:null,friction:null},c=[0],h=0;for(t=parseFloat(t)||500,i=parseFloat(i)||20,r=r||null,l.tension=t,l.friction=i,s=(o=null!==r)?(h=e(t,i))/r*.016:.016;a=n(a||l,s),c.push(1+a.x),h+=16,Math.abs(a.x)>1e-4&&Math.abs(a.v)>1e-4;);return o?function(e){return c[e*(c.length-1)|0]}:h}}(),Lr=function(e,t,n,i){var r=function(e,t,n,i){var r=4,o=.001,s=1e-7,a=10,l=11,c=1/(l-1),h="undefined"!=typeof Float32Array;if(4!==arguments.length)return!1;for(var d=0;d<4;++d)if("number"!=typeof arguments[d]||isNaN(arguments[d])||!isFinite(arguments[d]))return!1;e=Math.min(e,1),n=Math.min(n,1),e=Math.max(e,0),n=Math.max(n,0);var u=h?new Float32Array(l):new Array(l);function p(e,t){return 1-3*t+3*e}function g(e,t){return 3*t-6*e}function f(e){return 3*e}function m(e,t,n){return((p(t,n)*e+g(t,n))*e+f(t))*e}function v(e,t,n){return 3*p(t,n)*e*e+2*g(t,n)*e+f(t)}function y(t,i){for(var o=0;o<r;++o){var s=v(i,e,n);if(0===s)return i;i-=(m(i,e,n)-t)/s}return i}function b(){for(var t=0;t<l;++t)u[t]=m(t*c,e,n)}function C(t,i,r){var o,l,c=0;do{(o=m(l=i+(r-i)/2,e,n)-t)>0?r=l:i=l}while(Math.abs(o)>s&&++c<a);return l}function w(t){for(var i=0,r=1,s=l-1;r!==s&&u[r]<=t;++r)i+=c;--r;var a=i+(t-u[r])/(u[r+1]-u[r])*c,h=v(a,e,n);return h>=o?y(t,a):0===h?a:C(t,i,i+c)}var _=!1;function x(){_=!0,e===t&&n===i||b()}var I=function(r){return _||x(),e===t&&n===i?r:0===r?0:1===r?1:m(w(r),t,i)};I.getControlPoints=function(){return[{x:e,y:t},{x:n,y:i}]};var A="generateBezier("+[e,t,n,i]+")";return I.toString=function(){return A},I}(e,t,n,i);return function(e,t,n){return e+(t-e)*r(n)}},Br={linear:function(e,t,n){return e+(t-e)*n},ease:Lr(.25,.1,.25,1),"ease-in":Lr(.42,0,1,1),"ease-out":Lr(0,0,.58,1),"ease-in-out":Lr(.42,0,.58,1),"ease-in-sine":Lr(.47,0,.745,.715),"ease-out-sine":Lr(.39,.575,.565,1),"ease-in-out-sine":Lr(.445,.05,.55,.95),"ease-in-quad":Lr(.55,.085,.68,.53),"ease-out-quad":Lr(.25,.46,.45,.94),"ease-in-out-quad":Lr(.455,.03,.515,.955),"ease-in-cubic":Lr(.55,.055,.675,.19),"ease-out-cubic":Lr(.215,.61,.355,1),"ease-in-out-cubic":Lr(.645,.045,.355,1),"ease-in-quart":Lr(.895,.03,.685,.22),"ease-out-quart":Lr(.165,.84,.44,1),"ease-in-out-quart":Lr(.77,0,.175,1),"ease-in-quint":Lr(.755,.05,.855,.06),"ease-out-quint":Lr(.23,1,.32,1),"ease-in-out-quint":Lr(.86,0,.07,1),"ease-in-expo":Lr(.95,.05,.795,.035),"ease-out-expo":Lr(.19,1,.22,1),"ease-in-out-expo":Lr(1,0,0,1),"ease-in-circ":Lr(.6,.04,.98,.335),"ease-out-circ":Lr(.075,.82,.165,1),"ease-in-out-circ":Lr(.785,.135,.15,.86),spring:function(e,t,n){if(0===n)return Br.linear;var i=Nr(e,t,n);return function(e,t,n){return e+(t-e)*i(n)}},"cubic-bezier":Lr};function Fr(e,t,n,i,r){if(1===i)return n;if(t===n)return n;var o=r(t,n,i);return null==e||((e.roundValue||e.color)&&(o=Math.round(o)),void 0!==e.min&&(o=Math.max(o,e.min)),void 0!==e.max&&(o=Math.min(o,e.max))),o}function Vr(e,t){return null!=e.pfValue||null!=e.value?null==e.pfValue||null!=t&&"%"===t.type.units?e.value:e.pfValue:e}function $r(e,t,n,i,r){var o=null!=r?r.type:null;n<0?n=0:n>1&&(n=1);var s=Vr(e,r),a=Vr(t,r);if(x(s)&&x(a))return Fr(o,s,a,n,i);if(w(s)&&w(a)){for(var l=[],c=0;c<a.length;c++){var h=s[c],d=a[c];if(null!=h&&null!=d){var u=Fr(o,h,d,n,i);l.push(u)}else l.push(d)}return l}}function Hr(e,t,n,i){var r=!i,o=e._private,s=t._private,a=s.easing,l=s.startTime,c=(i?e:e.cy()).style();if(!s.easingImpl)if(null==a)s.easingImpl=Br.linear;else{var h,d,u;h=b(a)?c.parse("transition-timing-function",a).value:a,b(h)?(d=h,u=[]):(d=h[1],u=h.slice(2).map((function(e){return+e}))),u.length>0?("spring"===d&&u.push(s.duration),s.easingImpl=Br[d].apply(null,u)):s.easingImpl=Br[d]}var p,g=s.easingImpl;if(p=0===s.duration?1:(n-l)/s.duration,s.applying&&(p=s.progress),p<0?p=0:p>1&&(p=1),null==s.delay){var f=s.startPosition,m=s.position;if(m&&r&&!e.locked()){var v={};jr(f.x,m.x)&&(v.x=$r(f.x,m.x,p,g)),jr(f.y,m.y)&&(v.y=$r(f.y,m.y,p,g)),e.position(v)}var y=s.startPan,C=s.pan,w=o.pan,_=null!=C&&i;_&&(jr(y.x,C.x)&&(w.x=$r(y.x,C.x,p,g)),jr(y.y,C.y)&&(w.y=$r(y.y,C.y,p,g)),e.emit("pan"));var x=s.startZoom,I=s.zoom,A=null!=I&&i;A&&(jr(x,I)&&(o.zoom=Qe(o.minZoom,$r(x,I,p,g),o.maxZoom)),e.emit("zoom")),(_||A)&&e.emit("viewport");var k=s.style;if(k&&k.length>0&&r){for(var S=0;S<k.length;S++){var E=k[S],O=E.name,P=s.startStyle[O],M=$r(P,E,p,g,c.properties[P.name]);c.overrideBypass(e,O,M)}e.emit("style")}}return s.progress=p,p}function jr(e,t){return!(null==e||null==t||!(x(e)&&x(t)||e&&t))}function Wr(e,t,n,i){var r=t._private;r.started=!0,r.startTime=n-r.progress*r.duration}function zr(e,t){var n=t._private.aniEles,i=[];function r(t,n){var r=t._private,o=r.animation.current,s=r.animation.queue,a=!1;if(0===o.length){var l=s.shift();l&&o.push(l)}for(var c=function(e){for(var t=e.length-1;t>=0;t--)(0,e[t])();e.splice(0,e.length)},h=o.length-1;h>=0;h--){var d=o[h],u=d._private;u.stopped?(o.splice(h,1),u.hooked=!1,u.playing=!1,u.started=!1,c(u.frames)):(u.playing||u.applying)&&(u.playing&&u.applying&&(u.applying=!1),u.started||Wr(0,d,e),Hr(t,d,e,n),u.applying&&(u.applying=!1),c(u.frames),null!=u.step&&u.step(e),d.completed()&&(o.splice(h,1),u.hooked=!1,u.playing=!1,u.started=!1,c(u.completes)),a=!0)}return n||0!==o.length||0!==s.length||i.push(t),a}for(var o=!1,s=0;s<n.length;s++){var a=r(n[s]);o=o||a}var l=r(t,!0);(o||l)&&(n.length>0?t.notify("draw",n):t.notify("draw")),n.unmerge(i),t.emit("step")}var Gr={animate:jn.animate(),animation:jn.animation(),animated:jn.animated(),clearQueue:jn.clearQueue(),delay:jn.delay(),delayAnimation:jn.delayAnimation(),stop:jn.stop(),addToAnimationPool:function(e){this.styleEnabled()&&this._private.aniEles.merge(e)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var e=this;if(e._private.animationsRunning=!0,e.styleEnabled()){var t=e.renderer();t&&t.beforeRender?t.beforeRender((function(t,n){zr(n,e)}),t.beforeRenderPriorities.animations):function t(){e._private.animationsRunning&&Z((function(n){zr(n,e),t()}))}()}}},Zr={qualifierCompare:function(e,t){return null==e||null==t?null==e&&null==t:e.sameText(t)},eventMatches:function(e,t,n){var i=t.qualifier;return null==i||e!==n.target&&k(n.target)&&i.matches(n.target)},addEventFields:function(e,t){t.cy=e,t.target=e},callbackContext:function(e,t,n){return null!=t.qualifier?n.target:e}},Kr=function(e){return b(e)?new ri(e):e},Xr={createEmitter:function(){var e=this._private;return e.emitter||(e.emitter=new Qi(Zr,this)),this},emitter:function(){return this._private.emitter},on:function(e,t,n){return this.emitter().on(e,Kr(t),n),this},removeListener:function(e,t,n){return this.emitter().removeListener(e,Kr(t),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(e,t,n){return this.emitter().one(e,Kr(t),n),this},once:function(e,t,n){return this.emitter().one(e,Kr(t),n),this},emit:function(e,t){return this.emitter().emit(e,t),this},emitAndNotify:function(e,t){return this.emit(e),this.notify(e,t),this}};jn.eventAliasesOn(Xr);var Yr={png:function(e){return this._private.renderer.png(e=e||{})},jpg:function(e){var t=this._private.renderer;return(e=e||{}).bg=e.bg||"#fff",t.jpg(e)}};Yr.jpeg=Yr.jpg;var Ur={layout:function(e){if(null!=e)if(null!=e.name){var t,n=e.name,i=this.extension("layout",n);if(null!=i)return t=b(e.eles)?this.$(e.eles):null!=e.eles?e.eles:this.$(),new i(V({},e,{cy:this,eles:t}));de("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?")}else de("A `name` must be specified to make a layout");else de("Layout options must be specified to make a layout")}};Ur.createLayout=Ur.makeLayout=Ur.layout;var Jr={notify:function(e,t){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var i=n.batchNotifications[e]=n.batchNotifications[e]||this.collection();null!=t&&i.merge(t)}else if(n.notificationsEnabled){var r=this.renderer();!this.destroyed()&&r&&r.notify(e,t)}},notifications:function(e){var t=this._private;return void 0===e?t.notificationsEnabled:(t.notificationsEnabled=!!e,this)},noNotifications:function(e){this.notifications(!1),e(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var e=this._private;return null==e.batchCount&&(e.batchCount=0),0===e.batchCount&&(e.batchStyleEles=this.collection(),e.batchNotifications={}),e.batchCount++,this},endBatch:function(){var e=this._private;if(0===e.batchCount)return this;if(e.batchCount--,0===e.batchCount){e.batchStyleEles.updateStyle();var t=this.renderer();Object.keys(e.batchNotifications).forEach((function(n){var i=e.batchNotifications[n];i.empty()?t.notify(n):t.notify(n,i)}))}return this},batch:function(e){return this.startBatch(),e(),this.endBatch(),this},batchData:function(e){var t=this;return this.batch((function(){for(var n=Object.keys(e),i=0;i<n.length;i++){var r=n[i],o=e[r];t.getElementById(r).data(o)}}))}},qr=ye({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),Qr={renderTo:function(e,t,n,i){return this._private.renderer.renderTo(e,t,n,i),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(e){var t=this.extension("renderer",e.name);if(null!=t){void 0!==e.wheelSensitivity&&pe("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var n=qr(e);n.cy=this,this._private.renderer=new t(n),this.notify("init")}else de("Can not initialise: No such renderer `".concat(e.name,"` found. Did you forget to import it and `cytoscape.use()` it?"))},destroyRenderer:function(){this.notify("destroy");var e=this.container();if(e)for(e._cyreg=null;e.childNodes.length>0;)e.removeChild(e.childNodes[0]);this._private.renderer=null,this.mutableElements().forEach((function(e){var t=e._private;t.rscratch={},t.rstyle={},t.animation.current=[],t.animation.queue=[]}))},onRender:function(e){return this.on("render",e)},offRender:function(e){return this.off("render",e)}};Qr.invalidateDimensions=Qr.resize;var eo={collection:function(e,t){return b(e)?this.$(e):A(e)?e.collection():w(e)?new Tr(this,e,t):new Tr(this)},nodes:function(e){var t=this.$((function(e){return e.isNode()}));return e?t.filter(e):t},edges:function(e){var t=this.$((function(e){return e.isEdge()}));return e?t.filter(e):t},$:function(e){var t=this._private.elements;return e?t.filter(e):t.spawnSelf()},mutableElements:function(){return this._private.elements}};eo.elements=eo.filter=eo.$;var to={apply:function(e){for(var t=this._private.cy.collection(),n=0;n<e.length;n++){var i=e[n],r=this.getContextMeta(i);if(!r.empty){var o=this.getContextStyle(r),s=this.applyContextStyle(r,o,i);i._private.appliedInitStyle?this.updateTransitions(i,s.diffProps):i._private.appliedInitStyle=!0,this.updateStyleHints(i)&&t.push(i)}}return t},getPropertiesDiff:function(e,t){var n=this._private.propDiffs=this._private.propDiffs||{},i=e+"-"+t,r=n[i];if(r)return r;for(var o=[],s={},a=0;a<this.length;a++){var l=this[a],c="t"===t[a],h="t"===e[a]!==c,d=l.mappedProperties.length>0;if(h||c&&d){var u=void 0;h&&d||h?u=l.properties:d&&(u=l.mappedProperties);for(var p=0;p<u.length;p++){for(var g=u[p],f=g.name,m=!1,v=a+1;v<this.length&&("t"!==t[v]||!(m=null!=this[v].properties[g.name]));v++);s[f]||m||(s[f]=!0,o.push(f))}}}return n[i]=o,o},getContextMeta:function(e){for(var t,n="",i=e._private.styleCxtKey||"",r=0;r<this.length;r++){var o=this[r];n+=o.selector&&o.selector.matches(e)?"t":"f"}return t=this.getPropertiesDiff(i,n),e._private.styleCxtKey=n,{key:n,diffPropNames:t,empty:0===t.length}},getContextStyle:function(e){var t=e.key,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var i={_private:{key:t}},r=0;r<this.length;r++){var o=this[r];if("t"===t[r])for(var s=0;s<o.properties.length;s++){var a=o.properties[s];i[a.name]=a}}return n[t]=i,i},applyContextStyle:function(e,t,n){for(var i=e.diffPropNames,r={},o=this.types,s=0;s<i.length;s++){var a=i[s],l=t[a],c=n.pstyle(a);if(!l){if(!c)continue;l=c.bypass?{name:a,deleteBypassed:!0}:{name:a,delete:!0}}if(c!==l){if(l.mapped===o.fn&&null!=c&&null!=c.mapping&&c.mapping.value===l.value){var h=c.mapping;if((h.fnValue=l.value(n))===h.prevFnValue)continue}var d=r[a]={prev:c};this.applyParsedProperty(n,l),d.next=n.pstyle(a),d.next&&d.next.bypass&&(d.next=d.next.bypassed)}}return{diffProps:r}},updateStyleHints:function(e){var t,n=e._private,i=this,r=i.propertyGroupKeys,o=function(e,t,n){return i.getPropertiesHash(e,t,n)},s=n.styleKey;if(e.removed())return!1;var a="nodes"===n.group,l=e._private.style;t=Object.keys(l);for(var c=0;c<r.length;c++)n.styleKeys[r[c]]=[9261,5381];for(var h,d=function(e,t){return n.styleKeys[t][0]=U(e,n.styleKeys[t][0])},u=function(e,t){return n.styleKeys[t][1]=J(e,n.styleKeys[t][1])},p=function(e,t){d(e,t),u(e,t)},g=function(e,t){for(var n=0;n<e.length;n++){var i=e.charCodeAt(n);d(i,t),u(i,t)}},f=0;f<t.length;f++){var m=t[f],v=l[m];if(null!=v){var y=this.properties[m],b=y.type,C=y.groupKey,w=void 0;null!=y.hashOverride?w=y.hashOverride(e,v):null!=v.pfValue&&(w=v.pfValue);var _=null==y.enums?v.value:null,x=null!=w,I=v.units;!b.number||!x&&null==_||b.multiple?g(v.strValue,C):(p(-128<(h=x?w:_)&&h<128&&Math.floor(h)!==h?2e9-(1024*h|0):h,C),x||null==I||g(I,C))}}for(var A=[9261,5381],k=0;k<r.length;k++){var S=n.styleKeys[r[k]];A[0]=U(S[0],A[0]),A[1]=J(S[1],A[1])}n.styleKey=2097152*A[0]+A[1];var E=n.styleKeys;n.labelDimsKey=q(E.labelDimensions);var O=o(e,["label"],E.labelDimensions);if(n.labelKey=q(O),n.labelStyleKey=q(Q(E.commonLabel,O)),!a){var P=o(e,["source-label"],E.labelDimensions);n.sourceLabelKey=q(P),n.sourceLabelStyleKey=q(Q(E.commonLabel,P));var M=o(e,["target-label"],E.labelDimensions);n.targetLabelKey=q(M),n.targetLabelStyleKey=q(Q(E.commonLabel,M))}if(a){var T=n.styleKeys,R=T.pie,D=[T.nodeBody,T.nodeBorder,T.backgroundImage,T.compound,R].filter((function(e){return null!=e})).reduce(Q,[9261,5381]);n.nodeKey=q(D),n.hasPie=null!=R&&9261!==R[0]&&5381!==R[1]}return s!==n.styleKey},clearStyleHints:function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null},applyParsedProperty:function(e,t){var n,i=this,r=t,o=e._private.style,s=i.types,a=i.properties[r.name].type,l=r.bypass,c=o[r.name],h=c&&c.bypass,d=e._private,u=function(e){return null==e?null:null!=e.pfValue?e.pfValue:e.value},p=function(){var t=u(c),n=u(r);i.checkTriggers(e,r.name,t,n)};if("curve-style"===t.name&&e.isEdge()&&("bezier"!==t.value&&e.isLoop()||"haystack"===t.value&&(e.source().isParent()||e.target().isParent()))&&(r=t=this.parse(t.name,"bezier",l)),r.delete)return o[r.name]=void 0,p(),!0;if(r.deleteBypassed)return c?!!c.bypass&&(c.bypassed=void 0,p(),!0):(p(),!0);if(r.deleteBypass)return c?!!c.bypass&&(o[r.name]=c.bypassed,p(),!0):(p(),!0);var g=function(){pe("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+r.name+"` with data field `"+r.field+"`); try a `["+r.field+"]` selector to limit scope to elements with `"+r.field+"` defined")};switch(r.mapped){case s.mapData:for(var f,m=r.field.split("."),v=d.data,y=0;y<m.length&&v;y++)v=v[m[y]];if(null==v)return g(),!1;if(!x(v))return pe("Do not use continuous mappers without specifying numeric data (i.e. `"+r.field+": "+v+"` for `"+e.id()+"` is non-numeric)"),!1;var b=r.fieldMax-r.fieldMin;if((f=0===b?0:(v-r.fieldMin)/b)<0?f=0:f>1&&(f=1),a.color){var C=r.valueMin[0],w=r.valueMin[1],_=r.valueMax[1],I=r.valueMin[2],A=r.valueMax[2],k=null==r.valueMin[3]?1:r.valueMin[3],S=null==r.valueMax[3]?1:r.valueMax[3],E=[Math.round(C+(r.valueMax[0]-C)*f),Math.round(w+(_-w)*f),Math.round(I+(A-I)*f),Math.round(k+(S-k)*f)];n={bypass:r.bypass,name:r.name,value:E,strValue:"rgb("+E[0]+", "+E[1]+", "+E[2]+")"}}else{if(!a.number)return!1;n=this.parse(r.name,r.valueMin+(r.valueMax-r.valueMin)*f,r.bypass,"mapping")}if(!n)return g(),!1;n.mapping=r,r=n;break;case s.data:for(var O=r.field.split("."),P=d.data,M=0;M<O.length&&P;M++)P=P[O[M]];if(null!=P&&(n=this.parse(r.name,P,r.bypass,"mapping")),!n)return g(),!1;n.mapping=r,r=n;break;case s.fn:var T=null!=r.fnValue?r.fnValue:(0,r.value)(e);if(r.prevFnValue=T,null==T)return pe("Custom function mappers may not return null (i.e. `"+r.name+"` for ele `"+e.id()+"` is null)"),!1;if(!(n=this.parse(r.name,T,r.bypass,"mapping")))return pe("Custom function mappers may not return invalid values for the property type (i.e. `"+r.name+"` for ele `"+e.id()+"` is invalid)"),!1;n.mapping=ge(r),r=n;break;case void 0:break;default:return!1}return l?(r.bypassed=h?c.bypassed:c,o[r.name]=r):h?c.bypassed=r:o[r.name]=r,p(),!0},cleanElements:function(e,t){for(var n=0;n<e.length;n++){var i=e[n];if(this.clearStyleHints(i),i.dirtyCompoundBoundsCache(),i.dirtyBoundingBoxCache(),t)for(var r=i._private.style,o=Object.keys(r),s=0;s<o.length;s++){var a=o[s],l=r[a];null!=l&&(l.bypass?l.bypassed=null:r[a]=null)}else i._private.style={}}},update:function(){this._private.cy.mutableElements().updateStyle()},updateTransitions:function(e,t){var n=this,i=e._private,r=e.pstyle("transition-property").value,o=e.pstyle("transition-duration").pfValue,s=e.pstyle("transition-delay").pfValue;if(r.length>0&&o>0){for(var a={},l=!1,c=0;c<r.length;c++){var h=r[c],d=e.pstyle(h),u=t[h];if(u){var p=u.prev,g=null!=u.next?u.next:d,f=!1,m=void 0;p&&(x(p.pfValue)&&x(g.pfValue)?m=p.pfValue+1e-6*(f=g.pfValue-p.pfValue):x(p.value)&&x(g.value)?m=p.value+1e-6*(f=g.value-p.value):w(p.value)&&w(g.value)&&(f=p.value[0]!==g.value[0]||p.value[1]!==g.value[1]||p.value[2]!==g.value[2],m=p.strValue),f&&(a[h]=g.strValue,this.applyBypass(e,h,m),l=!0))}}if(!l)return;i.transitioning=!0,new Vn((function(t){s>0?e.delayAnimation(s).play().promise().then(t):t()})).then((function(){return e.animation({style:a,duration:o,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()})).then((function(){n.removeBypasses(e,r),e.emitAndNotify("style"),i.transitioning=!1}))}else i.transitioning&&(this.removeBypasses(e,r),e.emitAndNotify("style"),i.transitioning=!1)},checkTrigger:function(e,t,n,i,r,o){var s=this.properties[t],a=r(s);null!=a&&a(n,i)&&o(s)},checkZOrderTrigger:function(e,t,n,i){var r=this;this.checkTrigger(e,t,n,i,(function(e){return e.triggersZOrder}),(function(){r._private.cy.notify("zorder",e)}))},checkBoundsTrigger:function(e,t,n,i){this.checkTrigger(e,t,n,i,(function(e){return e.triggersBounds}),(function(r){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),"curve-style"!==t||"bezier"!==n&&"bezier"!==i||!r.triggersBoundsOfParallelBeziers||e.parallelEdges().forEach((function(e){e.isBundledBezier()&&e.dirtyBoundingBoxCache()}))}))},checkTriggers:function(e,t,n,i){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,n,i),this.checkBoundsTrigger(e,t,n,i)}},no={applyBypass:function(e,t,n,i){var r=[];if("*"===t||"**"===t){if(void 0!==n)for(var o=0;o<this.properties.length;o++){var s=this.parse(this.properties[o].name,n,!0);s&&r.push(s)}}else if(b(t)){var a=this.parse(t,n,!0);a&&r.push(a)}else{if(!_(t))return!1;var l=t;i=n;for(var c=Object.keys(l),h=0;h<c.length;h++){var d=c[h],u=l[d];if(void 0===u&&(u=l[D(d)]),void 0!==u){var p=this.parse(d,u,!0);p&&r.push(p)}}}if(0===r.length)return!1;for(var g=!1,f=0;f<e.length;f++){for(var m=e[f],v={},y=void 0,C=0;C<r.length;C++){var w=r[C];if(i){var x=m.pstyle(w.name);y=v[w.name]={prev:x}}g=this.applyParsedProperty(m,ge(w))||g,i&&(y.next=m.pstyle(w.name))}g&&this.updateStyleHints(m),i&&this.updateTransitions(m,v,!0)}return g},overrideBypass:function(e,t,n){t=R(t);for(var i=0;i<e.length;i++){var r=e[i],o=r._private.style[t],s=this.properties[t].type,a=s.color,l=s.mutiple,c=o?null!=o.pfValue?o.pfValue:o.value:null;o&&o.bypass?(o.value=n,null!=o.pfValue&&(o.pfValue=n),o.strValue=a?"rgb("+n.join(",")+")":l?n.join(" "):""+n,this.updateStyleHints(r)):this.applyBypass(r,t,n),this.checkTriggers(r,t,c,n)}},removeAllBypasses:function(e,t){return this.removeBypasses(e,this.propertyNames,t)},removeBypasses:function(e,t,n){for(var i=0;i<e.length;i++){for(var r=e[i],o={},s=0;s<t.length;s++){var a=t[s],l=this.properties[a],c=r.pstyle(l.name);if(c&&c.bypass){var h=this.parse(a,"",!0),d=o[l.name]={prev:c};this.applyParsedProperty(r,h),d.next=r.pstyle(l.name)}}this.updateStyleHints(r),n&&this.updateTransitions(r,o,!0)}}},io={getEmSizeInPixels:function(){var e=this.containerCss("font-size");return null!=e?parseFloat(e):1},containerCss:function(e){var t=this._private.cy.container();if(u&&t&&u.getComputedStyle)return u.getComputedStyle(t).getPropertyValue(e)}},ro={getRenderedStyle:function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)},getRawStyle:function(e,t){if(e=e[0]){for(var n={},i=0;i<this.properties.length;i++){var r=this.properties[i],o=this.getStylePropertyValue(e,r.name,t);null!=o&&(n[r.name]=o,n[D(r.name)]=o)}return n}},getIndexedStyle:function(e,t,n,i){var r=e.pstyle(t)[n][i];return null!=r?r:e.cy().style().getDefaultProperty(t)[n][0]},getStylePropertyValue:function(e,t,n){if(e=e[0]){var i=this.properties[t];i.alias&&(i=i.pointsTo);var r=i.type,o=e.pstyle(i.name);if(o){var s=o.value,a=o.units,l=o.strValue;if(n&&r.number&&null!=s&&x(s)){var c=e.cy().zoom(),h=function(e){return e*c},d=function(e,t){return h(e)+t},u=w(s);return(u?a.every((function(e){return null!=e})):null!=a)?u?s.map((function(e,t){return d(e,a[t])})).join(" "):d(s,a):u?s.map((function(e){return b(e)?e:""+h(e)})).join(" "):""+h(s)}if(null!=l)return l}return null}},getAnimationStartStyle:function(e,t){for(var n={},i=0;i<t.length;i++){var r=t[i].name,o=e.pstyle(r);void 0!==o&&(o=_(o)?this.parse(r,o.strValue):this.parse(r,o)),o&&(n[r]=o)}return n},getPropsList:function(e){var t=[],n=e,i=this.properties;if(n)for(var r=Object.keys(n),o=0;o<r.length;o++){var s=r[o],a=n[s],l=i[s]||i[R(s)],c=this.parse(l.name,a);c&&t.push(c)}return t},getNonDefaultPropertiesHash:function(e,t,n){var i,r,o,s,a,l=n.slice();for(s=0;s<t.length;s++)if(null!=(i=e.pstyle(t[s],!1)))if(null!=i.pfValue)l[0]=U(o,l[0]),l[1]=J(o,l[1]);else for(r=i.strValue,a=0;a<r.length;a++)o=r.charCodeAt(a),l[0]=U(o,l[0]),l[1]=J(o,l[1]);return l}};ro.getPropertiesHash=ro.getNonDefaultPropertiesHash;var oo={appendFromJson:function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n.selector,r=n.style||n.css,o=Object.keys(r);this.selector(i);for(var s=0;s<o.length;s++){var a=o[s];this.css(a,r[a])}}return this},fromJson:function(e){return this.resetToDefault(),this.appendFromJson(e),this},json:function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var n=this[t],i=n.selector,r=n.properties,o={},s=0;s<r.length;s++){var a=r[s];o[a.name]=a.strValue}e.push({selector:i?i.toString():"core",style:o})}return e}},so={appendFromString:function(e){var t,n,i,r=""+e;function o(){r=r.length>t.length?r.substr(t.length):""}function s(){n=n.length>i.length?n.substr(i.length):""}for(r=r.replace(/[/][*](\s|.)+?[*][/]/g,"");!r.match(/^\s*$/);){var a=r.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!a){pe("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+r);break}t=a[0];var l=a[1];if("core"!==l&&new ri(l).invalid)pe("Skipping parsing of block: Invalid selector found in string stylesheet: "+l),o();else{var c=a[2],h=!1;n=c;for(var d=[];!n.match(/^\s*$/);){var u=n.match(/^\s*(.+?)\s*:\s*(.+?)\s*;/);if(!u){pe("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+c),h=!0;break}i=u[0];var p=u[1],g=u[2];this.properties[p]?this.parse(p,g)?(d.push({name:p,val:g}),s()):(pe("Skipping property: Invalid property definition in: "+i),s()):(pe("Skipping property: Invalid property name in: "+i),s())}if(h){o();break}this.selector(l);for(var f=0;f<d.length;f++){var m=d[f];this.css(m.name,m.val)}o()}}return this},fromString:function(e){return this.resetToDefault(),this.appendFromString(e),this}},ao={};!function(){var e=B,t=function(e){return"^"+e+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},n=function(t){var n=e+"|\\w+|rgb[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|hsl[a]?\\((?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*(?:(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)|\\#[0-9a-fA-F]{3}|\\#[0-9a-fA-F]{6}";return"^"+t+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+n+")\\s*\\,\\s*("+n+")\\)$"},i=["^url\\s*\\(\\s*['\"]?(.+?)['\"]?\\s*\\)$","^(none)$","^(.+)$"];ao.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","taxi"]},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","polygon"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:t("data")},layoutData:{mapping:!0,regex:t("layoutData")},scratch:{mapping:!0,regex:t("scratch")},mapData:{mapping:!0,regex:n("mapData")},mapLayoutData:{mapping:!0,regex:n("mapLayoutData")},mapScratch:{mapping:!0,regex:n("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:i,singleRegexMatchValue:!0},urls:{regexes:i,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function(e,t){switch(e.length){case 2:return"deg"!==t[0]&&"rad"!==t[0]&&"deg"!==t[1]&&"rad"!==t[1];case 1:return b(e[0])||"deg"===t[0]||"rad"===t[0];default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function(e){var t=e.length;return 1===t||2===t||4===t}}};var r={zeroNonZero:function(e,t){return(null==e||null==t)&&e!==t||0==e&&0!=t||0!=e&&0==t},any:function(e,t){return e!=t},emptyNonEmpty:function(e,t){var n=P(e),i=P(t);return n&&!i||!n&&i}},o=ao.types,s=[{name:"label",type:o.text,triggersBounds:r.any,triggersZOrder:r.emptyNonEmpty},{name:"text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any}],a=[{name:"source-label",type:o.text,triggersBounds:r.any},{name:"source-text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"source-text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"source-text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"source-text-offset",type:o.size,triggersBounds:r.any}],l=[{name:"target-label",type:o.text,triggersBounds:r.any},{name:"target-text-rotation",type:o.textRotation,triggersBounds:r.any},{name:"target-text-margin-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"target-text-margin-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"target-text-offset",type:o.size,triggersBounds:r.any}],c=[{name:"font-family",type:o.fontFamily,triggersBounds:r.any},{name:"font-style",type:o.fontStyle,triggersBounds:r.any},{name:"font-weight",type:o.fontWeight,triggersBounds:r.any},{name:"font-size",type:o.size,triggersBounds:r.any},{name:"text-transform",type:o.textTransform,triggersBounds:r.any},{name:"text-wrap",type:o.textWrap,triggersBounds:r.any},{name:"text-overflow-wrap",type:o.textOverflowWrap,triggersBounds:r.any},{name:"text-max-width",type:o.size,triggersBounds:r.any},{name:"text-outline-width",type:o.size,triggersBounds:r.any},{name:"line-height",type:o.positiveNumber,triggersBounds:r.any}],h=[{name:"text-valign",type:o.valign,triggersBounds:r.any},{name:"text-halign",type:o.halign,triggersBounds:r.any},{name:"color",type:o.color},{name:"text-outline-color",type:o.color},{name:"text-outline-opacity",type:o.zeroOneNumber},{name:"text-background-color",type:o.color},{name:"text-background-opacity",type:o.zeroOneNumber},{name:"text-background-padding",type:o.size,triggersBounds:r.any},{name:"text-border-opacity",type:o.zeroOneNumber},{name:"text-border-color",type:o.color},{name:"text-border-width",type:o.size,triggersBounds:r.any},{name:"text-border-style",type:o.borderStyle,triggersBounds:r.any},{name:"text-background-shape",type:o.textBackgroundShape,triggersBounds:r.any},{name:"text-justification",type:o.justification}],d=[{name:"events",type:o.bool},{name:"text-events",type:o.bool}],u=[{name:"display",type:o.display,triggersZOrder:r.any,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"visibility",type:o.visibility,triggersZOrder:r.any},{name:"opacity",type:o.zeroOneNumber,triggersZOrder:r.zeroNonZero},{name:"text-opacity",type:o.zeroOneNumber},{name:"min-zoomed-font-size",type:o.size},{name:"z-compound-depth",type:o.zCompoundDepth,triggersZOrder:r.any},{name:"z-index-compare",type:o.zIndexCompare,triggersZOrder:r.any},{name:"z-index",type:o.nonNegativeInt,triggersZOrder:r.any}],p=[{name:"overlay-padding",type:o.size,triggersBounds:r.any},{name:"overlay-color",type:o.color},{name:"overlay-opacity",type:o.zeroOneNumber,triggersBounds:r.zeroNonZero}],g=[{name:"transition-property",type:o.propList},{name:"transition-duration",type:o.time},{name:"transition-delay",type:o.time},{name:"transition-timing-function",type:o.easing}],f=function(e,t){return"label"===t.value?-e.poolIndex():t.pfValue},m=[{name:"height",type:o.nodeSize,triggersBounds:r.any,hashOverride:f},{name:"width",type:o.nodeSize,triggersBounds:r.any,hashOverride:f},{name:"shape",type:o.nodeShape,triggersBounds:r.any},{name:"shape-polygon-points",type:o.polygonPointList,triggersBounds:r.any},{name:"background-color",type:o.color},{name:"background-fill",type:o.fill},{name:"background-opacity",type:o.zeroOneNumber},{name:"background-blacken",type:o.nOneOneNumber},{name:"background-gradient-stop-colors",type:o.colors},{name:"background-gradient-stop-positions",type:o.percentages},{name:"background-gradient-direction",type:o.gradientDirection},{name:"padding",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"padding-relative-to",type:o.paddingRelativeTo,triggersBounds:r.any},{name:"bounds-expansion",type:o.boundsExpansion,triggersBounds:r.any}],v=[{name:"border-color",type:o.color},{name:"border-opacity",type:o.zeroOneNumber},{name:"border-width",type:o.size,triggersBounds:r.any},{name:"border-style",type:o.borderStyle}],y=[{name:"background-image",type:o.urls},{name:"background-image-crossorigin",type:o.bgCrossOrigin},{name:"background-image-opacity",type:o.zeroOneNumbers},{name:"background-position-x",type:o.bgPos},{name:"background-position-y",type:o.bgPos},{name:"background-width-relative-to",type:o.bgRelativeTo},{name:"background-height-relative-to",type:o.bgRelativeTo},{name:"background-repeat",type:o.bgRepeat},{name:"background-fit",type:o.bgFit},{name:"background-clip",type:o.bgClip},{name:"background-width",type:o.bgWH},{name:"background-height",type:o.bgWH},{name:"background-offset-x",type:o.bgPos},{name:"background-offset-y",type:o.bgPos}],C=[{name:"position",type:o.position,triggersBounds:r.any},{name:"compound-sizing-wrt-labels",type:o.compoundIncludeLabels,triggersBounds:r.any},{name:"min-width",type:o.size,triggersBounds:r.any},{name:"min-width-bias-left",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-width-bias-right",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-height",type:o.size,triggersBounds:r.any},{name:"min-height-bias-top",type:o.sizeMaybePercent,triggersBounds:r.any},{name:"min-height-bias-bottom",type:o.sizeMaybePercent,triggersBounds:r.any}],w=[{name:"line-style",type:o.lineStyle},{name:"line-color",type:o.color},{name:"line-fill",type:o.fill},{name:"line-cap",type:o.lineCap},{name:"line-dash-pattern",type:o.numbers},{name:"line-dash-offset",type:o.number},{name:"line-gradient-stop-colors",type:o.colors},{name:"line-gradient-stop-positions",type:o.percentages},{name:"curve-style",type:o.curveStyle,triggersBounds:r.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:o.zeroOneNumber,triggersBounds:r.any},{name:"source-endpoint",type:o.edgeEndpoint,triggersBounds:r.any},{name:"target-endpoint",type:o.edgeEndpoint,triggersBounds:r.any},{name:"control-point-step-size",type:o.size,triggersBounds:r.any},{name:"control-point-distances",type:o.bidirectionalSizes,triggersBounds:r.any},{name:"control-point-weights",type:o.numbers,triggersBounds:r.any},{name:"segment-distances",type:o.bidirectionalSizes,triggersBounds:r.any},{name:"segment-weights",type:o.numbers,triggersBounds:r.any},{name:"taxi-turn",type:o.bidirectionalSizeMaybePercent,triggersBounds:r.any},{name:"taxi-turn-min-distance",type:o.size,triggersBounds:r.any},{name:"taxi-direction",type:o.axisDirection,triggersBounds:r.any},{name:"edge-distances",type:o.edgeDistances,triggersBounds:r.any},{name:"arrow-scale",type:o.positiveNumber,triggersBounds:r.any},{name:"loop-direction",type:o.angle,triggersBounds:r.any},{name:"loop-sweep",type:o.angle,triggersBounds:r.any},{name:"source-distance-from-node",type:o.size,triggersBounds:r.any},{name:"target-distance-from-node",type:o.size,triggersBounds:r.any}],_=[{name:"ghost",type:o.bool,triggersBounds:r.any},{name:"ghost-offset-x",type:o.bidirectionalSize,triggersBounds:r.any},{name:"ghost-offset-y",type:o.bidirectionalSize,triggersBounds:r.any},{name:"ghost-opacity",type:o.zeroOneNumber}],x=[{name:"selection-box-color",type:o.color},{name:"selection-box-opacity",type:o.zeroOneNumber},{name:"selection-box-border-color",type:o.color},{name:"selection-box-border-width",type:o.size},{name:"active-bg-color",type:o.color},{name:"active-bg-opacity",type:o.zeroOneNumber},{name:"active-bg-size",type:o.size},{name:"outside-texture-bg-color",type:o.color},{name:"outside-texture-bg-opacity",type:o.zeroOneNumber}],I=[];ao.pieBackgroundN=16,I.push({name:"pie-size",type:o.sizeMaybePercent});for(var A=1;A<=ao.pieBackgroundN;A++)I.push({name:"pie-"+A+"-background-color",type:o.color}),I.push({name:"pie-"+A+"-background-size",type:o.percent}),I.push({name:"pie-"+A+"-background-opacity",type:o.zeroOneNumber});var k=[],S=ao.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:o.arrowShape,triggersBounds:r.any},{name:"arrow-color",type:o.color},{name:"arrow-fill",type:o.arrowFill}].forEach((function(e){S.forEach((function(t){k.push({name:t+"-"+e.name,type:e.type,triggersBounds:e.triggersBounds})}))}),{});var E=ao.properties=[].concat(d,g,u,p,_,h,c,s,a,l,m,v,y,I,C,w,k,x),O=ao.propertyGroups={behavior:d,transition:g,visibility:u,overlay:p,ghost:_,commonLabel:h,labelDimensions:c,mainLabel:s,sourceLabel:a,targetLabel:l,nodeBody:m,nodeBorder:v,backgroundImage:y,pie:I,compound:C,edgeLine:w,edgeArrow:k,core:x},M=ao.propertyGroupNames={};(ao.propertyGroupKeys=Object.keys(O)).forEach((function(e){M[e]=O[e].map((function(e){return e.name})),O[e].forEach((function(t){return t.groupKey=e}))}));var T=ao.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];ao.propertyNames=E.map((function(e){return e.name}));for(var R=0;R<E.length;R++){var D=E[R];E[D.name]=D}for(var N=0;N<T.length;N++){var L=T[N],F={name:L.name,alias:!0,pointsTo:E[L.pointsTo]};E.push(F),E[L.name]=F}}(),ao.getDefaultProperty=function(e){return this.getDefaultProperties()[e]},ao.getDefaultProperties=function(){var e=this._private;if(null!=e.defaultProperties)return e.defaultProperties;for(var t=V({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce((function(e,t){for(var n=1;n<=ao.pieBackgroundN;n++)e[t.name.replace("{{i}}",n)]=t.value;return e}),{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"taxi-turn":"50%","taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"}].reduce((function(e,t){return ao.arrowPrefixes.forEach((function(n){e[n+"-"+t.name]=t.value})),e}),{})),n={},i=0;i<this.properties.length;i++){var r=this.properties[i];if(!r.pointsTo){var o=r.name,s=this.parse(o,t[o]);n[o]=s}}return e.defaultProperties=n,e.defaultProperties},ao.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var lo={parse:function(e,t,n,i){if(C(t))return this.parseImplWarn(e,t,n,i);var r,o=te(e,""+t,n?"t":"f","mapping"===i||!0===i||!1===i||null==i?"dontcare":i),s=this.propCache=this.propCache||[];return(r=s[o])||(r=s[o]=this.parseImplWarn(e,t,n,i)),(n||"mapping"===i)&&(r=ge(r))&&(r.value=ge(r.value)),r},parseImplWarn:function(e,t,n,i){var r=this.parseImpl(e,t,n,i);return r||null==t||pe("The style property `".concat(e,": ").concat(t,"` is invalid")),!r||"width"!==r.name&&"height"!==r.name||"label"!==t||pe("The style value of `label` is deprecated for `"+r.name+"`"),r},parseImpl:function(e,t,n,i){e=R(e);var r=this.properties[e],o=t,s=this.types;if(!r)return null;if(void 0===t)return null;r.alias&&(e=(r=r.pointsTo).name);var a=b(t);a&&(t=t.trim());var l,c,h=r.type;if(!h)return null;if(n&&(""===t||null===t))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(C(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:n};if(!a||i||t.length<7||"a"!==t[1]);else{if(t.length>=7&&"d"===t[0]&&(l=new RegExp(s.data.regex).exec(t)))return!n&&{name:e,value:l,strValue:""+t,mapped:s.data,field:l[1],bypass:n};if(t.length>=10&&"m"===t[0]&&(c=new RegExp(s.mapData.regex).exec(t))){if(n)return!1;if(h.multiple)return!1;var d=s.mapData;if(!h.color&&!h.number)return!1;var u=this.parse(e,c[4]);if(!u||u.mapped)return!1;var p=this.parse(e,c[5]);if(!p||p.mapped)return!1;if(u.pfValue===p.pfValue||u.strValue===p.strValue)return pe("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+u.strValue+"`"),this.parse(e,u.strValue);if(h.color){var g=u.value,f=p.value;if(!(g[0]!==f[0]||g[1]!==f[1]||g[2]!==f[2]||g[3]!==f[3]&&(null!=g[3]&&1!==g[3]||null!=f[3]&&1!==f[3])))return!1}return{name:e,value:c,strValue:""+t,mapped:d,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:u.value,valueMax:p.value,bypass:n}}}if(h.multiple&&"multiple"!==i){var m;if(m=a?t.split(/\s+/):w(t)?t:[t],h.evenMultiple&&m.length%2!=0)return null;for(var v=[],y=[],_=[],I="",A=!1,k=0;k<m.length;k++){var S=this.parse(e,m[k],n,"multiple");A=A||b(S.value),v.push(S.value),_.push(null!=S.pfValue?S.pfValue:S.value),y.push(S.units),I+=(k>0?" ":"")+S.strValue}return h.validate&&!h.validate(v,y)?null:h.singleEnum&&A?1===v.length&&b(v[0])?{name:e,value:v[0],strValue:v[0],bypass:n}:null:{name:e,value:v,pfValue:_,strValue:I,bypass:n,units:y}}var E,O,P=function(){for(var i=0;i<h.enums.length;i++)if(h.enums[i]===t)return{name:e,value:t,strValue:""+t,bypass:n};return null};if(h.number){var M,T="px";if(h.units&&(M=h.units),h.implicitUnits&&(T=h.implicitUnits),!h.unitless)if(a){var D="px|em"+(h.allowPercent?"|\\%":"");M&&(D=M);var N=t.match("^("+B+")("+D+")?$");N&&(t=N[1],M=N[2]||T)}else M&&!h.implicitUnits||(M=T);if(t=parseFloat(t),isNaN(t)&&void 0===h.enums)return null;if(isNaN(t)&&void 0!==h.enums)return t=o,P();if(h.integer&&(!x(E=t)||Math.floor(E)!==E))return null;if(void 0!==h.min&&(t<h.min||h.strictMin&&t===h.min)||void 0!==h.max&&(t>h.max||h.strictMax&&t===h.max))return null;var L={name:e,value:t,strValue:""+t+(M||""),units:M,bypass:n};return L.pfValue=h.unitless||"px"!==M&&"em"!==M?t:"px"!==M&&M?this.getEmSizeInPixels()*t:t,"ms"!==M&&"s"!==M||(L.pfValue="ms"===M?t:1e3*t),"deg"!==M&&"rad"!==M||(L.pfValue="rad"===M?t:Math.PI*t/180),"%"===M&&(L.pfValue=t/100),L}if(h.propList){var F=[],V=""+t;if("none"===V);else{for(var H=V.split(/\s*,\s*|\s+/),j=0;j<H.length;j++){var W=H[j].trim();this.properties[W]?F.push(W):pe("`"+W+"` is not a valid property name")}if(0===F.length)return null}return{name:e,value:F,strValue:0===F.length?"none":F.join(" "),bypass:n}}if(h.color){var z=(w(O=t)?O:null)||function(e){return $[e.toLowerCase()]}(O)||function(e){var t,n,i;if((4===e.length||7===e.length)&&"#"===e[0])return 4===e.length?(t=parseInt(e[1]+e[1],16),n=parseInt(e[2]+e[2],16),i=parseInt(e[3]+e[3],16)):(t=parseInt(e[1]+e[2],16),n=parseInt(e[3]+e[4],16),i=parseInt(e[5]+e[6],16)),[t,n,i]}(O)||function(e){var t,n=new RegExp("^rgb[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%]?)(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(n){t=[];for(var i=[],r=1;r<=3;r++){var o=n[r];if("%"===o[o.length-1]&&(i[r]=!0),o=parseFloat(o),i[r]&&(o=o/100*255),o<0||o>255)return;t.push(Math.floor(o))}if((i[1]||i[2]||i[3])&&!(i[1]&&i[2]&&i[3]))return;var s=n[4];if(void 0!==s){if((s=parseFloat(s))<0||s>1)return;t.push(s)}}return t}(O)||function(e){var t,n,i,r,o,s,a,l;function c(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e}var h=new RegExp("^hsl[a]?\\(((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?)))\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))[%])(?:\\s*,\\s*((?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))))?\\)$").exec(e);if(h){if((n=parseInt(h[1]))<0?n=(360- -1*n%360)%360:n>360&&(n%=360),n/=360,(i=parseFloat(h[2]))<0||i>100)return;if(i/=100,(r=parseFloat(h[3]))<0||r>100)return;if(r/=100,void 0!==(o=h[4])&&((o=parseFloat(o))<0||o>1))return;if(0===i)s=a=l=Math.round(255*r);else{var d=r<.5?r*(1+i):r+i-r*i,u=2*r-d;s=Math.round(255*c(u,d,n+1/3)),a=Math.round(255*c(u,d,n)),l=Math.round(255*c(u,d,n-1/3))}t=[s,a,l,o]}return t}(O);return z?{name:e,value:z,pfValue:z,strValue:"rgb("+z[0]+","+z[1]+","+z[2]+")",bypass:n}:null}if(h.regex||h.regexes){if(h.enums){var G=P();if(G)return G}for(var Z=h.regexes?h.regexes:[h.regex],K=0;K<Z.length;K++){var X=new RegExp(Z[K]).exec(t);if(X)return{name:e,value:h.singleRegexMatchValue?X[1]:X,strValue:""+t,bypass:n}}return null}return h.string?{name:e,value:""+t,strValue:""+t,bypass:n}:h.enums?P():null}},co=function e(t){if(!(this instanceof e))return new e(t);E(t)?(this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()):de("A style must have a core reference")},ho=co.prototype;ho.instanceString=function(){return"style"},ho.clear=function(){for(var e=this._private,t=e.cy.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(t,!0),t.forEach((function(e){var t=e[0]._private;t.styleDirty=!0,t.appliedInitStyle=!1})),this},ho.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this},ho.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)},ho.selector=function(e){var t="core"===e?null:new ri(e),n=this.length++;return this[n]={selector:t,properties:[],mappedProperties:[],index:n},this},ho.css=function(){var e=this,t=arguments;if(1===t.length)for(var n=t[0],i=0;i<e.properties.length;i++){var r=e.properties[i],o=n[r.name];void 0===o&&(o=n[D(r.name)]),void 0!==o&&this.cssRule(r.name,o)}else 2===t.length&&this.cssRule(t[0],t[1]);return this},ho.style=ho.css,ho.cssRule=function(e,t){var n=this.parse(e,t);if(n){var i=this.length-1;this[i].properties.push(n),this[i].properties[n.name]=n,n.name.match(/pie-(\d+)-background-size/)&&n.value&&(this._private.hasPie=!0),n.mapped&&this[i].mappedProperties.push(n),!this[i].selector&&(this._private.coreStyle[n.name]=n)}return this},ho.append=function(e){return O(e)?e.appendToStyle(this):w(e)?this.appendFromJson(e):b(e)&&this.appendFromString(e),this},co.fromJson=function(e,t){var n=new co(e);return n.fromJson(t),n},co.fromString=function(e,t){return new co(e).fromString(t)},[to,no,io,ro,oo,so,ao,lo].forEach((function(e){V(ho,e)})),co.types=ho.types,co.properties=ho.properties,co.propertyGroups=ho.propertyGroups,co.propertyGroupNames=ho.propertyGroupNames,co.propertyGroupKeys=ho.propertyGroupKeys;var uo={style:function(e){return e&&this.setStyle(e).update(),this._private.style},setStyle:function(e){var t=this._private;return t.style=O(e)?e.generateStyle(this):w(e)?co.fromJson(this,e):b(e)?co.fromString(this,e):co(this),t.style}},po={autolock:function(e){return void 0===e?this._private.autolock:(this._private.autolock=!!e,this)},autoungrabify:function(e){return void 0===e?this._private.autoungrabify:(this._private.autoungrabify=!!e,this)},autounselectify:function(e){return void 0===e?this._private.autounselectify:(this._private.autounselectify=!!e,this)},selectionType:function(e){var t=this._private;return null==t.selectionType&&(t.selectionType="single"),void 0===e?t.selectionType:("additive"!==e&&"single"!==e||(t.selectionType=e),this)},panningEnabled:function(e){return void 0===e?this._private.panningEnabled:(this._private.panningEnabled=!!e,this)},userPanningEnabled:function(e){return void 0===e?this._private.userPanningEnabled:(this._private.userPanningEnabled=!!e,this)},zoomingEnabled:function(e){return void 0===e?this._private.zoomingEnabled:(this._private.zoomingEnabled=!!e,this)},userZoomingEnabled:function(e){return void 0===e?this._private.userZoomingEnabled:(this._private.userZoomingEnabled=!!e,this)},boxSelectionEnabled:function(e){return void 0===e?this._private.boxSelectionEnabled:(this._private.boxSelectionEnabled=!!e,this)},pan:function(){var e,t,n,i,r,o=arguments,s=this._private.pan;switch(o.length){case 0:return s;case 1:if(b(o[0]))return s[e=o[0]];if(_(o[0])){if(!this._private.panningEnabled)return this;r=(n=o[0]).y,x(i=n.x)&&(s.x=i),x(r)&&(s.y=r),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;t=o[1],"x"!==(e=o[0])&&"y"!==e||!x(t)||(s[e]=t),this.emit("pan viewport")}return this.notify("viewport"),this},panBy:function(e,t){var n,i,r,o,s,a=arguments,l=this._private.pan;if(!this._private.panningEnabled)return this;switch(a.length){case 1:_(e)&&(s=(r=a[0]).y,x(o=r.x)&&(l.x+=o),x(s)&&(l.y+=s),this.emit("pan viewport"));break;case 2:i=t,"x"!==(n=e)&&"y"!==n||!x(i)||(l[n]+=i),this.emit("pan viewport")}return this.notify("viewport"),this},fit:function(e,t){var n=this.getFitViewport(e,t);if(n){var i=this._private;i.zoom=n.zoom,i.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(e,t){var n,i;if(x(e)&&void 0===t&&(t=e,e=void 0),this._private.panningEnabled&&this._private.zoomingEnabled&&(b(e)?e=this.$(e):_(i=e)&&x(i.x1)&&x(i.x2)&&x(i.y1)&&x(i.y2)?((n={x1:e.x1,y1:e.y1,x2:e.x2,y2:e.y2}).w=n.x2-n.x1,n.h=n.y2-n.y1):A(e)||(e=this.mutableElements()),!A(e)||!e.empty())){n=n||e.boundingBox();var r,o=this.width(),s=this.height();if(t=x(t)?t:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0)return{zoom:r=(r=(r=Math.min((o-2*t)/n.w,(s-2*t)/n.h))>this._private.maxZoom?this._private.maxZoom:r)<this._private.minZoom?this._private.minZoom:r,pan:{x:(o-r*(n.x1+n.x2))/2,y:(s-r*(n.y1+n.y2))/2}}}},zoomRange:function(e,t){var n=this._private;if(null==t){var i=e;e=i.min,t=i.max}return x(e)&&x(t)&&e<=t?(n.minZoom=e,n.maxZoom=t):x(e)&&void 0===t&&e<=n.maxZoom?n.minZoom=e:x(t)&&void 0===e&&t>=n.minZoom&&(n.maxZoom=t),this},minZoom:function(e){return void 0===e?this._private.minZoom:this.zoomRange({min:e})},maxZoom:function(e){return void 0===e?this._private.maxZoom:this.zoomRange({max:e})},getZoomedViewport:function(e){var t,n,i=this._private,r=i.pan,o=i.zoom,s=!1;return i.zoomingEnabled||(s=!0),x(e)?n=e:_(e)&&(n=e.level,null!=e.position?t=je(e.position,o,r):null!=e.renderedPosition&&(t=e.renderedPosition),null==t||i.panningEnabled||(s=!0)),n=(n=n>i.maxZoom?i.maxZoom:n)<i.minZoom?i.minZoom:n,!s&&x(n)&&n!==o&&(null==t||x(t.x)&&x(t.y))?null!=t?{zoomed:!0,panned:!0,zoom:n,pan:{x:-n/o*(t.x-r.x)+t.x,y:-n/o*(t.y-r.y)+t.y}}:{zoomed:!0,panned:!1,zoom:n,pan:r}:null},zoom:function(e){if(void 0===e)return this._private.zoom;var t=this.getZoomedViewport(e),n=this._private;return null!=t&&t.zoomed?(n.zoom=t.zoom,t.panned&&(n.pan.x=t.pan.x,n.pan.y=t.pan.y),this.emit("zoom"+(t.panned?" pan":"")+" viewport"),this.notify("viewport"),this):this},viewport:function(e){var t=this._private,n=!0,i=!0,r=[],o=!1,s=!1;if(!e)return this;if(x(e.zoom)||(n=!1),_(e.pan)||(i=!1),!n&&!i)return this;if(n){var a=e.zoom;a<t.minZoom||a>t.maxZoom||!t.zoomingEnabled?o=!0:(t.zoom=a,r.push("zoom"))}if(i&&(!o||!e.cancelOnFailedZoom)&&t.panningEnabled){var l=e.pan;x(l.x)&&(t.pan.x=l.x,s=!1),x(l.y)&&(t.pan.y=l.y,s=!1),s||r.push("pan")}return r.length>0&&(r.push("viewport"),this.emit(r.join(" ")),this.notify("viewport")),this},center:function(e){var t=this.getCenterPan(e);return t&&(this._private.pan=t,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(e,t){if(this._private.panningEnabled){if(b(e)){var n=e;e=this.mutableElements().filter(n)}else A(e)||(e=this.mutableElements());if(0!==e.length){var i=e.boundingBox(),r=this.width(),o=this.height();return{x:(r-(t=void 0===t?this._private.zoom:t)*(i.x1+i.x2))/2,y:(o-t*(i.y1+i.y2))/2}}}},reset:function(){return this._private.panningEnabled&&this._private.zoomingEnabled?(this.viewport({pan:{x:0,y:0},zoom:1}),this):this},invalidateSize:function(){this._private.sizeCache=null},size:function(){var e,t,n=this._private,i=n.container;return n.sizeCache=n.sizeCache||(i?(e=u.getComputedStyle(i),{width:i.clientWidth-(t=function(t){return parseFloat(e.getPropertyValue(t))})("padding-left")-t("padding-right"),height:i.clientHeight-t("padding-top")-t("padding-bottom")}):{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var e=this._private.pan,t=this._private.zoom,n=this.renderedExtent(),i={x1:(n.x1-e.x)/t,x2:(n.x2-e.x)/t,y1:(n.y1-e.y)/t,y2:(n.y2-e.y)/t};return i.w=i.x2-i.x1,i.h=i.y2-i.y1,i},renderedExtent:function(){var e=this.width(),t=this.height();return{x1:0,y1:0,x2:e,y2:t,w:e,h:t}}};po.centre=po.center,po.autolockNodes=po.autolock,po.autoungrabifyNodes=po.autoungrabify;var go={data:jn.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeData:jn.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0}),scratch:jn.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0}),removeScratch:jn.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0})};go.attr=go.data,go.removeAttr=go.removeData;var fo=function(e){var t=this,n=(e=V({},e)).container;n&&!I(n)&&I(n[0])&&(n=n[0]);var i=n?n._cyreg:null;(i=i||{})&&i.cy&&(i.cy.destroy(),i={});var r=i.readies=i.readies||[];n&&(n._cyreg=i),i.cy=t;var o=void 0!==u&&void 0!==n&&!e.headless,s=e;s.layout=V({name:o?"grid":"null"},s.layout),s.renderer=V({name:o?"canvas":"null"},s.renderer);var a=function(e,t,n){return void 0!==t?t:void 0!==n?n:e},l=this._private={container:n,ready:!1,options:s,elements:new Tr(this),listeners:[],aniEles:new Tr(this),data:{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:a(!0,s.zoomingEnabled),userZoomingEnabled:a(!0,s.userZoomingEnabled),panningEnabled:a(!0,s.panningEnabled),userPanningEnabled:a(!0,s.userPanningEnabled),boxSelectionEnabled:a(!0,s.boxSelectionEnabled),autolock:a(!1,s.autolock,s.autolockNodes),autoungrabify:a(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:a(!1,s.autounselectify),styleEnabled:void 0===s.styleEnabled?o:s.styleEnabled,zoom:x(s.zoom)?s.zoom:1,pan:{x:_(s.pan)&&x(s.pan.x)?s.pan.x:0,y:_(s.pan)&&x(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom}),l.styleEnabled&&t.setStyle([]);var c=V({},s,s.renderer);t.initRenderer(c),function(e,t){if(e.some(M))return Vn.all(e).then(t);t(e)}([s.style,s.elements],(function(e){var n=e[0],o=e[1];l.styleEnabled&&t.style().append(n),function(e,n,i){t.notifications(!1);var r=t.mutableElements();r.length>0&&r.remove(),null!=e&&(_(e)||w(e))&&t.add(e),t.one("layoutready",(function(e){t.notifications(!0),t.emit(e),t.one("load",n),t.emitAndNotify("load")})).one("layoutstop",(function(){t.one("done",i),t.emit("done")}));var o=V({},t._private.options.layout);o.eles=t.elements(),t.layout(o).run()}(o,(function(){t.startAnimationLoop(),l.ready=!0,C(s.ready)&&t.on("ready",s.ready);for(var e=0;e<r.length;e++)t.on("ready",r[e]);i&&(i.readies=[]),t.emit("ready")}),s.done)}))},mo=fo.prototype;V(mo,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(e){return this.isReady()?this.emitter().emit("ready",[],e):this.on("ready",e),this},destroy:function(){var e=this;if(!e.destroyed())return e.stopAnimationLoop(),e.destroyRenderer(),this.emit("destroy"),e._private.destroyed=!0,e},hasElementWithId:function(e){return this._private.elements.hasElementWithId(e)},getElementById:function(e){return this._private.elements.getElementById(e)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(e){return this._private.elements.merge(e),this},removeFromPool:function(e){return this._private.elements.unmerge(e),this},container:function(){return this._private.container||null},mount:function(e){if(null!=e){var t=this,n=t._private,i=n.options;return!I(e)&&I(e[0])&&(e=e[0]),t.stopAnimationLoop(),t.destroyRenderer(),n.container=e,n.styleEnabled=!0,t.invalidateSize(),t.initRenderer(V({},i,i.renderer,{name:"null"===i.renderer.name?"canvas":i.renderer.name})),t.startAnimationLoop(),t.style(i.style),t.emit("mount"),t}},unmount:function(){var e=this;return e.stopAnimationLoop(),e.destroyRenderer(),e.initRenderer({name:"null"}),e.emit("unmount"),e},options:function(){return ge(this._private.options)},json:function(e){var t=this,n=t._private,i=t.mutableElements();if(_(e)){if(t.startBatch(),e.elements){var r={},o=function(e,n){for(var i=[],o=[],s=0;s<e.length;s++){var a=e[s],l=""+a.data.id,c=t.getElementById(l);r[l]=!0,0!==c.length?o.push({ele:c,json:a}):n?(a.group=n,i.push(a)):i.push(a)}t.add(i);for(var h=0;h<o.length;h++){var d=o[h];d.ele.json(d.json)}};if(w(e.elements))o(e.elements);else for(var s=["nodes","edges"],a=0;a<s.length;a++){var l=s[a],c=e.elements[l];w(c)&&o(c,l)}var h=t.collection();i.filter((function(e){return!r[e.id()]})).forEach((function(e){e.isParent()?h.merge(e):e.remove()})),h.forEach((function(e){return e.children().move({parent:null})})),h.forEach((function(e){return function(e){return t.getElementById(e.id())}(e).remove()}))}e.style&&t.style(e.style),null!=e.zoom&&e.zoom!==n.zoom&&t.zoom(e.zoom),e.pan&&(e.pan.x===n.pan.x&&e.pan.y===n.pan.y||t.pan(e.pan)),e.data&&t.data(e.data);for(var d=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify"],u=0;u<d.length;u++){var p=d[u];null!=e[p]&&t[p](e[p])}return t.endBatch(),this}var g={};e?g.elements=this.elements().map((function(e){return e.json()})):(g.elements={},i.forEach((function(e){var t=e.group();g.elements[t]||(g.elements[t]=[]),g.elements[t].push(e.json())}))),this._private.styleEnabled&&(g.style=t.style().json()),g.data=ge(t.data());var f=n.options;return g.zoomingEnabled=n.zoomingEnabled,g.userZoomingEnabled=n.userZoomingEnabled,g.zoom=n.zoom,g.minZoom=n.minZoom,g.maxZoom=n.maxZoom,g.panningEnabled=n.panningEnabled,g.userPanningEnabled=n.userPanningEnabled,g.pan=ge(n.pan),g.boxSelectionEnabled=n.boxSelectionEnabled,g.renderer=ge(f.renderer),g.hideEdgesOnViewport=f.hideEdgesOnViewport,g.textureOnViewport=f.textureOnViewport,g.wheelSensitivity=f.wheelSensitivity,g.motionBlur=f.motionBlur,g}}),mo.$id=mo.getElementById,[Dr,Gr,Xr,Yr,Ur,Jr,Qr,eo,uo,po,go].forEach((function(e){V(mo,e)}));var vo={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,maximal:!1,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}},yo=function(e){return e.scratch("breadthfirst")},bo=function(e,t){return e.scratch("breadthfirst",t)};function Co(e){this.options=V({},vo,e)}Co.prototype.run=function(){var e,t=this.options,n=t,i=t.cy,r=n.eles,o=r.nodes().filter((function(e){return!e.isParent()})),s=r,a=n.directed,l=n.maximal||n.maximalAdjustments>0,c=et(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()});if(A(n.roots))e=n.roots;else if(w(n.roots)){for(var h=[],d=0;d<n.roots.length;d++){var u=i.getElementById(n.roots[d]);h.push(u)}e=i.collection(h)}else if(b(n.roots))e=i.$(n.roots);else if(a)e=o.roots();else{var p=r.components();e=i.collection();for(var g=function(t){var n=p[t],i=n.maxDegree(!1),r=n.filter((function(e){return e.degree(!1)===i}));e=e.add(r)},f=0;f<p.length;f++)g(f)}var m=[],v={},y=function(e,t){null==m[t]&&(m[t]=[]);var n=m[t].length;m[t].push(e),bo(e,{index:n,depth:t})};s.bfs({roots:e,directed:n.directed,visit:function(e,t,n,i,r){var o=e[0],s=o.id();y(o,r),v[s]=!0}});for(var C=[],_=0;_<o.length;_++){var x=o[_];v[x.id()]||C.push(x)}var I=function(e){for(var t=m[e],n=0;n<t.length;n++){var i=t[n];null!=i?bo(i,{depth:e,index:n}):(t.splice(n,1),n--)}},k=function(){for(var e=0;e<m.length;e++)I(e)},S=function(e,t){for(var n=yo(e),i=e.incomers().filter((function(e){return e.isNode()&&r.has(e)})),o=-1,s=e.id(),a=0;a<i.length;a++){var l=yo(i[a]);o=Math.max(o,l.depth)}return n.depth<=o&&(t[s]?null:(function(e,t){var n=yo(e);m[n.depth][n.index]=null,y(e,t)}(e,o+1),t[s]=!0,!0))};if(a&&l){var E=[],O={},P=function(e){return E.push(e)};for(o.forEach((function(e){return E.push(e)}));E.length>0;){var M=E.shift(),T=S(M,O);if(T)M.outgoers().filter((function(e){return e.isNode()&&r.has(e)})).forEach(P);else if(null===T){pe("Detected double maximal shift for node `"+M.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}k();var R=0;if(n.avoidOverlap)for(var D=0;D<o.length;D++){var N=o[D].layoutDimensions(n);R=Math.max(R,N.w,N.h)}for(var L={},B=function(e){if(L[e.id()])return L[e.id()];for(var t=yo(e).depth,n=e.neighborhood(),i=0,r=0,s=0;s<n.length;s++){var a=n[s];if(!a.isEdge()&&!a.isParent()&&o.has(a)){var l=yo(a),c=l.index,h=l.depth;null!=c&&null!=h&&h<t&&(i+=c/m[h].length,r++)}}return i/=r=Math.max(1,r),0===r&&(i=0),L[e.id()]=i,i},V=function(e,t){var n=B(e)-B(t);return 0===n?F(e.id(),t.id()):n},$=0;$<m.length;$++)m[$].sort(V),I($);for(var H=[],j=0;j<C.length;j++)H.push(C[j]);m.unshift(H),k();for(var W=0,z=0;z<m.length;z++)W=Math.max(m[z].length,W);var G=c.x1+c.w/2,Z=c.x1+c.h/2,K=m.reduce((function(e,t){return Math.max(e,t.length)}),0);return o.layoutPositions(this,n,(function(e){var t=yo(e),i=t.depth,r=t.index,o=m[i].length,s=Math.max(c.w/((n.grid?K:o)+1),R),a=Math.max(c.h/(m.length+1),R),l=Math.min(c.w/2/m.length,c.h/2/m.length);if(l=Math.max(l,R),n.circle){var h=l*i+l-(m.length>0&&m[0].length<=3?l/2:0),d=2*Math.PI/m[i].length*r;return 0===i&&1===m[0].length&&(h=1),{x:G+h*Math.cos(d),y:Z+h*Math.sin(d)}}return{x:G+(r+1-(o+1)/2)*s,y:(i+1)*a}})),this};var wo={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function _o(e){this.options=V({},wo,e)}_o.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,r=t.eles.nodes().not(":parent");t.sort&&(r=r.sort(t.sort));for(var o,s=et(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),a=s.x1+s.w/2,l=s.y1+s.h/2,c=(void 0===t.sweep?2*Math.PI-2*Math.PI/r.length:t.sweep)/Math.max(1,r.length-1),h=0,d=0;d<r.length;d++){var u=r[d].layoutDimensions(t);h=Math.max(h,u.w,u.h)}if(o=x(t.radius)?t.radius:r.length<=1?0:Math.min(s.h,s.w)/2-h,r.length>1&&t.avoidOverlap){h*=1.75;var p=Math.cos(c)-Math.cos(0),g=Math.sin(c)-Math.sin(0),f=Math.sqrt(h*h/(p*p+g*g));o=Math.max(f,o)}return r.layoutPositions(this,t,(function(e,n){var r=t.startAngle+n*c*(i?1:-1),s=o*Math.cos(r),h=o*Math.sin(r);return{x:a+s,y:l+h}})),this};var xo,Io={fit:!0,padding:30,startAngle:1.5*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(e){return e.degree()},levelWidth:function(e){return e.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Ao(e){this.options=V({},Io,e)}Ao.prototype.run=function(){for(var e=this.options,t=e,n=void 0!==t.counterclockwise?!t.counterclockwise:t.clockwise,i=e.cy,r=t.eles.nodes().not(":parent"),o=et(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:i.width(),h:i.height()}),s=o.x1+o.w/2,a=o.y1+o.h/2,l=[],c=0,h=0;h<r.length;h++){var d,u=r[h];d=t.concentric(u),l.push({value:d,node:u}),u._private.scratch.concentric=d}r.updateStyle();for(var p=0;p<r.length;p++){var g=r[p].layoutDimensions(t);c=Math.max(c,g.w,g.h)}l.sort((function(e,t){return t.value-e.value}));for(var f=t.levelWidth(r),m=[[]],v=m[0],y=0;y<l.length;y++){var b=l[y];v.length>0&&Math.abs(v[0].value-b.value)>=f&&m.push(v=[]),v.push(b)}var C=c+t.minNodeSpacing;if(!t.avoidOverlap){var w=m.length>0&&m[0].length>1,_=Math.min(o.w,o.h)/2-C;C=Math.min(C,_/(m.length+w?1:0))}for(var x=0,I=0;I<m.length;I++){var A=m[I],k=void 0===t.sweep?2*Math.PI-2*Math.PI/A.length:t.sweep,S=A.dTheta=k/Math.max(1,A.length-1);if(A.length>1&&t.avoidOverlap){var E=Math.cos(S)-Math.cos(0),O=Math.sin(S)-Math.sin(0),P=Math.sqrt(C*C/(E*E+O*O));x=Math.max(P,x)}A.r=x,x+=C}if(t.equidistant){for(var M=0,T=0,R=0;R<m.length;R++)M=Math.max(M,m[R].r-T);T=0;for(var D=0;D<m.length;D++){var N=m[D];0===D&&(T=N.r),N.r=T,T+=M}}for(var L={},B=0;B<m.length;B++)for(var F=m[B],V=F.dTheta,$=F.r,H=0;H<F.length;H++){var j=F[H],W=t.startAngle+(n?1:-1)*V*H,z={x:s+$*Math.cos(W),y:a+$*Math.sin(W)};L[j.node.id()]=z}return r.layoutPositions(this,t,(function(e){var t=e.id();return L[t]})),this};var ko={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(e,t){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(e){return 2048},nodeOverlap:4,idealEdgeLength:function(e){return 32},edgeElasticity:function(e){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function So(e){this.options=V({},ko,e),this.options.layout=this}So.prototype.run=function(){var e=this.options,t=e.cy,n=this;n.stopped=!1,!0!==e.animate&&!1!==e.animate||n.emit({type:"layoutstart",layout:n}),xo=!0===e.debug;var i=Eo(t,n,e);xo&&(void 0)(i),e.randomize&&Mo(i);var r=K(),o=function(){Ro(i,t,e),!0===e.fit&&t.fit(e.padding)},s=function(t){return!(n.stopped||t>=e.numIter||(Do(i,e),i.temperature=i.temperature*e.coolingFactor,i.temperature<e.minTemp))},a=function(){if(!0===e.animate||!1===e.animate)o(),n.one("layoutstop",e.stop),n.emit({type:"layoutstop",layout:n});else{var t=e.eles.nodes(),r=To(i,e,t);t.layoutPositions(n,e,r)}},l=0,c=!0;if(!0===e.animate)!function t(){for(var n=0;c&&n<e.refresh;)c=s(l),l++,n++;c?(K()-r>=e.animationThreshold&&o(),Z(t)):(Zo(i,e),a())}();else{for(;c;)c=s(l),l++;Zo(i,e),a()}return this},So.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this},So.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var Eo=function(e,t,n){for(var i=n.eles.edges(),r=n.eles.nodes(),o={isCompound:e.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:r.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:i.size(),temperature:n.initialTemp,clientWidth:e.width(),clientHeight:e.width(),boundingBox:et(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:e.width(),h:e.height()})},s=n.eles.components(),a={},l=0;l<s.length;l++)for(var c=s[l],h=0;h<c.length;h++)a[c[h].id()]=l;for(l=0;l<o.nodeSize;l++){var d=(m=r[l]).layoutDimensions(n);(M={}).isLocked=m.locked(),M.id=m.data("id"),M.parentId=m.data("parent"),M.cmptId=a[m.id()],M.children=[],M.positionX=m.position("x"),M.positionY=m.position("y"),M.offsetX=0,M.offsetY=0,M.height=d.w,M.width=d.h,M.maxX=M.positionX+M.width/2,M.minX=M.positionX-M.width/2,M.maxY=M.positionY+M.height/2,M.minY=M.positionY-M.height/2,M.padLeft=parseFloat(m.style("padding")),M.padRight=parseFloat(m.style("padding")),M.padTop=parseFloat(m.style("padding")),M.padBottom=parseFloat(m.style("padding")),M.nodeRepulsion=C(n.nodeRepulsion)?n.nodeRepulsion(m):n.nodeRepulsion,o.layoutNodes.push(M),o.idToIndex[M.id]=l}var u=[],p=0,g=-1,f=[];for(l=0;l<o.nodeSize;l++){var m,v=(m=o.layoutNodes[l]).parentId;null!=v?o.layoutNodes[o.idToIndex[v]].children.push(m.id):(u[++g]=m.id,f.push(m.id))}for(o.graphSet.push(f);p<=g;){var y=u[p++],b=o.layoutNodes[o.idToIndex[y]].children;if(b.length>0)for(o.graphSet.push(b),l=0;l<b.length;l++)u[++g]=b[l]}for(l=0;l<o.graphSet.length;l++){var w=o.graphSet[l];for(h=0;h<w.length;h++)o.indexToGraph[o.idToIndex[w[h]]]=l}for(l=0;l<o.edgeSize;l++){var _=i[l],x={};x.id=_.data("id"),x.sourceId=_.data("source"),x.targetId=_.data("target");var I=C(n.idealEdgeLength)?n.idealEdgeLength(_):n.idealEdgeLength,A=C(n.edgeElasticity)?n.edgeElasticity(_):n.edgeElasticity,k=o.idToIndex[x.sourceId],S=o.idToIndex[x.targetId];if(o.indexToGraph[k]!=o.indexToGraph[S]){for(var E=Oo(x.sourceId,x.targetId,o),O=o.graphSet[E],P=0,M=o.layoutNodes[k];-1===O.indexOf(M.id);)M=o.layoutNodes[o.idToIndex[M.parentId]],P++;for(M=o.layoutNodes[S];-1===O.indexOf(M.id);)M=o.layoutNodes[o.idToIndex[M.parentId]],P++;I*=P*n.nestingFactor}x.idealLength=I,x.elasticity=A,o.layoutEdges.push(x)}return o},Oo=function(e,t,n){var i=Po(e,t,0,n);return 2>i.count?0:i.graph},Po=function e(t,n,i,r){var o=r.graphSet[i];if(-1<o.indexOf(t)&&-1<o.indexOf(n))return{count:2,graph:i};for(var s=0,a=0;a<o.length;a++){var l=r.layoutNodes[r.idToIndex[o[a]]].children;if(0!==l.length){var c=e(t,n,r.indexToGraph[r.idToIndex[l[0]]],r);if(0!==c.count){if(1!==c.count)return c;if(2==++s)break}}}return{count:s,graph:i}},Mo=function(e,t){for(var n=e.clientWidth,i=e.clientHeight,r=0;r<e.nodeSize;r++){var o=e.layoutNodes[r];0!==o.children.length||o.isLocked||(o.positionX=Math.random()*n,o.positionY=Math.random()*i)}},To=function(e,t,n){var i=e.boundingBox,r={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return t.boundingBox&&(n.forEach((function(t){var n=e.layoutNodes[e.idToIndex[t.data("id")]];r.x1=Math.min(r.x1,n.positionX),r.x2=Math.max(r.x2,n.positionX),r.y1=Math.min(r.y1,n.positionY),r.y2=Math.max(r.y2,n.positionY)})),r.w=r.x2-r.x1,r.h=r.y2-r.y1),function(n,o){var s=e.layoutNodes[e.idToIndex[n.data("id")]];return t.boundingBox?{x:i.x1+(s.positionX-r.x1)/r.w*i.w,y:i.y1+(s.positionY-r.y1)/r.h*i.h}:{x:s.positionX,y:s.positionY}}},Ro=function(e,t,n){var i=n.layout,r=n.eles.nodes(),o=To(e,n,r);r.positions(o),!0!==e.ready&&(e.ready=!0,i.one("layoutready",n.ready),i.emit({type:"layoutready",layout:this}))},Do=function(e,t,n){No(e,t),$o(e),Ho(e,t),jo(e),Wo(e)},No=function(e,t){for(var n=0;n<e.graphSet.length;n++)for(var i=e.graphSet[n],r=i.length,o=0;o<r;o++)for(var s=e.layoutNodes[e.idToIndex[i[o]]],a=o+1;a<r;a++)Bo(s,e.layoutNodes[e.idToIndex[i[a]]],e,t)},Lo=function(e){return-e+2*e*Math.random()},Bo=function(e,t,n,i){if(e.cmptId===t.cmptId||n.isCompound){var r=t.positionX-e.positionX,o=t.positionY-e.positionY;0===r&&0===o&&(r=Lo(1),o=Lo(1));var s=Fo(e,t,r,o);if(s>0)var a=(c=i.nodeOverlap*s)*r/(f=Math.sqrt(r*r+o*o)),l=c*o/f;else{var c,h=Vo(e,r,o),d=Vo(t,-1*r,-1*o),u=d.x-h.x,p=d.y-h.y,g=u*u+p*p,f=Math.sqrt(g);a=(c=(e.nodeRepulsion+t.nodeRepulsion)/g)*u/f,l=c*p/f}e.isLocked||(e.offsetX-=a,e.offsetY-=l),t.isLocked||(t.offsetX+=a,t.offsetY+=l)}},Fo=function(e,t,n,i){if(n>0)var r=e.maxX-t.minX;else r=t.maxX-e.minX;if(i>0)var o=e.maxY-t.minY;else o=t.maxY-e.minY;return r>=0&&o>=0?Math.sqrt(r*r+o*o):0},Vo=function(e,t,n){var i=e.positionX,r=e.positionY,o=e.height||1,s=e.width||1,a=n/t,l=o/s,c={};return 0===t&&0<n||0===t&&0>n?(c.x=i,c.y=r+o/2,c):0<t&&-1*l<=a&&a<=l?(c.x=i+s/2,c.y=r+s*n/2/t,c):0>t&&-1*l<=a&&a<=l?(c.x=i-s/2,c.y=r-s*n/2/t,c):0<n&&(a<=-1*l||a>=l)?(c.x=i+o*t/2/n,c.y=r+o/2,c):0>n&&(a<=-1*l||a>=l)?(c.x=i-o*t/2/n,c.y=r-o/2,c):c},$o=function(e,t){for(var n=0;n<e.edgeSize;n++){var i=e.layoutEdges[n],r=e.layoutNodes[e.idToIndex[i.sourceId]],o=e.layoutNodes[e.idToIndex[i.targetId]],s=o.positionX-r.positionX,a=o.positionY-r.positionY;if(0!==s||0!==a){var l=Vo(r,s,a),c=Vo(o,-1*s,-1*a),h=c.x-l.x,d=c.y-l.y,u=Math.sqrt(h*h+d*d),p=Math.pow(i.idealLength-u,2)/i.elasticity;if(0!==u)var g=p*h/u,f=p*d/u;else g=0,f=0;r.isLocked||(r.offsetX+=g,r.offsetY+=f),o.isLocked||(o.offsetX-=g,o.offsetY-=f)}}},Ho=function(e,t){for(var n=0;n<e.graphSet.length;n++){var i=e.graphSet[n],r=i.length;if(0===n)var o=e.clientHeight/2,s=e.clientWidth/2;else{var a=e.layoutNodes[e.idToIndex[e.layoutNodes[e.idToIndex[i[0]]].parentId]];o=a.positionX,s=a.positionY}for(var l=0;l<r;l++){var c=e.layoutNodes[e.idToIndex[i[l]]];if(!c.isLocked){var h=o-c.positionX,d=s-c.positionY,u=Math.sqrt(h*h+d*d);if(u>1){var p=t.gravity*d/u;c.offsetX+=t.gravity*h/u,c.offsetY+=p}}}}},jo=function(e,t){var n=[],i=0,r=-1;for(n.push.apply(n,e.graphSet[0]),r+=e.graphSet[0].length;i<=r;){var o=n[i++],s=e.layoutNodes[e.idToIndex[o]],a=s.children;if(0<a.length&&!s.isLocked){for(var l=s.offsetX,c=s.offsetY,h=0;h<a.length;h++){var d=e.layoutNodes[e.idToIndex[a[h]]];d.offsetX+=l,d.offsetY+=c,n[++r]=a[h]}s.offsetX=0,s.offsetY=0}}},Wo=function(e,t){for(var n=0;n<e.nodeSize;n++)0<(r=e.layoutNodes[n]).children.length&&(r.maxX=void 0,r.minX=void 0,r.maxY=void 0,r.minY=void 0);for(n=0;n<e.nodeSize;n++)if(!(0<(r=e.layoutNodes[n]).children.length||r.isLocked)){var i=zo(r.offsetX,r.offsetY,e.temperature);r.positionX+=i.x,r.positionY+=i.y,r.offsetX=0,r.offsetY=0,r.minX=r.positionX-r.width,r.maxX=r.positionX+r.width,r.minY=r.positionY-r.height,r.maxY=r.positionY+r.height,Go(r,e)}for(n=0;n<e.nodeSize;n++){var r;0<(r=e.layoutNodes[n]).children.length&&!r.isLocked&&(r.positionX=(r.maxX+r.minX)/2,r.positionY=(r.maxY+r.minY)/2,r.width=r.maxX-r.minX,r.height=r.maxY-r.minY)}},zo=function(e,t,n){var i=Math.sqrt(e*e+t*t);if(i>n)var r={x:n*e/i,y:n*t/i};else r={x:e,y:t};return r},Go=function e(t,n){var i=t.parentId;if(null!=i){var r=n.layoutNodes[n.idToIndex[i]],o=!1;return(null==r.maxX||t.maxX+r.padRight>r.maxX)&&(r.maxX=t.maxX+r.padRight,o=!0),(null==r.minX||t.minX-r.padLeft<r.minX)&&(r.minX=t.minX-r.padLeft,o=!0),(null==r.maxY||t.maxY+r.padBottom>r.maxY)&&(r.maxY=t.maxY+r.padBottom,o=!0),(null==r.minY||t.minY-r.padTop<r.minY)&&(r.minY=t.minY-r.padTop,o=!0),o?e(r,n):void 0}},Zo=function(e,t){for(var n=e.layoutNodes,i=[],r=0;r<n.length;r++){var o=n[r],s=o.cmptId;(i[s]=i[s]||[]).push(o)}var a=0;for(r=0;r<i.length;r++)if(f=i[r]){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var l=0;l<f.length;l++){var c=f[l];f.x1=Math.min(f.x1,c.positionX-c.width/2),f.x2=Math.max(f.x2,c.positionX+c.width/2),f.y1=Math.min(f.y1,c.positionY-c.height/2),f.y2=Math.max(f.y2,c.positionY+c.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,a+=f.w*f.h}i.sort((function(e,t){return t.w*t.h-e.w*e.h}));var h=0,d=0,u=0,p=0,g=Math.sqrt(a)*e.clientWidth/e.clientHeight;for(r=0;r<i.length;r++){var f;if(f=i[r]){for(l=0;l<f.length;l++)(c=f[l]).isLocked||(c.positionX+=h-f.x1,c.positionY+=d-f.y1);h+=f.w+t.componentSpacing,u+=f.w+t.componentSpacing,p=Math.max(p,f.h),u>g&&(d+=p+t.componentSpacing,h=0,u=0,p=0)}}},Ko={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(e){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function Xo(e){this.options=V({},Ko,e)}Xo.prototype.run=function(){var e=this.options,t=e,n=e.cy,i=t.eles.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));var r=et(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()});if(0===r.h||0===r.w)i.layoutPositions(this,t,(function(e){return{x:r.x1,y:r.y1}}));else{var o=i.size(),s=Math.sqrt(o*r.h/r.w),a=Math.round(s),l=Math.round(r.w/r.h*s),c=function(e){if(null==e)return Math.min(a,l);Math.min(a,l)==a?a=e:l=e},h=function(e){if(null==e)return Math.max(a,l);Math.max(a,l)==a?a=e:l=e},d=t.rows,u=null!=t.cols?t.cols:t.columns;if(null!=d&&null!=u)a=d,l=u;else if(null!=d&&null==u)a=d,l=Math.ceil(o/a);else if(null==d&&null!=u)l=u,a=Math.ceil(o/l);else if(l*a>o){var p=c(),g=h();(p-1)*g>=o?c(p-1):(g-1)*p>=o&&h(g-1)}else for(;l*a<o;){var f=c(),m=h();(m+1)*f>=o?h(m+1):c(f+1)}var v=r.w/l,y=r.h/a;if(t.condense&&(v=0,y=0),t.avoidOverlap)for(var b=0;b<i.length;b++){var C=i[b],w=C._private.position;null!=w.x&&null!=w.y||(w.x=0,w.y=0);var _=C.layoutDimensions(t),x=t.avoidOverlapPadding,I=_.h+x;v=Math.max(v,_.w+x),y=Math.max(y,I)}for(var A={},k=function(e,t){return!!A["c-"+e+"-"+t]},S=function(e,t){A["c-"+e+"-"+t]=!0},E=0,O=0,P=function(){++O>=l&&(O=0,E++)},M={},T=0;T<i.length;T++){var R=i[T],D=t.position(R);if(D&&(void 0!==D.row||void 0!==D.col)){var N={row:D.row,col:D.col};if(void 0===N.col)for(N.col=0;k(N.row,N.col);)N.col++;else if(void 0===N.row)for(N.row=0;k(N.row,N.col);)N.row++;M[R.id()]=N,S(N.row,N.col)}}i.layoutPositions(this,t,(function(e,t){var n,i;if(e.locked()||e.isParent())return!1;var o=M[e.id()];if(o)n=o.col*v+v/2+r.x1,i=o.row*y+y/2+r.y1;else{for(;k(E,O);)P();n=O*v+v/2+r.x1,i=E*y+y/2+r.y1,S(E,O),P()}return{x:n,y:i}}))}return this};var Yo={ready:function(){},stop:function(){}};function Uo(e){this.options=V({},Yo,e)}Uo.prototype.run=function(){var e=this.options,t=e.eles;return this.emit("layoutstart"),t.nodes().positions((function(){return{x:0,y:0}})),this.one("layoutready",e.ready),this.emit("layoutready"),this.one("layoutstop",e.stop),this.emit("layoutstop"),this},Uo.prototype.stop=function(){return this};var Jo={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function qo(e){this.options=V({},Jo,e)}qo.prototype.run=function(){var e=this.options,t=e.eles.nodes(),n=C(e.positions);return t.layoutPositions(this,e,(function(t,i){var r=function(t){if(null==e.positions)return function(e){return{x:e.x,y:e.y}}(t.position());if(n)return e.positions(t);var i=e.positions[t._private.data.id];return null==i?null:i}(t);return!t.locked()&&null!=r&&r})),this};var Qo={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(e,t){return!0},ready:void 0,stop:void 0,transform:function(e,t){return t}};function es(e){this.options=V({},Qo,e)}es.prototype.run=function(){var e=this.options,t=e.cy,n=e.eles.nodes().not(":parent"),i=et(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()});return n.layoutPositions(this,e,(function(e,t){return{x:i.x1+Math.round(Math.random()*i.w),y:i.y1+Math.round(Math.random()*i.h)}})),this};var ts=[{name:"breadthfirst",impl:Co},{name:"circle",impl:_o},{name:"concentric",impl:Ao},{name:"cose",impl:So},{name:"grid",impl:Xo},{name:"null",impl:Uo},{name:"preset",impl:qo},{name:"random",impl:es}];function ns(e){this.options=e,this.notifications=0}var is=function(){},rs=function(){throw new Error("A headless instance can not render images")};ns.prototype={recalculateRenderedStyle:is,notify:function(){this.notifications++},init:is,isHeadless:function(){return!0},png:rs,jpg:rs};var os={arrowShapeWidth:.3,registerArrowShapes:function(){var e=this.arrowShapes={},t=this,n=function(e,t,n,i,r,o,s){return r.x-n/2-s<=e&&e<=r.x+n/2+s&&r.y-n/2-s<=t&&t<=r.y+n/2+s},i=function(e,t,n,i,r){var o=e*Math.cos(i)-t*Math.sin(i),s=e*Math.sin(i)+t*Math.cos(i);return{x:o*n+r.x,y:s*n+r.y}},r=function(e,t,n,r){for(var o=[],s=0;s<e.length;s+=2)o.push(i(e[s],e[s+1],t,n,r));return o},o=function(e){for(var t=[],n=0;n<e.length;n++){var i=e[n];t.push(i.x,i.y)}return t},s=function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").pfValue*2},a=function(i,a){b(a)&&(a=e[a]),e[i]=V({name:i,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(e,t,n,i,s,a){var l=o(r(this.points,n+2*a,i,s));return gt(e,t,l)},roughCollide:n,draw:function(e,n,i,o){var s=r(this.points,n,i,o);t.arrowShapeImpl("polygon")(e,s)},spacing:function(e){return 0},gap:s},a)};a("none",{collide:le,roughCollide:le,draw:he,spacing:ce,gap:ce}),a("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),a("arrow","triangle"),a("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:n,draw:function(e,n,o,s,a){var l=r(this.points,n,o,s),c=this.controlPoint,h=i(c[0],c[1],n,o,s);t.arrowShapeImpl(this.name)(e,l,h)},gap:function(e){return.8*s(e)}}),a("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(e,t,n,i,s,a,l){var c=o(r(this.points,n+2*l,i,s)),h=o(r(this.pointsTee,n+2*l,i,s));return gt(e,t,c)||gt(e,t,h)},draw:function(e,n,i,o,s){var a=r(this.points,n,i,o),l=r(this.pointsTee,n,i,o);t.arrowShapeImpl(this.name)(e,a,l)}}),a("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(e,t,n,i,s,a,l){var c=s,h=Math.pow(c.x-e,2)+Math.pow(c.y-t,2)<=Math.pow((n+2*l)*this.radius,2),d=o(r(this.points,n+2*l,i,s));return gt(e,t,d)||h},draw:function(e,n,i,o,s){var a=r(this.pointsTr,n,i,o);t.arrowShapeImpl(this.name)(e,a,o.x,o.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(e,t){var n=this.baseCrossLinePts.slice(),i=t/e;return n[3]=n[3]-i,n[5]=n[5]-i,n},collide:function(e,t,n,i,s,a,l){var c=o(r(this.points,n+2*l,i,s)),h=o(r(this.crossLinePts(n,a),n+2*l,i,s));return gt(e,t,c)||gt(e,t,h)},draw:function(e,n,i,o,s){var a=r(this.points,n,i,o),l=r(this.crossLinePts(n,s),n,i,o);t.arrowShapeImpl(this.name)(e,a,l)}}),a("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(e){return.525*s(e)}}),a("circle",{radius:.15,collide:function(e,t,n,i,r,o,s){var a=r;return Math.pow(a.x-e,2)+Math.pow(a.y-t,2)<=Math.pow((n+2*s)*this.radius,2)},draw:function(e,n,i,r,o){t.arrowShapeImpl(this.name)(e,r.x,r.y,this.radius*n)},spacing:function(e){return t.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.radius}}),a("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(e){return 1},gap:function(e){return 1}}),a("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),a("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(e){return e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}}),a("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(e){return.95*e.pstyle("width").pfValue*e.pstyle("arrow-scale").value}})}},ss={projectIntoViewport:function(e,t){var n=this.cy,i=this.findContainerClientCoords(),r=i[0],o=i[1],s=i[4],a=n.pan(),l=n.zoom();return[((e-r)/s-a.x)/l,((t-o)/s-a.y)/l]},findContainerClientCoords:function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),n=u.getComputedStyle(e),i=function(e){return parseFloat(n.getPropertyValue(e))},r=i("padding-left"),o=i("padding-right"),s=i("padding-top"),a=i("padding-bottom"),l=i("border-left-width"),c=i("border-right-width"),h=i("border-top-width"),d=(i("border-bottom-width"),e.clientWidth);return this.containerBB=[t.left+r+l,t.top+s+h,d-(r+o),e.clientHeight-(s+a),t.width/(d+(l+c))]},invalidateContainerClientCoordsCache:function(){this.containerBB=null},findNearestElement:function(e,t,n,i){return this.findNearestElements(e,t,n,i)[0]},findNearestElements:function(e,t,n,i){var r,o,s=this,a=this,l=a.getCachedZSortedEles(),c=[],h=a.cy.zoom(),d=a.cy.hasCompoundNodes(),u=(i?24:8)/h,p=(i?8:2)/h,g=(i?8:2)/h,f=1/0;function m(e,t){if(e.isNode()){if(o)return;o=e,c.push(e)}if(e.isEdge()&&(null==t||t<f))if(r){if(r.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value&&r.pstyle("z-compound-depth").value===e.pstyle("z-compound-depth").value)for(var n=0;n<c.length;n++)if(c[n].isEdge()){c[n]=e,r=e,f=null!=t?t:f;break}}else c.push(e),r=e,f=null!=t?t:f}function v(n){var i=n.outerWidth()+2*p,r=n.outerHeight()+2*p,o=i/2,l=r/2,c=n.position();if(c.x-o<=e&&e<=c.x+o&&c.y-l<=t&&t<=c.y+l&&a.nodeShapes[s.getNodeShape(n)].checkPoint(e,t,0,i,r,c.x,c.y))return m(n,0),!0}function y(n){var i,r=n._private,o=r.rscratch,l=n.pstyle("width").pfValue,h=n.pstyle("arrow-scale").value,p=l/2+u,g=p*p,f=2*p,y=r.source,b=r.target;if("segments"===o.edgeType||"straight"===o.edgeType||"haystack"===o.edgeType){for(var C=o.allpts,w=0;w+3<C.length;w+=2)if(ht(e,t,C[w],C[w+1],C[w+2],C[w+3],f)&&g>(i=pt(e,t,C[w],C[w+1],C[w+2],C[w+3])))return m(n,i),!0}else if("bezier"===o.edgeType||"multibezier"===o.edgeType||"self"===o.edgeType||"compound"===o.edgeType)for(C=o.allpts,w=0;w+5<o.allpts.length;w+=4)if(dt(e,t,C[w],C[w+1],C[w+2],C[w+3],C[w+4],C[w+5],f)&&g>(i=ut(e,t,C[w],C[w+1],C[w+2],C[w+3],C[w+4],C[w+5])))return m(n,i),!0;y=y||r.source,b=b||r.target;var _=s.getArrowWidth(l,h),x=[{name:"source",x:o.arrowStartX,y:o.arrowStartY,angle:o.srcArrowAngle},{name:"target",x:o.arrowEndX,y:o.arrowEndY,angle:o.tgtArrowAngle},{name:"mid-source",x:o.midX,y:o.midY,angle:o.midsrcArrowAngle},{name:"mid-target",x:o.midX,y:o.midY,angle:o.midtgtArrowAngle}];for(w=0;w<x.length;w++){var I=x[w],A=a.arrowShapes[n.pstyle(I.name+"-arrow-shape").value],k=n.pstyle("width").pfValue;if(A.roughCollide(e,t,_,I.angle,{x:I.x,y:I.y},k,u)&&A.collide(e,t,_,I.angle,{x:I.x,y:I.y},k,u))return m(n),!0}d&&c.length>0&&(v(y),v(b))}function b(e,t,n){return we(e,t,n)}function C(n,i){var r,o=n._private,s=g;r=i?i+"-":"",n.boundingBox();var a=o.labelBounds[i||"main"],l=n.pstyle(r+"label").value;if("yes"===n.pstyle("text-events").strValue&&l){var c=o.rstyle,h=b(c,"labelX",i),d=b(c,"labelY",i),u=b(o.rscratch,"labelAngle",i),p=a.x1-s,f=a.x2+s,v=a.y1-s,y=a.y2+s;if(u){var C=Math.cos(u),w=Math.sin(u),_=function(e,t){return{x:(e-=h)*C-(t-=d)*w+h,y:e*w+t*C+d}},x=_(p,v),I=_(p,y),A=_(f,v),k=_(f,y);if(gt(e,t,[x.x,x.y,A.x,A.y,k.x,k.y,I.x,I.y]))return m(n),!0}else if(at(a,e,t))return m(n),!0}}n&&(l=l.interactive);for(var w=l.length-1;w>=0;w--){var _=l[w];_.isNode()?v(_)||C(_):y(_)||C(_)||C(_,"source")||C(_,"target")}return c},getAllInBox:function(e,t,n,i){for(var r,o=this.getCachedZSortedEles().interactive,s=[],a=Math.min(e,n),l=Math.max(e,n),c=Math.min(t,i),h=Math.max(t,i),d=et({x1:e=a,y1:t=c,x2:n=l,y2:i=h}),u=0;u<o.length;u++){var p=o[u];if(p.isNode()){var g=p,f=g.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});st(d,f)&&!lt(f,d)&&s.push(g)}else{var m=p,v=m._private,y=v.rscratch;if(null!=y.startX&&null!=y.startY&&!at(d,y.startX,y.startY))continue;if(null!=y.endX&&null!=y.endY&&!at(d,y.endX,y.endY))continue;if("bezier"===y.edgeType||"multibezier"===y.edgeType||"self"===y.edgeType||"compound"===y.edgeType||"segments"===y.edgeType||"haystack"===y.edgeType){for(var b=v.rstyle.bezierPts||v.rstyle.linePts||v.rstyle.haystackPts,C=!0,w=0;w<b.length;w++)if(!at(d,(r=b[w]).x,r.y)){C=!1;break}C&&s.push(m)}else"haystack"!==y.edgeType&&"straight"!==y.edgeType||s.push(m)}}return s}},as={calculateArrowAngles:function(e){var t,n,i,r,o,s,a=e._private.rscratch,l="haystack"===a.edgeType,c="bezier"===a.edgeType,h="multibezier"===a.edgeType,d="segments"===a.edgeType,u="compound"===a.edgeType,p="self"===a.edgeType;l?(i=a.haystackPts[0],r=a.haystackPts[1],o=a.haystackPts[2],s=a.haystackPts[3]):(i=a.arrowStartX,r=a.arrowStartY,o=a.arrowEndX,s=a.arrowEndY),g=a.midX,f=a.midY,d?(t=i-a.segpts[0],n=r-a.segpts[1]):h||u||p||c?(t=i-Je((k=a.allpts)[0],k[2],k[4],.1),n=r-Je(k[1],k[3],k[5],.1)):(t=i-g,n=r-f),a.srcArrowAngle=Ge(t,n);var g=a.midX,f=a.midY;if(l&&(g=(i+o)/2,f=(r+s)/2),t=o-i,n=s-r,d)if((k=a.allpts).length/2%2==0)t=k[m=k.length/2]-k[v=m-2],n=k[m+1]-k[v+1];else{var m,v,y=2+(m=k.length/2-1);t=k[m]-k[v=m-2],n=k[m+1]-k[v+1]}else if(h||u||p){var b,C,w,_,x,I,A,k=a.allpts;a.ctrlpts.length/2%2==0?(b=Je(k[I=k.length/2-1],k[x=I+2],k[A=x+2],0),C=Je(k[I+1],k[x+1],k[A+1],0),w=Je(k[I],k[x],k[A],1e-4),_=Je(k[I+1],k[x+1],k[A+1],1e-4)):(b=Je(k[I=(x=k.length/2-1)-2],k[x],k[A=x+2],.4999),C=Je(k[I+1],k[x+1],k[A+1],.4999),w=Je(k[I],k[x],k[A],.5),_=Je(k[I+1],k[x+1],k[A+1],.5)),t=w-b,n=_-C}if(a.midtgtArrowAngle=Ge(t,n),a.midDispX=t,a.midDispY=n,t*=-1,n*=-1,d&&((k=a.allpts).length/2%2==0||(t=-(k[y=2+(m=k.length/2-1)]-k[m]),n=-(k[y+1]-k[m+1]))),a.midsrcArrowAngle=Ge(t,n),d)t=o-a.segpts[a.segpts.length-2],n=s-a.segpts[a.segpts.length-1];else if(h||u||p||c){var S=(k=a.allpts).length;t=o-Je(k[S-6],k[S-4],k[S-2],.9),n=s-Je(k[S-5],k[S-3],k[S-1],.9)}else t=o-g,n=s-f;a.tgtArrowAngle=Ge(t,n)}};as.getArrowWidth=as.getArrowHeight=function(e,t){var n=this.arrowWidthCache=this.arrowWidthCache||{},i=n[e+", "+t];return i||(i=Math.max(Math.pow(13.37*e,.9),29)*t,n[e+", "+t]=i,i)};var ls={};function cs(e){var t=[];if(null!=e){for(var n=0;n<e.length;n+=2)t.push({x:e[n],y:e[n+1]});return t}}ls.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var n=e[t],i=n._private,r=i.rscratch;if(!r.haystack){var o=2*Math.random()*Math.PI;r.source={x:Math.cos(o),y:Math.sin(o)},o=2*Math.random()*Math.PI,r.target={x:Math.cos(o),y:Math.sin(o)}}var s=i.source,a=i.target,l=s.position(),c=a.position(),h=s.width(),d=a.width(),u=s.height(),p=a.height(),g=n.pstyle("haystack-radius").value/2;r.haystackPts=r.allpts=[r.source.x*h*g+l.x,r.source.y*u*g+l.y,r.target.x*d*g+c.x,r.target.y*p*g+c.y],r.midX=(r.allpts[0]+r.allpts[2])/2,r.midY=(r.allpts[1]+r.allpts[3])/2,r.edgeType="haystack",r.haystack=!0,this.storeEdgeProjections(n),this.calculateArrowAngles(n),this.recalculateEdgeLabelProjections(n),this.calculateLabelAngles(n)}},ls.findSegmentsPoints=function(e,t){var n=e._private.rscratch,i=t.posPts,r=t.intersectionPts,o=t.vectorNormInverse,s=e.pstyle("edge-distances").value,a=e.pstyle("segment-weights"),l=e.pstyle("segment-distances"),c=Math.min(a.pfValue.length,l.pfValue.length);n.edgeType="segments",n.segpts=[];for(var h=0;h<c;h++){var d=a.pfValue[h],u=l.pfValue[h],p=1-d,g="node-position"===s?i:r,f={x:g.x1*p+g.x2*d,y:g.y1*p+g.y2*d};n.segpts.push(f.x+o.x*u,f.y+o.y*u)}},ls.findLoopPoints=function(e,t,n,i){var r=e._private.rscratch,o=t.dirCounts,s=t.srcPos,a=e.pstyle("control-point-distances"),l=a?a.pfValue[0]:void 0,c=e.pstyle("loop-direction").pfValue,h=e.pstyle("loop-sweep").pfValue,d=e.pstyle("control-point-step-size").pfValue;r.edgeType="self";var u=n,p=d;i&&(u=0,p=l);var g=c-Math.PI/2,f=g-h/2,m=g+h/2,v=String(c+"_"+h);u=void 0===o[v]?o[v]=0:++o[v],r.ctrlpts=[s.x+1.4*Math.cos(f)*p*(u/3+1),s.y+1.4*Math.sin(f)*p*(u/3+1),s.x+1.4*Math.cos(m)*p*(u/3+1),s.y+1.4*Math.sin(m)*p*(u/3+1)]},ls.findCompoundLoopPoints=function(e,t,n,i){var r=e._private.rscratch;r.edgeType="compound";var o=t.srcPos,s=t.tgtPos,a=t.srcW,l=t.srcH,c=t.tgtW,h=t.tgtH,d=e.pstyle("control-point-step-size").pfValue,u=e.pstyle("control-point-distances"),p=n,g=d;i&&(p=0,g=u?u.pfValue[0]:void 0);var f={x:o.x-a/2,y:o.y-l/2},m={x:s.x-c/2,y:s.y-h/2},v={x:Math.min(f.x,m.x),y:Math.min(f.y,m.y)},y=Math.max(.5,Math.log(.01*a)),b=Math.max(.5,Math.log(.01*c));r.ctrlpts=[v.x,v.y-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*y,v.x-(1+Math.pow(50,1.12)/100)*g*(p/3+1)*b,v.y]},ls.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"},ls.findBezierPoints=function(e,t,n,i,r){var o=e._private.rscratch,s=t.vectorNormInverse,a=t.posPts,l=t.intersectionPts,c=e.pstyle("edge-distances").value,h=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),p=d&&u?Math.min(d.value.length,u.value.length):1,g=d?d.pfValue[0]:void 0,f=u.value[0],m=i;o.edgeType=m?"multibezier":"bezier",o.ctrlpts=[];for(var v=0;v<p;v++){var y,b=(.5-t.eles.length/2+n)*h*(r?-1:1),C=Ke(b);m&&(g=d?d.pfValue[v]:h,f=u.value[v]);var w=void 0!==(y=i?g:void 0!==g?C*g:void 0)?y:b,_=1-f,x="node-position"===c?a:l,I={x:x.x1*_+x.x2*f,y:x.y1*_+x.y2*f};o.ctrlpts.push(I.x+s.x*w,I.y+s.y*w)}},ls.findTaxiPoints=function(e,t){var n=e._private.rscratch;n.edgeType="segments";var i=t.posPts,r=t.srcW,o=t.srcH,s=t.tgtW,a=t.tgtH,l="node-position"!==e.pstyle("edge-distances").value,c=e.pstyle("taxi-direction").value,h=c,d=e.pstyle("taxi-turn"),u="%"===d.units,p=d.pfValue,g=p<0,f=e.pstyle("taxi-turn-min-distance").pfValue,m=l?(o+a)/2:0,v=i.x2-i.x1,y=i.y2-i.y1,b=function(e,t){return e>0?Math.max(e-t,0):Math.min(e+t,0)},C=b(v,l?(r+s)/2:0),w=b(y,m),_=!1;"auto"===h?c=Math.abs(C)>Math.abs(w)?"horizontal":"vertical":"upward"===h||"downward"===h?(c="vertical",_=!0):"leftward"!==h&&"rightward"!==h||(c="horizontal",_=!0);var x,I="vertical"===c,A=I?w:C,k=I?y:v,S=Ke(k),E=!1;_&&(u||g)||!("downward"===h&&k<0||"upward"===h&&k>0||"leftward"===h&&k>0||"rightward"===h&&k<0)||(A=(S*=-1)*Math.abs(A),E=!0);var O=function(e){return Math.abs(e)<f||Math.abs(e)>=Math.abs(A)},P=O(x=u?(p<0?1+p:p)*A:(p<0?A:0)+p*S),M=O(Math.abs(A)-Math.abs(x));if(!P&&!M||E)if(I){var T=i.y1+x+(l?o/2*S:0);n.segpts=[i.x1,T,i.x2,T]}else{var R=i.x1+x+(l?r/2*S:0);n.segpts=[R,i.y1,R,i.y2]}else if(I){var D=Math.abs(k)<=o/2,N=Math.abs(v)<=s/2;if(D){var L=(i.x1+i.x2)/2;n.segpts=[L,i.y1,L,i.y2]}else if(N){var B=(i.y1+i.y2)/2;n.segpts=[i.x1,B,i.x2,B]}else n.segpts=[i.x1,i.y2]}else{var F=Math.abs(k)<=r/2,V=Math.abs(y)<=a/2;if(F){var $=(i.y1+i.y2)/2;n.segpts=[i.x1,$,i.x2,$]}else if(V){var H=(i.x1+i.x2)/2;n.segpts=[H,i.y1,H,i.y2]}else n.segpts=[i.x2,i.y1]}},ls.tryToCorrectInvalidPoints=function(e,t){var n=e._private.rscratch;if("bezier"===n.edgeType){var i=t.srcPos,r=t.tgtPos,o=t.srcW,s=t.srcH,a=t.tgtW,l=t.tgtH,c=t.srcShape,h=t.tgtShape,d=!x(n.startX)||!x(n.startY),u=!x(n.arrowStartX)||!x(n.arrowStartY),p=!x(n.endX)||!x(n.endY),g=!x(n.arrowEndX)||!x(n.arrowEndY),f=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth*3,m=Xe({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.startX,y:n.startY}),v=m<f,y=Xe({x:n.ctrlpts[0],y:n.ctrlpts[1]},{x:n.endX,y:n.endY}),b=y<f,C=!1;if(d||u||v){C=!0;var w={x:n.ctrlpts[0]-i.x,y:n.ctrlpts[1]-i.y},_=Math.sqrt(w.x*w.x+w.y*w.y),I={x:w.x/_,y:w.y/_},A=Math.max(o,s),k={x:n.ctrlpts[0]+2*I.x*A,y:n.ctrlpts[1]+2*I.y*A},S=c.intersectLine(i.x,i.y,o,s,k.x,k.y,0);v?(n.ctrlpts[0]=n.ctrlpts[0]+I.x*(f-m),n.ctrlpts[1]=n.ctrlpts[1]+I.y*(f-m)):(n.ctrlpts[0]=S[0]+I.x*f,n.ctrlpts[1]=S[1]+I.y*f)}if(p||g||b){C=!0;var E={x:n.ctrlpts[0]-r.x,y:n.ctrlpts[1]-r.y},O=Math.sqrt(E.x*E.x+E.y*E.y),P={x:E.x/O,y:E.y/O},M=Math.max(o,s),T={x:n.ctrlpts[0]+2*P.x*M,y:n.ctrlpts[1]+2*P.y*M},R=h.intersectLine(r.x,r.y,a,l,T.x,T.y,0);b?(n.ctrlpts[0]=n.ctrlpts[0]+P.x*(f-y),n.ctrlpts[1]=n.ctrlpts[1]+P.y*(f-y)):(n.ctrlpts[0]=R[0]+P.x*f,n.ctrlpts[1]=R[1]+P.y*f)}C&&this.findEndpoints(e)}},ls.storeAllpts=function(e){var t=e._private.rscratch;if("multibezier"===t.edgeType||"bezier"===t.edgeType||"self"===t.edgeType||"compound"===t.edgeType){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var n=0;n+1<t.ctrlpts.length;n+=2)t.allpts.push(t.ctrlpts[n],t.ctrlpts[n+1]),n+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[n]+t.ctrlpts[n+2])/2,(t.ctrlpts[n+1]+t.ctrlpts[n+3])/2);var i;t.allpts.push(t.endX,t.endY),t.ctrlpts.length/2%2==0?(t.midX=t.allpts[i=t.allpts.length/2-1],t.midY=t.allpts[i+1]):(t.midX=Je(t.allpts[i=t.allpts.length/2-3],t.allpts[i+2],t.allpts[i+4],.5),t.midY=Je(t.allpts[i+1],t.allpts[i+3],t.allpts[i+5],.5))}else if("straight"===t.edgeType)t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if("segments"===t.edgeType)if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.segpts.length%4==0){var r=t.segpts.length/2,o=r-2;t.midX=(t.segpts[o]+t.segpts[r])/2,t.midY=(t.segpts[o+1]+t.segpts[r+1])/2}else{var s=t.segpts.length/2-1;t.midX=t.segpts[s],t.midY=t.segpts[s+1]}},ls.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||x(t.startX)&&x(t.startY)&&x(t.endX)&&x(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,pe("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))},ls.findEdgeControlPoints=function(e){var t=this;if(e&&0!==e.length){for(var n=this,i=n.cy.hasCompoundNodes(),r={map:new xe,get:function(e){var t=this.map.get(e[0]);return null!=t?t.get(e[1]):null},set:function(e,t){var n=this.map.get(e[0]);null==n&&(n=new xe,this.map.set(e[0],n)),n.set(e[1],t)}},o=[],s=[],a=0;a<e.length;a++){var l=e[a],c=l._private,h=l.pstyle("curve-style").value;if(!l.removed()&&l.takesUpSpace())if("haystack"!==h){var d="unbundled-bezier"===h||"segments"===h||"straight"===h||"taxi"===h,u="unbundled-bezier"===h||"bezier"===h,p=c.target,g=[c.source.poolIndex(),p.poolIndex()].sort(),f=r.get(g);null==f&&(r.set(g,f={eles:[]}),o.push(g)),f.eles.push(l),d&&(f.hasUnbundled=!0),u&&(f.hasBezier=!0)}else s.push(l)}for(var m=function(e){var s=r.get(o[e]),a=void 0;if(!s.hasUnbundled){var l=s.eles[0].parallelEdges().filter((function(e){return e.isBundledBezier()}));Ce(s.eles),l.forEach((function(e){return s.eles.push(e)})),s.eles.sort((function(e,t){return e.poolIndex()-t.poolIndex()}))}var c=s.eles[0],h=c.source(),d=c.target();if(h.poolIndex()>d.poolIndex()){var u=h;h=d,d=u}var p=s.srcPos=h.position(),g=s.tgtPos=d.position(),f=s.srcW=h.outerWidth(),m=s.srcH=h.outerHeight(),v=s.tgtW=d.outerWidth(),y=s.tgtH=d.outerHeight(),b=s.srcShape=n.nodeShapes[t.getNodeShape(h)],C=s.tgtShape=n.nodeShapes[t.getNodeShape(d)];s.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var w=0;w<s.eles.length;w++){var _=s.eles[w],I=_[0]._private.rscratch,A=_.pstyle("curve-style").value,k="unbundled-bezier"===A||"segments"===A||"taxi"===A,S=!h.same(_.source());if(!s.calculatedIntersection&&h!==d&&(s.hasBezier||s.hasUnbundled)){s.calculatedIntersection=!0;var E=b.intersectLine(p.x,p.y,f,m,g.x,g.y,0),O=s.srcIntn=E,P=C.intersectLine(g.x,g.y,v,y,p.x,p.y,0),M=s.tgtIntn=P,T=s.intersectionPts={x1:E[0],x2:P[0],y1:E[1],y2:P[1]},R=s.posPts={x1:p.x,x2:g.x,y1:p.y,y2:g.y},D=P[1]-E[1],N=P[0]-E[0],L=Math.sqrt(N*N+D*D),B=s.vector={x:N,y:D},F=s.vectorNorm={x:B.x/L,y:B.y/L},V={x:-F.y,y:F.x};s.nodesOverlap=!x(L)||C.checkPoint(E[0],E[1],0,v,y,g.x,g.y)||b.checkPoint(P[0],P[1],0,f,m,p.x,p.y),s.vectorNormInverse=V,a={nodesOverlap:s.nodesOverlap,dirCounts:s.dirCounts,calculatedIntersection:!0,hasBezier:s.hasBezier,hasUnbundled:s.hasUnbundled,eles:s.eles,srcPos:g,tgtPos:p,srcW:v,srcH:y,tgtW:f,tgtH:m,srcIntn:M,tgtIntn:O,srcShape:C,tgtShape:b,posPts:{x1:R.x2,y1:R.y2,x2:R.x1,y2:R.y1},intersectionPts:{x1:T.x2,y1:T.y2,x2:T.x1,y2:T.y1},vector:{x:-B.x,y:-B.y},vectorNorm:{x:-F.x,y:-F.y},vectorNormInverse:{x:-V.x,y:-V.y}}}var $=S?a:s;I.nodesOverlap=$.nodesOverlap,I.srcIntn=$.srcIntn,I.tgtIntn=$.tgtIntn,i&&(h.isParent()||h.isChild()||d.isParent()||d.isChild())&&(h.parents().anySame(d)||d.parents().anySame(h)||h.same(d)&&h.isParent())?t.findCompoundLoopPoints(_,$,w,k):h===d?t.findLoopPoints(_,$,w,k):"segments"===A?t.findSegmentsPoints(_,$):"taxi"===A?t.findTaxiPoints(_,$):"straight"===A||!k&&s.eles.length%2==1&&w===Math.floor(s.eles.length/2)?t.findStraightEdgePoints(_):t.findBezierPoints(_,$,w,k,S),t.findEndpoints(_),t.tryToCorrectInvalidPoints(_,$),t.checkForInvalidEdgeWarning(_),t.storeAllpts(_),t.storeEdgeProjections(_),t.calculateArrowAngles(_),t.recalculateEdgeLabelProjections(_),t.calculateLabelAngles(_)}},v=0;v<o.length;v++)m(v);this.findHaystackPoints(s)}},ls.getSegmentPoints=function(e){var t=e[0]._private.rscratch;if("segments"===t.edgeType)return this.recalculateRenderedStyle(e),cs(t.segpts)},ls.getControlPoints=function(e){var t=e[0]._private.rscratch,n=t.edgeType;if("bezier"===n||"multibezier"===n||"self"===n||"compound"===n)return this.recalculateRenderedStyle(e),cs(t.ctrlpts)},ls.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var hs={manualEndptToPx:function(e,t){var n=e.position(),i=e.outerWidth(),r=e.outerHeight();if(2===t.value.length){var o=[t.pfValue[0],t.pfValue[1]];return"%"===t.units[0]&&(o[0]=o[0]*i),"%"===t.units[1]&&(o[1]=o[1]*r),o[0]+=n.x,o[1]+=n.y,o}var s=t.pfValue[0];s=-Math.PI/2+s;var a=2*Math.max(i,r),l=[n.x+Math.cos(s)*a,n.y+Math.sin(s)*a];return this.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,i,r,l[0],l[1],0)},findEndpoints:function(e){var t,n,i,r,o,s=this,a=e.source()[0],l=e.target()[0],c=a.position(),h=l.position(),d=e.pstyle("target-arrow-shape").value,u=e.pstyle("source-arrow-shape").value,p=e.pstyle("target-distance-from-node").pfValue,g=e.pstyle("source-distance-from-node").pfValue,f=e.pstyle("curve-style").value,m=e._private.rscratch,v=m.edgeType,y="self"===v||"compound"===v,b="bezier"===v||"multibezier"===v||y,C="bezier"!==v,w="straight"===v||"segments"===v,_="segments"===v,I=b||C||w,A=y||"taxi"===f,k=e.pstyle("source-endpoint"),S=A?"outside-to-node":k.value,E=e.pstyle("target-endpoint"),O=A?"outside-to-node":E.value;if(m.srcManEndpt=k,m.tgtManEndpt=E,b){var P=[m.ctrlpts[0],m.ctrlpts[1]];n=C?[m.ctrlpts[m.ctrlpts.length-2],m.ctrlpts[m.ctrlpts.length-1]]:P,i=P}else if(w){var M=_?m.segpts.slice(0,2):[h.x,h.y];n=_?m.segpts.slice(m.segpts.length-2):[c.x,c.y],i=M}if("inside-to-node"===O)t=[h.x,h.y];else if(E.units)t=this.manualEndptToPx(l,E);else if("outside-to-line"===O)t=m.tgtIntn;else if("outside-to-node"===O||"outside-to-node-or-label"===O?r=n:"outside-to-line"!==O&&"outside-to-line-or-label"!==O||(r=[c.x,c.y]),t=s.nodeShapes[this.getNodeShape(l)].intersectLine(h.x,h.y,l.outerWidth(),l.outerHeight(),r[0],r[1],0),"outside-to-node-or-label"===O||"outside-to-line-or-label"===O){var T=l._private.rscratch,R=T.labelX,D=T.labelY,N=T.labelWidth/2,L=T.labelHeight/2,B=l.pstyle("text-valign").value;"top"===B?D-=L:"bottom"===B&&(D+=L);var F=l.pstyle("text-halign").value;"left"===F?R-=N:"right"===F&&(R+=N);var V=_t(r[0],r[1],[R-N,D-L,R+N,D-L,R+N,D+L,R-N,D+L],h.x,h.y);if(V.length>0){var $=c,H=Ye($,ze(t)),j=Ye($,ze(V)),W=H;j<H&&(t=V,W=j),V.length>2&&Ye($,{x:V[2],y:V[3]})<W&&(t=[V[2],V[3]])}}var z=xt(t,n,s.arrowShapes[d].spacing(e)+p),G=xt(t,n,s.arrowShapes[d].gap(e)+p);if(m.endX=G[0],m.endY=G[1],m.arrowEndX=z[0],m.arrowEndY=z[1],"inside-to-node"===S)t=[c.x,c.y];else if(k.units)t=this.manualEndptToPx(a,k);else if("outside-to-line"===S)t=m.srcIntn;else if("outside-to-node"===S||"outside-to-node-or-label"===S?o=i:"outside-to-line"!==S&&"outside-to-line-or-label"!==S||(o=[h.x,h.y]),t=s.nodeShapes[this.getNodeShape(a)].intersectLine(c.x,c.y,a.outerWidth(),a.outerHeight(),o[0],o[1],0),"outside-to-node-or-label"===S||"outside-to-line-or-label"===S){var Z=a._private.rscratch,K=Z.labelX,X=Z.labelY,Y=Z.labelWidth/2,U=Z.labelHeight/2,J=a.pstyle("text-valign").value;"top"===J?X-=U:"bottom"===J&&(X+=U);var q=a.pstyle("text-halign").value;"left"===q?K-=Y:"right"===q&&(K+=Y);var Q=_t(o[0],o[1],[K-Y,X-U,K+Y,X-U,K+Y,X+U,K-Y,X+U],c.x,c.y);if(Q.length>0){var ee=h,te=Ye(ee,ze(t)),ne=Ye(ee,ze(Q)),ie=te;ne<te&&(t=[Q[0],Q[1]],ie=ne),Q.length>2&&Ye(ee,{x:Q[2],y:Q[3]})<ie&&(t=[Q[2],Q[3]])}}var re=xt(t,i,s.arrowShapes[u].spacing(e)+g),oe=xt(t,i,s.arrowShapes[u].gap(e)+g);m.startX=oe[0],m.startY=oe[1],m.arrowStartX=re[0],m.arrowStartY=re[1],I&&(m.badLine=!(x(m.startX)&&x(m.startY)&&x(m.endX)&&x(m.endY)))},getSourceEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}},getTargetEndpoint:function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}}},ds={};function us(e,t,n){for(var i=function(e,t,n,i){return Je(e,t,n,i)},r=t._private.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];r.push({x:i(n[0],n[2],n[4],s),y:i(n[1],n[3],n[5],s)})}}ds.storeEdgeProjections=function(e){var t=e._private,n=t.rscratch,i=n.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,"multibezier"===i||"bezier"===i||"self"===i||"compound"===i){t.rstyle.bezierPts=[];for(var r=0;r+5<n.allpts.length;r+=4)us(this,e,n.allpts.slice(r,r+6))}else if("segments"===i){var o=t.rstyle.linePts=[];for(r=0;r+1<n.allpts.length;r+=2)o.push({x:n.allpts[r],y:n.allpts[r+1]})}else if("haystack"===i){var s=n.haystackPts;t.rstyle.haystackPts=[{x:s[0],y:s[1]},{x:s[2],y:s[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth},ds.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var ps={recalculateNodeLabelProjection:function(e){var t=e.pstyle("label").strValue;if(!P(t)){var n,i,r=e._private,o=e.width(),s=e.height(),a=e.padding(),l=e.position(),c=e.pstyle("text-halign").strValue,h=e.pstyle("text-valign").strValue,d=r.rscratch,u=r.rstyle;switch(c){case"left":n=l.x-o/2-a;break;case"right":n=l.x+o/2+a;break;default:n=l.x}switch(h){case"top":i=l.y-s/2-a;break;case"bottom":i=l.y+s/2+a;break;default:i=l.y}d.labelX=n,d.labelY=i,u.labelX=n,u.labelY=i,this.applyLabelDimensions(e)}}},gs=function(e,t){var n=Math.atan(t/e);return 0===e&&n<0&&(n*=-1),n},fs=function(e,t){return gs(t.x-e.x,t.y-e.y)};ps.recalculateEdgeLabelProjections=function(e){var t,n=e._private,i=n.rscratch,r=this,o={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(o.mid||o.source||o.target){var s=function(e,t,i){_e(n.rscratch,e,t,i),_e(n.rstyle,e,t,i)};s("labelX",null,(t={x:i.midX,y:i.midY}).x),s("labelY",null,t.y);var a=gs(i.midDispX,i.midDispY);s("labelAutoAngle",null,a);var l=function(a){var l,c="source"===a;if(o[a]){var h=e.pstyle(a+"-text-offset").pfValue;switch(i.edgeType){case"self":case"compound":case"bezier":case"multibezier":for(var d,u=function e(){if(e.cache)return e.cache;for(var t=[],o=0;o+5<i.allpts.length;o+=4)t.push({p0:{x:i.allpts[o],y:i.allpts[o+1]},p1:{x:i.allpts[o+2],y:i.allpts[o+3]},p2:{x:i.allpts[o+4],y:i.allpts[o+5]},startDist:0,length:0,segments:[]});var s=n.rstyle.bezierPts,a=r.bezierProjPcts.length;function l(e,t,n,i,r){var o=Xe(t,n),s=e.segments[e.segments.length-1];e.segments.push({p0:t,p1:n,t0:i,t1:r,startDist:s?s.startDist+s.length:0,length:o}),e.length+=o}for(var c=0;c<t.length;c++){var h=t[c],d=t[c-1];d&&(h.startDist=d.startDist+d.length),l(h,h.p0,s[c*a],0,r.bezierProjPcts[0]);for(var u=0;u<a-1;u++)l(h,s[c*a+u],s[c*a+u+1],r.bezierProjPcts[u],r.bezierProjPcts[u+1]);l(h,s[c*a+a-1],h.p2,r.bezierProjPcts[a-1],1)}return e.cache=t}(),p=0,g=0,f=0;f<u.length;f++){for(var m=u[c?f:u.length-1-f],v=0;v<m.segments.length;v++){var y=m.segments[c?v:m.segments.length-1-v];if(p=g,(g+=y.length)>=h||f===u.length-1&&v===m.segments.length-1){d={cp:m,segment:y};break}}if(d)break}var b=d.cp,C=d.segment,w=(h-p)/C.length,_=C.t1-C.t0,x=c?C.t0+_*w:C.t1-_*w;x=Qe(0,x,1),t=qe(b.p0,b.p1,b.p2,x),l=function(e,t,n,i){var r=Qe(0,i-.001,1),o=Qe(0,i+.001,1),s=qe(e,t,n,r),a=qe(e,t,n,o);return fs(s,a)}(b.p0,b.p1,b.p2,x);break;case"straight":case"segments":case"haystack":for(var I,A,k,S,E=0,O=i.allpts.length,P=0;P+3<O&&(c?(k={x:i.allpts[P],y:i.allpts[P+1]},S={x:i.allpts[P+2],y:i.allpts[P+3]}):(k={x:i.allpts[O-2-P],y:i.allpts[O-1-P]},S={x:i.allpts[O-4-P],y:i.allpts[O-3-P]}),A=E,!((E+=I=Xe(k,S))>=h));P+=2);var M=(h-A)/I;M=Qe(0,M,1),t=function(e,t,n,i){var r=t.x-e.x,o=t.y-e.y,s=Xe(e,t);return n=null==n?0:n,{x:e.x+r/s*(i=null!=i?i:n*s),y:e.y+o/s*i}}(k,S,M),l=fs(k,S)}s("labelX",a,t.x),s("labelY",a,t.y),s("labelAutoAngle",a,l)}};l("source"),l("target"),this.applyLabelDimensions(e)}},ps.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))},ps.applyPrefixedLabelDimensions=function(e,t){var n=e._private,i=this.getLabelText(e,t),r=this.calculateLabelDimensions(e,i),o=e.pstyle("line-height").pfValue,s=e.pstyle("text-wrap").strValue,a=we(n.rscratch,"labelWrapCachedLines",t)||[],l="wrap"!==s?1:Math.max(a.length,1),c=r.height/l,h=c*o,d=r.width,u=r.height+(l-1)*(o-1)*c;_e(n.rstyle,"labelWidth",t,d),_e(n.rscratch,"labelWidth",t,d),_e(n.rstyle,"labelHeight",t,u),_e(n.rscratch,"labelHeight",t,u),_e(n.rscratch,"labelLineHeight",t,h)},ps.getLabelText=function(e,t){var n=e._private,i=e.pstyle((t?t+"-":"")+"label").strValue,r=e.pstyle("text-transform").value,o=function(e,i){return i?(_e(n.rscratch,e,t,i),i):we(n.rscratch,e,t)};if(!i)return"";"none"==r||("uppercase"==r?i=i.toUpperCase():"lowercase"==r&&(i=i.toLowerCase()));var s=e.pstyle("text-wrap").value;if("wrap"===s){var a=o("labelKey");if(null!=a&&o("labelWrapKey")===a)return o("labelWrapCachedText");for(var l=i.split("\n"),c=e.pstyle("text-max-width").pfValue,h="anywhere"===e.pstyle("text-overflow-wrap").value,d=[],u=/[\s\u200b]+/,p=h?"":" ",g=0;g<l.length;g++){var f=l[g],m=this.calculateLabelDimensions(e,f).width;if(h){var v=f.split("").join("\u200b");f=v}if(m>c){for(var y=f.split(u),b="",C=0;C<y.length;C++){var w=y[C];this.calculateLabelDimensions(e,0===b.length?w:b+p+w).width<=c?b+=w+p:(b&&d.push(b),b=w+p)}b.match(/^[\s\u200b]+$/)||d.push(b)}else d.push(f)}o("labelWrapCachedLines",d),i=o("labelWrapCachedText",d.join("\n")),o("labelWrapKey",a)}else if("ellipsis"===s){for(var _=e.pstyle("text-max-width").pfValue,x="",I=!1,A=0;A<i.length&&!(this.calculateLabelDimensions(e,x+i[A]+"\u2026").width>_);A++)x+=i[A],A===i.length-1&&(I=!0);return I||(x+="\u2026"),x}return i},ps.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,n=e.pstyle("text-halign").strValue;if("auto"!==t)return t;if(!e.isNode())return"center";switch(n){case"left":return"right";case"right":return"left";default:return"center"}},ps.calculateLabelDimensions=function(e,t){var n=ee(t,e._private.labelDimsKey),i=this.labelDimCache||(this.labelDimCache=[]),r=i[n];if(null!=r)return r;var o=e.pstyle("font-style").strValue,s=e.pstyle("font-size").pfValue,a=e.pstyle("font-family").strValue,l=e.pstyle("font-weight").strValue,c=this.labelCalcCanvas,h=this.labelCalcCanvasContext;if(!c){c=this.labelCalcCanvas=document.createElement("canvas"),h=this.labelCalcCanvasContext=c.getContext("2d");var d=c.style;d.position="absolute",d.left="-9999px",d.top="-9999px",d.zIndex="-1",d.visibility="hidden",d.pointerEvents="none"}h.font="".concat(o," ").concat(l," ").concat(s,"px ").concat(a);for(var u=0,p=0,g=t.split("\n"),f=0;f<g.length;f++){var m=h.measureText(g[f]),v=Math.ceil(m.width),y=s;u=Math.max(v,u),p+=y}return i[n]={width:u+=6,height:p+=6}},ps.calculateLabelAngle=function(e,t){var n=e._private.rscratch,i=e.isEdge(),r=e.pstyle((t?t+"-":"")+"text-rotation"),o=r.strValue;return"none"===o?0:i&&"autorotate"===o?n.labelAutoAngle:"autorotate"===o?0:r.pfValue},ps.calculateLabelAngles=function(e){var t=this,n=e.isEdge(),i=e._private.rscratch;i.labelAngle=t.calculateLabelAngle(e),n&&(i.sourceLabelAngle=t.calculateLabelAngle(e,"source"),i.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var ms={},vs=!1;ms.getNodeShape=function(e){var t=e.pstyle("shape").value;if("cutrectangle"===t&&(e.width()<28||e.height()<28))return vs||(pe("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),vs=!0),"rectangle";if(e.isParent())return"rectangle"===t||"roundrectangle"===t||"round-rectangle"===t||"cutrectangle"===t||"cut-rectangle"===t||"barrel"===t?t:"rectangle";if("polygon"===t){var n=e.pstyle("shape-polygon-points").value;return this.nodeShapes.makePolygon(n).name}return t};var ys={};[ss,as,ls,hs,ds,ps,ms,{registerCalculationListeners:function(){var e=this.cy,t=e.collection(),n=this,i=function(e){var n=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(t.merge(e),n)for(var i=0;i<e.length;i++){var r=e[i],o=r._private,s=o.rstyle;s.clean=!1,s.cleanConnected=!1}};n.binder(e).on("bounds.* dirty.*",(function(e){i(e.target)})).on("style.* background.*",(function(e){i(e.target,!1)}));var r=function(r){if(r){for(var o=n.onUpdateEleCalcsFns,s=0;s<t.length;s++){var a=t[s],l=a._private.rstyle;a.isNode()&&!l.cleanConnected&&(i(a.connectedEdges()),l.cleanConnected=!0)}if(o)for(var c=0;c<o.length;c++)(0,o[c])(r,t);n.recalculateRenderedStyle(t),t=e.collection()}};n.flushRenderedStyleQueue=function(){r(!0)},n.beforeRender(r,n.beforeRenderPriorities.eleCalcs)},onUpdateEleCalcs:function(e){(this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[]).push(e)},recalculateRenderedStyle:function(e,t){var n=function(e){return e._private.rstyle.cleanConnected},i=[],r=[];if(!this.destroyed){void 0===t&&(t=!0);for(var o=0;o<e.length;o++){var s=e[o],a=s._private,l=a.rstyle;!s.isEdge()||n(s.source())&&n(s.target())||(l.clean=!1),t&&l.clean||s.removed()||"none"!==s.pstyle("display").value&&("nodes"===a.group?r.push(s):i.push(s),l.clean=!0)}for(var c=0;c<r.length;c++){var h=r[c],d=h._private.rstyle,u=h.position();this.recalculateNodeLabelProjection(h),d.nodeX=u.x,d.nodeY=u.y,d.nodeW=h.pstyle("width").pfValue,d.nodeH=h.pstyle("height").pfValue}this.recalculateEdgeProjections(i);for(var p=0;p<i.length;p++){var g=i[p]._private,f=g.rstyle,m=g.rscratch;f.srcX=m.arrowStartX,f.srcY=m.arrowStartY,f.tgtX=m.arrowEndX,f.tgtY=m.arrowEndY,f.midX=m.midX,f.midY=m.midY,f.labelAngle=m.labelAngle,f.sourceLabelAngle=m.sourceLabelAngle,f.targetLabelAngle=m.targetLabelAngle}}}},{updateCachedGrabbedEles:function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],n=0;n<e.length;n++){var i=(r=e[n])._private.rscratch;r.grabbed()&&!r.isParent()?t.push(r):i.inDragLayer?e.drag.push(r):e.nondrag.push(r)}for(n=0;n<t.length;n++){var r;e.drag.push(r=t[n])}}},invalidateCachedZSortedEles:function(){this.cachedZSortedEles=null},getCachedZSortedEles:function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(lr),t.interactive=t.filter((function(e){return e.interactive()})),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t}}].forEach((function(e){V(ys,e)}));var bs={getCachedImage:function(e,t,n){var i=this.imageCache=this.imageCache||{},r=i[e];if(r)return r.image.complete||r.image.addEventListener("load",n),r.image;var o=(r=i[e]=i[e]||{}).image=new Image;return o.addEventListener("load",n),o.addEventListener("error",(function(){o.error=!0})),"data:"===e.substring(0,"data:".length).toLowerCase()||(o.crossOrigin=t),o.src=e,o}},Cs={registerBinding:function(e,t,n,i){var r=Array.prototype.slice.apply(arguments,[1]),o=this.binder(e);return o.on.apply(o,r)},binder:function(e){var t=this,n=e===window||e===document||e===document.body||"undefined"!=typeof HTMLElement&&e instanceof HTMLElement;if(null==t.supportsPassiveEvents){var i=!1;try{var r=Object.defineProperty({},"passive",{get:function(){return i=!0,!0}});window.addEventListener("test",null,r)}catch(s){}t.supportsPassiveEvents=i}var o=function(i,r,o){var s=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(s[2]={capture:null!=o&&o,passive:!1,once:!1}),t.bindings.push({target:e,args:s}),(e.addEventListener||e.on).apply(e,s),this};return{on:o,addEventListener:o,addListener:o,bind:o}},nodeIsDraggable:function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()},nodeIsGrabbable:function(e){return this.nodeIsDraggable(e)&&e.interactive()},load:function(){var e=this,t=function(e){return e.selected()},n=function(t,n,i,r){null==t&&(t=e.cy);for(var o=0;o<n.length;o++)t.emit({originalEvent:i,type:n[o],position:r})},i=function(e){return e.shiftKey||e.metaKey||e.ctrlKey},o=function(t,n){var i=!0;if(e.cy.hasCompoundNodes()&&t&&t.pannable()){for(var r=0;n&&r<n.length;r++)if((t=n[r]).isNode()&&t.isParent()){i=!1;break}}else i=!0;return i},s=function(e){e[0]._private.rscratch.inDragLayer=!0},a=function(e){e[0]._private.rscratch.isGrabTarget=!0},l=function(e,t){var n=t.addToList;n.has(e)||(n.merge(e),function(e){e[0]._private.grabbed=!0}(e))},c=function(t,n){n=n||{};var i=t.cy().hasCompoundNodes();n.inDragLayer&&(t.forEach(s),t.neighborhood().stdFilter((function(e){return!i||e.isEdge()})).forEach(s)),n.addToList&&t.forEach((function(e){l(e,n)})),function(e,t){if(e.cy().hasCompoundNodes()&&(null!=t.inDragLayer||null!=t.addToList)){var n=e.descendants();t.inDragLayer&&(n.forEach(s),n.connectedEdges().forEach(s)),t.addToList&&t.addToList.unmerge(n)}}(t,n),u(t,{inDragLayer:n.inDragLayer}),e.updateCachedGrabbedEles()},h=c,d=function(t){t&&(e.getCachedZSortedEles().forEach((function(e){!function(e){e[0]._private.grabbed=!1}(e),function(e){e[0]._private.rscratch.inDragLayer=!1}(e),function(e){e[0]._private.rscratch.isGrabTarget=!1}(e)})),e.updateCachedGrabbedEles())},u=function(e,t){if((null!=t.inDragLayer||null!=t.addToList)&&e.cy().hasCompoundNodes()){var n=e.ancestors().orphans();if(!n.same(e)){var i=n.descendants().spawnSelf().merge(n).unmerge(e).unmerge(e.descendants()),r=i.connectedEdges();t.inDragLayer&&(r.forEach(s),i.forEach(s)),t.addToList&&i.forEach((function(e){l(e,t)}))}}},p=function(){null!=document.activeElement&&null!=document.activeElement.blur&&document.activeElement.blur()},g="undefined"!=typeof MutationObserver,f="undefined"!=typeof ResizeObserver;g?(e.removeObserver=new MutationObserver((function(t){for(var n=0;n<t.length;n++){var i=t[n].removedNodes;if(i)for(var r=0;r<i.length;r++)if(i[r]===e.container){e.destroy();break}}})),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",(function(t){e.destroy()}));var m=r((function(){e.cy.resize()}),100);g&&(e.styleObserver=new MutationObserver(m),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(window,"resize",m),f&&(e.resizeObserver=new ResizeObserver(m),e.resizeObserver.observe(e.container));var v=function(){e.invalidateContainerClientCoordsCache()};!function(e,t){for(;null!=e;)t(e),e=e.parentNode}(e.container,(function(t){e.registerBinding(t,"transitionend",v),e.registerBinding(t,"animationend",v),e.registerBinding(t,"scroll",v)})),e.registerBinding(e.container,"contextmenu",(function(e){e.preventDefault()}));var y=function(t){for(var n=e.findContainerClientCoords(),i=n[0],r=n[1],o=n[2],s=n[3],a=t.touches?t.touches:[t],l=!1,c=0;c<a.length;c++){var h=a[c];if(i<=h.clientX&&h.clientX<=i+o&&r<=h.clientY&&h.clientY<=r+s){l=!0;break}}if(!l)return!1;for(var d=e.container,u=t.target.parentNode,p=!1;u;){if(u===d){p=!0;break}u=u.parentNode}return!!p};e.registerBinding(e.container,"mousedown",(function(t){if(y(t)){t.preventDefault(),p(),e.hoverData.capture=!0,e.hoverData.which=t.which;var i=e.cy,r=[t.clientX,t.clientY],o=e.projectIntoViewport(r[0],r[1]),s=e.selection,l=e.findNearestElements(o[0],o[1],!0,!1),d=l[0],u=e.dragData.possibleDragElements;if(e.hoverData.mdownPos=o,e.hoverData.mdownGPos=r,3==t.which){e.hoverData.cxtStarted=!0;var g={originalEvent:t,type:"cxttapstart",position:{x:o[0],y:o[1]}};d?(d.activate(),d.emit(g),e.hoverData.down=d):i.emit(g),e.hoverData.downTime=(new Date).getTime(),e.hoverData.cxtDragged=!1}else if(1==t.which){if(d&&d.activate(),null!=d&&e.nodeIsGrabbable(d)){var f=function(e){return{originalEvent:t,type:e,position:{x:o[0],y:o[1]}}};if(a(d),d.selected()){u=e.dragData.possibleDragElements=i.collection();var m=i.$((function(t){return t.isNode()&&t.selected()&&e.nodeIsGrabbable(t)}));c(m,{addToList:u}),d.emit(f("grabon")),m.forEach((function(e){e.emit(f("grab"))}))}else u=e.dragData.possibleDragElements=i.collection(),h(d,{addToList:u}),d.emit(f("grabon")).emit(f("grab"));e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=d,e.hoverData.downs=l,e.hoverData.downTime=(new Date).getTime(),n(d,["mousedown","tapstart","vmousedown"],t,{x:o[0],y:o[1]}),null==d?(s[4]=1,e.data.bgActivePosistion={x:o[0],y:o[1]},e.redrawHint("select",!0),e.redraw()):d.pannable()&&(s[4]=1),e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout((function(){if(!e.hoverData.tapholdCancelled){var n=e.hoverData.down;n?n.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}}):i.emit({originalEvent:t,type:"taphold",position:{x:o[0],y:o[1]}})}}),e.tapholdDuration)}s[0]=s[2]=o[0],s[1]=s[3]=o[1]}}),!1),e.registerBinding(window,"mousemove",(function(t){if(e.hoverData.capture||y(t)){var r=!1,s=e.cy,a=s.zoom(),l=[t.clientX,t.clientY],h=e.projectIntoViewport(l[0],l[1]),u=e.hoverData.mdownPos,p=e.hoverData.mdownGPos,g=e.selection,f=null;e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.selecting||(f=e.findNearestElement(h[0],h[1],!0,!1));var m,v=e.hoverData.last,b=e.hoverData.down,C=[h[0]-g[2],h[1]-g[3]],w=e.dragData.possibleDragElements;if(p){var _=l[0]-p[0],I=l[1]-p[1];e.hoverData.isOverThresholdDrag=m=_*_+I*I>=e.desktopTapThreshold2}var A=i(t);m&&(e.hoverData.tapholdCancelled=!0),r=!0,n(f,["mousemove","vmousemove","tapdrag"],t,{x:h[0],y:h[1]});var k=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||s.emit({originalEvent:t,type:"boxstart",position:{x:h[0],y:h[1]}}),g[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(3===e.hoverData.which){if(m){var S={originalEvent:t,type:"cxtdrag",position:{x:h[0],y:h[1]}};b?b.emit(S):s.emit(S),e.hoverData.cxtDragged=!0,e.hoverData.cxtOver&&f===e.hoverData.cxtOver||(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:h[0],y:h[1]}}),e.hoverData.cxtOver=f,f&&f.emit({originalEvent:t,type:"cxtdragover",position:{x:h[0],y:h[1]}}))}}else if(e.hoverData.dragging){if(r=!0,s.panningEnabled()&&s.userPanningEnabled()){var E;if(e.hoverData.justStartedPan){var O=e.hoverData.mdownPos;E={x:(h[0]-O[0])*a,y:(h[1]-O[1])*a},e.hoverData.justStartedPan=!1}else E={x:C[0]*a,y:C[1]*a};s.panBy(E),e.hoverData.dragged=!0}h=e.projectIntoViewport(t.clientX,t.clientY)}else if(1!=g[4]||null!=b&&!b.pannable()){if(b&&b.pannable()&&b.active()&&b.unactivate(),b&&b.grabbed()||f==v||(v&&n(v,["mouseout","tapdragout"],t,{x:h[0],y:h[1]}),f&&n(f,["mouseover","tapdragover"],t,{x:h[0],y:h[1]}),e.hoverData.last=f),b)if(m){if(s.boxSelectionEnabled()&&A)b&&b.grabbed()&&(d(w),b.emit("freeon"),w.emit("free"),e.dragData.didDrag&&(b.emit("dragfreeon"),w.emit("dragfree"))),k();else if(b&&b.grabbed()&&e.nodeIsDraggable(b)){var P=!e.dragData.didDrag;P&&e.redrawHint("eles",!0),e.dragData.didDrag=!0;var M=s.collection();e.hoverData.draggingEles||c(w,{inDragLayer:!0});var T={x:0,y:0};if(x(C[0])&&x(C[1])&&(T.x+=C[0],T.y+=C[1],P)){var R=e.hoverData.dragDelta;R&&x(R[0])&&x(R[1])&&(T.x+=R[0],T.y+=R[1])}for(var D=0;D<w.length;D++){var N=w[D];e.nodeIsDraggable(N)&&N.grabbed()&&M.push(N)}e.hoverData.draggingEles=!0,M.silentShift(T).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else!function(){var t=e.hoverData.dragDelta=e.hoverData.dragDelta||[];0===t.length?(t.push(C[0]),t.push(C[1])):(t[0]+=C[0],t[1]+=C[1])}();r=!0}else m&&(e.hoverData.dragging||!s.boxSelectionEnabled()||!A&&s.panningEnabled()&&s.userPanningEnabled()?!e.hoverData.selecting&&s.panningEnabled()&&s.userPanningEnabled()&&o(b,e.hoverData.downs)&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,g[4]=0,e.data.bgActivePosistion=ze(u),e.redrawHint("select",!0),e.redraw()):k(),b&&b.pannable()&&b.active()&&b.unactivate());return g[2]=h[0],g[3]=h[1],r?(t.stopPropagation&&t.stopPropagation(),t.preventDefault&&t.preventDefault(),!1):void 0}}),!1),e.registerBinding(window,"mouseup",(function(r){if(e.hoverData.capture){e.hoverData.capture=!1;var o=e.cy,s=e.projectIntoViewport(r.clientX,r.clientY),a=e.selection,l=e.findNearestElement(s[0],s[1],!0,!1),c=e.dragData.possibleDragElements,h=e.hoverData.down,u=i(r);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,h&&h.unactivate(),3===e.hoverData.which){var p={originalEvent:r,type:"cxttapend",position:{x:s[0],y:s[1]}};if(h?h.emit(p):o.emit(p),!e.hoverData.cxtDragged){var g={originalEvent:r,type:"cxttap",position:{x:s[0],y:s[1]}};h?h.emit(g):o.emit(g)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(1===e.hoverData.which){if(n(l,["mouseup","tapend","vmouseup"],r,{x:s[0],y:s[1]}),e.dragData.didDrag||e.hoverData.dragged||e.hoverData.selecting||e.hoverData.isOverThresholdDrag||n(h,["click","tap","vclick"],r,{x:s[0],y:s[1]}),null!=h||e.dragData.didDrag||e.hoverData.selecting||e.hoverData.dragged||i(r)||(o.$(t).unselect(["tapunselect"]),c.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=c=o.collection()),l!=h||e.dragData.didDrag||e.hoverData.selecting||null!=l&&l._private.selectable&&(e.hoverData.dragging||("additive"===o.selectionType()||u?l.selected()?l.unselect(["tapunselect"]):l.select(["tapselect"]):u||(o.$(t).unmerge(l).unselect(["tapunselect"]),l.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var f=o.collection(e.getAllInBox(a[0],a[1],a[2],a[3]));e.redrawHint("select",!0),f.length>0&&e.redrawHint("eles",!0),o.emit({type:"boxend",originalEvent:r,position:{x:s[0],y:s[1]}}),"additive"===o.selectionType()||u||o.$(t).unmerge(f).unselect(),f.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!a[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var m=h&&h.grabbed();d(c),m&&(h.emit("freeon"),c.emit("free"),e.dragData.didDrag&&(h.emit("dragfreeon"),c.emit("dragfree")))}}a[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null}}),!1);var b,C,w,_,I,A,k,S,E,O,P,M,T,R=function(t){if(!e.scrollingPage){var n=e.cy,i=n.zoom(),r=n.pan(),o=e.projectIntoViewport(t.clientX,t.clientY),s=[o[0]*i+r.x,o[1]*i+r.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||0!==e.selection[4])t.preventDefault();else if(n.panningEnabled()&&n.userPanningEnabled()&&n.zoomingEnabled()&&n.userZoomingEnabled()){var a;t.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout((function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()}),150),a=null!=t.deltaY?t.deltaY/-250:null!=t.wheelDeltaY?t.wheelDeltaY/1e3:t.wheelDelta/1e3,a*=e.wheelSensitivity,1===t.deltaMode&&(a*=33);var l=n.zoom()*Math.pow(10,a);"gesturechange"===t.type&&(l=e.gestureStartZoom*t.scale),n.zoom({level:l,renderedPosition:{x:s[0],y:s[1]}})}}};e.registerBinding(e.container,"wheel",R,!0),e.registerBinding(window,"scroll",(function(t){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout((function(){e.scrollingPage=!1}),250)}),!0),e.registerBinding(e.container,"gesturestart",(function(t){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||t.preventDefault()}),!0),e.registerBinding(e.container,"gesturechange",(function(t){e.hasTouchStarted||R(t)}),!0),e.registerBinding(e.container,"mouseout",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseout",position:{x:n[0],y:n[1]}})}),!1),e.registerBinding(e.container,"mouseover",(function(t){var n=e.projectIntoViewport(t.clientX,t.clientY);e.cy.emit({originalEvent:t,type:"mouseover",position:{x:n[0],y:n[1]}})}),!1);var D,N,L,B,F=function(e,t,n,i){return Math.sqrt((n-e)*(n-e)+(i-t)*(i-t))},V=function(e,t,n,i){return(n-e)*(n-e)+(i-t)*(i-t)};if(e.registerBinding(e.container,"touchstart",D=function(t){if(e.hasTouchStarted=!0,y(t)){p(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var i=e.cy,r=e.touchData.now,o=e.touchData.earlier;if(t.touches[0]){var s=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);r[0]=s[0],r[1]=s[1]}if(t.touches[1]&&(s=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),r[2]=s[0],r[3]=s[1]),t.touches[2]&&(s=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),r[4]=s[0],r[5]=s[1]),t.touches[1]){e.touchData.singleTouchMoved=!0,d(e.dragData.touchDragEles);var l=e.findContainerClientCoords();P=l[2],M=l[3],C=t.touches[0].clientY-(O=l[1]),w=t.touches[1].clientX-(E=l[0]),_=t.touches[1].clientY-O,T=0<=(b=t.touches[0].clientX-E)&&b<=P&&0<=w&&w<=P&&0<=C&&C<=M&&0<=_&&_<=M;var u=i.pan(),g=i.zoom();if(I=F(b,C,w,_),A=V(b,C,w,_),S=[((k=[(b+w)/2,(C+_)/2])[0]-u.x)/g,(k[1]-u.y)/g],A<4e4&&!t.touches[2]){var f=e.findNearestElement(r[0],r[1],!0,!0),m=e.findNearestElement(r[2],r[3],!0,!0);return f&&f.isNode()?(f.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start=f):m&&m.isNode()?(m.activate().emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start=m):i.emit({originalEvent:t,type:"cxttapstart",position:{x:r[0],y:r[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,void e.redraw()}}if(t.touches[2])i.boxSelectionEnabled()&&t.preventDefault();else if(t.touches[1]);else if(t.touches[0]){var v=e.findNearestElements(r[0],r[1],!0,!0),x=v[0];if(null!=x&&(x.activate(),e.touchData.start=x,e.touchData.starts=v,e.nodeIsGrabbable(x))){var R=e.dragData.touchDragEles=i.collection(),D=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),x.selected()?(D=i.$((function(t){return t.selected()&&e.nodeIsGrabbable(t)})),c(D,{addToList:R})):h(x,{addToList:R}),a(x);var N=function(e){return{originalEvent:t,type:e,position:{x:r[0],y:r[1]}}};x.emit(N("grabon")),D?D.forEach((function(e){e.emit(N("grab"))})):x.emit(N("grab"))}n(x,["touchstart","tapstart","vmousedown"],t,{x:r[0],y:r[1]}),null==x&&(e.data.bgActivePosistion={x:s[0],y:s[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout((function(){!1!==e.touchData.singleTouchMoved||e.pinching||e.touchData.selecting||n(e.touchData.start,["taphold"],t,{x:r[0],y:r[1]})}),e.tapholdDuration)}if(t.touches.length>=1){for(var L=e.touchData.startPosition=[],B=0;B<r.length;B++)L[B]=o[B]=r[B];var $=t.touches[0];e.touchData.startGPosition=[$.clientX,$.clientY]}}},!1),e.registerBinding(window,"touchmove",N=function(t){var i=e.touchData.capture;if(i||y(t)){var r=e.selection,s=e.cy,a=e.touchData.now,l=e.touchData.earlier,h=s.zoom();if(t.touches[0]){var u=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY);a[0]=u[0],a[1]=u[1]}t.touches[1]&&(u=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),a[2]=u[0],a[3]=u[1]),t.touches[2]&&(u=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),a[4]=u[0],a[5]=u[1]);var p,g=e.touchData.startGPosition;if(i&&t.touches[0]&&g){for(var f=[],m=0;m<a.length;m++)f[m]=a[m]-l[m];var v=t.touches[0].clientX-g[0],k=t.touches[0].clientY-g[1];p=v*v+k*k>=e.touchTapThreshold2}if(i&&e.touchData.cxt){t.preventDefault();var P=V(L=t.touches[0].clientX-E,B=t.touches[0].clientY-O,$=t.touches[1].clientX-E,H=t.touches[1].clientY-O);if(P/A>=2.25||P>=22500){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var M={originalEvent:t,type:"cxttapend",position:{x:a[0],y:a[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(M),e.touchData.start=null):s.emit(M)}}if(i&&e.touchData.cxt){M={originalEvent:t,type:"cxtdrag",position:{x:a[0],y:a[1]}},e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(M):s.emit(M),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var R=e.findNearestElement(a[0],a[1],!0,!0);e.touchData.cxtOver&&R===e.touchData.cxtOver||(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:t,type:"cxtdragout",position:{x:a[0],y:a[1]}}),e.touchData.cxtOver=R,R&&R.emit({originalEvent:t,type:"cxtdragover",position:{x:a[0],y:a[1]}}))}else if(i&&t.touches[2]&&s.boxSelectionEnabled())t.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||s.emit({originalEvent:t,type:"boxstart",position:{x:a[0],y:a[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,r[4]=1,r&&0!==r.length&&void 0!==r[0]?(r[2]=(a[0]+a[2]+a[4])/3,r[3]=(a[1]+a[3]+a[5])/3):(r[0]=(a[0]+a[2]+a[4])/3,r[1]=(a[1]+a[3]+a[5])/3,r[2]=(a[0]+a[2]+a[4])/3+1,r[3]=(a[1]+a[3]+a[5])/3+1),e.redrawHint("select",!0),e.redraw();else if(i&&t.touches[1]&&!e.touchData.didSelect&&s.zoomingEnabled()&&s.panningEnabled()&&s.userZoomingEnabled()&&s.userPanningEnabled()){if(t.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),te=e.dragData.touchDragEles){e.redrawHint("drag",!0);for(var D=0;D<te.length;D++){var N=te[D]._private;N.grabbed=!1,N.rscratch.inDragLayer=!1}}var L,B,$,H,j=e.touchData.start,W=F(L=t.touches[0].clientX-E,B=t.touches[0].clientY-O,$=t.touches[1].clientX-E,H=t.touches[1].clientY-O),z=W/I;if(T){var G=(L-b+($-w))/2,Z=(B-C+(H-_))/2,K=s.zoom(),X=K*z,Y=s.pan(),U=S[0]*K+Y.x,J=S[1]*K+Y.y,q={x:-X/K*(U-Y.x-G)+U,y:-X/K*(J-Y.y-Z)+J};j&&j.active()&&(d(te=e.dragData.touchDragEles),e.redrawHint("drag",!0),e.redrawHint("eles",!0),j.unactivate().emit("freeon"),te.emit("free"),e.dragData.didDrag&&(j.emit("dragfreeon"),te.emit("dragfree"))),s.viewport({zoom:X,pan:q,cancelOnFailedZoom:!0}),I=W,b=L,C=B,w=$,_=H,e.pinching=!0}t.touches[0]&&(u=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),a[0]=u[0],a[1]=u[1]),t.touches[1]&&(u=e.projectIntoViewport(t.touches[1].clientX,t.touches[1].clientY),a[2]=u[0],a[3]=u[1]),t.touches[2]&&(u=e.projectIntoViewport(t.touches[2].clientX,t.touches[2].clientY),a[4]=u[0],a[5]=u[1])}else if(t.touches[0]&&!e.touchData.didSelect){var Q=e.touchData.start,ee=e.touchData.last;if(e.hoverData.draggingEles||e.swipePanning||(R=e.findNearestElement(a[0],a[1],!0,!0)),i&&null!=Q&&t.preventDefault(),i&&null!=Q&&e.nodeIsDraggable(Q))if(p){var te=e.dragData.touchDragEles,ne=!e.dragData.didDrag;ne&&c(te,{inDragLayer:!0}),e.dragData.didDrag=!0;var ie={x:0,y:0};x(f[0])&&x(f[1])&&(ie.x+=f[0],ie.y+=f[1],ne&&(e.redrawHint("eles",!0),(re=e.touchData.dragDelta)&&x(re[0])&&x(re[1])&&(ie.x+=re[0],ie.y+=re[1]))),e.hoverData.draggingEles=!0,te.silentShift(ie).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==l[0]&&e.touchData.startPosition[1]==l[1]&&e.redrawHint("eles",!0),e.redraw()}else{var re;0===(re=e.touchData.dragDelta=e.touchData.dragDelta||[]).length?(re.push(f[0]),re.push(f[1])):(re[0]+=f[0],re[1]+=f[1])}if(n(Q||R,["touchmove","tapdrag","vmousemove"],t,{x:a[0],y:a[1]}),Q&&Q.grabbed()||R==ee||(ee&&ee.emit({originalEvent:t,type:"tapdragout",position:{x:a[0],y:a[1]}}),R&&R.emit({originalEvent:t,type:"tapdragover",position:{x:a[0],y:a[1]}})),e.touchData.last=R,i)for(D=0;D<a.length;D++)a[D]&&e.touchData.startPosition[D]&&p&&(e.touchData.singleTouchMoved=!0);i&&(null==Q||Q.pannable())&&s.panningEnabled()&&s.userPanningEnabled()&&(o(Q,e.touchData.starts)&&(t.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=ze(e.touchData.startPosition)),e.swipePanning?s.panBy({x:f[0]*h,y:f[1]*h}):p&&(e.swipePanning=!0,s.panBy({x:v*h,y:k*h}),Q&&(Q.unactivate(),e.redrawHint("select",!0),e.touchData.start=null))),u=e.projectIntoViewport(t.touches[0].clientX,t.touches[0].clientY),a[0]=u[0],a[1]=u[1])}for(m=0;m<a.length;m++)l[m]=a[m];i&&t.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&null!=e.data.bgActivePosistion&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1),e.registerBinding(window,"touchcancel",L=function(t){var n=e.touchData.start;e.touchData.capture=!1,n&&n.unactivate()}),e.registerBinding(window,"touchend",B=function(i){var r=e.touchData.start;if(e.touchData.capture){0===i.touches.length&&(e.touchData.capture=!1),i.preventDefault();var o=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var s,a=e.cy,l=a.zoom(),c=e.touchData.now,h=e.touchData.earlier;if(i.touches[0]){var u=e.projectIntoViewport(i.touches[0].clientX,i.touches[0].clientY);c[0]=u[0],c[1]=u[1]}if(i.touches[1]&&(u=e.projectIntoViewport(i.touches[1].clientX,i.touches[1].clientY),c[2]=u[0],c[3]=u[1]),i.touches[2]&&(u=e.projectIntoViewport(i.touches[2].clientX,i.touches[2].clientY),c[4]=u[0],c[5]=u[1]),r&&r.unactivate(),e.touchData.cxt){if(s={originalEvent:i,type:"cxttapend",position:{x:c[0],y:c[1]}},r?r.emit(s):a.emit(s),!e.touchData.cxtDragged){var p={originalEvent:i,type:"cxttap",position:{x:c[0],y:c[1]}};r?r.emit(p):a.emit(p)}return e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,void e.redraw()}if(!i.touches[2]&&a.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var g=a.collection(e.getAllInBox(o[0],o[1],o[2],o[3]));o[0]=void 0,o[1]=void 0,o[2]=void 0,o[3]=void 0,o[4]=0,e.redrawHint("select",!0),a.emit({type:"boxend",originalEvent:i,position:{x:c[0],y:c[1]}}),g.emit("box").stdFilter((function(e){return e.selectable()&&!e.selected()})).select().emit("boxselect"),g.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(null!=r&&r.unactivate(),i.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(i.touches[1]);else if(i.touches[0]);else if(!i.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var f=e.dragData.touchDragEles;if(null!=r){var m=r._private.grabbed;d(f),e.redrawHint("drag",!0),e.redrawHint("eles",!0),m&&(r.emit("freeon"),f.emit("free"),e.dragData.didDrag&&(r.emit("dragfreeon"),f.emit("dragfree"))),n(r,["touchend","tapend","vmouseup","tapdragout"],i,{x:c[0],y:c[1]}),r.unactivate(),e.touchData.start=null}else{var v=e.findNearestElement(c[0],c[1],!0,!0);n(v,["touchend","tapend","vmouseup","tapdragout"],i,{x:c[0],y:c[1]})}var y=e.touchData.startPosition[0]-c[0],b=e.touchData.startPosition[1]-c[1],C=(y*y+b*b)*l*l;e.touchData.singleTouchMoved||(r||a.$(":selected").unselect(["tapunselect"]),n(r,["tap","vclick"],i,{x:c[0],y:c[1]})),null!=r&&!e.dragData.didDrag&&r._private.selectable&&C<e.touchTapThreshold2&&!e.pinching&&("single"===a.selectionType()?(a.$(t).unmerge(r).unselect(["tapunselect"]),r.select(["tapselect"])):r.selected()?r.unselect(["tapunselect"]):r.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}for(var w=0;w<c.length;w++)h[w]=c[w];e.dragData.didDrag=!1,0===i.touches.length&&(e.touchData.dragDelta=[],e.touchData.startPosition=null,e.touchData.startGPosition=null,e.touchData.didSelect=!1),i.touches.length<2&&(1===i.touches.length&&(e.touchData.startGPosition=[i.touches[0].clientX,i.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())}},!1),"undefined"==typeof TouchEvent){var $=[],H=function(e){return{clientX:e.clientX,clientY:e.clientY,force:1,identifier:e.pointerId,pageX:e.pageX,pageY:e.pageY,radiusX:e.width/2,radiusY:e.height/2,screenX:e.screenX,screenY:e.screenY,target:e.target}},j=function(e){for(var t=0;t<$.length;t++)if($[t].event.pointerId===e.pointerId)return void $.splice(t,1)},W=function(e){e.touches=$.map((function(e){return e.touch}))},z=function(e){return"mouse"===e.pointerType||4===e.pointerType};e.registerBinding(e.container,"pointerdown",(function(e){z(e)||(e.preventDefault(),function(e){$.push(function(e){return{event:e,touch:H(e)}}(e))}(e),W(e),D(e))})),e.registerBinding(e.container,"pointerup",(function(e){z(e)||(j(e),W(e),B(e))})),e.registerBinding(e.container,"pointercancel",(function(e){z(e)||(j(e),W(e),L())})),e.registerBinding(e.container,"pointermove",(function(e){z(e)||(e.preventDefault(),function(e){var t=$.filter((function(t){return t.event.pointerId===e.pointerId}))[0];t.event=e,t.touch=H(e)}(e),W(e),N(e))}))}}},ws={generatePolygon:function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl("polygon",e,t,n,i,r,this.points)},intersectLine:function(e,t,n,i,r,o,s){return _t(r,o,this.points,e,t,n/2,i/2,s)},checkPoint:function(e,t,n,i,r,o,s){return ft(e,t,this.points,o,s,i,r,[0,-1],n)}}},generateEllipse:function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,s){return function(e,t,n,i,r,o){var s=n-e,a=i-t;s/=r,a/=o;var l=Math.sqrt(s*s+a*a),c=l-1;if(c<0)return[];var h=c/l;return[(n-e)*h+e,(i-t)*h+t]}(r,o,e,t,n/2+s,i/2+s)},checkPoint:function(e,t,n,i,r,o,s){return yt(e,t,i,r,o,s,n)}}},generateRoundPolygon:function(e,t){for(var n=new Array(2*t.length),i=0;i<t.length/2;i++){var r,o=2*i;r=i<t.length/2-1?2*(i+1):0,n[4*i]=t[o],n[4*i+1]=t[o+1];var s=t[r]-t[o],a=t[r+1]-t[o+1],l=Math.sqrt(s*s+a*a);n[4*i+2]=s/l,n[4*i+3]=a/l}return this.nodeShapes[e]={renderer:this,name:e,points:n,draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl("round-polygon",e,t,n,i,r,this.points)},intersectLine:function(e,t,n,i,r,o,s){return function(e,t,n,i,r,o,s,a){for(var l,c=[],h=new Array(n.length),d=o/2,u=s/2,p=Et(o,s),g=0;g<n.length/4;g++){var f,m;m=0===g?n.length-2:4*g-2,f=4*g+2;var v=i+d*n[4*g],y=r+u*n[4*g+1],b=p/Math.tan(Math.acos(-n[m]*n[f]-n[m+1]*n[f+1])/2),C=v-b*n[m],w=y-b*n[m+1],_=v+b*n[f],x=y+b*n[f+1];0===g?(h[n.length-2]=C,h[n.length-1]=w):(h[4*g-2]=C,h[4*g-1]=w),h[4*g]=_,h[4*g+1]=x;var I=n[m+1],A=-n[m];I*n[f]+A*n[f+1]<0&&(I*=-1,A*=-1),0!==(l=bt(e,t,i,r,C+I*p,w+A*p,p)).length&&c.push(l[0],l[1])}for(var k=0;k<h.length/4;k++)0!==(l=wt(e,t,i,r,h[4*k],h[4*k+1],h[4*k+2],h[4*k+3],!1)).length&&c.push(l[0],l[1]);if(c.length>2){for(var S=[c[0],c[1]],E=Math.pow(S[0]-e,2)+Math.pow(S[1]-t,2),O=1;O<c.length/2;O++){var P=Math.pow(c[2*O]-e,2)+Math.pow(c[2*O+1]-t,2);P<=E&&(S[0]=c[2*O],S[1]=c[2*O+1],E=P)}return S}return c}(r,o,this.points,e,t,n,i)},checkPoint:function(e,t,n,i,r,o,s){return function(e,t,n,i,r,o,s){for(var a=new Array(n.length),l=o/2,c=s/2,h=Et(o,s),d=h*h,u=0;u<n.length/4;u++){var p,g;g=0===u?n.length-2:4*u-2,p=4*u+2;var f=i+l*n[4*u],m=r+c*n[4*u+1],v=h/Math.tan(Math.acos(-n[g]*n[p]-n[g+1]*n[p+1])/2),y=f-v*n[g],b=m-v*n[g+1],C=f+v*n[p],w=m+v*n[p+1];a[4*u]=y,a[4*u+1]=b,a[4*u+2]=C,a[4*u+3]=w;var _=n[g+1],x=-n[g];_*n[p]+x*n[p+1]<0&&(_*=-1,x*=-1);var I=b+x*h;if(Math.pow(y+_*h-e,2)+Math.pow(I-t,2)<=d)return!0}return gt(e,t,a)}(e,t,this.points,o,s,i,r)}}},generateRoundRectangle:function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:It(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,s){return ct(r,o,e,t,n,i,s)},checkPoint:function(e,t,n,i,r,o,s){var a=St(i,r),l=2*a;return!!(ft(e,t,this.points,o,s,i,r-l,[0,-1],n)||ft(e,t,this.points,o,s,i-l,r,[0,-1],n)||yt(e,t,l,l,o-i/2+a,s-r/2+a,n)||yt(e,t,l,l,o+i/2-a,s-r/2+a,n)||yt(e,t,l,l,o+i/2-a,s+r/2-a,n)||yt(e,t,l,l,o-i/2+a,s+r/2-a,n))}}},generateCutRectangle:function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:8,points:It(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},generateCutTrianglePts:function(e,t,n,i){var r=this.cornerLength,o=t/2,s=e/2,a=n-s,l=n+s,c=i-o,h=i+o;return{topLeft:[a,c+r,a+r,c,a+r,c+r],topRight:[l-r,c,l,c+r,l-r,c+r],bottomRight:[l,h-r,l-r,h,l-r,h-r],bottomLeft:[a+r,h,a,h-r,a+r,h-r]}},intersectLine:function(e,t,n,i,r,o,s){var a=this.generateCutTrianglePts(n+2*s,i+2*s,e,t),l=[].concat.apply([],[a.topLeft.splice(0,4),a.topRight.splice(0,4),a.bottomRight.splice(0,4),a.bottomLeft.splice(0,4)]);return _t(r,o,l,e,t)},checkPoint:function(e,t,n,i,r,o,s){if(ft(e,t,this.points,o,s,i,r-2*this.cornerLength,[0,-1],n))return!0;if(ft(e,t,this.points,o,s,i-2*this.cornerLength,r,[0,-1],n))return!0;var a=this.generateCutTrianglePts(i,r,o,s);return gt(e,t,a.topLeft)||gt(e,t,a.topRight)||gt(e,t,a.bottomRight)||gt(e,t,a.bottomLeft)}}},generateBarrel:function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:It(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,s){var a=this.generateBarrelBezierPts(n+2*s,i+2*s,e,t),l=function(e){var t=qe({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.15),n=qe({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.5),i=qe({x:e[0],y:e[1]},{x:e[2],y:e[3]},{x:e[4],y:e[5]},.85);return[e[0],e[1],t.x,t.y,n.x,n.y,i.x,i.y,e[4],e[5]]},c=[].concat(l(a.topLeft),l(a.topRight),l(a.bottomRight),l(a.bottomLeft));return _t(r,o,c,e,t)},generateBarrelBezierPts:function(e,t,n,i){var r=t/2,o=e/2,s=n-o,a=n+o,l=i-r,c=i+r,h=Ot(e,t),d=h.heightOffset,u=h.widthOffset,p=h.ctrlPtOffsetPct*e,g={topLeft:[s,l+d,s+p,l,s+u,l],topRight:[a-u,l,a-p,l,a,l+d],bottomRight:[a,c-d,a-p,c,a-u,c],bottomLeft:[s+u,c,s+p,c,s,c-d]};return g.topLeft.isTop=!0,g.topRight.isTop=!0,g.bottomLeft.isBottom=!0,g.bottomRight.isBottom=!0,g},checkPoint:function(e,t,n,i,r,o,s){var a=Ot(i,r),l=a.widthOffset;if(ft(e,t,this.points,o,s,i,r-2*a.heightOffset,[0,-1],n))return!0;if(ft(e,t,this.points,o,s,i-2*l,r,[0,-1],n))return!0;for(var c=this.generateBarrelBezierPts(i,r,o,s),h=function(e,t,n){var i,r,o=n[4],s=n[2],a=n[0],l=n[5],c=n[1],h=Math.min(o,a),d=Math.max(o,a),u=Math.min(l,c),p=Math.max(l,c);if(h<=e&&e<=d&&u<=t&&t<=p){var g=[(i=o)-2*(r=s)+a,2*(r-i),i],f=function(e,t,n,i){var r=t*t-4*e*(n-=i);if(r<0)return[];var o=Math.sqrt(r),s=2*e;return[(-t+o)/s,(-t-o)/s]}(g[0],g[1],g[2],e).filter((function(e){return 0<=e&&e<=1}));if(f.length>0)return f[0]}return null},d=Object.keys(c),u=0;u<d.length;u++){var p=c[d[u]],g=h(e,t,p);if(null!=g){var f=Je(p[5],p[3],p[1],g);if(p.isTop&&f<=t)return!0;if(p.isBottom&&t<=f)return!0}}return!1}}},generateBottomRoundrectangle:function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:It(4,0),draw:function(e,t,n,i,r){this.renderer.nodeShapeImpl(this.name,e,t,n,i,r)},intersectLine:function(e,t,n,i,r,o,s){var a=t-(i/2+s),l=wt(r,o,e,t,e-(n/2+s),a,e+(n/2+s),a,!1);return l.length>0?l:ct(r,o,e,t,n,i,s)},checkPoint:function(e,t,n,i,r,o,s){var a=St(i,r),l=2*a;if(ft(e,t,this.points,o,s,i,r-l,[0,-1],n))return!0;if(ft(e,t,this.points,o,s,i-l,r,[0,-1],n))return!0;var c=i/2+2*n,h=r/2+2*n;return!!gt(e,t,[o-c,s-h,o-c,s,o+c,s,o+c,s-h])||!!yt(e,t,l,l,o+i/2-a,s+r/2-a,n)||!!yt(e,t,l,l,o-i/2+a,s+r/2-a,n)}}},registerNodeShapes:function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",It(3,0)),this.generateRoundPolygon("round-triangle",It(3,0)),this.generatePolygon("rectangle",It(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();var n=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",n),this.generateRoundPolygon("round-diamond",n),this.generatePolygon("pentagon",It(5,0)),this.generateRoundPolygon("round-pentagon",It(5,0)),this.generatePolygon("hexagon",It(6,0)),this.generateRoundPolygon("round-hexagon",It(6,0)),this.generatePolygon("heptagon",It(7,0)),this.generateRoundPolygon("round-heptagon",It(7,0)),this.generatePolygon("octagon",It(8,0)),this.generateRoundPolygon("round-octagon",It(8,0));var i=new Array(20),r=kt(5,0),o=kt(5,Math.PI/5),s=.5*(3-Math.sqrt(5));s*=1.57;for(var a=0;a<o.length/2;a++)o[2*a]*=s,o[2*a+1]*=s;for(a=0;a<5;a++)i[4*a]=r[2*a],i[4*a+1]=r[2*a+1],i[4*a+2]=o[2*a],i[4*a+3]=o[2*a+1];i=At(i),this.generatePolygon("star",i),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);var l=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",l),this.generateRoundPolygon("round-tag",l),e.makePolygon=function(e){var n,i="polygon-"+e.join("$");return(n=this[i])?n:t.generatePolygon(i,e)}}},_s={timeToRender:function(){return this.redrawTotalTime/this.redrawCount},redraw:function(e){e=e||ve();var t=this;void 0===t.averageRedrawTime&&(t.averageRedrawTime=0),void 0===t.lastRedrawTime&&(t.lastRedrawTime=0),void 0===t.lastDrawTime&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e},beforeRender:function(e,t){if(!this.destroyed){null==t&&de("Priority is not optional for beforeRender");var n=this.beforeRenderCallbacks;n.push({fn:e,priority:t}),n.sort((function(e,t){return t.priority-e.priority}))}}},xs=function(e,t,n){for(var i=e.beforeRenderCallbacks,r=0;r<i.length;r++)i[r].fn(t,n)};_s.startRenderLoop=function(){var e=this,t=e.cy;e.renderLoopStarted||(e.renderLoopStarted=!0,Z((function n(i){if(!e.destroyed){if(t.batching());else if(e.requestedFrame&&!e.skipFrame){xs(e,!0,i);var r=K();e.render(e.renderOptions);var o=e.lastDrawTime=K();void 0===e.averageRedrawTime&&(e.averageRedrawTime=o-r),void 0===e.redrawCount&&(e.redrawCount=0),e.redrawCount++,void 0===e.redrawTotalTime&&(e.redrawTotalTime=0);var s=o-r;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else xs(e,!1,i);e.skipFrame=!1,Z(n)}})))};var Is=function(e){this.init(e)},As=Is.prototype;As.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"],As.init=function(e){var t=this;t.options=e,t.cy=e.cy;var n=t.container=e.cy.container();if(u){var i=u.document,r=i.head,o="__________cytoscape_container",s=null!=i.getElementById("__________cytoscape_stylesheet");if(n.className.indexOf(o)<0&&(n.className=(n.className||"")+" "+o),!s){var a=i.createElement("style");a.id="__________cytoscape_stylesheet",a.innerHTML="."+o+" { position: relative; }",r.insertBefore(a,r.children[0])}"static"===u.getComputedStyle(n).getPropertyValue("position")&&pe("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=x(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()},As.notify=function(e,t){var n=this;this.destroyed||("init"!==e?"destroy"!==e?(("add"===e||"remove"===e||"move"===e&&n.cy.hasCompoundNodes()||"load"===e||"zorder"===e||"mount"===e)&&n.invalidateCachedZSortedEles(),"viewport"===e&&n.redrawHint("select",!0),"load"!==e&&"resize"!==e&&"mount"!==e||(n.invalidateContainerClientCoordsCache(),n.matchCanvasSize(n.container)),n.redrawHint("eles",!0),n.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()):n.destroy():n.load())},As.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var n=e.bindings[t],i=n.target;(i.off||i.removeEventListener).apply(i,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch(r){}},As.isHeadless=function(){return!1},[os,ys,bs,Cs,ws,_s].forEach((function(e){V(As,e)}));var ks=function(e){return function(){var t=this,n=this.renderer;if(!t.dequeueingSetup){t.dequeueingSetup=!0;var i=r((function(){n.redrawHint("eles",!0),n.redrawHint("drag",!0),n.redraw()}),e.deqRedrawThreshold);n.beforeRender((function(r,o){var s=K(),a=n.averageRedrawTime,l=n.lastRedrawTime,c=[],h=n.cy.extent(),d=n.getPixelRatio();for(r||n.flushRenderedStyleQueue();;){var u=K(),p=u-s,g=u-o;if(l<1e3/60){if(g>=e.deqFastCost*(1e3/60-(r?a:0)))break}else if(r){if(p>=e.deqCost*l||p>=e.deqAvgCost*a)break}else if(g>=e.deqNoDrawCost*(1e3/60))break;var f=e.deq(t,d,h);if(!(f.length>0))break;for(var m=0;m<f.length;m++)c.push(f[m])}c.length>0&&(e.onDeqd(t,c),!r&&e.shouldRedraw(t,c,d,h)&&i())}),(e.priority||he)(t))}}},Ss=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:le;a(this,e),this.idsByKey=new xe,this.keyForId=new xe,this.cachesByLvl=new xe,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=n}return c(e,[{key:"getIdsFor",value:function(e){null==e&&de("Can not get id list for null key");var t=this.idsByKey,n=this.idsByKey.get(e);return n||(n=new Ae,t.set(e,n)),n}},{key:"addIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).add(t)}},{key:"deleteIdForKey",value:function(e,t){null!=e&&this.getIdsFor(e).delete(t)}},{key:"getNumberOfIdsForKey",value:function(e){return null==e?0:this.getIdsFor(e).size}},{key:"updateKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t),i=this.getKey(e);this.deleteIdForKey(n,t),this.addIdForKey(i,t),this.keyForId.set(t,i)}},{key:"deleteKeyMappingFor",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteIdForKey(n,t),this.keyForId.delete(t)}},{key:"keyHasChangedFor",value:function(e){var t=e.id();return this.keyForId.get(t)!==this.getKey(e)}},{key:"isInvalid",value:function(e){return this.keyHasChangedFor(e)||this.doesEleInvalidateKey(e)}},{key:"getCachesAt",value:function(e){var t=this.cachesByLvl,n=this.lvls,i=t.get(e);return i||(i=new xe,t.set(e,i),n.push(e)),i}},{key:"getCache",value:function(e,t){return this.getCachesAt(t).get(e)}},{key:"get",value:function(e,t){var n=this.getKey(e),i=this.getCache(n,t);return null!=i&&this.updateKeyMappingFor(e),i}},{key:"getForCachedKey",value:function(e,t){var n=this.keyForId.get(e.id());return this.getCache(n,t)}},{key:"hasCache",value:function(e,t){return this.getCachesAt(t).has(e)}},{key:"has",value:function(e,t){var n=this.getKey(e);return this.hasCache(n,t)}},{key:"setCache",value:function(e,t,n){n.key=e,this.getCachesAt(t).set(e,n)}},{key:"set",value:function(e,t,n){var i=this.getKey(e);this.setCache(i,t,n),this.updateKeyMappingFor(e)}},{key:"deleteCache",value:function(e,t){this.getCachesAt(t).delete(e)}},{key:"delete",value:function(e,t){var n=this.getKey(e);this.deleteCache(n,t)}},{key:"invalidateKey",value:function(e){var t=this;this.lvls.forEach((function(n){return t.deleteCache(e,n)}))}},{key:"invalidate",value:function(e){var t=e.id(),n=this.keyForId.get(t);this.deleteKeyMappingFor(e);var i=this.doesEleInvalidateKey(e);return i&&this.invalidateKey(n),i||0===this.getNumberOfIdsForKey(n)}}]),e}(),Es={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},Os=ye({getKey:null,doesEleInvalidateKey:le,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:ae,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ps=function(e,t){this.renderer=e,this.onDequeues=[];var n=Os(t);V(this,n),this.lookup=new Ss(n.getKey,n.doesEleInvalidateKey),this.setupDequeueing()},Ms=Ps.prototype;Ms.reasons=Es,Ms.getTextureQueue=function(e){return this.eleImgCaches=this.eleImgCaches||{},this.eleImgCaches[e]=this.eleImgCaches[e]||[]},Ms.getRetiredTextureQueue=function(e){var t=this.eleImgCaches.retired=this.eleImgCaches.retired||{};return t[e]=t[e]||[]},Ms.getElementQueue=function(){return this.eleCacheQueue=this.eleCacheQueue||new o((function(e,t){return t.reqs-e.reqs}))},Ms.getElementKeyToQueue=function(){return this.eleKeyToCacheQueue=this.eleKeyToCacheQueue||{}},Ms.getElement=function(e,t,n,i,r){var o=this,s=this.renderer,a=s.cy.zoom(),l=this.lookup;if(0===t.w||0===t.h||isNaN(t.w)||isNaN(t.h)||!e.visible())return null;if(!o.allowEdgeTxrCaching&&e.isEdge()||!o.allowParentTxrCaching&&e.isParent())return null;if(null==i&&(i=Math.ceil(Ze(a*n))),i<-4)i=-4;else if(a>=7.99||i>3)return null;var c=Math.pow(2,i),h=t.h*c,d=t.w*c,u=s.eleTextBiggerThanMin(e,c);if(!this.isVisible(e,u))return null;var p,g=l.get(e,i);if(g&&g.invalidated&&(g.invalidated=!1,g.texture.invalidatedWidth-=g.width),g)return g;if(p=h<=25?25:h<=50?50:50*Math.ceil(h/50),h>1024||d>1024)return null;var f=o.getTextureQueue(p),m=f[f.length-2],v=function(){return o.recycleTexture(p,d)||o.addTexture(p,d)};m||(m=f[f.length-1]),m||(m=v()),m.width-m.usedWidth<d&&(m=v());for(var y,b=function(e){return e&&e.scaledLabelShown===u},C=r&&r===Es.dequeue,w=r&&r===Es.highQuality,_=r&&r===Es.downscale,x=i+1;x<=3;x++){var I=l.get(e,x);if(I){y=I;break}}var A=y&&y.level===i+1?y:null,k=function(){m.context.drawImage(A.texture.canvas,A.x,0,A.width,A.height,m.usedWidth,0,d,h)};if(m.context.setTransform(1,0,0,1,0,0),m.context.clearRect(m.usedWidth,0,d,p),b(A))k();else if(b(y)){if(!w)return o.queueElement(e,y.level-1),y;for(var S=y.level;S>i;S--)A=o.getElement(e,t,n,S,Es.downscale);k()}else{var E;if(!C&&!w&&!_)for(var O=i-1;O>=-4;O--){var P=l.get(e,O);if(P){E=P;break}}if(b(E))return o.queueElement(e,i),E;m.context.translate(m.usedWidth,0),m.context.scale(c,c),this.drawElement(m.context,e,t,u,!1),m.context.scale(1/c,1/c),m.context.translate(-m.usedWidth,0)}return g={x:m.usedWidth,texture:m,level:i,scale:c,width:d,height:h,scaledLabelShown:u},m.usedWidth+=Math.ceil(d+8),m.eleCaches.push(g),l.set(e,i,g),o.checkTextureFullness(m),g},Ms.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])},Ms.invalidateElement=function(e){var t=this.lookup,n=[];if(t.isInvalid(e)){for(var i=-4;i<=3;i++){var r=t.getForCachedKey(e,i);r&&n.push(r)}if(t.invalidate(e))for(var o=0;o<n.length;o++){var s=n[o],a=s.texture;a.invalidatedWidth+=s.width,s.invalidated=!0,this.checkTextureUtility(a)}this.removeFromQueue(e)}},Ms.checkTextureUtility=function(e){e.invalidatedWidth>=.2*e.width&&this.retireTexture(e)},Ms.checkTextureFullness=function(e){var t=this.getTextureQueue(e.height);e.usedWidth/e.width>.8&&e.fullnessChecks>=10?be(t,e):e.fullnessChecks++},Ms.retireTexture=function(e){var t=e.height,n=this.getTextureQueue(t),i=this.lookup;be(n,e),e.retired=!0;for(var r=e.eleCaches,o=0;o<r.length;o++){var s=r[o];i.deleteCache(s.key,s.level)}Ce(r),this.getRetiredTextureQueue(t).push(e)},Ms.addTexture=function(e,t){var n={};return this.getTextureQueue(e).push(n),n.eleCaches=[],n.height=e,n.width=Math.max(1024,t),n.usedWidth=0,n.invalidatedWidth=0,n.fullnessChecks=0,n.canvas=this.renderer.makeOffscreenCanvas(n.width,n.height),n.context=n.canvas.getContext("2d"),n},Ms.recycleTexture=function(e,t){for(var n=this.getTextureQueue(e),i=this.getRetiredTextureQueue(e),r=0;r<i.length;r++){var o=i[r];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Ce(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),be(i,o),n.push(o),o}},Ms.queueElement=function(e,t){var n=this.getElementQueue(),i=this.getElementKeyToQueue(),r=this.getKey(e),o=i[r];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:r};n.push(s),i[r]=s}},Ms.dequeue=function(e){for(var t=this.getElementQueue(),n=this.getElementKeyToQueue(),i=[],r=this.lookup,o=0;o<1&&t.size()>0;o++){var s=t.pop(),a=s.key,l=s.eles[0],c=r.hasCache(l,s.level);if(n[a]=null,!c){i.push(s);var h=this.getBoundingBox(l);this.getElement(l,h,e,s.level,Es.dequeue)}}return i},Ms.removeFromQueue=function(e){var t=this.getElementQueue(),n=this.getElementKeyToQueue(),i=this.getKey(e),r=n[i];null!=r&&(1===r.eles.length?(r.reqs=se,t.updateItem(r),t.pop(),n[i]=null):r.eles.unmerge(e))},Ms.onDequeue=function(e){this.onDequeues.push(e)},Ms.offDequeue=function(e){be(this.onDequeues,e)},Ms.setupDequeueing=ks({deqRedrawThreshold:100,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t,n){return e.dequeue(t,n)},onDeqd:function(e,t){for(var n=0;n<e.onDequeues.length;n++)(0,e.onDequeues[n])(t)},shouldRedraw:function(e,t,n,i){for(var r=0;r<t.length;r++)for(var o=t[r].eles,s=0;s<o.length;s++){var a=o[s].boundingBox();if(st(a,i))return!0}return!1},priority:function(e){return e.renderer.beforeRenderPriorities.eleTxrDeq}});var Ts=function(e){var t=this,n=t.renderer=e,i=n.cy;t.layersByLevel={},t.firstGet=!0,t.lastInvalidationTime=K()-500,t.skipping=!1,t.eleTxrDeqs=i.collection(),t.scheduleElementRefinement=r((function(){t.refineElementTextures(t.eleTxrDeqs),t.eleTxrDeqs.unmerge(t.eleTxrDeqs)}),50),n.beforeRender((function(e,n){t.skipping=n-t.lastInvalidationTime<=250}),n.beforeRenderPriorities.lyrTxrSkip),t.layersQueue=new o((function(e,t){return t.reqs-e.reqs})),t.setupDequeueing()},Rs=Ts.prototype,Ds=0,Ns=Math.pow(2,53)-1;Rs.makeLayer=function(e,t){var n=Math.pow(2,t),i=Math.ceil(e.w*n),r=Math.ceil(e.h*n),o=this.renderer.makeOffscreenCanvas(i,r),s={id:Ds=++Ds%Ns,bb:e,level:t,width:i,height:r,canvas:o,context:o.getContext("2d"),eles:[],elesQueue:[],reqs:0},a=s.context,l=-s.bb.x1,c=-s.bb.y1;return a.scale(n,n),a.translate(l,c),s},Rs.getLayers=function(e,t,n){var i=this,r=i.renderer.cy.zoom(),o=i.firstGet;if(i.firstGet=!1,null==n)if((n=Math.ceil(Ze(r*t)))<-4)n=-4;else if(r>=3.99||n>2)return null;i.validateLayersElesOrdering(n,e);var s,a,l=i.layersByLevel,c=Math.pow(2,n),h=l[n]=l[n]||[];if(i.levelIsComplete(n,e))return h;!function(){var t=function(t){if(i.validateLayersElesOrdering(t,e),i.levelIsComplete(t,e))return a=l[t],!0},r=function(e){if(!a)for(var i=n+e;-4<=i&&i<=2&&!t(i);i+=e);};r(1),r(-1);for(var o=h.length-1;o>=0;o--){var s=h[o];s.invalid&&be(h,s)}}();var d=function(t){var r=(t=t||{}).after;if(function(){if(!s){s=et();for(var t=0;t<e.length;t++)n=s,i=e[t].boundingBox(),n.x1=Math.min(n.x1,i.x1),n.x2=Math.max(n.x2,i.x2),n.w=n.x2-n.x1,n.y1=Math.min(n.y1,i.y1),n.y2=Math.max(n.y2,i.y2),n.h=n.y2-n.y1}var n,i}(),s.w*c*(s.h*c)>16e6)return null;var o=i.makeLayer(s,n);if(null!=r){var a=h.indexOf(r)+1;h.splice(a,0,o)}else(void 0===t.insert||t.insert)&&h.unshift(o);return o};if(i.skipping&&!o)return null;for(var u=null,p=e.length/1,g=!o,f=0;f<e.length;f++){var m=e[f],v=m._private.rscratch,y=v.imgLayerCaches=v.imgLayerCaches||{},b=y[n];if(b)u=b;else{if((!u||u.eles.length>=p||!lt(u.bb,m.boundingBox()))&&!(u=d({insert:!0,after:u})))return null;a||g?i.queueLayer(u,m):i.drawEleInLayer(u,m,n,t),u.eles.push(m),y[n]=u}}return a||(g?null:h)},Rs.getEleLevelForLayerLevel=function(e,t){return e},Rs.drawEleInLayer=function(e,t,n,i){var r=this.renderer,o=e.context,s=t.boundingBox();0!==s.w&&0!==s.h&&t.visible()&&(n=this.getEleLevelForLayerLevel(n,i),r.setImgSmoothing(o,!1),r.drawCachedElement(o,t,null,null,n,!0),r.setImgSmoothing(o,!0))},Rs.levelIsComplete=function(e,t){var n=this.layersByLevel[e];if(!n||0===n.length)return!1;for(var i=0,r=0;r<n.length;r++){var o=n[r];if(o.reqs>0)return!1;if(o.invalid)return!1;i+=o.eles.length}return i===t.length},Rs.validateLayersElesOrdering=function(e,t){var n=this.layersByLevel[e];if(n)for(var i=0;i<n.length;i++){for(var r=n[i],o=-1,s=0;s<t.length;s++)if(r.eles[0]===t[s]){o=s;break}if(o<0)this.invalidateLayer(r);else{var a=o;for(s=0;s<r.eles.length;s++)if(r.eles[s]!==t[a+s]){this.invalidateLayer(r);break}}}},Rs.updateElementsInLayers=function(e,t){for(var n=k(e[0]),i=0;i<e.length;i++)for(var r=n?null:e[i],o=n?e[i]:e[i].ele,s=o._private.rscratch,a=s.imgLayerCaches=s.imgLayerCaches||{},l=-4;l<=2;l++){var c=a[l];c&&(r&&this.getEleLevelForLayerLevel(c.level)!==r.level||t(c,o,r))}},Rs.haveLayers=function(){for(var e=!1,t=-4;t<=2;t++){var n=this.layersByLevel[t];if(n&&n.length>0){e=!0;break}}return e},Rs.invalidateElements=function(e){var t=this;0!==e.length&&(t.lastInvalidationTime=K(),0!==e.length&&t.haveLayers()&&t.updateElementsInLayers(e,(function(e,n,i){t.invalidateLayer(e)})))},Rs.invalidateLayer=function(e){if(this.lastInvalidationTime=K(),!e.invalid){var t=e.level,n=e.eles;be(this.layersByLevel[t],e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var i=0;i<n.length;i++){var r=n[i]._private.rscratch.imgLayerCaches;r&&(r[t]=null)}}},Rs.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,(function(e,n,i){var r=e.replacement;if(r||((r=e.replacement=t.makeLayer(e.bb,e.level)).replaces=e,r.eles=e.eles),!r.reqs)for(var o=0;o<r.eles.length;o++)t.queueLayer(r,r.eles[o])}))},Rs.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()},Rs.queueLayer=function(e,t){var n=this.layersQueue,i=e.elesQueue,r=i.hasId=i.hasId||{};if(!e.replacement){if(t){if(r[t.id()])return;i.push(t),r[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}},Rs.dequeue=function(e){for(var t=this.layersQueue,n=[],i=0;i<1&&0!==t.size();){var r=t.peek();if(r.replacement)t.pop();else if(r.replaces&&r!==r.replaces.replacement)t.pop();else if(r.invalid)t.pop();else{var o=r.elesQueue.shift();o&&(this.drawEleInLayer(r,o,r.level,e),i++),0===n.length&&n.push(!0),0===r.elesQueue.length&&(t.pop(),r.reqs=0,r.replaces&&this.applyLayerReplacement(r),this.requestRedraw())}}return n},Rs.applyLayerReplacement=function(e){var t=this.layersByLevel[e.level],n=e.replaces,i=t.indexOf(n);if(!(i<0||n.invalid)){t[i]=e;for(var r=0;r<e.eles.length;r++){var o=e.eles[r]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}this.requestRedraw()}},Rs.requestRedraw=r((function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()}),100),Rs.setupDequeueing=ks({deqRedrawThreshold:50,deqCost:.15,deqAvgCost:.1,deqNoDrawCost:.9,deqFastCost:.9,deq:function(e,t){return e.dequeue(t)},onDeqd:he,shouldRedraw:ae,priority:function(e){return e.renderer.beforeRenderPriorities.lyrTxrDeq}});var Ls,Bs={};function Fs(e,t){for(var n=0;n<t.length;n++){var i=t[n];e.lineTo(i.x,i.y)}}function Vs(e,t,n){for(var i,r=0;r<t.length;r++){var o=t[r];0===r&&(i=o),e.lineTo(o.x,o.y)}e.quadraticCurveTo(n.x,n.y,i.x,i.y)}function $s(e,t,n){e.beginPath&&e.beginPath();for(var i=t,r=0;r<i.length;r++)e.lineTo((a=i[r]).x,a.y);var o=n,s=n[0];for(e.moveTo(s.x,s.y),r=1;r<o.length;r++){var a;e.lineTo((a=o[r]).x,a.y)}e.closePath&&e.closePath()}function Hs(e,t,n,i,r){e.beginPath&&e.beginPath(),e.arc(n,i,r,0,2*Math.PI,!1);var o=t,s=o[0];e.moveTo(s.x,s.y);for(var a=0;a<o.length;a++){var l=o[a];e.lineTo(l.x,l.y)}e.closePath&&e.closePath()}function js(e,t,n,i){e.arc(t,n,i,0,2*Math.PI,!1)}Bs.arrowShapeImpl=function(e){return(Ls||(Ls={polygon:Fs,"triangle-backcurve":Vs,"triangle-tee":$s,"circle-triangle":Hs,"triangle-cross":$s,circle:js}))[e]};var Ws={drawElement:function(e,t,n,i,r,o){t.isNode()?this.drawNode(e,t,n,i,r,o):this.drawEdge(e,t,n,i,r,o)},drawElementOverlay:function(e,t){t.isNode()?this.drawNodeOverlay(e,t):this.drawEdgeOverlay(e,t)},drawCachedElementPortion:function(e,t,n,i,r,o,s,a){var l=this,c=n.getBoundingBox(t);if(0!==c.w&&0!==c.h){var h=n.getElement(t,c,i,r,o);if(null!=h){var d=a(l,t);if(0===d)return;var u,p,g,f,m,v,y=s(l,t),b=c.x1,C=c.y1,w=c.w,_=c.h;if(0!==y){var x=n.getRotationPoint(t);e.translate(g=x.x,f=x.y),e.rotate(y),(m=l.getImgSmoothing(e))||l.setImgSmoothing(e,!0);var I=n.getRotationOffset(t);u=I.x,p=I.y}else u=b,p=C;1!==d&&(e.globalAlpha=(v=e.globalAlpha)*d),e.drawImage(h.texture.canvas,h.x,0,h.width,h.height,u,p,w,_),1!==d&&(e.globalAlpha=v),0!==y&&(e.rotate(-y),e.translate(-g,-f),m||l.setImgSmoothing(e,!1))}else n.drawElement(e,t)}}},zs=function(){return 0},Gs=function(e,t){return e.getTextAngle(t,null)},Zs=function(e,t){return e.getTextAngle(t,"source")},Ks=function(e,t){return e.getTextAngle(t,"target")},Xs=function(e,t){return t.effectiveOpacity()},Ys=function(e,t){return t.pstyle("text-opacity").pfValue*t.effectiveOpacity()};Ws.drawCachedElement=function(e,t,n,i,r,o){var s=this,a=s.data,l=a.eleTxrCache,c=a.lblTxrCache,h=a.slbTxrCache,d=a.tlbTxrCache,u=t.boundingBox(),p=!0===o?l.reasons.highQuality:null;if(0!==u.w&&0!==u.h&&t.visible()&&(!i||st(u,i))){var g=t.isEdge(),f=t.element()._private.rscratch.badLine;s.drawCachedElementPortion(e,t,l,n,r,p,zs,Xs),g&&f||s.drawCachedElementPortion(e,t,c,n,r,p,Gs,Ys),g&&!f&&(s.drawCachedElementPortion(e,t,h,n,r,p,Zs,Ys),s.drawCachedElementPortion(e,t,d,n,r,p,Ks,Ys)),s.drawElementOverlay(e,t)}},Ws.drawElements=function(e,t){for(var n=0;n<t.length;n++)this.drawElement(e,t[n])},Ws.drawCachedElements=function(e,t,n,i){for(var r=0;r<t.length;r++)this.drawCachedElement(e,t[r],n,i)},Ws.drawCachedNodes=function(e,t,n,i){for(var r=0;r<t.length;r++){var o=t[r];o.isNode()&&this.drawCachedElement(e,o,n,i)}},Ws.drawLayeredElements=function(e,t,n,i){var r=this.data.lyrTxrCache.getLayers(t,n);if(r)for(var o=0;o<r.length;o++){var s=r[o],a=s.bb;0!==a.w&&0!==a.h&&e.drawImage(s.canvas,a.x1,a.y1,a.w,a.h)}else this.drawCachedElements(e,t,n,i)};var Us={drawEdge:function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this,a=t._private.rscratch;if((!o||t.visible())&&!a.badLine&&null!=a.allpts&&!isNaN(a.allpts[0])){var l;n&&e.translate(-(l=n).x1,-l.y1);var c=o?t.pstyle("opacity").value:1,h=t.pstyle("line-style").value,d=t.pstyle("width").pfValue,u=t.pstyle("line-cap").value,p=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;e.lineWidth=d,e.lineCap=u,s.eleStrokeStyle(e,t,n),s.drawEdgePath(t,e,a.allpts,h),e.lineCap="butt"},g=function(){r&&s.drawEdgeOverlay(e,t)},f=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;s.drawArrowheads(e,t,n)},m=function(){s.drawElementText(e,t,null,i)};e.lineJoin="round";var v="yes"===t.pstyle("ghost").value;if(v){var y=t.pstyle("ghost-offset-x").pfValue,b=t.pstyle("ghost-offset-y").pfValue,C=t.pstyle("ghost-opacity").value,w=c*C;e.translate(y,b),p(w),f(w),e.translate(-y,-b)}p(),f(),g(),m(),n&&e.translate(l.x1,l.y1)}},drawEdgeOverlay:function(e,t){if(t.visible()){var n=t.pstyle("overlay-opacity").value;if(0!==n){var i=this,r=i.usePaths(),o=t._private.rscratch,s=2*t.pstyle("overlay-padding").pfValue,a=t.pstyle("overlay-color").value;e.lineWidth=s,e.lineCap="self"!==o.edgeType||r?"round":"butt",i.colorStrokeStyle(e,a[0],a[1],a[2],n),i.drawEdgePath(t,e,o.allpts,"solid")}}},drawEdgePath:function(e,t,n,i){var r,o=e._private.rscratch,s=t,a=!1,l=this.usePaths(),c=e.pstyle("line-dash-pattern").pfValue,h=e.pstyle("line-dash-offset").pfValue;if(l){var d=n.join("$");o.pathCacheKey&&o.pathCacheKey===d?(r=t=o.pathCache,a=!0):(r=t=new Path2D,o.pathCacheKey=d,o.pathCache=r)}if(s.setLineDash)switch(i){case"dotted":s.setLineDash([1,1]);break;case"dashed":s.setLineDash(c),s.lineDashOffset=h;break;case"solid":s.setLineDash([])}if(!a&&!o.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(n[0],n[1]),o.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var u=2;u+3<n.length;u+=4)t.quadraticCurveTo(n[u],n[u+1],n[u+2],n[u+3]);break;case"straight":case"segments":case"haystack":for(var p=2;p+1<n.length;p+=2)t.lineTo(n[p],n[p+1])}t=s,l?t.stroke(r):t.stroke(),t.setLineDash&&t.setLineDash([])},drawArrowheads:function(e,t,n){var i=t._private.rscratch,r="haystack"===i.edgeType;r||this.drawArrowhead(e,t,"source",i.arrowStartX,i.arrowStartY,i.srcArrowAngle,n),this.drawArrowhead(e,t,"mid-target",i.midX,i.midY,i.midtgtArrowAngle,n),this.drawArrowhead(e,t,"mid-source",i.midX,i.midY,i.midsrcArrowAngle,n),r||this.drawArrowhead(e,t,"target",i.arrowEndX,i.arrowEndY,i.tgtArrowAngle,n)},drawArrowhead:function(e,t,n,i,r,o,s){if(!(isNaN(i)||null==i||isNaN(r)||null==r||isNaN(o)||null==o)){var a=t.pstyle(n+"-arrow-shape").value;if("none"!==a){var l="hollow"===t.pstyle(n+"-arrow-fill").value?"both":"filled",c=t.pstyle(n+"-arrow-fill").value,h=t.pstyle("width").pfValue,d=t.pstyle("opacity").value;void 0===s&&(s=d);var u=e.globalCompositeOperation;1===s&&"hollow"!==c||(e.globalCompositeOperation="destination-out",this.colorFillStyle(e,255,255,255,1),this.colorStrokeStyle(e,255,255,255,1),this.drawArrowShape(t,e,l,h,a,i,r,o),e.globalCompositeOperation=u);var p=t.pstyle(n+"-arrow-color").value;this.colorFillStyle(e,p[0],p[1],p[2],s),this.colorStrokeStyle(e,p[0],p[1],p[2],s),this.drawArrowShape(t,e,c,h,a,i,r,o)}}},drawArrowShape:function(e,t,n,i,r,o,s,a){var l,c=this,h=this.usePaths()&&"triangle-cross"!==r,d=!1,u=t,p={x:o,y:s},g=e.pstyle("arrow-scale").value,f=this.getArrowWidth(i,g),m=c.arrowShapes[r];if(h){var v=c.arrowPathCache=c.arrowPathCache||[],y=ee(r),b=v[y];null!=b?(l=t=b,d=!0):(l=t=new Path2D,v[y]=l)}d||(t.beginPath&&t.beginPath(),h?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,f,a,p,i),t.closePath&&t.closePath()),t=u,h&&(t.translate(o,s),t.rotate(a),t.scale(f,f)),"filled"!==n&&"both"!==n||(h?t.fill(l):t.fill()),"hollow"!==n&&"both"!==n||(t.lineWidth=(m.matchEdgeWidth?i:1)/(h?f:1),t.lineJoin="miter",h?t.stroke(l):t.stroke()),h&&(t.scale(1/f,1/f),t.rotate(-a),t.translate(-o,-s))}},Js={safeDrawImage:function(e,t,n,i,r,o,s,a,l,c){r<=0||o<=0||l<=0||c<=0||e.drawImage(t,n,i,r,o,s,a,l,c)},drawInscribedImage:function(e,t,n,i,r){var o=this,s=n.position(),a=s.x,l=s.y,c=n.cy().style(),h=c.getIndexedStyle.bind(c),d=h(n,"background-fit","value",i),u=h(n,"background-repeat","value",i),p=n.width(),g=n.height(),f=2*n.padding(),m=p+("inner"===h(n,"background-width-relative-to","value",i)?0:f),v=g+("inner"===h(n,"background-height-relative-to","value",i)?0:f),y=n._private.rscratch,b="node"===h(n,"background-clip","value",i),C=h(n,"background-image-opacity","value",i)*r,w=t.width||t.cachedW,_=t.height||t.cachedH;null!=w&&null!=_||(document.body.appendChild(t),w=t.cachedW=t.width||t.offsetWidth,_=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var x=w,I=_;if("auto"!==h(n,"background-width","value",i)&&(x="%"===h(n,"background-width","units",i)?h(n,"background-width","pfValue",i)*m:h(n,"background-width","pfValue",i)),"auto"!==h(n,"background-height","value",i)&&(I="%"===h(n,"background-height","units",i)?h(n,"background-height","pfValue",i)*v:h(n,"background-height","pfValue",i)),0!==x&&0!==I){if("contain"===d)x*=A=Math.min(m/x,v/I),I*=A;else if("cover"===d){var A;x*=A=Math.max(m/x,v/I),I*=A}var k=a-m/2,S=h(n,"background-position-x","units",i),E=h(n,"background-position-x","pfValue",i);k+="%"===S?(m-x)*E:E;var O=h(n,"background-offset-x","units",i),P=h(n,"background-offset-x","pfValue",i);k+="%"===O?(m-x)*P:P;var M=l-v/2,T=h(n,"background-position-y","units",i),R=h(n,"background-position-y","pfValue",i);M+="%"===T?(v-I)*R:R;var D=h(n,"background-offset-y","units",i),N=h(n,"background-offset-y","pfValue",i);M+="%"===D?(v-I)*N:N,y.pathCache&&(k-=a,M-=l,a=0,l=0);var L=e.globalAlpha;if(e.globalAlpha=C,"no-repeat"===u)b&&(e.save(),y.pathCache?e.clip(y.pathCache):(o.nodeShapes[o.getNodeShape(n)].draw(e,a,l,m,v),e.clip())),o.safeDrawImage(e,t,0,0,w,_,k,M,x,I),b&&e.restore();else{var B=e.createPattern(t,u);e.fillStyle=B,o.nodeShapes[o.getNodeShape(n)].draw(e,a,l,m,v),e.translate(k,M),e.fill(),e.translate(-k,-M)}e.globalAlpha=L}}},qs={};function Qs(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:5;e.beginPath(),e.moveTo(t+o,n),e.lineTo(t+i-o,n),e.quadraticCurveTo(t+i,n,t+i,n+o),e.lineTo(t+i,n+r-o),e.quadraticCurveTo(t+i,n+r,t+i-o,n+r),e.lineTo(t+o,n+r),e.quadraticCurveTo(t,n+r,t,n+r-o),e.lineTo(t,n+o),e.quadraticCurveTo(t,n,t+o,n),e.closePath(),e.fill()}qs.eleTextBiggerThanMin=function(e,t){if(!t){var n=e.cy().zoom(),i=this.getPixelRatio(),r=Math.ceil(Ze(n*i));t=Math.pow(2,r)}return!(e.pstyle("font-size").pfValue*t<e.pstyle("min-zoomed-font-size").pfValue)},qs.drawElementText=function(e,t,n,i,r){var o=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],s=this;if(null==i){if(o&&!s.eleTextBiggerThanMin(t))return}else if(!1===i)return;if(t.isNode()){var a=t.pstyle("label");if(!a||!a.value)return;var l=s.getLabelJustification(t);e.textAlign=l,e.textBaseline="bottom"}else{var c=t.element()._private.rscratch.badLine,h=t.pstyle("label"),d=t.pstyle("source-label"),u=t.pstyle("target-label");if(c||(!h||!h.value)&&(!d||!d.value)&&(!u||!u.value))return;e.textAlign="center",e.textBaseline="bottom"}var p,g=!n;n&&e.translate(-(p=n).x1,-p.y1),null==r?(s.drawText(e,t,null,g,o),t.isEdge()&&(s.drawText(e,t,"source",g,o),s.drawText(e,t,"target",g,o))):s.drawText(e,t,r,g,o),n&&e.translate(p.x1,p.y1)},qs.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var n=0;n<this.fontCaches.length;n++)if((t=this.fontCaches[n]).context===e)return t;return this.fontCaches.push(t={context:e}),t},qs.setupTextStyle=function(e,t){var n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=t.pstyle("font-style").strValue,r=t.pstyle("font-size").pfValue+"px",o=t.pstyle("font-family").strValue,s=t.pstyle("font-weight").strValue,a=n?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,l=t.pstyle("text-outline-opacity").value*a,c=t.pstyle("color").value,h=t.pstyle("text-outline-color").value;e.font=i+" "+s+" "+r+" "+o,e.lineJoin="round",this.colorFillStyle(e,c[0],c[1],c[2],a),this.colorStrokeStyle(e,h[0],h[1],h[2],l)},qs.getTextAngle=function(e,t){var n=e._private.rscratch,i=e.pstyle((t?t+"-":"")+"text-rotation"),r=we(n,"labelAngle",t);return"autorotate"===i.strValue?e.isEdge()?r:0:"none"===i.strValue?0:i.pfValue},qs.drawText=function(e,t,n){var i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],r=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],o=t._private,s=o.rscratch,a=r?t.effectiveOpacity():1;if(!r||0!==a&&0!==t.pstyle("text-opacity").value){"main"===n&&(n=null);var l,c,h=we(s,"labelX",n),d=we(s,"labelY",n),u=this.getLabelText(t,n);if(null!=u&&""!==u&&!isNaN(h)&&!isNaN(d)){this.setupTextStyle(e,t,r);var p,g=n?n+"-":"",f=we(s,"labelWidth",n),m=we(s,"labelHeight",n),v=t.pstyle(g+"text-margin-x").pfValue,y=t.pstyle(g+"text-margin-y").pfValue,b=t.isEdge(),C=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;switch(b&&(C="center",w="center"),h+=v,d+=y,0!==(p=i?this.getTextAngle(t,n):0)&&(e.translate(l=h,c=d),e.rotate(p),h=0,d=0),w){case"top":break;case"center":d+=m/2;break;case"bottom":d+=m}var _=t.pstyle("text-background-opacity").value,x=t.pstyle("text-border-opacity").value,I=t.pstyle("text-border-width").pfValue,A=t.pstyle("text-background-padding").pfValue;if(_>0||I>0&&x>0){var k=h-A;switch(C){case"left":k-=f;break;case"center":k-=f/2}var S=d-m-A,E=f+2*A,O=m+2*A;if(_>0){var P=e.fillStyle,M=t.pstyle("text-background-color").value;e.fillStyle="rgba("+M[0]+","+M[1]+","+M[2]+","+_*a+")";var T=t.pstyle("text-background-shape").strValue;0===T.indexOf("round")?Qs(e,k,S,E,O,2):e.fillRect(k,S,E,O),e.fillStyle=P}if(I>0&&x>0){var R=e.strokeStyle,D=e.lineWidth,N=t.pstyle("text-border-color").value,L=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+x*a+")",e.lineWidth=I,e.setLineDash)switch(L){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=I/4,e.setLineDash([]);break;case"solid":e.setLineDash([])}if(e.strokeRect(k,S,E,O),"double"===L){var B=I/2;e.strokeRect(k+B,S+B,E-2*B,O-2*B)}e.setLineDash&&e.setLineDash([]),e.lineWidth=D,e.strokeStyle=R}}var F=2*t.pstyle("text-outline-width").pfValue;if(F>0&&(e.lineWidth=F),"wrap"===t.pstyle("text-wrap").value){var V=we(s,"labelWrapCachedLines",n),$=we(s,"labelLineHeight",n),H=f/2,j=this.getLabelJustification(t);switch("auto"===j||("left"===C?"left"===j?h+=-f:"center"===j&&(h+=-H):"center"===C?"left"===j?h+=-H:"right"===j&&(h+=H):"right"===C&&("center"===j?h+=H:"right"===j&&(h+=f))),w){case"top":d-=(V.length-1)*$;break;case"center":case"bottom":d-=(V.length-1)*$}for(var W=0;W<V.length;W++)F>0&&e.strokeText(V[W],h,d),e.fillText(V[W],h,d),d+=$}else F>0&&e.strokeText(u,h,d),e.fillText(u,h,d);0!==p&&(e.rotate(-p),e.translate(-l,-c))}}};for(var ea={drawNode:function(e,t,n){var i,r,o=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],s=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],a=!(arguments.length>5&&void 0!==arguments[5])||arguments[5],l=this,c=t._private,h=c.rscratch,d=t.position();if(x(d.x)&&x(d.y)&&(!a||t.visible())){var u,p,g=a?t.effectiveOpacity():1,f=l.usePaths(),m=!1,v=t.padding();i=t.width()+2*v,r=t.height()+2*v,n&&e.translate(-(p=n).x1,-p.y1);for(var y=t.pstyle("background-image"),b=y.value,C=new Array(b.length),w=new Array(b.length),_=0,I=0;I<b.length;I++){var A=b[I],k=C[I]=null!=A&&"none"!==A;if(k){var S=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",I);_++,w[I]=l.getCachedImage(A,S,(function(){c.backgroundTimestamp=Date.now(),t.emitAndNotify("background")}))}}var E=t.pstyle("background-blacken").value,O=t.pstyle("border-width").pfValue,P=t.pstyle("background-opacity").value*g,M=t.pstyle("border-color").value,T=t.pstyle("border-style").value,R=t.pstyle("border-opacity").value*g;e.lineJoin="miter";var D=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;l.eleFillStyle(e,t,n)},N=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:R;l.colorStrokeStyle(e,M[0],M[1],M[2],t)},L=t.pstyle("shape").strValue,B=t.pstyle("shape-polygon-points").pfValue;if(f){e.translate(d.x,d.y);var F=l.nodePathCache=l.nodePathCache||[],V=te("polygon"===L?L+","+B.join(","):L,""+r,""+i),$=F[V];null!=$?(m=!0,h.pathCache=u=$):(u=new Path2D,F[V]=h.pathCache=u)}var H=function(){if(!m){var n=d;f&&(n={x:0,y:0}),l.nodeShapes[l.getNodeShape(t)].draw(u||e,n.x,n.y,i,r)}f?e.fill(u):e.fill()},j=function(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,i=c.backgrounding,r=0,o=0;o<w.length;o++)C[o]&&w[o].complete&&!w[o].error&&(r++,l.drawInscribedImage(e,w[o],t,o,n));c.backgrounding=!(r===_),i!==c.backgrounding&&t.updateStyle(!1)},W=function(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g;l.hasPie(t)&&(l.drawPie(e,t,o),n&&(f||l.nodeShapes[l.getNodeShape(t)].draw(e,d.x,d.y,i,r)))},z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g,n=(E>0?E:-E)*t,i=E>0?0:255;0!==E&&(l.colorFillStyle(e,i,i,i,n),f?e.fill(u):e.fill())},G=function(){if(O>0){if(e.lineWidth=O,e.lineCap="butt",e.setLineDash)switch(T){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([])}if(f?e.stroke(u):e.stroke(),"double"===T){e.lineWidth=O/3;var t=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",f?e.stroke(u):e.stroke(),e.globalCompositeOperation=t}e.setLineDash&&e.setLineDash([])}},Z=function(){s&&l.drawNodeOverlay(e,t,d,i,r)},K=function(){l.drawElementText(e,t,null,o)},X="yes"===t.pstyle("ghost").value;if(X){var Y=t.pstyle("ghost-offset-x").pfValue,U=t.pstyle("ghost-offset-y").pfValue,J=t.pstyle("ghost-opacity").value,q=J*g;e.translate(Y,U),D(J*P),H(),j(q),W(0!==E||0!==O),z(q),N(J*R),G(),e.translate(-Y,-U)}D(),H(),j(),W(0!==E||0!==O),z(),N(),G(),f&&e.translate(-d.x,-d.y),K(),Z(),n&&e.translate(p.x1,p.y1)}},drawNodeOverlay:function(e,t,n,i,r){if(t.visible()){var o=t.pstyle("overlay-padding").pfValue,s=t.pstyle("overlay-opacity").value,a=t.pstyle("overlay-color").value;if(s>0){if(n=n||t.position(),null==i||null==r){var l=t.padding();i=t.width()+2*l,r=t.height()+2*l}this.colorFillStyle(e,a[0],a[1],a[2],s),this.nodeShapes.roundrectangle.draw(e,n.x,n.y,i+2*o,r+2*o),e.fill()}}},hasPie:function(e){return(e=e[0])._private.hasPie},drawPie:function(e,t,n,i){t=t[0],i=i||t.position();var r=t.cy().style(),o=t.pstyle("pie-size"),s=i.x,a=i.y,l=t.width(),c=t.height(),h=Math.min(l,c)/2,d=0;this.usePaths()&&(s=0,a=0),"%"===o.units?h*=o.pfValue:void 0!==o.pfValue&&(h=o.pfValue/2);for(var u=1;u<=r.pieBackgroundN;u++){var p=t.pstyle("pie-"+u+"-background-size").value,g=t.pstyle("pie-"+u+"-background-color").value,f=t.pstyle("pie-"+u+"-background-opacity").value*n,m=p/100;m+d>1&&(m=1-d);var v=1.5*Math.PI+2*Math.PI*d,y=v+2*Math.PI*m;0===p||d>=1||d+m>1||(e.beginPath(),e.moveTo(s,a),e.arc(s,a,h,v,y),e.closePath(),this.colorFillStyle(e,g[0],g[1],g[2],f),e.fill(),d+=m)}}},ta={getPixelRatio:function(){var e=this.data.contexts[0];return null!=this.forcedPixelRatio?this.forcedPixelRatio:(window.devicePixelRatio||1)/(e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)},paintCache:function(e){for(var t,n=this.paintCaches=this.paintCaches||[],i=!0,r=0;r<n.length;r++)if((t=n[r]).context===e){i=!1;break}return i&&n.push(t={context:e}),t},createGradientStyleFor:function(e,t,n,i,r){var o,s=this.usePaths(),a=n.pstyle(t+"-gradient-stop-colors").value,l=n.pstyle(t+"-gradient-stop-positions").pfValue;if("radial-gradient"===i)if(n.isEdge()){var c=n.sourceEndpoint(),h=n.targetEndpoint(),d=n.midpoint(),u=Xe(c,d),p=Xe(h,d);o=e.createRadialGradient(d.x,d.y,0,d.x,d.y,Math.max(u,p))}else{var g=s?{x:0,y:0}:n.position(),f=n.paddedWidth(),m=n.paddedHeight();o=e.createRadialGradient(g.x,g.y,0,g.x,g.y,Math.max(f,m))}else if(n.isEdge()){var v=n.sourceEndpoint(),y=n.targetEndpoint();o=e.createLinearGradient(v.x,v.y,y.x,y.y)}else{var b=s?{x:0,y:0}:n.position(),C=n.paddedWidth()/2,w=n.paddedHeight()/2;switch(n.pstyle("background-gradient-direction").value){case"to-bottom":o=e.createLinearGradient(b.x,b.y-w,b.x,b.y+w);break;case"to-top":o=e.createLinearGradient(b.x,b.y+w,b.x,b.y-w);break;case"to-left":o=e.createLinearGradient(b.x+C,b.y,b.x-C,b.y);break;case"to-right":o=e.createLinearGradient(b.x-C,b.y,b.x+C,b.y);break;case"to-bottom-right":case"to-right-bottom":o=e.createLinearGradient(b.x-C,b.y-w,b.x+C,b.y+w);break;case"to-top-right":case"to-right-top":o=e.createLinearGradient(b.x-C,b.y+w,b.x+C,b.y-w);break;case"to-bottom-left":case"to-left-bottom":o=e.createLinearGradient(b.x+C,b.y-w,b.x-C,b.y+w);break;case"to-top-left":case"to-left-top":o=e.createLinearGradient(b.x+C,b.y+w,b.x-C,b.y-w)}}if(!o)return null;for(var _=l.length===a.length,x=a.length,I=0;I<x;I++)o.addColorStop(_?l[I]:I/(x-1),"rgba("+a[I][0]+","+a[I][1]+","+a[I][2]+","+r+")");return o},gradientFillStyle:function(e,t,n,i){var r=this.createGradientStyleFor(e,"background",t,n,i);if(!r)return null;e.fillStyle=r},colorFillStyle:function(e,t,n,i,r){e.fillStyle="rgba("+t+","+n+","+i+","+r+")"},eleFillStyle:function(e,t,n){var i=t.pstyle("background-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientFillStyle(e,t,i,n);else{var r=t.pstyle("background-color").value;this.colorFillStyle(e,r[0],r[1],r[2],n)}},gradientStrokeStyle:function(e,t,n,i){var r=this.createGradientStyleFor(e,"line",t,n,i);if(!r)return null;e.strokeStyle=r},colorStrokeStyle:function(e,t,n,i,r){e.strokeStyle="rgba("+t+","+n+","+i+","+r+")"},eleStrokeStyle:function(e,t,n){var i=t.pstyle("line-fill").value;if("linear-gradient"===i||"radial-gradient"===i)this.gradientStrokeStyle(e,t,i,n);else{var r=t.pstyle("line-color").value;this.colorStrokeStyle(e,r[0],r[1],r[2],n)}},matchCanvasSize:function(e){var t=this,n=t.data,i=t.findContainerClientCoords(),r=i[2],o=i[3],s=t.getPixelRatio();e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]&&e!==t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG]||(s=t.motionBlurPxRatio);var a,l=r*s,c=o*s;if(l!==t.canvasWidth||c!==t.canvasHeight){t.fontCaches=null;var h=n.canvasContainer;h.style.width=r+"px",h.style.height=o+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)(a=n.canvases[d]).width=l,a.height=c,a.style.width=r+"px",a.style.height=o+"px";for(d=0;d<t.BUFFER_COUNT;d++)(a=n.bufferCanvases[d]).width=l,a.height=c,a.style.width=r+"px",a.style.height=o+"px";t.textureMult=1,s<=1&&(a=n.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,a.width=l*t.textureMult,a.height=c*t.textureMult),t.canvasWidth=l,t.canvasHeight=c}},renderTo:function(e,t,n,i){this.render({forcedContext:e,forcedZoom:t,forcedPan:n,drawAllLayers:!0,forcedPxRatio:i})},render:function(e){var t=(e=e||ve()).forcedContext,n=e.drawAllLayers,i=e.drawOnlyNodeLayer,r=e.forcedZoom,o=e.forcedPan,s=this,a=void 0===e.forcedPxRatio?this.getPixelRatio():e.forcedPxRatio,l=s.cy,c=s.data,h=c.canvasNeedsRedraw,d=s.textureOnViewport&&!t&&(s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming),u=void 0!==e.motionBlur?e.motionBlur:s.motionBlur,p=s.motionBlurPxRatio,g=l.hasCompoundNodes(),f=s.hoverData.draggingEles,m=u=u&&!t&&s.motionBlurEnabled&&!(s.hoverData.selecting||s.touchData.selecting);t||(s.prevPxRatio!==a&&(s.invalidateContainerClientCoordsCache(),s.matchCanvasSize(s.container),s.redrawHint("eles",!0),s.redrawHint("drag",!0)),s.prevPxRatio=a),!t&&s.motionBlurTimeout&&clearTimeout(s.motionBlurTimeout),u&&(null==s.mbFrames&&(s.mbFrames=0),s.mbFrames++,s.mbFrames<3&&(m=!1),s.mbFrames>s.minMbLowQualFrames&&(s.motionBlurPxRatio=s.mbPxRBlurry)),s.clearingMotionBlur&&(s.motionBlurPxRatio=1),s.textureDrawLastFrame&&!d&&(h[s.NODE]=!0,h[s.SELECT_BOX]=!0);var v=l.style(),y=l.zoom(),b=void 0!==r?r:y,C=l.pan(),w={x:C.x,y:C.y},_={zoom:y,pan:{x:C.x,y:C.y}},x=s.prevViewport;void 0===x||_.zoom!==x.zoom||_.pan.x!==x.pan.x||_.pan.y!==x.pan.y||f&&!g||(s.motionBlurPxRatio=1),o&&(w=o),b*=a,w.x*=a,w.y*=a;var I=s.getCachedZSortedEles();function A(e,t,n,i,r){var o=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,s.motionBlurTransparency),e.fillRect(t,n,i,r),e.globalCompositeOperation=o}function k(e,i){var a,l,h,d;s.clearingMotionBlur||e!==c.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]&&e!==c.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]?(a=w,l=b,h=s.canvasWidth,d=s.canvasHeight):(a={x:C.x*p,y:C.y*p},l=y*p,h=s.canvasWidth*p,d=s.canvasHeight*p),e.setTransform(1,0,0,1,0,0),"motionBlur"===i?A(e,0,0,h,d):t||void 0!==i&&!i||e.clearRect(0,0,h,d),n||(e.translate(a.x,a.y),e.scale(l,l)),o&&e.translate(o.x,o.y),r&&e.scale(r,r)}if(d||(s.textureDrawLastFrame=!1),d){if(s.textureDrawLastFrame=!0,!s.textureCache){s.textureCache={},s.textureCache.bb=l.mutableElements().boundingBox(),s.textureCache.texture=s.data.bufferCanvases[s.TEXTURE_BUFFER];var S=s.data.bufferContexts[s.TEXTURE_BUFFER];S.setTransform(1,0,0,1,0,0),S.clearRect(0,0,s.canvasWidth*s.textureMult,s.canvasHeight*s.textureMult),s.render({forcedContext:S,drawOnlyNodeLayer:!0,forcedPxRatio:a*s.textureMult}),(_=s.textureCache.viewport={zoom:l.zoom(),pan:l.pan(),width:s.canvasWidth,height:s.canvasHeight}).mpan={x:(0-_.pan.x)/_.zoom,y:(0-_.pan.y)/_.zoom}}h[s.DRAG]=!1,h[s.NODE]=!1;var E=s.textureCache.texture;_=s.textureCache.viewport,(L=c.contexts[s.NODE]).setTransform(1,0,0,1,0,0),u?A(L,0,0,_.width,_.height):L.clearRect(0,0,_.width,_.height);var O=v.core("outside-texture-bg-color").value,P=v.core("outside-texture-bg-opacity").value;s.colorFillStyle(L,O[0],O[1],O[2],P),L.fillRect(0,0,_.width,_.height),y=l.zoom(),k(L,!1),L.clearRect(_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a),L.drawImage(E,_.mpan.x,_.mpan.y,_.width/_.zoom/a,_.height/_.zoom/a)}else s.textureOnViewport&&!t&&(s.textureCache=null);var M=l.extent(),T=s.pinching||s.hoverData.dragging||s.swipePanning||s.data.wheelZooming||s.hoverData.draggingEles||s.cy.animated(),R=s.hideEdgesOnViewport&&T,D=[];if(D[s.NODE]=!h[s.NODE]&&u&&!s.clearedForMotionBlur[s.NODE]||s.clearingMotionBlur,D[s.NODE]&&(s.clearedForMotionBlur[s.NODE]=!0),D[s.DRAG]=!h[s.DRAG]&&u&&!s.clearedForMotionBlur[s.DRAG]||s.clearingMotionBlur,D[s.DRAG]&&(s.clearedForMotionBlur[s.DRAG]=!0),h[s.NODE]||n||i||D[s.NODE]){var N=u&&!D[s.NODE]&&1!==p;k(L=t||(N?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_NODE]:c.contexts[s.NODE]),u&&!N?"motionBlur":void 0),R?s.drawCachedNodes(L,I.nondrag,a,M):s.drawLayeredElements(L,I.nondrag,a,M),s.debug&&s.drawDebugPoints(L,I.nondrag),n||u||(h[s.NODE]=!1)}if(!i&&(h[s.DRAG]||n||D[s.DRAG])&&(N=u&&!D[s.DRAG]&&1!==p,k(L=t||(N?s.data.bufferContexts[s.MOTIONBLUR_BUFFER_DRAG]:c.contexts[s.DRAG]),u&&!N?"motionBlur":void 0),R?s.drawCachedNodes(L,I.drag,a,M):s.drawCachedElements(L,I.drag,a,M),s.debug&&s.drawDebugPoints(L,I.drag),n||u||(h[s.DRAG]=!1)),s.showFps||!i&&h[s.SELECT_BOX]&&!n){var L;if(k(L=t||c.contexts[s.SELECT_BOX]),1==s.selection[4]&&(s.hoverData.selecting||s.touchData.selecting)){y=s.cy.zoom();var B=v.core("selection-box-border-width").value/y;L.lineWidth=B,L.fillStyle="rgba("+v.core("selection-box-color").value[0]+","+v.core("selection-box-color").value[1]+","+v.core("selection-box-color").value[2]+","+v.core("selection-box-opacity").value+")",L.fillRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]),B>0&&(L.strokeStyle="rgba("+v.core("selection-box-border-color").value[0]+","+v.core("selection-box-border-color").value[1]+","+v.core("selection-box-border-color").value[2]+","+v.core("selection-box-opacity").value+")",L.strokeRect(s.selection[0],s.selection[1],s.selection[2]-s.selection[0],s.selection[3]-s.selection[1]))}if(c.bgActivePosistion&&!s.hoverData.selecting){y=s.cy.zoom();var F=c.bgActivePosistion;L.fillStyle="rgba("+v.core("active-bg-color").value[0]+","+v.core("active-bg-color").value[1]+","+v.core("active-bg-color").value[2]+","+v.core("active-bg-opacity").value+")",L.beginPath(),L.arc(F.x,F.y,v.core("active-bg-size").pfValue/y,0,2*Math.PI),L.fill()}var V=s.lastRedrawTime;if(s.showFps&&V){V=Math.round(V);var $=Math.round(1e3/V);L.setTransform(1,0,0,1,0,0),L.fillStyle="rgba(255, 0, 0, 0.75)",L.strokeStyle="rgba(255, 0, 0, 0.75)",L.lineWidth=1,L.fillText("1 frame = "+V+" ms = "+$+" fps",0,20),L.strokeRect(0,30,250,20),L.fillRect(0,30,250*Math.min($/60,1),20)}n||(h[s.SELECT_BOX]=!1)}if(u&&1!==p){var H=c.contexts[s.DRAG],j=s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_DRAG],W=function(e,t,n){e.setTransform(1,0,0,1,0,0),n||!m?e.clearRect(0,0,s.canvasWidth,s.canvasHeight):A(e,0,0,s.canvasWidth,s.canvasHeight),e.drawImage(t,0,0,s.canvasWidth*p,s.canvasHeight*p,0,0,s.canvasWidth,s.canvasHeight)};(h[s.NODE]||D[s.NODE])&&(W(c.contexts[s.NODE],s.data.bufferCanvases[s.MOTIONBLUR_BUFFER_NODE],D[s.NODE]),h[s.NODE]=!1),(h[s.DRAG]||D[s.DRAG])&&(W(H,j,D[s.DRAG]),h[s.DRAG]=!1)}s.prevViewport=_,s.clearingMotionBlur&&(s.clearingMotionBlur=!1,s.motionBlurCleared=!0,s.motionBlur=!0),u&&(s.motionBlurTimeout=setTimeout((function(){s.motionBlurTimeout=null,s.clearedForMotionBlur[s.NODE]=!1,s.clearedForMotionBlur[s.DRAG]=!1,s.motionBlur=!1,s.clearingMotionBlur=!d,s.mbFrames=0,h[s.NODE]=!0,h[s.DRAG]=!0,s.redraw()}),100)),t||l.emit("render")}},na={drawPolygonPath:function(e,t,n,i,r,o){var s=i/2,a=r/2;e.beginPath&&e.beginPath(),e.moveTo(t+s*o[0],n+a*o[1]);for(var l=1;l<o.length/2;l++)e.lineTo(t+s*o[2*l],n+a*o[2*l+1]);e.closePath()},drawRoundPolygonPath:function(e,t,n,i,r,o){var s=i/2,a=r/2,l=Et(i,r);e.beginPath&&e.beginPath();for(var c=0;c<o.length/4;c++){var h,d;d=0===c?o.length-2:4*c-2,h=4*c+2;var u=t+s*o[4*c],p=n+a*o[4*c+1],g=l/Math.tan(Math.acos(-o[d]*o[h]-o[d+1]*o[h+1])/2),f=u-g*o[d],m=p-g*o[d+1],v=u+g*o[h],y=p+g*o[h+1];0===c?e.moveTo(f,m):e.lineTo(f,m),e.arcTo(u,p,v,y,l)}e.closePath()},drawRoundRectanglePath:function(e,t,n,i,r){var o=i/2,s=r/2,a=St(i,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.arcTo(t+o,n-s,t+o,n,a),e.arcTo(t+o,n+s,t,n+s,a),e.arcTo(t-o,n+s,t-o,n,a),e.arcTo(t-o,n-s,t,n-s,a),e.lineTo(t,n-s),e.closePath()},drawBottomRoundRectanglePath:function(e,t,n,i,r){var o=i/2,s=r/2,a=St(i,r);e.beginPath&&e.beginPath(),e.moveTo(t,n-s),e.lineTo(t+o,n-s),e.lineTo(t+o,n),e.arcTo(t+o,n+s,t,n+s,a),e.arcTo(t-o,n+s,t-o,n,a),e.lineTo(t-o,n-s),e.lineTo(t,n-s),e.closePath()},drawCutRectanglePath:function(e,t,n,i,r){var o=i/2,s=r/2;e.beginPath&&e.beginPath(),e.moveTo(t-o+8,n-s),e.lineTo(t+o-8,n-s),e.lineTo(t+o,n-s+8),e.lineTo(t+o,n+s-8),e.lineTo(t+o-8,n+s),e.lineTo(t-o+8,n+s),e.lineTo(t-o,n+s-8),e.lineTo(t-o,n-s+8),e.closePath()},drawBarrelPath:function(e,t,n,i,r){var o=i/2,s=r/2,a=t-o,l=t+o,c=n-s,h=n+s,d=Ot(i,r),u=d.widthOffset,p=d.heightOffset,g=d.ctrlPtOffsetPct*u;e.beginPath&&e.beginPath(),e.moveTo(a,c+p),e.lineTo(a,h-p),e.quadraticCurveTo(a+g,h,a+u,h),e.lineTo(l-u,h),e.quadraticCurveTo(l-g,h,l,h-p),e.lineTo(l,c+p),e.quadraticCurveTo(l-g,c,l-u,c),e.lineTo(a+u,c),e.quadraticCurveTo(a+g,c,a,c+p),e.closePath()}},ia=Math.sin(0),ra=Math.cos(0),oa={},sa={},aa=Math.PI/40,la=0*Math.PI;la<2*Math.PI;la+=aa)oa[la]=Math.sin(la),sa[la]=Math.cos(la);na.drawEllipsePath=function(e,t,n,i,r){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,n,i/2,r/2,0,0,2*Math.PI);else for(var o,s,a=i/2,l=r/2,c=0*Math.PI;c<2*Math.PI;c+=aa)o=t-a*oa[c]*ia+a*sa[c]*ra,s=n+l*sa[c]*ia+l*oa[c]*ra,0===c?e.moveTo(o,s):e.lineTo(o,s);e.closePath()};var ca={};function ha(e){var t=e.indexOf(",");return e.substr(t+1)}function da(e,t,n){var i=function(){return t.toDataURL(n,e.quality)};switch(e.output){case"blob-promise":return new Vn((function(i,r){try{t.toBlob((function(e){null!=e?i(e):r(new Error("`canvas.toBlob()` sent a null value in its callback"))}),n,e.quality)}catch(o){r(o)}}));case"blob":return function(e,t){for(var n=atob(e),i=new ArrayBuffer(n.length),r=new Uint8Array(i),o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return new Blob([i],{type:t})}(ha(i()),n);case"base64":return ha(i());case"base64uri":default:return i()}}ca.createBuffer=function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,[n,n.getContext("2d")]},ca.bufferCanvasImage=function(e){var t=this.cy,n=t.mutableElements().boundingBox(),i=this.findContainerClientCoords(),r=e.full?Math.ceil(n.w):i[2],o=e.full?Math.ceil(n.h):i[3],s=x(e.maxWidth)||x(e.maxHeight),a=this.getPixelRatio(),l=1;if(void 0!==e.scale)r*=e.scale,o*=e.scale,l=e.scale;else if(s){var c=1/0,h=1/0;x(e.maxWidth)&&(c=l*e.maxWidth/r),x(e.maxHeight)&&(h=l*e.maxHeight/o),r*=l=Math.min(c,h),o*=l}s||(r*=a,o*=a,l*=a);var d=document.createElement("canvas");d.width=r,d.height=o,d.style.width=r+"px",d.style.height=o+"px";var u=d.getContext("2d");if(r>0&&o>0){u.clearRect(0,0,r,o),u.globalCompositeOperation="source-over";var p=this.getCachedZSortedEles();if(e.full)u.translate(-n.x1*l,-n.y1*l),u.scale(l,l),this.drawElements(u,p),u.scale(1/l,1/l),u.translate(n.x1*l,n.y1*l);else{var g=t.pan(),f={x:g.x*l,y:g.y*l};l*=t.zoom(),u.translate(f.x,f.y),u.scale(l,l),this.drawElements(u,p),u.scale(1/l,1/l),u.translate(-f.x,-f.y)}e.bg&&(u.globalCompositeOperation="destination-over",u.fillStyle=e.bg,u.rect(0,0,r,o),u.fill())}return d},ca.png=function(e){return da(e,this.bufferCanvasImage(e),"image/png")},ca.jpg=function(e){return da(e,this.bufferCanvasImage(e),"image/jpeg")};var ua=ga,pa=ga.prototype;function ga(e){var t=this;t.data={canvases:new Array(pa.CANVAS_LAYERS),contexts:new Array(pa.CANVAS_LAYERS),canvasNeedsRedraw:new Array(pa.CANVAS_LAYERS),bufferCanvases:new Array(pa.BUFFER_COUNT),bufferContexts:new Array(pa.CANVAS_LAYERS)},t.data.canvasContainer=document.createElement("div");var n=t.data.canvasContainer.style;t.data.canvasContainer.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",n.position="relative",n.zIndex="0",n.overflow="hidden";var i=e.cy.container();i.appendChild(t.data.canvasContainer),i.style["-webkit-tap-highlight-color"]="rgba(0,0,0,0)";var r={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};p&&p.userAgent.match(/msie|trident|edge/i)&&(r["-ms-touch-action"]="none",r["touch-action"]="none");for(var o=0;o<pa.CANVAS_LAYERS;o++){var s=t.data.canvases[o]=document.createElement("canvas");t.data.contexts[o]=s.getContext("2d"),Object.keys(r).forEach((function(e){s.style[e]=r[e]})),s.style.position="absolute",s.setAttribute("data-id","layer"+o),s.style.zIndex=String(pa.CANVAS_LAYERS-o),t.data.canvasContainer.appendChild(s),t.data.canvasNeedsRedraw[o]=!1}for(t.data.topCanvas=t.data.canvases[0],t.data.canvases[pa.NODE].setAttribute("data-id","layer"+pa.NODE+"-node"),t.data.canvases[pa.SELECT_BOX].setAttribute("data-id","layer"+pa.SELECT_BOX+"-selectbox"),t.data.canvases[pa.DRAG].setAttribute("data-id","layer"+pa.DRAG+"-drag"),o=0;o<pa.BUFFER_COUNT;o++)t.data.bufferCanvases[o]=document.createElement("canvas"),t.data.bufferContexts[o]=t.data.bufferCanvases[o].getContext("2d"),t.data.bufferCanvases[o].style.position="absolute",t.data.bufferCanvases[o].setAttribute("data-id","buffer"+o),t.data.bufferCanvases[o].style.zIndex=String(-o-1),t.data.bufferCanvases[o].style.visibility="hidden";t.pathsEnabled=!0;var a=et(),l=function(e){return{x:-e.w/2,y:-e.h/2}},c=function(e){return e.boundingBox(),e[0]._private.bodyBounds},h=function(e){return e.boundingBox(),e[0]._private.labelBounds.main||a},d=function(e){return e.boundingBox(),e[0]._private.labelBounds.source||a},u=function(e){return e.boundingBox(),e[0]._private.labelBounds.target||a},g=function(e,t){return t},f=function(e,t,n){var i=e?e+"-":"";return{x:t.x+n.pstyle(i+"text-margin-x").pfValue,y:t.y+n.pstyle(i+"text-margin-y").pfValue}},m=function(e,t,n){var i=e[0]._private.rscratch;return{x:i[t],y:i[n]}},v=t.data.eleTxrCache=new Ps(t,{getKey:function(e){return e[0]._private.nodeKey},doesEleInvalidateKey:function(e){var t=e[0]._private;return!(t.oldBackgroundTimestamp===t.backgroundTimestamp)},drawElement:function(e,n,i,r,o){return t.drawElement(e,n,i,!1,!1,o)},getBoundingBox:c,getRotationPoint:function(e){return{x:((t=c(e)).x1+t.x2)/2,y:(t.y1+t.y2)/2};var t},getRotationOffset:function(e){return l(c(e))},allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),y=t.data.lblTxrCache=new Ps(t,{getKey:function(e){return e[0]._private.labelStyleKey},drawElement:function(e,n,i,r,o){return t.drawElementText(e,n,i,r,"main",o)},getBoundingBox:h,getRotationPoint:function(e){return f("",m(e,"labelX","labelY"),e)},getRotationOffset:function(e){var t=h(e),n=l(h(e));if(e.isNode()){switch(e.pstyle("text-halign").value){case"left":n.x=-t.w;break;case"right":n.x=0}switch(e.pstyle("text-valign").value){case"top":n.y=-t.h;break;case"bottom":n.y=0}}return n},isVisible:g}),b=t.data.slbTxrCache=new Ps(t,{getKey:function(e){return e[0]._private.sourceLabelStyleKey},drawElement:function(e,n,i,r,o){return t.drawElementText(e,n,i,r,"source",o)},getBoundingBox:d,getRotationPoint:function(e){return f("source",m(e,"sourceLabelX","sourceLabelY"),e)},getRotationOffset:function(e){return l(d(e))},isVisible:g}),C=t.data.tlbTxrCache=new Ps(t,{getKey:function(e){return e[0]._private.targetLabelStyleKey},drawElement:function(e,n,i,r,o){return t.drawElementText(e,n,i,r,"target",o)},getBoundingBox:u,getRotationPoint:function(e){return f("target",m(e,"targetLabelX","targetLabelY"),e)},getRotationOffset:function(e){return l(u(e))},isVisible:g}),w=t.data.lyrTxrCache=new Ts(t);t.onUpdateEleCalcs((function(e,t){v.invalidateElements(t),y.invalidateElements(t),b.invalidateElements(t),C.invalidateElements(t),w.invalidateElements(t);for(var n=0;n<t.length;n++){var i=t[n]._private;i.oldBackgroundTimestamp=i.backgroundTimestamp}}));var _=function(e){for(var t=0;t<e.length;t++)w.enqueueElementRefinement(e[t].ele)};v.onDequeue(_),y.onDequeue(_),b.onDequeue(_),C.onDequeue(_)}pa.CANVAS_LAYERS=3,pa.SELECT_BOX=0,pa.DRAG=1,pa.NODE=2,pa.BUFFER_COUNT=3,pa.TEXTURE_BUFFER=0,pa.MOTIONBLUR_BUFFER_NODE=1,pa.MOTIONBLUR_BUFFER_DRAG=2,pa.redrawHint=function(e,t){var n=this;switch(e){case"eles":n.data.canvasNeedsRedraw[pa.NODE]=t;break;case"drag":n.data.canvasNeedsRedraw[pa.DRAG]=t;break;case"select":n.data.canvasNeedsRedraw[pa.SELECT_BOX]=t}};var fa="undefined"!=typeof Path2D;pa.path2dEnabled=function(e){if(void 0===e)return this.pathsEnabled;this.pathsEnabled=!!e},pa.usePaths=function(){return fa&&this.pathsEnabled},pa.setImgSmoothing=function(e,t){null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)},pa.getImgSmoothing=function(e){return null!=e.imageSmoothingEnabled?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled},pa.makeOffscreenCanvas=function(e,t){var n;return"undefined"!==("undefined"==typeof OffscreenCanvas?"undefined":s(OffscreenCanvas))?n=new OffscreenCanvas(e,t):((n=document.createElement("canvas")).width=e,n.height=t),n},[Bs,Ws,Us,Js,qs,ea,ta,na,ca,{nodeShapeImpl:function(e,t,n,i,r,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,n,i,r,o);case"polygon":return this.drawPolygonPath(t,n,i,r,o,s);case"round-polygon":return this.drawRoundPolygonPath(t,n,i,r,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,n,i,r,o);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,n,i,r,o);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,n,i,r,o);case"barrel":return this.drawBarrelPath(t,n,i,r,o)}}}].forEach((function(e){V(pa,e)}));var ma=[{type:"layout",extensions:ts},{type:"renderer",extensions:[{name:"null",impl:ns},{name:"base",impl:Is},{name:"canvas",impl:ua}]}],va={},ya={};function ba(e,t,n){var i=n,r=function(n){de("Can not register `"+t+"` for `"+e+"` since `"+n+"` already exists in the prototype and can not be overridden")};if("core"===e){if(fo.prototype[t])return r(t);fo.prototype[t]=n}else if("collection"===e){if(Tr.prototype[t])return r(t);Tr.prototype[t]=n}else if("layout"===e){for(var o=function(e){this.options=e,n.call(this,e),_(this._private)||(this._private={}),this._private.cy=e.cy,this._private.listeners=[],this.createEmitter()},s=o.prototype=Object.create(n.prototype),a=[],l=0;l<a.length;l++){var c=a[l];s[c]=s[c]||function(){return this}}s.start&&!s.run?s.run=function(){return this.start(),this}:!s.start&&s.run&&(s.start=function(){return this.run(),this});var h=n.prototype.stop;s.stop=function(){var e=this.options;if(e&&e.animate){var t=this.animations;if(t)for(var n=0;n<t.length;n++)t[n].stop()}return h?h.call(this):this.emit("layoutstop"),this},s.destroy||(s.destroy=function(){return this}),s.cy=function(){return this._private.cy};var d=function(e){return e._private.cy},u={addEventFields:function(e,t){t.layout=e,t.cy=d(e),t.target=e},bubble:function(){return!0},parent:function(e){return d(e)}};V(s,{createEmitter:function(){return this._private.emitter=new Qi(u,this),this},emitter:function(){return this._private.emitter},on:function(e,t){return this.emitter().on(e,t),this},one:function(e,t){return this.emitter().one(e,t),this},once:function(e,t){return this.emitter().one(e,t),this},removeListener:function(e,t){return this.emitter().removeListener(e,t),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(e,t){return this.emitter().emit(e,t),this}}),jn.eventAliasesOn(s),i=o}else if("renderer"===e&&"null"!==t&&"base"!==t){var p=Ca("renderer","base"),g=p.prototype,f=n,m=n.prototype,v=function(){p.apply(this,arguments),f.apply(this,arguments)},y=v.prototype;for(var b in g){var C=g[b];if(null!=m[b])return r(b);y[b]=C}for(var w in m)y[w]=m[w];g.clientFunctions.forEach((function(e){y[e]=y[e]||function(){de("Renderer does not implement `renderer."+e+"()` on its prototype")}})),i=v}return H({map:va,keys:[e,t],value:i})}function Ca(e,t){return j({map:va,keys:[e,t]})}function wa(e,t,n,i,r){return H({map:ya,keys:[e,t,n,i],value:r})}function _a(e,t,n,i){return j({map:ya,keys:[e,t,n,i]})}var xa=function(){return 2===arguments.length?Ca.apply(null,arguments):3===arguments.length?ba.apply(null,arguments):4===arguments.length?_a.apply(null,arguments):5===arguments.length?wa.apply(null,arguments):void de("Invalid extension access syntax")};fo.prototype.extension=xa,ma.forEach((function(e){e.extensions.forEach((function(t){ba(e.type,t.name,t.impl)}))}));var Ia=function e(){if(!(this instanceof e))return new e;this.length=0},Aa=Ia.prototype;Aa.instanceString=function(){return"stylesheet"},Aa.selector=function(e){return this[this.length++]={selector:e,properties:[]},this},Aa.css=function(e,t){var n=this.length-1;if(b(e))this[n].properties.push({name:e,value:t});else if(_(e))for(var i=e,r=Object.keys(i),o=0;o<r.length;o++){var s=r[o],a=i[s];if(null!=a){var l=co.properties[s]||co.properties[D(s)];null!=l&&this[n].properties.push({name:l.name,value:a})}}return this},Aa.style=Aa.css,Aa.generateStyle=function(e){var t=new co(e);return this.appendToStyle(t)},Aa.appendToStyle=function(e){for(var t=0;t<this.length;t++){var n=this[t],i=n.properties;e.selector(n.selector);for(var r=0;r<i.length;r++){var o=i[r];e.css(o.name,o.value)}}return e};var ka=function(e){return void 0===e&&(e={}),_(e)?new fo(e):b(e)?xa.apply(xa,arguments):void 0};ka.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(ka),e.apply(null,t),this},ka.warnings=function(e){return ue(e)},ka.version="3.16.1",ka.stylesheet=ka.Stylesheet=Ia,e.exports=ka},YfBG:function(e,t,n){window,e.exports=function(){return n={},e.m=t=[function(e,t,n){"use strict";n.r(t),n.d(t,"parse",(function(){return d})),n.d(t,"repair",(function(){return u})),n.d(t,"escapeUnicodeChars",(function(){return p})),n.d(t,"validate",(function(){return g})),n.d(t,"extend",(function(){return f})),n.d(t,"clear",(function(){return m})),n.d(t,"getType",(function(){return v})),n.d(t,"isUrl",(function(){return b})),n.d(t,"isArray",(function(){return C})),n.d(t,"getWindow",(function(){return w})),n.d(t,"getAbsoluteLeft",(function(){return _})),n.d(t,"getAbsoluteTop",(function(){return x})),n.d(t,"addClassName",(function(){return I})),n.d(t,"removeAllClassNames",(function(){return A})),n.d(t,"removeClassName",(function(){return k})),n.d(t,"stripFormatting",(function(){return S})),n.d(t,"setEndOfContentEditable",(function(){return E})),n.d(t,"selectContentEditable",(function(){return O})),n.d(t,"getSelection",(function(){return P})),n.d(t,"setSelection",(function(){return M})),n.d(t,"getSelectionOffset",(function(){return T})),n.d(t,"setSelectionOffset",(function(){return R})),n.d(t,"getInnerText",(function(){return D})),n.d(t,"hasParentNode",(function(){return N})),n.d(t,"getInternetExplorerVersion",(function(){return L})),n.d(t,"isFirefox",(function(){return B})),n.d(t,"addEventListener",(function(){return V})),n.d(t,"removeEventListener",(function(){return $})),n.d(t,"isChildOf",(function(){return H})),n.d(t,"parsePath",(function(){return j})),n.d(t,"stringifyPath",(function(){return W})),n.d(t,"improveSchemaError",(function(){return z})),n.d(t,"isPromise",(function(){return G})),n.d(t,"isValidValidationError",(function(){return Z})),n.d(t,"insideRect",(function(){return K})),n.d(t,"debounce",(function(){return X})),n.d(t,"textDiff",(function(){return Y})),n.d(t,"getInputSelection",(function(){return U})),n.d(t,"getIndexForPosition",(function(){return J})),n.d(t,"getPositionForPath",(function(){return q})),n.d(t,"compileJSONPointer",(function(){return Q})),n.d(t,"getColorCSS",(function(){return ee})),n.d(t,"isValidColor",(function(){return te})),n.d(t,"makeFieldTooltip",(function(){return ne})),n.d(t,"get",(function(){return ie})),n.d(t,"findUniqueName",(function(){return re})),n.d(t,"getChildPaths",(function(){return oe})),n.d(t,"sort",(function(){return se})),n.d(t,"sortObjectKeys",(function(){return ae})),n.d(t,"parseString",(function(){return le})),n.d(t,"isTimestamp",(function(){return ce})),n.d(t,"formatSize",(function(){return he})),n.d(t,"limitCharacters",(function(){return de})),n.d(t,"isObject",(function(){return ue})),n.d(t,"contains",(function(){return pe})),n.d(t,"isValidationErrorChanged",(function(){return ge})),n(24);var i=n(11),r=n.n(i),o=n(22),s=n.n(o),a=n(33),l=n.n(a),c=n(1);function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(t){try{return JSON.parse(t)}catch(e){throw g(t),e}}function u(e){var t=[],n=0,i=0,r=!1,o=e.match(/^\s*(\/\*(.|[\r\n])*?\*\/)?\s*[\da-zA-Z_$]+\s*\(([\s\S]*)\)\s*;?\s*$/);o&&(e=o[3]);var s,a={"\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t"},l={None:"null",True:"true",False:"false"};function c(){return e.charAt(n)}function h(){return e.charAt(n+1)}function d(e){return" "===e||"\n"===e||"\r"===e||"\t"===e}function u(){if("/"===c()&&"*"===h()){for(n+=2;n<e.length&&("*"!==c()||"/"!==h());)n++;n+=2,"\n"===c()&&n++}}function p(t){var i="";i+='"',n++;for(var r=c();n<e.length&&r!==t;)'"'===r&&"\\"!==e.charAt(n-1)?i+='\\"':r in a?i+=a[r]:("\\"===r&&(n++,"'"!==(r=c())&&(i+="\\")),i+=r),n++,r=c();return r===t&&(i+='"',n++),i}for(;n<e.length;){u(),function(){if("/"===c()&&"/"===h())for(n+=2;n<e.length&&"\n"!==c();)n++}();var g,f=c();"{"===f&&i++,"}"===f&&i--,"\xa0"===(s=f)||"\u2000"<=s&&s<="\u200a"||"\u202f"===s||"\u205f"===s||"\u3000"===s?(t.push(" "),n++):"'"===f?t.push(p(f)):'"'===f?t.push(p('"')):"`"===f?t.push(p("\xb4")):"\u2018"===f?t.push(p("\u2019")):"\u201c"===f?t.push(p("\u201d")):"}"===f?(t.push(f),n++,g=function(){for(var t="";n<e.length&&d(c());)t+=c(),n++;return t}(),u(),"{"===function(){for(var t=n;t<e.length&&d(e[t]);)t++;return e[t]}()&&(t.push(","),0===i&&(r=!0)),t.push(g)):","===f&&-1!==["]","}"].indexOf(function(){for(var t=n+1;t<e.length&&d(e[t]);)t++;return e[t]}())?n++:/[a-zA-Z_$]/.test(f)&&-1!==["{",","].indexOf(function(){for(var e=t.length-1;0<=e;){var n=t[e];if(!d(n))return n;e--}return""}())?t.push(function(){for(var e="",t=c(),i=/[a-zA-Z_$\d]/;i.test(t);)e+=t,n++,t=c();return e in l?l[e]:-1===["null","true","false"].indexOf(e)?'"'+e+'"':e}()):/\w/.test(f)?t.push(function(){for(var e,t=c(),i="";/\w/.test(t);)i+=t,n++,t=c();if(0<i.length&&"("===t){if(n++,'"'===(t=c()))e=p(t),t=c();else for(e="";")"!==t&&""!==t;)e+=t,n++,t=c();return")"===t?(n++,e):i+"("+e+t}return"string"==typeof l[i]?l[i]:i}()):(t.push(f),n++)}return r&&(t.unshift("[\n"),t.push("\n]")),t.join("")}function p(e){return e.replace(/[\u007F-\uFFFF]/g,(function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)}))}function g(e){void 0!==s.a?s.a.parse(e):JSON.parse(e)}function f(e,t){for(var n in t)fe(t,n)&&(e[n]=t[n]);return e}function m(e){for(var t in e)fe(e,t)&&delete e[t];return e}function v(e){return null===e?"null":void 0===e?"undefined":e instanceof Number||"number"==typeof e?"number":e instanceof String||"string"==typeof e?"string":e instanceof Boolean||"boolean"==typeof e?"boolean":e instanceof RegExp?"regexp":C(e)?"array":"object"}var y=/^https?:\/\/\S+$/;function b(e){return("string"==typeof e||e instanceof String)&&y.test(e)}function C(e){return"[object Array]"===Object.prototype.toString.call(e)}function w(e){return e.ownerDocument.defaultView}function _(e){return e.getBoundingClientRect().left+window.pageXOffset||document.scrollLeft||0}function x(e){return e.getBoundingClientRect().top+window.pageYOffset||document.scrollTop||0}function I(e,t){var n=e.className.split(" ");-1===n.indexOf(t)&&(n.push(t),e.className=n.join(" "))}function A(e){e.className=""}function k(e,t){var n=e.className.split(" "),i=n.indexOf(t);-1!==i&&(n.splice(i,1),e.className=n.join(" "))}function S(e){for(var t=e.childNodes,n=0,i=t.length;n<i;n++){var r=t[n];r.style&&r.removeAttribute("style");var o=r.attributes;if(o)for(var s=o.length-1;0<=s;s--){var a=o[s];!0===a.specified&&r.removeAttribute(a.name)}S(r)}}function E(e){var t,n;document.createRange&&((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t))}function O(e){var t,n;e&&"DIV"===e.nodeName&&window.getSelection&&document.createRange&&((n=document.createRange()).selectNodeContents(e),(t=window.getSelection()).removeAllRanges(),t.addRange(n))}function P(){if(window.getSelection){var e=window.getSelection();if(e.getRangeAt&&e.rangeCount)return e.getRangeAt(0)}return null}function M(e){var t;e&&window.getSelection&&((t=window.getSelection()).removeAllRanges(),t.addRange(e))}function T(){var e=P();return e&&"startOffset"in e&&"endOffset"in e&&e.startContainer&&e.startContainer===e.endContainer?{startOffset:e.startOffset,endOffset:e.endOffset,container:e.startContainer.parentNode}:null}function R(e){var t;document.createRange&&window.getSelection&&window.getSelection()&&(t=document.createRange(),e.container.firstChild||e.container.appendChild(document.createTextNode("")),t.setStart(e.container.firstChild,e.startOffset),t.setEnd(e.container.firstChild,e.endOffset),M(t))}function D(e,t){if(void 0===t&&(t={_text:"",flush:function(){var e=this._text;return this._text="",e},set:function(e){this._text=e}}),e.nodeValue){var n=e.nodeValue.replace(/\s*\n\s*/g,"");return""!==n?t.flush()+n:""}if(e.hasChildNodes()){for(var i=e.childNodes,r="",o=0,s=i.length;o<s;o++){var a,l,c=i[o];"DIV"===c.nodeName||"P"===c.nodeName?((l=(a=i[o-1])?a.nodeName:void 0)&&"DIV"!==l&&"P"!==l&&"BR"!==l&&(""!==r&&(r+="\n"),t.flush()),r+=D(c,t),t.set("\n")):"BR"===c.nodeName?(r+=t.flush(),t.set("\n")):r+=D(c,t)}return r}return""}function N(e,t){for(var n=e?e.parentNode:void 0;n;){if(n===t)return!0;n=n.parentNode}return!1}function L(){var e,t;return-1===F&&(e=-1,"undefined"!=typeof navigator&&"Microsoft Internet Explorer"===navigator.appName&&(t=navigator.userAgent,null!=new RegExp("MSIE ([0-9]+[.0-9]+)").exec(t)&&(e=parseFloat(RegExp.$1))),F=e),F}function B(){return"undefined"!=typeof navigator&&-1!==navigator.userAgent.indexOf("Firefox")}var F=-1;function V(e,t,n,i){if(e.addEventListener)return void 0===i&&(i=!1),"mousewheel"===t&&B()&&(t="DOMMouseScroll"),e.addEventListener(t,n,i),n;if(e.attachEvent){var r=function(){return n.call(e,window.event)};return e.attachEvent("on"+t,r),r}}function $(e,t,n,i){e.removeEventListener?(void 0===i&&(i=!1),"mousewheel"===t&&B()&&(t="DOMMouseScroll"),e.removeEventListener(t,n,i)):e.detachEvent&&e.detachEvent("on"+t,n)}function H(e,t){for(var n=e.parentNode;n;){if(n===t)return!0;n=n.parentNode}return!1}function j(e){var t=[],n=0;function i(t){for(var i="";void 0!==e[n]&&e[n]!==t;)i+=e[n],n++;if(e[n]!==t)throw new Error("Invalid JSON path: unexpected end, character "+t+" expected");return i}for(;void 0!==e[n];)if("."===e[n])n++,t.push(function(){for(var t="";void 0!==e[n]&&/[\w$]/.test(e[n]);)t+=e[n],n++;if(""===t)throw new Error("Invalid JSON path: property name expected at index "+n);return t}());else{if("["!==e[n])throw new Error('Invalid JSON path: unexpected character "'+e[n]+'" at index '+n);if("'"===e[++n]||'"'===e[n]){var r=e[n];if(n++,t.push(i(r)),e[n]!==r)throw new Error("Invalid JSON path: closing quote ' expected at index "+n);n++}else{var o=i("]").trim();if(0===o.length)throw new Error("Invalid JSON path: array value expected at index "+n);o="*"===o?o:JSON.parse(o),t.push(o)}if("]"!==e[n])throw new Error("Invalid JSON path: closing bracket ] expected at index "+n);n++}return t}function W(e){return e.map((function(e){return"number"==typeof e?"["+e+"]":"string"==typeof e&&e.match(/^[A-Za-z0-9_$]+$/)?"."+e:'["'+e+'"]'})).join("")}function z(e){var t,n;return"enum"!==e.keyword||!Array.isArray(e.schema)||(n=e.schema)&&(5<(n=n.map((function(e){return JSON.stringify(e)}))).length&&(t=["("+(n.length-5)+" more...)"],(n=n.slice(0,5)).push(t)),e.message="should be equal to one of: "+n.join(", ")),"additionalProperties"===e.keyword&&(e.message="should NOT have additional property: "+e.params.additionalProperty),e}function G(e){return e&&"function"==typeof e.then&&"function"==typeof e.catch}function Z(e){return"object"===h(e)&&Array.isArray(e.path)&&"string"==typeof e.message}function K(e,t,n){var i=void 0!==n?n:0;return t.left-i>=e.left&&t.right+i<=e.right&&t.top-i>=e.top&&t.bottom+i<=e.bottom}function X(e,t,n){var i;return function(){var r=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,o)}),t),s&&e.apply(r,o)}}function Y(e,t){for(var n=t.length,i=0,r=e.length,o=t.length;t.charAt(i)===e.charAt(i)&&i<n;)i++;for(;t.charAt(o-1)===e.charAt(r-1)&&i<o&&0<r;)o--,r--;return{start:i,end:o}}function U(e){var t,n,i,r,o,s=0,a=0;return"number"==typeof e.selectionStart&&"number"==typeof e.selectionEnd?(s=e.selectionStart,a=e.selectionEnd):(n=document.selection.createRange())&&n.parentElement()===e&&(r=e.value.length,t=e.value.replace(/\r\n/g,"\n"),(i=e.createTextRange()).moveToBookmark(n.getBookmark()),(o=e.createTextRange()).collapse(!1),-1<i.compareEndPoints("StartToEnd",o)?s=a=r:(s=-i.moveStart("character",-r),s+=t.slice(0,s).split("\n").length-1,-1<i.compareEndPoints("EndToEnd",o)?a=r:(a=-i.moveEnd("character",-r),a+=t.slice(0,a).split("\n").length-1))),{startIndex:s,endIndex:a,start:l(s),end:l(a)};function l(t){var n=e.value.substring(0,t);return{row:(n.match(/\n/g)||[]).length+1,column:n.length-n.lastIndexOf("\n")}}}function J(e,t,n){if(0<t&&0<n){var i=(e.value||"").split("\n",t);t=Math.min(i.length,t),n=Math.min(i[t-1].length,n-1);var r=1===t?n:n+1;return i.slice(0,t-1).join("\n").length+r}return-1}function q(e,t){var n,i=[];if(!t||!t.length)return i;try{n=l.a.parse(e)}catch(e){return i}return t.forEach((function(e){var t=Q(j(e)),r=n.pointers[t];r&&i.push({path:e,line:r.key?r.key.line:r.value?r.value.line:0,column:r.key?r.key.column:r.value?r.value.column:0})})),i}function Q(e){return e.map((function(e){return"/"+String(e).replace(/~/g,"~0").replace(/\//g,"~1")})).join("")}function ee(e){var t=document.createElement("div");return t.style.color=e,t.style.color.split(/\s+/).join("").toLowerCase()||null}function te(e){return!!ee(e)}function ne(e,t){if(!e)return"";var n="";return e.title&&(n+=e.title),e.description&&(0<n.length&&(n+="\n"),n+=e.description),e.default&&(0<n.length&&(n+="\n\n"),n+=Object(c.c)("default",void 0,t)+"\n",n+=JSON.stringify(e.default,null,2)),Array.isArray(e.examples)&&0<e.examples.length&&(0<n.length&&(n+="\n\n"),n+=Object(c.c)("examples",void 0,t)+"\n",e.examples.forEach((function(t,i){n+=JSON.stringify(t,null,2),i!==e.examples.length-1&&(n+="\n")}))),n}function ie(e,t){for(var n=e,i=0;i<t.length&&null!=n;i++)n=n[t[i]];return n}function re(e,t){for(var n=e.replace(/ \(copy( \d+)?\)$/,""),i=n,r=1;-1!==t.indexOf(i);)i=n+" (copy"+(1<r?" "+r:"")+")",r++;return i}function oe(e,t){var n={};if(Array.isArray(e))for(var i=Math.min(e.length,1e4),r=0;r<i;r++)!function e(t,n,i,r){(Array.isArray(t)||ue(t))&&!r||(n[i||""]=!0),ue(t)&&Object.keys(t).forEach((function(o){e(t[o],n,i+"."+o,r)}))}(e[r],n,"",t);else n[""]=!0;return Object.keys(n).sort()}function se(e,t,n){var i=t&&"."!==t?j(t):[],r="desc"===n?-1:1,o=e.slice();return o.sort((function(e,t){var n=ie(e,i),o=ie(t,i);return r*(o<n?1:n<o?-1:0)})),o}function ae(e,t){var n="desc"===t?-1:1,i=Object.keys(e).sort((function(e,t){return n*r()(e,t)})),o={};return i.forEach((function(t){o[t]=e[t]})),o}function le(e){if(""===e)return"";var t=e.toLowerCase();if("null"===t)return null;if("true"===t)return!0;if("false"===t)return!1;var n=Number(e),i=parseFloat(e);return isNaN(n)||isNaN(i)?e:n}function ce(e,t){return"number"==typeof t&&9466848e5<t&&isFinite(t)&&Math.floor(t)===t&&!isNaN(new Date(t).valueOf())}function he(e){if(e<900)return e.toFixed()+" B";var t=e/1e3;if(t<900)return t.toFixed(1)+" KB";var n=t/1e3;if(n<900)return n.toFixed(1)+" MB";var i=n/1e3;return i<900?i.toFixed(1)+" GB":(i/1e3).toFixed(1)+" TB"}function de(e,t){return e.length<=t?e:e.slice(0,t)+"..."}function ue(e){return"object"===h(e)&&null!==e&&!Array.isArray(e)}function pe(e,t){return-1!==e.indexOf(t)}function ge(e,t){if(!t&&!e)return!1;if(t&&!e||!t&&e)return!0;if(t.length!==e.length)return!0;for(var n=0;n<e.length;++n){var i=function(n){if(!t.find("error"===e[n].type?function(t){return t.line===e[n].line}:function(t){return t.dataPath===e[n].dataPath&&t.schemaPath===e[n].schemaPath}))return{v:!0}}(n);if("object"===h(i))return i.v}return!1}function fe(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return l})),n.d(t,"c",(function(){return c})),n(24);var i=["en","pt-BR","zh-CN","tr","ja","fr-FR","de"],r={en:{array:"Array",auto:"Auto",appendText:"Append",appendTitle:"Append a new field with type 'auto' after this field (Ctrl+Shift+Ins)",appendSubmenuTitle:"Select the type of the field to be appended",appendTitleAuto:"Append a new field with type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascending",ascendingTitle:"Sort the childs of this ${type} in ascending order",actionsMenu:"Click to open the actions menu (Ctrl+M)",cannotParseFieldError:"Cannot parse field into JSON",cannotParseValueError:"Cannot parse value into JSON",collapseAll:"Collapse all fields",compactTitle:"Compact JSON data, remove all whitespaces (Ctrl+Shift+\\)",descending:"Descending",descendingTitle:"Sort the childs of this ${type} in descending order",drag:"Drag to move this field (Alt+Shift+Arrows)",duplicateKey:"duplicate key",duplicateText:"Duplicate",duplicateTitle:"Duplicate selected fields (Ctrl+D)",duplicateField:"Duplicate this field (Ctrl+D)",duplicateFieldError:"Duplicate field name",empty:"empty",expandAll:"Expand all fields",expandTitle:"Click to expand/collapse this field (Ctrl+E). \nCtrl+Click to expand/collapse including all childs.",formatTitle:"Format JSON data, with proper indentation and line feeds (Ctrl+\\)",insert:"Insert",insertTitle:"Insert a new field with type 'auto' before this field (Ctrl+Ins)",insertSub:"Select the type of the field to be inserted",object:"Object",ok:"Ok",redo:"Redo (Ctrl+Shift+Z)",removeText:"Remove",removeTitle:"Remove selected fields (Ctrl+Del)",removeField:"Remove this field (Ctrl+Del)",repairTitle:"Repair JSON: fix quotes and escape characters, remove comments and JSONP notation, turn JavaScript objects into JSON.",searchTitle:"Search fields and values",searchNextResultTitle:"Next result (Enter)",searchPreviousResultTitle:"Previous result (Shift + Enter)",selectNode:"Select a node...",showAll:"show all",showMore:"show more",showMoreStatus:"displaying ${visibleChilds} of ${totalChilds} items.",sort:"Sort",sortTitle:"Sort the childs of this ${type}",sortTitleShort:"Sort contents",sortFieldLabel:"Field:",sortDirectionLabel:"Direction:",sortFieldTitle:"Select the nested field by which to sort the array or object",sortAscending:"Ascending",sortAscendingTitle:"Sort the selected field in ascending order",sortDescending:"Descending",sortDescendingTitle:"Sort the selected field in descending order",string:"String",transform:"Transform",transformTitle:"Filter, sort, or transform the childs of this ${type}",transformTitleShort:"Filter, sort, or transform contents",extract:"Extract",extractTitle:"Extract this ${type}",transformQueryTitle:"Enter a JMESPath query",transformWizardLabel:"Wizard",transformWizardFilter:"Filter",transformWizardSortBy:"Sort by",transformWizardSelectFields:"Select fields",transformQueryLabel:"Query",transformPreviewLabel:"Preview",type:"Type",typeTitle:"Change the type of this field",openUrl:"Ctrl+Click or Ctrl+Enter to open url in new window",undo:"Undo last action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Field type "auto". The field type is automatically determined from the value and can be a string, number, boolean, or null.',objectType:'Field type "object". An object contains an unordered set of key/value pairs.',arrayType:'Field type "array". An array contains an ordered collection of values.',stringType:'Field type "string". Field type is not determined from the value, but always returned as string.',modeEditorTitle:"Switch Editor Mode",modeCodeText:"Code",modeCodeTitle:"Switch to code highlighter",modeFormText:"Form",modeFormTitle:"Switch to form editor",modeTextText:"Text",modeTextTitle:"Switch to plain text editor",modeTreeText:"Tree",modeTreeTitle:"Switch to tree editor",modeViewText:"View",modeViewTitle:"Switch to tree view",modePreviewText:"Preview",modePreviewTitle:"Switch to preview mode",examples:"Examples",default:"Default",containsInvalidProperties:"Contains invalid properties",containsInvalidItems:"Contains invalid items"},"zh-CN":{array:"\u6570\u7ec4",auto:"\u81ea\u52a8",appendText:"\u8ffd\u52a0",appendTitle:"\u5728\u6b64\u5b57\u6bb5\u540e\u8ffd\u52a0\u4e00\u4e2a\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",appendSubmenuTitle:"\u9009\u62e9\u8981\u8ffd\u52a0\u7684\u5b57\u6bb5\u7c7b\u578b",appendTitleAuto:"\u8ffd\u52a0\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Shift+Ins)",ascending:"\u5347\u5e8f",ascendingTitle:"\u5347\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",actionsMenu:"\u70b9\u51fb\u6253\u5f00\u52a8\u4f5c\u83dc\u5355(Ctrl+M)",cannotParseFieldError:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u89e3\u6790\u4e3aJSON",cannotParseValueError:"\u65e0\u6cd5\u5c06\u503c\u89e3\u6790\u4e3aJSON",collapseAll:"\u7f29\u8fdb\u6240\u6709\u5b57\u6bb5",compactTitle:"\u538b\u7f29JSON\u6570\u636e\uff0c\u5220\u9664\u6240\u6709\u7a7a\u683c (Ctrl+Shift+\\)",descending:"\u964d\u5e8f",descendingTitle:"\u964d\u5e8f\u6392\u5217${type}\u7684\u5b50\u8282\u70b9",drag:"\u62d6\u62fd\u79fb\u52a8\u8be5\u8282\u70b9(Alt+Shift+Arrows)",duplicateKey:"\u91cd\u590d\u952e",duplicateText:"\u590d\u5236",duplicateTitle:"\u590d\u5236\u9009\u4e2d\u5b57\u6bb5(Ctrl+D)",duplicateField:"\u590d\u5236\u8be5\u5b57\u6bb5(Ctrl+D)",duplicateFieldError:"\u91cd\u590d\u7684\u5b57\u6bb5\u540d\u79f0",empty:"\u6e05\u7a7a",expandAll:"\u5c55\u5f00\u6240\u6709\u5b57\u6bb5",expandTitle:"\u70b9\u51fb \u5c55\u5f00/\u6536\u7f29 \u8be5\u5b57\u6bb5(Ctrl+E). \nCtrl+Click \u5c55\u5f00/\u6536\u7f29 \u5305\u542b\u6240\u6709\u5b50\u8282\u70b9.",formatTitle:"\u4f7f\u7528\u9002\u5f53\u7684\u7f29\u8fdb\u548c\u6362\u884c\u7b26\u683c\u5f0f\u5316JSON\u6570\u636e (Ctrl+\\)",insert:"\u63d2\u5165",insertTitle:"\u5728\u6b64\u5b57\u6bb5\u524d\u63d2\u5165\u7c7b\u578b\u4e3a\u201cauto\u201d\u7684\u65b0\u5b57\u6bb5 (Ctrl+Ins)",insertSub:"\u9009\u62e9\u8981\u63d2\u5165\u7684\u5b57\u6bb5\u7c7b\u578b",object:"\u5bf9\u8c61",ok:"Ok",redo:"\u91cd\u505a (Ctrl+Shift+Z)",removeText:"\u79fb\u9664",removeTitle:"\u79fb\u9664\u9009\u4e2d\u5b57\u6bb5 (Ctrl+Del)",removeField:"\u79fb\u9664\u8be5\u5b57\u6bb5 (Ctrl+Del)",repairTitle:"\u4fee\u590dJSON\uff1a\u4fee\u590d\u5f15\u53f7\u548c\u8f6c\u4e49\u7b26\uff0c\u5220\u9664\u6ce8\u91ca\u548cJSONP\u8868\u793a\u6cd5\uff0c\u5c06JavaScript\u5bf9\u8c61\u8f6c\u6362\u4e3aJSON\u3002",selectNode:"\u9009\u62e9\u4e00\u4e2a\u8282\u70b9...",showAll:"\u5c55\u793a\u5168\u90e8",showMore:"\u5c55\u793a\u66f4\u591a",showMoreStatus:"\u663e\u793a${totalChilds}\u7684${visibleChilds}\u9879\u76ee.",sort:"\u6392\u5e8f",sortTitle:"\u6392\u5e8f${type}\u7684\u5b50\u8282\u70b9",sortTitleShort:"\u5185\u5bb9\u6392\u5e8f",sortFieldLabel:"\u5b57\u6bb5\uff1a",sortDirectionLabel:"\u65b9\u5411\uff1a",sortFieldTitle:"\u9009\u62e9\u7528\u4e8e\u5bf9\u6570\u7ec4\u6216\u5bf9\u8c61\u6392\u5e8f\u7684\u5d4c\u5957\u5b57\u6bb5",sortAscending:"\u5347\u5e8f\u6392\u5e8f",sortAscendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u5347\u5e8f\u6392\u5e8f",sortDescending:"\u964d\u5e8f\u6392\u5e8f",sortDescendingTitle:"\u6309\u7167\u8be5\u5b57\u6bb5\u964d\u5e8f\u6392\u5e8f",string:"\u5b57\u7b26\u4e32",transform:"\u53d8\u6362",transformTitle:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362${type}\u7684\u5b50\u8282\u70b9",transformTitleShort:"\u7b5b\u9009\uff0c\u6392\u5e8f\uff0c\u6216\u8005\u8f6c\u6362\u5185\u5bb9",extract:"\u63d0\u53d6",extractTitle:"\u63d0\u53d6\u8fd9\u4e2a ${type}",transformQueryTitle:"\u8f93\u5165JMESPath\u67e5\u8be2",transformWizardLabel:"\u5411\u5bfc",transformWizardFilter:"\u7b5b\u9009",transformWizardSortBy:"\u6392\u5e8f",transformWizardSelectFields:"\u9009\u62e9\u5b57\u6bb5",transformQueryLabel:"\u67e5\u8be2",transformPreviewLabel:"\u9884\u89c8",type:"\u7c7b\u578b",typeTitle:"\u66f4\u6539\u5b57\u6bb5\u7c7b\u578b",openUrl:"Ctrl+Click \u6216\u8005 Ctrl+Enter \u5728\u65b0\u7a97\u53e3\u6253\u5f00\u94fe\u63a5",undo:"\u64a4\u9500\u4e0a\u6b21\u52a8\u4f5c (Ctrl+Z)",validationCannotMove:"\u65e0\u6cd5\u5c06\u5b57\u6bb5\u79fb\u5165\u5176\u5b50\u8282\u70b9",autoType:'\u5b57\u6bb5\u7c7b\u578b "auto". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a \u53ef\u4ee5\u4e3a string\uff0cnumber\uff0cboolean\uff0c\u6216\u8005 null.',objectType:'\u5b57\u6bb5\u7c7b\u578b "object". \u5bf9\u8c61\u5305\u542b\u4e00\u7ec4\u65e0\u5e8f\u7684\u952e/\u503c\u5bf9.',arrayType:'\u5b57\u6bb5\u7c7b\u578b "array". \u6570\u7ec4\u5305\u542b\u503c\u7684\u6709\u5e8f\u96c6\u5408.',stringType:'\u5b57\u6bb5\u7c7b\u578b "string". \u5b57\u6bb5\u7c7b\u578b\u7531\u503c\u81ea\u52a8\u786e\u5b9a\uff0c\u4f46\u59cb\u7ec8\u4f5c\u4e3a\u5b57\u7b26\u4e32\u8fd4\u56de.',modeCodeText:"\u4ee3\u7801",modeCodeTitle:"\u5207\u6362\u81f3\u4ee3\u7801\u9ad8\u4eae",modeFormText:"\u8868\u5355",modeFormTitle:"\u5207\u6362\u81f3\u8868\u5355\u7f16\u8f91",modeTextText:"\u6587\u672c",modeTextTitle:"\u5207\u6362\u81f3\u6587\u672c\u7f16\u8f91",modeTreeText:"\u6811",modeTreeTitle:"\u5207\u6362\u81f3\u6811\u7f16\u8f91",modeViewText:"\u89c6\u56fe",modeViewTitle:"\u5207\u6362\u81f3\u6811\u89c6\u56fe",modePreviewText:"\u9884\u89c8",modePreviewTitle:"\u5207\u6362\u81f3\u9884\u89c8\u6a21\u5f0f",examples:"\u4f8b\u5b50",default:"\u7f3a\u7701",containsInvalidProperties:"\u5305\u542b\u65e0\u6548\u7684\u5c5e\u6027",containsInvalidItems:"\u5305\u542b\u65e0\u6548\u9879\u76ee"},"pt-BR":{array:"Lista",auto:"Automatico",appendText:"Adicionar",appendTitle:"Adicionar novo campo com tipo 'auto' depois deste campo (Ctrl+Shift+Ins)",appendSubmenuTitle:"Selecione o tipo do campo a ser adicionado",appendTitleAuto:"Adicionar novo campo com tipo 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendente",ascendingTitle:"Organizar filhor do tipo ${type} em crescente",actionsMenu:"Clique para abrir o menu de a\xe7\xf5es (Ctrl+M)",cannotParseFieldError:"N\xe3o \xe9 poss\xedvel analisar o campo no JSON",cannotParseValueError:"N\xe3o \xe9 poss\xedvel analisar o valor em JSON",collapseAll:"Fechar todos campos",compactTitle:"Dados JSON compactos, remova todos os espa\xe7os em branco (Ctrl+Shift+\\)",descending:"Descendente",descendingTitle:"Organizar o filhos do tipo ${type} em decrescente",duplicateKey:"chave duplicada",drag:"Arraste para mover este campo (Alt+Shift+Arrows)",duplicateText:"Duplicar",duplicateTitle:"Duplicar campos selecionados (Ctrl+D)",duplicateField:"Duplicar este campo (Ctrl+D)",duplicateFieldError:"Nome do campo duplicado",empty:"vazio",expandAll:"Expandir todos campos",expandTitle:"Clique para expandir/encolher este campo (Ctrl+E). \nCtrl+Click para expandir/encolher incluindo todos os filhos.",formatTitle:"Formate dados JSON, com recuo e feeds de linha adequados (Ctrl+\\)",insert:"Inserir",insertTitle:"Inserir um novo campo do tipo 'auto' antes deste campo (Ctrl+Ins)",insertSub:"Selecionar o tipo de campo a ser inserido",object:"Objeto",ok:"Ok",redo:"Refazer (Ctrl+Shift+Z)",removeText:"Remover",removeTitle:"Remover campos selecionados (Ctrl+Del)",removeField:"Remover este campo (Ctrl+Del)",repairTitle:"Repare JSON: corrija aspas e caracteres de escape, remova coment\xe1rios e nota\xe7\xe3o JSONP, transforme objetos JavaScript em JSON.",selectNode:"Selecione um n\xf3dulo...",showAll:"mostrar todos",showMore:"mostrar mais",showMoreStatus:"exibindo ${visibleChilds} de ${totalChilds} itens.",sort:"Organizar",sortTitle:"Organizar os filhos deste ${type}",sortTitleShort:"Organizar os filhos",sortFieldLabel:"Campo:",sortDirectionLabel:"Dire\xe7\xe3o:",sortFieldTitle:"Selecione um campo filho pelo qual ordenar o array ou objeto",sortAscending:"Ascendente",sortAscendingTitle:"Ordenar o campo selecionado por ordem ascendente",sortDescending:"Descendente",sortDescendingTitle:"Ordenar o campo selecionado por ordem descendente",string:"Texto",transform:"Transformar",transformTitle:"Filtrar, ordenar ou transformar os filhos deste ${type}",transformTitleShort:"Filtrar, ordenar ou transformar conte\xfados",transformQueryTitle:"Insira uma express\xe3o JMESPath",transformWizardLabel:"Assistente",transformWizardFilter:"Filtro",transformWizardSortBy:"Ordenar por",transformWizardSelectFields:"Selecionar campos",transformQueryLabel:"Express\xe3o",transformPreviewLabel:"Visualizar",type:"Tipo",typeTitle:"Mudar o tipo deste campo",openUrl:"Ctrl+Click ou Ctrl+Enter para abrir link em nova janela",undo:"Desfazer \xfaltimo a\xe7\xe3o (Ctrl+Z)",validationCannotMove:"N\xe3o pode mover um campo como filho dele mesmo",autoType:'Campo do tipo "auto". O tipo do campo \xe9 determinao automaticamente a partir do seu valor e pode ser texto, n\xfamero, verdade/falso ou nulo.',objectType:'Campo do tipo "objeto". Um objeto cont\xe9m uma lista de pares com chave e valor.',arrayType:'Campo do tipo "lista". Uma lista contem uma cole\xe7\xe3o de valores ordenados.',stringType:'Campo do tipo "string". Campo do tipo nao \xe9 determinado atrav\xe9s do seu valor, mas sempre retornara um texto.',examples:"Exemplos",default:"Revelia",containsInvalidProperties:"Cont\xe9m propriedades inv\xe1lidas",containsInvalidItems:"Cont\xe9m itens inv\xe1lidos"},tr:{array:"Dizin",auto:"Otomatik",appendText:"Ekle",appendTitle:"Bu alan\u0131n alt\u0131na 'otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",appendSubmenuTitle:"Eklenecek alan\u0131n tipini se\xe7",appendTitleAuto:"'Otomatik' tipinde yeni bir alan ekle (Ctrl+Shift+Ins)",ascending:"Artan",ascendingTitle:"${type}'\u0131n alt tiplerini artan d\xfczende s\u0131rala",actionsMenu:"Aksiyon men\xfcs\xfcn\xfc a\xe7mak i\xe7in t\u0131klay\u0131n (Ctrl+M)",collapseAll:"T\xfcm alanlar\u0131 kapat",descending:"Azalan",descendingTitle:"${type}'\u0131n alt tiplerini azalan d\xfczende s\u0131rala",drag:"Bu alan\u0131 ta\u015f\u0131mak i\xe7in s\xfcr\xfckleyin (Alt+Shift+Arrows)",duplicateKey:"Var olan anahtar",duplicateText:"A\u015fa\u011f\u0131ya kopyala",duplicateTitle:"Se\xe7ili alanlardan bir daha olu\u015ftur (Ctrl+D)",duplicateField:"Bu alandan bir daha olu\u015ftur (Ctrl+D)",duplicateFieldError:"Duplicate field name",cannotParseFieldError:"Alan JSON'a ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",cannotParseValueError:"JSON'a de\u011fer ayr\u0131\u015ft\u0131r\u0131lam\u0131yor",empty:"bo\u015f",expandAll:"T\xfcm alanlar\u0131 a\xe7",expandTitle:"Bu alan\u0131 a\xe7mak/kapatmak i\xe7in t\u0131kla (Ctrl+E). \nAlt alanlarda dahil t\xfcm alanlar\u0131 a\xe7mak i\xe7in Ctrl+Click ",insert:"Ekle",insertTitle:"Bu alan\u0131n \xfcst\xfcne 'otomatik' tipinde yeni bir alan ekle (Ctrl+Ins)",insertSub:"Araya eklenecek alan\u0131n tipini se\xe7",object:"Nesne",ok:"Tamam",redo:"Yeniden yap (Ctrl+Shift+Z)",removeText:"Kald\u0131r",removeTitle:"Se\xe7ilen alanlar\u0131 kald\u0131r (Ctrl+Del)",removeField:"Bu alan\u0131 kald\u0131r (Ctrl+Del)",selectNode:"Bir nesne se\xe7...",showAll:"t\xfcm\xfcn\xfc g\xf6ster",showMore:"daha fazla g\xf6ster",showMoreStatus:"${totalChilds} alan\u0131n ${visibleChilds} alt alanlar\u0131 g\xf6steriliyor",sort:"S\u0131rala",sortTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 s\u0131rala",sortTitleShort:"\u0130\xe7erikleri s\u0131rala",sortFieldLabel:"Alan:",sortDirectionLabel:"Y\xf6n:",sortFieldTitle:"Diziyi veya nesneyi s\u0131ralamak i\xe7in i\xe7 i\xe7e ge\xe7mi\u015f alan\u0131 se\xe7in",sortAscending:"Artan",sortAscendingTitle:"Se\xe7ili alan\u0131 artan d\xfczende s\u0131rala",sortDescending:"Azalan",sortDescendingTitle:"Se\xe7ili alan\u0131 azalan d\xfczende s\u0131rala",string:"Karakter Dizisi",transform:"D\xf6n\xfc\u015ft\xfcr",transformTitle:"${type}'\u0131n alt alanlar\u0131n\u0131 filtrele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformTitleShort:"\u0130\xe7erikleri filterele, s\u0131rala veya d\xf6n\xfc\u015ft\xfcr",transformQueryTitle:"JMESPath sorgusu gir",transformWizardLabel:"Sihirbaz",transformWizardFilter:"Filtre",transformWizardSortBy:"S\u0131rala",transformWizardSelectFields:"Alanlar\u0131 se\xe7",transformQueryLabel:"Sorgu",transformPreviewLabel:"\xd6nizleme",type:"Tip",typeTitle:"Bu alan\u0131n tipini de\u011fi\u015ftir",openUrl:"URL'i yeni bir pencerede a\xe7mak i\xe7in Ctrl+Click veya Ctrl+Enter",undo:"Son de\u011fi\u015fikli\u011fi geri al (Ctrl+Z)",validationCannotMove:"Alt alan olarak ta\u015f\u0131nam\u0131yor",autoType:'Alan tipi "otomatik". Alan t\xfcr\xfc otomatik olarak de\u011ferden belirlenirve bir dize, say\u0131, boolean veya null olabilir.',objectType:'Alan tipi "nesne". Bir nesne, s\u0131ralanmam\u0131\u015f bir anahtar / de\u011fer \xe7ifti k\xfcmesi i\xe7erir.',arrayType:'Alan tipi "dizi". Bir dizi, d\xfczenli de\u011ferler koleksiyonu i\xe7erir.',stringType:'Alan tipi "karakter dizisi". Alan t\xfcr\xfc de\u011ferden belirlenmez,ancak her zaman karakter dizisi olarak d\xf6nd\xfcr\xfcl\xfcr.',modeCodeText:"Kod",modeCodeTitle:"Kod vurgulay\u0131c\u0131ya ge\xe7",modeFormText:"Form",modeFormTitle:"Form d\xfczenleyiciye ge\xe7",modeTextText:"Metin",modeTextTitle:"D\xfcz metin d\xfczenleyiciye ge\xe7",modeTreeText:"A\u011fa\xe7",modeTreeTitle:"A\u011fa\xe7 d\xfczenleyiciye ge\xe7",modeViewText:"G\xf6r\xfcn\xfcm",modeViewTitle:"A\u011fa\xe7 g\xf6r\xfcn\xfcm\xfcne ge\xe7",examples:"\xd6rnekler",default:"Varsay\u0131lan",containsInvalidProperties:"Ge\xe7ersiz \xf6zellikler i\xe7eriyor",containsInvalidItems:"Ge\xe7ersiz \xf6\u011feler i\xe7eriyor"},ja:{array:"\u914d\u5217",auto:"\u30aa\u30fc\u30c8",appendText:"\u8ffd\u52a0",appendTitle:'\u6b21\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306b"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',appendSubmenuTitle:"\u8ffd\u52a0\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e\u3057\u3066\u304f\u3060\u3055\u3044",appendTitleAuto:'"\u30aa\u30fc\u30c8"\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8ffd\u52a0 (Ctrl+Shift+Ins)',ascending:"\u6607\u9806",ascendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u6607\u9806\u306b\u4e26\u3079\u66ff\u3048",actionsMenu:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a2\u30af\u30b7\u30e7\u30f3\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304f (Ctrl+M)",collapseAll:"\u3059\u3079\u3066\u3092\u6298\u308a\u305f\u305f\u3080",descending:"\u964d\u9806",descendingTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u964d\u9806\u306b\u4e26\u3079\u66ff\u3048",drag:"\u30c9\u30e9\u30c3\u30b0\u3057\u3066\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u79fb\u52d5 (Alt+Shift+Arrows)",duplicateKey:"\u8907\u88fd\u30ad\u30fc",duplicateText:"\u8907\u88fd",duplicateTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u8907\u88fd (Ctrl+D)",duplicateFieldError:"\u30d5\u30a3\u30fc\u30eb\u30c9\u540d\u304c\u91cd\u8907\u3057\u3066\u3044\u307e\u3059",cannotParseFieldError:"JSON\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",cannotParseValueError:"JSON\u306e\u5024\u3092\u89e3\u6790\u3067\u304d\u307e\u305b\u3093",empty:"\u7a7a",expandAll:"\u3059\u3079\u3066\u3092\u5c55\u958b",expandTitle:"\u30af\u30ea\u30c3\u30af\u3057\u3066\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080 (Ctrl+E). \nCtrl+Click \u3067\u3059\u3079\u3066\u306e\u5b50\u8981\u7d20\u3092\u5c55\u958b/\u6298\u308a\u305f\u305f\u3080",insert:"\u633f\u5165",insertTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u524d\u306b\u65b0\u3057\u3044\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u633f\u5165 (Ctrl+Ins)",insertSub:"\u633f\u5165\u3059\u308b\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u9078\u629e",object:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8",ok:"\u5b9f\u884c",redo:"\u3084\u308a\u76f4\u3059 (Ctrl+Shift+Z)",removeText:"\u524a\u9664",removeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",removeField:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u524a\u9664 (Ctrl+Del)",selectNode:"\u30ce\u30fc\u30c9\u3092\u9078\u629e...",showAll:"\u3059\u3079\u3066\u3092\u8868\u793a",showMore:"\u3082\u3063\u3068\u898b\u308b",showMoreStatus:"${totalChilds}\u500b\u306e\u30a2\u30a4\u30c6\u30e0\u306e\u3046\u3061 ${visibleChilds}\u500b\u3092\u8868\u793a\u3057\u3066\u3044\u307e\u3059\u3002",sort:"\u4e26\u3079\u66ff\u3048",sortTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u4e26\u3079\u66ff\u3048",sortTitleShort:"\u4e26\u3079\u66ff\u3048",sortFieldLabel:"\u30d5\u30a3\u30fc\u30eb\u30c9:",sortDirectionLabel:"\u9806\u5e8f:",sortFieldTitle:"\u914d\u5217\u307e\u305f\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4e26\u3073\u66ff\u3048\u308b\u305f\u3081\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",sortAscending:"\u6607\u9806",sortAscendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u6607\u9806\u306b\u4e26\u3073\u66ff\u3048",sortDescending:"\u964d\u9806",sortDescendingTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u964d\u9806\u306b\u4e26\u3073\u66ff\u3048",string:"\u6587\u5b57\u5217",transform:"\u5909\u63db",transformTitle:"${type}\u306e\u5b50\u8981\u7d20\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",transformTitleShort:"\u5185\u5bb9\u3092\u30d5\u30a3\u30eb\u30bf\u30fc\u30fb\u4e26\u3073\u66ff\u3048\u30fb\u5909\u63db\u3059\u308b",extract:"\u62bd\u51fa",extractTitle:"${type}\u3092\u62bd\u51fa",transformQueryTitle:"JMESPath\u30af\u30a8\u30ea\u3092\u5165\u529b",transformWizardLabel:"\u30a6\u30a3\u30b6\u30fc\u30c9",transformWizardFilter:"\u30d5\u30a3\u30eb\u30bf\u30fc",transformWizardSortBy:"\u4e26\u3073\u66ff\u3048",transformWizardSelectFields:"\u30d5\u30a3\u30fc\u30eb\u30c9\u3092\u9078\u629e",transformQueryLabel:"\u30af\u30a8\u30ea",transformPreviewLabel:"\u30d7\u30ec\u30d3\u30e5\u30fc",type:"\u578b",typeTitle:"\u9078\u629e\u4e2d\u306e\u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u3092\u5909\u66f4",openUrl:"Ctrl+Click \u307e\u305f\u306f Ctrl+Enter \u3067 \u65b0\u898f\u30a6\u30a3\u30f3\u30c9\u30a6\u3067URL\u3092\u958b\u304f",undo:"\u5143\u306b\u623b\u3059 (Ctrl+Z)",validationCannotMove:"\u5b50\u8981\u7d20\u306b\u79fb\u52d5\u3067\u304d\u307e\u305b\u3093 ",autoType:"\u30aa\u30fc\u30c8\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u306e\u578b\u306f\u5024\u304b\u3089\u81ea\u52d5\u7684\u306b\u6c7a\u5b9a\u3055\u308c\u307e\u3059\u3002 (\u6587\u5b57\u5217\u30fb\u6570\u5024\u30fb\u30d6\u30fc\u30eb\u30fbnull)",objectType:"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\uff1a \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u306a\u3044\u30ad\u30fc\u3068\u5024\u306e\u30da\u30a2\u7d44\u307f\u5408\u308f\u305b\u3067\u3059\u3002",arrayType:"\u914d\u5217\uff1a \u914d\u5217\u306f\u9806\u5e8f\u304c\u6c7a\u307e\u3063\u3066\u3044\u308b\u5024\u306e\u96c6\u5408\u4f53\u3067\u3059\u3002",stringType:"\u6587\u5b57\u5217\uff1a \u30d5\u30a3\u30fc\u30eb\u30c9\u578b\u306f\u5024\u304b\u3089\u6c7a\u5b9a\u3055\u308c\u307e\u305b\u3093\u304c\u3001\u5e38\u306b\u6587\u5b57\u5217\u3068\u3057\u3066\u8fd4\u3055\u308c\u307e\u3059\u3002",modeCodeText:"\u30b3\u30fc\u30c9\u30e2\u30fc\u30c9",modeCodeTitle:"\u30cf\u30a4\u30e9\u30a4\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeFormText:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9",modeFormTitle:"\u30d5\u30a9\u30fc\u30e0\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTextText:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9",modeTextTitle:"\u30c6\u30ad\u30b9\u30c8\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeTreeText:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9",modeTreeTitle:"\u30c4\u30ea\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modeViewText:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9",modeViewTitle:"\u30d3\u30e5\u30fc\u30e2\u30fc\u30c9\u306b\u5207\u308a\u66ff\u3048",modePreviewText:"\u30d7\u30ec\u30d3\u30e5\u30fc",modePreviewTitle:"\u30d7\u30ec\u30d3\u30e5\u30fc\u306b\u5207\u308a\u66ff\u3048",examples:"\u4f8b",default:"\u30c7\u30d5\u30a9\u30eb\u30c8",containsInvalidProperties:"\u7121\u52b9\u306a\u30d7\u30ed\u30d1\u30c6\u30a3\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059",containsInvalidItems:"\u7121\u52b9\u306a\u30a2\u30a4\u30c6\u30e0\u304c\u542b\u307e\u308c\u3066\u3044\u307e\u3059"},"fr-FR":{array:"Liste",auto:"Auto",appendText:"Ajouter",appendTitle:"Ajouter un champ de type 'auto' apr\xe8s ce champ (Ctrl+Shift+Ins)",appendSubmenuTitle:"S\xe9lectionner le type du champ \xe0 ajouter",appendTitleAuto:"Ajouter un champ de type 'auto' (Ctrl+Shift+Ins)",ascending:"Ascendant",ascendingTitle:"Trier les enfants de ce ${type} par ordre ascendant",actionsMenu:"Ouvrir le menu des actions (Ctrl+M)",collapseAll:"Regrouper",descending:"Descendant",descendingTitle:"Trier les enfants de ce ${type} par ordre descendant",drag:"D\xe9placer (Alt+Shift+Arrows)",duplicateKey:"Dupliquer la cl\xe9",duplicateText:"Dupliquer",duplicateTitle:"Dupliquer les champs s\xe9lectionn\xe9s (Ctrl+D)",duplicateField:"Dupliquer ce champ (Ctrl+D)",duplicateFieldError:"Dupliquer le nom de champ",cannotParseFieldError:"Champ impossible \xe0 parser en JSON",cannotParseValueError:"Valeur impossible \xe0 parser en JSON",empty:"vide",expandAll:"\xc9tendre",expandTitle:"\xc9tendre/regrouper ce champ (Ctrl+E). \nCtrl+Click pour \xe9tendre/regrouper avec tous les champs.",insert:"Ins\xe9rer",insertTitle:"Ins\xe9rer un champ de type 'auto' avant ce champ (Ctrl+Ins)",insertSub:"S\xe9lectionner le type de champ \xe0 ins\xe9rer",object:"Objet",ok:"Ok",redo:"Rejouer (Ctrl+Shift+Z)",removeText:"Supprimer",removeTitle:"Supprimer les champs s\xe9lectionn\xe9s (Ctrl+Del)",removeField:"Supprimer ce champ (Ctrl+Del)",searchTitle:"Rechercher champs et valeurs",searchNextResultTitle:"R\xe9sultat suivant (Enter)",searchPreviousResultTitle:"R\xe9sultat pr\xe9c\xe9dent (Shift + Enter)",selectNode:"S\xe9lectionner un n\u0153ud...",showAll:"voir tout",showMore:"voir plus",showMoreStatus:"${visibleChilds} \xe9l\xe9ments affich\xe9s de ${totalChilds}.",sort:"Trier",sortTitle:"Trier les champs de ce ${type}",sortTitleShort:"Trier",sortFieldLabel:"Champ:",sortDirectionLabel:"Direction:",sortFieldTitle:"S\xe9lectionner les champs permettant de trier les listes et objet",sortAscending:"Ascendant",sortAscendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre ascendant",sortDescending:"Descendant",sortDescendingTitle:"Trier les champs s\xe9lectionn\xe9s par ordre descendant",string:"Cha\xeene",transform:"Transformer",transformTitle:"Filtrer, trier, or transformer les enfants de ce ${type}",transformTitleShort:"Filtrer, trier ou transformer le contenu",extract:"Extraire",extractTitle:"Extraire ce ${type}",transformQueryTitle:"Saisir une requ\xeate JMESPath",transformWizardLabel:"Assistant",transformWizardFilter:"Filtrer",transformWizardSortBy:"Trier par",transformWizardSelectFields:"S\xe9lectionner les champs",transformQueryLabel:"Requ\xeate",transformPreviewLabel:"Pr\xe9visualisation",type:"Type",typeTitle:"Changer le type de ce champ",openUrl:"Ctrl+Click ou Ctrl+Enter pour ouvrir l'url dans une autre fen\xeatre",undo:"Annuler la derni\xe8re action (Ctrl+Z)",validationCannotMove:"Cannot move a field into a child of itself",autoType:'Champe de type "auto". Ce type de champ est automatiquement d\xe9termin\xe9 en fonction de la valeur et peut \xeatre de type "cha\xeene", "nombre", "bool\xe9en" ou null.',objectType:'Champ de type "objet". Un objet contient un ensemble non ordonn\xe9 de paires cl\xe9/valeur.',arrayType:'Champ de type "liste". Une liste contient une collection ordonn\xe9e de valeurs.',stringType:'Champ de type "cha\xeene". Ce type de champ n\'est pas d\xe9termin\xe9 en fonction de la valeur, mais retourne syst\xe9matiquement une cha\xeene de caract\xe8res.',modeEditorTitle:"Changer mode d'\xe9dition",modeCodeText:"Code",modeCodeTitle:"Activer surlignage code",modeFormText:"Formulaire",modeFormTitle:"Activer formulaire",modeTextText:"Texte",modeTextTitle:"Activer \xe9diteur texte",modeTreeText:"Arbre",modeTreeTitle:"Activer \xe9diteur arbre",modeViewText:"Lecture seule",modeViewTitle:"Activer vue arbre",modePreviewText:"Pr\xe9visualisation",modePreviewTitle:"Activer mode pr\xe9visualiser",examples:"Exemples",default:"D\xe9faut",containsInvalidProperties:"Contient des propri\xe9t\xe9s non valides",containsInvalidItems:"Contient des \xe9l\xe9ments invalides"},de:{array:"Auflistung",auto:"Auto",appendText:"anh\xe4ngen",appendTitle:"F\xfcgen Sie nach diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Umschalt+Ein)",appendSubmenuTitle:"W\xe4hlen Sie den Typ des neuen Feldes",appendTitleAuto:"Ein neues Feld vom Typ 'auto' hinzuf\xfcgen (Strg+Umschalt+Ein)",ascending:"Aufsteigend",ascendingTitle:"Sortieren Sie die Elemente dieses ${type} in aufsteigender Reihenfolge",actionsMenu:"Klicken Sie zum \xd6ffnen des Aktionsmen\xfcs (Strg+M)",cannotParseFieldError:"Feld kann nicht in JSON geparst werden",cannotParseValueError:"Wert kann nicht in JSON geparst werden",collapseAll:"Alle Felder zuklappen",compactTitle:"JSON-Daten verdichten, alle Leerzeichen entfernen (Strg+Umschalt+\\)",descending:"Absteigend",descendingTitle:"Sortieren Sie die Elemente dieses ${type} in absteigender Reihenfolge",drag:"Ziehen, um dieses Feld zu verschieben (Alt+Umschalt+Pfeile)",duplicateKey:"Doppelter Schl\xfcssel",duplicateText:"Duplikat",duplicateTitle:"Ausgew\xe4hlte Felder duplizieren (Strg+D)",duplicateField:"Dieses Feld duplizieren (Strg+D)",duplicateFieldError:"Doppelter Feldname",empty:"leer",expandAll:"Alle Felder anzeigen",expandTitle:"Klicken Sie, um dieses Feld zu erweitern/zu kollabieren (Strg+E). \nStrg+Klicken Sie, um dieses Feld einschlie\xdflich aller Elemente zu erweitern/zu kollabieren.",formatTitle:"JSON-Daten mit korrekter Einr\xfcckung und Zeilenvorsch\xfcben formatieren (Strg+\\)",insert:"einf\xfcgen",insertTitle:"F\xfcgen Sie vor diesem Feld ein neues Feld mit dem Typ 'auto' ein (Strg+Einfg)",insertSub:"W\xe4hlen Sie den Typ des neuen Feldes",object:"Objekt",ok:"Ok",redo:"Wiederholen (Strg+Umschalt+Z)",removeText:"entfernen",removeTitle:"Ausgew\xe4hlte Felder entfernen (Strg+Entf)",removeField:"Dieses Feld entfernen (Strg+Entf)",repairTitle:"JSON reparieren: Anf\xfchrungszeichen und Escape-Zeichen korrigieren, Kommentare und JSONP-Notation entfernen, JavaScript-Objekte in JSON umwandeln.",searchTitle:"Suchfelder und Werte",searchNextResultTitle:"N\xe4chstes Ergebnis (Enter)",searchPreviousResultTitle:"Vorheriges Ergebnis (Umschalt + Eingabe)",selectNode:"W\xe4hlen Sie einen Knoten aus...",showAll:"alle anzeigen",showMore:"mehr anzeigen",showMoreStatus:"Anzeige von ${visibleChilds} von ${totalChilds}-Elementen.",sort:"Sortieren",sortTitle:"Sortieren Sie die Elemente dieses ${type}",sortTitleShort:"Inhalt sortieren",sortFieldLabel:"Feld:",sortDirectionLabel:"Richtung:",sortFieldTitle:"W\xe4hlen Sie das verschachtelte Feld, nach dem das Array oder Objekt sortiert werden soll.",sortAscending:"Aufsteigend",sortAscendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in aufsteigender Reihenfolge",sortDescending:"Absteigend",sortDescendingTitle:"Sortieren Sie das ausgew\xe4hlte Feld in absteigender Reihenfolge",string:"Zeichenfolge",transform:"Verwandeln",transformTitle:"Die Elemente dieses ${type} filtern, sortieren oder transformieren",transformTitleShort:"Inhalte filtern, sortieren oder transformieren",extract:"Auszug",extractTitle:"Extrahieren Sie diesen ${type}",transformQueryTitle:"Eine JMESPath-Abfrage eingeben",transformWizardLabel:"Zauberer",transformWizardFilter:"Filter",transformWizardSortBy:"Sortieren nach",transformWizardSelectFields:"Felder ausw\xe4hlen",transformQueryLabel:"Anfrage",transformPreviewLabel:"Vorschau",type:"Geben Sie  ein.",typeTitle:"\xc4ndern Sie den Typ dieses Feldes",openUrl:"Strg+Klicken oder Strg+Eingabe, um die URL in einem neuen Fenster zu \xf6ffnen",undo:"Letzte Aktion r\xfcckg\xe4ngig machen (Strg+Z)",validationCannotMove:"Kann ein Feld nicht in ein Kind seiner selbst verschieben",autoType:'Feldtyp "auto". Der Feldtyp wird automatisch aus dem Wert bestimmt und kann ein String, eine Zahl, boolesch oder null sein.',objectType:'Feldtyp "Objekt". Ein Objekt enth\xe4lt eine ungeordnete Menge von Schl\xfcssel/Wert-Paaren.',arrayType:'Feldtyp "Array". Ein Array enth\xe4lt eine geordnete Sammlung von Werten.',stringType:'Feldtyp "Zeichenfolge". Der Feldtyp wird nicht aus dem Wert bestimmt, sondern immer als Zeichenfolge zur\xfcckgegeben.',modeEditorTitle:"Editor-Modus umschalten",modeCodeText:"Code",modeCodeTitle:"Umschalten auf Code-Highlighter",modeFormText:"Formular",modeFormTitle:"Zum Formular-Editor wechseln",modeTextText:"Text",modeTextTitle:"Zum Editor f\xfcr einfachen Text wechseln",modeTreeText:"Baum",modeTreeTitle:"Zum Baum-Editor wechseln",modeViewText:"Siehe",modeViewTitle:"Zur Baumansicht wechseln",modePreviewText:"Vorschau",modePreviewTitle:"In den Vorschau-Modus wechseln",examples:"Beispiele",default:"Standardm\xe4\xdfig",containsInvalidProperties:"Enth\xe4lt ung\xfcltige Eigenschaften",containsInvalidItems:"Enth\xe4lt ung\xfcltige Elemente"}},o="undefined"!=typeof navigator?navigator.language||navigator.userLanguage:void 0,s=i.find((function(e){return e===o}))||"en";function a(e){var t;e&&((t=i.find((function(t){return t===e})))?s=t:console.error("Language not found"))}function l(e){if(e)for(var t in e)!function(t){i.find((function(e){return e===t}))||i.push(t),r[t]=Object.assign({},r.en,r[t],e[t])}(t)}function c(e,t,n){var i=r[n=n||s][e]||r.en[e]||e;if(t)for(var o in t)i=i.replace("${"+o+"}",t[o]);return i}},function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"d",(function(){return r})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return s}));var i=document.body,r=10485760,o=2e4,s=2147483648},function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var i=n(12),r=n(0),o=n(1),s=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.dom={};var i=this,r=this.dom;this.anchor=void 0,this.items=t,this.eventListeners={},this.selection=void 0,this.onClose=n?n.close:void 0;var s=document.createElement("div");s.className="jsoneditor-contextmenu-root",r.root=s;var a=document.createElement("div");a.className="jsoneditor-contextmenu",r.menu=a,s.appendChild(a);var l=document.createElement("ul");l.className="jsoneditor-menu",a.appendChild(l),r.list=l,r.items=[];var c=document.createElement("button");c.type="button",r.focusButton=c;var h=document.createElement("li");h.style.overflow="hidden",h.style.height="0",h.appendChild(c),l.appendChild(h),function e(t,n,r){r.forEach((function(r){var s,a,l,c,h,d,u,p,g,f,m,v,y,b,C;"separator"===r.type?((s=document.createElement("div")).className="jsoneditor-separator",(a=document.createElement("li")).appendChild(s),t.appendChild(a)):(l={},c=document.createElement("li"),t.appendChild(c),(h=document.createElement("button")).type="button",h.className=r.className,l.button=h,r.title&&(h.title=r.title),r.click&&(h.onclick=function(e){e.preventDefault(),i.hide(),r.click()}),c.appendChild(h),r.submenu?((d=document.createElement("div")).className="jsoneditor-icon",h.appendChild(d),(u=document.createElement("div")).className="jsoneditor-text"+(r.click?"":" jsoneditor-right-margin"),u.appendChild(document.createTextNode(r.text)),h.appendChild(u),(p=r.click?(h.className+=" jsoneditor-default",(g=document.createElement("button")).type="button",(l.buttonExpand=g).className="jsoneditor-expand",(f=document.createElement("div")).className="jsoneditor-expand",g.appendChild(f),c.appendChild(g),r.submenuTitle&&(g.title=r.submenuTitle),g):((m=document.createElement("div")).className="jsoneditor-expand",h.appendChild(m),h)).onclick=function(e){e.preventDefault(),i._onExpandItem(l),p.focus()},l.subItems=v=[],y=document.createElement("ul"),(l.ul=y).className="jsoneditor-menu",y.style.height="0",c.appendChild(y),e(y,v,r.submenu)):((b=document.createElement("div")).className="jsoneditor-icon",h.appendChild(b),(C=document.createElement("div")).className="jsoneditor-text",C.appendChild(document.createTextNode(Object(o.c)(r.text))),h.appendChild(C)),n.push(l))}))}(l,this.dom.items,t),this.maxHeight=0,t.forEach((function(e){i.maxHeight=Math.max(i.maxHeight,24*(t.length+(e.submenu?e.submenu.length:0)))}))}var t;return(t=[{key:"_getVisibleButtons",value:function(){var e=[],t=this;return this.dom.items.forEach((function(n){e.push(n.button),n.buttonExpand&&e.push(n.buttonExpand),n.subItems&&n===t.expandedItem&&n.subItems.forEach((function(t){e.push(t.button),t.buttonExpand&&e.push(t.buttonExpand)}))})),e}},{key:"show",value:function(t,n,o){this.hide();var s=!0,a=t.parentNode,l=t.getBoundingClientRect(),c=a.getBoundingClientRect(),h=n.getBoundingClientRect(),d=this;this.dom.absoluteAnchor=Object(i.a)(t,n,(function(){d.hide()})),l.bottom+this.maxHeight<h.bottom||l.top-this.maxHeight>h.top&&(s=!1);var u,p=o?0:l.top-c.top;s?(u=t.offsetHeight,this.dom.menu.style.left="0",this.dom.menu.style.top=p+u+"px",this.dom.menu.style.bottom=""):(this.dom.menu.style.left="0",this.dom.menu.style.top="",this.dom.menu.style.bottom="0px"),this.dom.absoluteAnchor.appendChild(this.dom.root),this.selection=Object(r.getSelection)(),this.anchor=t,setTimeout((function(){d.dom.focusButton.focus()}),0),e.visibleMenu&&e.visibleMenu.hide(),e.visibleMenu=this}},{key:"hide",value:function(){this.dom.absoluteAnchor&&(this.dom.absoluteAnchor.destroy(),delete this.dom.absoluteAnchor),this.dom.root.parentNode&&(this.dom.root.parentNode.removeChild(this.dom.root),this.onClose&&this.onClose()),e.visibleMenu===this&&(e.visibleMenu=void 0)}},{key:"_onExpandItem",value:function(e){var t,n=this,i=e===this.expandedItem,o=this.expandedItem;o&&(o.ul.style.height="0",o.ul.style.padding="",setTimeout((function(){n.expandedItem!==o&&(o.ul.style.display="",Object(r.removeClassName)(o.ul.parentNode,"jsoneditor-selected"))}),300),this.expandedItem=void 0),i||((t=e.ul).style.display="block",setTimeout((function(){if(n.expandedItem===e){for(var i=0,r=0;r<t.childNodes.length;r++)i+=t.childNodes[r].clientHeight;t.style.height=i+"px",t.style.padding="5px 10px"}}),0),Object(r.addClassName)(t.parentNode,"jsoneditor-selected"),this.expandedItem=e)}},{key:"_onKeyDown",value:function(e){var t,n,i,o,s=e.target,a=e.which,l=!1;27===a?(this.selection&&Object(r.setSelection)(this.selection),this.anchor&&this.anchor.focus(),this.hide(),l=!0):9===a?e.shiftKey?0===(n=(t=this._getVisibleButtons()).indexOf(s))&&(t[t.length-1].focus(),l=!0):(n=(t=this._getVisibleButtons()).indexOf(s))===t.length-1&&(t[0].focus(),l=!0):37===a?("jsoneditor-expand"===s.className&&(n=(t=this._getVisibleButtons()).indexOf(s),(i=t[n-1])&&i.focus()),l=!0):38===a?(n=(t=this._getVisibleButtons()).indexOf(s),(i=t[n-1])&&"jsoneditor-expand"===i.className&&(i=t[n-2]),(i=i||t[t.length-1])&&i.focus(),l=!0):39===a?(n=(t=this._getVisibleButtons()).indexOf(s),(o=t[n+1])&&"jsoneditor-expand"===o.className&&o.focus(),l=!0):40===a&&(n=(t=this._getVisibleButtons()).indexOf(s),(o=t[n+1])&&"jsoneditor-expand"===o.className&&(o=t[n+2]),(o=o||t[0])&&(o.focus(),l=!0),l=!0),l&&(e.stopPropagation(),e.preventDefault())}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();s.visibleMenu=void 0},function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return a}));var i=n(34),r=n.n(i),o=n(0);function s(e,t){var n,i,r=t.sort,s=t.filter,a=t.projection,l="";return s?(n="@"!==s.field?["0"].concat(Object(o.parsePath)("."+s.field)):["0"],i="string"==typeof Object(o.get)(e,n)?s.value:Object(o.parseString)(s.value),l+="[? "+s.field+" "+s.relation+" `"+JSON.stringify(i)+"`]"):l+=Array.isArray(e)?"[*]":"@",r&&(l+="desc"===r.direction?" | reverse(sort_by(@, &"+r.field+"))":" | sort_by(@, &"+r.field+")"),a&&("]"!==l[l.length-1]&&(l+=" | [*]"),1===a.fields.length?l+="."+a.fields[0]:1<a.fields.length&&(l+=".{"+a.fields.map((function(e){var t=e.split(".");return t[t.length-1]+": "+e})).join(", ")+"}")),l}function a(e,t){return r.a.search(e,t)}},function(e,t,n){"use strict";n.r(t),n.d(t,"showSortModal",(function(){return a}));var i=n(14),r=n.n(i),o=n(1),s=n(0);function a(e,t,n,i){var a=Array.isArray(t)?Object(s.getChildPaths)(t):[""],l=i&&i.path&&Object(s.contains)(a,i.path)?i.path:a[0],c=i&&i.direction||"asc",h='<div class="pico-modal-contents"><div class="pico-modal-header">'+Object(o.c)("sort")+"</div><form><table><tbody><tr>  <td>"+Object(o.c)("sortFieldLabel")+' </td>  <td class="jsoneditor-modal-input">  <div class="jsoneditor-select-wrapper">    <select id="field" title="'+Object(o.c)("sortFieldTitle")+'">    </select>  </div>  </td></tr><tr>  <td>'+Object(o.c)("sortDirectionLabel")+' </td>  <td class="jsoneditor-modal-input">  <div id="direction" class="jsoneditor-button-group"><input type="button" value="'+Object(o.c)("sortAscending")+'" title="'+Object(o.c)("sortAscendingTitle")+'" data-value="asc" class="jsoneditor-button-first jsoneditor-button-asc"/><input type="button" value="'+Object(o.c)("sortDescending")+'" title="'+Object(o.c)("sortDescendingTitle")+'" data-value="desc" class="jsoneditor-button-last jsoneditor-button-desc"/>  </div>  </td></tr><tr><td colspan="2" class="jsoneditor-modal-input jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(o.c)("ok")+'" /></td></tr></tbody></table></form></div>';r()({parent:e,content:h,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-sort"}).afterCreate((function(e){var t=e.modalElem().querySelector("form"),i=e.modalElem().querySelector("#ok"),r=e.modalElem().querySelector("#field"),o=e.modalElem().querySelector("#direction");function s(e){o.value=e,o.className="jsoneditor-button-group jsoneditor-button-group-value-"+o.value}a.forEach((function(e){var t,n=document.createElement("option");n.text=""===(t=e)?"@":"."===t[0]?t.slice(1):t,n.value=e,r.appendChild(n)})),r.value=l||a[0],s(c||"asc"),o.onclick=function(e){s(e.target.getAttribute("data-value"))},i.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),n({path:r.value,direction:o.value})},t&&(t.onsubmit=i.onclick)})).afterClose((function(e){e.destroy()})).show()}},function(e,t,n){"use strict";n.r(t),n.d(t,"showTransformModal",(function(){return u}));var i=n(14),r=n.n(i),o=n(10),s=n.n(o),a=n(1);function l(e){return(l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function c(e,t,n,i){return"boolean"==typeof e||e instanceof Boolean||null===e||"number"==typeof e||e instanceof Number||"string"==typeof e||e instanceof String||e instanceof Date?JSON.stringify(e):Array.isArray(e)?function(e,t,n,i){for(var r=t?n+t:void 0,o=t?"[\n":"[",s=0;s<e.length;s++){var a=e[s];if(t&&(o+=r),o+=void 0!==a&&"function"!=typeof a?c(a,t,r,i):"null",s<e.length-1&&(o+=t?",\n":","),o.length>i)return o+"..."}return o+(t?"\n"+n+"]":"]")}(e,t,n,i):e&&"object"===l(e)?function(e,t,n,i){var r,o=t?n+t:void 0,s=!0,a=t?"{\n":"{";if("function"==typeof e.toJSON)return c(e.toJSON(),t,n,i);for(r in e)if(function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(e,r)&&(s?s=!1:a+=t?",\n":",",a+=t?o+'"'+r+'": ':'"'+r+'":',(a+=c(e[r],t,o,i)).length>i))return a+"...";return a+(t?"\n"+n+"}":"}")}(e,t,n,i):void 0}var h=n(0),d=n(2);function u(e){var t=e.container,n=e.json,i=e.queryDescription,o=void 0===i?'Enter a <a href="http://jmespath.org" target="_blank">JMESPath</a> query to filter, sort, or transform the JSON data.<br/>To learn JMESPath, go to <a href="http://jmespath.org/tutorial.html" target="_blank">the interactive tutorial</a>.':i,l=e.createQuery,u=e.executeQuery,p=e.onTransform,g=n,f='<label class="pico-modal-contents"><div class="pico-modal-header">'+Object(a.c)("transform")+"</div><p>"+o+'</p><div class="jsoneditor-jmespath-label">'+Object(a.c)("transformWizardLabel")+' </div><div id="wizard" class="jsoneditor-jmespath-block jsoneditor-jmespath-wizard">  <table class="jsoneditor-jmespath-wizard-table">    <tbody>      <tr>        <th>'+Object(a.c)("transformWizardFilter")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-filter-field" >            <select id="filterField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-relation" >            <select id="filterRelation">              <option value="==">==</option>              <option value="!=">!=</option>              <option value="<">&lt;</option>              <option value="<=">&lt;=</option>              <option value=">">&gt;</option>              <option value=">=">&gt;=</option>            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-filter-value" >            <input type="text" class="value" placeholder="value..." id="filterValue" />          </div>        </td>      </tr>      <tr>        <th>'+Object(a.c)("transformWizardSortBy")+'</th>        <td class="jsoneditor-jmespath-filter">          <div class="jsoneditor-inline jsoneditor-jmespath-sort-field">            <select id="sortField">            </select>          </div>          <div class="jsoneditor-inline jsoneditor-jmespath-sort-order" >            <select id="sortOrder">              <option value="asc">Ascending</option>              <option value="desc">Descending</option>            </select>          </div>        </td>      </tr>      <tr id="selectFieldsPart">        <th>'+Object(a.c)("transformWizardSelectFields")+'</th>        <td class="jsoneditor-jmespath-filter">          <select class="jsoneditor-jmespath-select-fields" id="selectFields" multiple></select>        </td>      </tr>    </tbody>  </table></div><div class="jsoneditor-jmespath-label">'+Object(a.c)("transformQueryLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="query"             rows="4"             autocomplete="off"             autocorrect="off"             autocapitalize="off"             spellcheck="false"            title="'+Object(a.c)("transformQueryTitle")+'">[*]</textarea></div><div class="jsoneditor-jmespath-label">'+Object(a.c)("transformPreviewLabel")+' </div><div class="jsoneditor-jmespath-block">  <textarea id="preview"       class="jsoneditor-transform-preview"      readonly> </textarea></div><div class="jsoneditor-jmespath-block jsoneditor-modal-actions">  <input type="submit" id="ok" value="'+Object(a.c)("ok")+'" autofocus /></div></div>';r()({parent:t,content:f,overlayClass:"jsoneditor-modal-overlay",overlayStyles:{backgroundColor:"rgb(1,1,1)",opacity:.3},modalClass:"jsoneditor-modal jsoneditor-modal-transform",focus:!1}).afterCreate((function(e){var t=e.modalElem(),i=t.querySelector("#wizard"),r=t.querySelector("#ok"),o=t.querySelector("#filterField"),a=t.querySelector("#filterRelation"),f=t.querySelector("#filterValue"),m=t.querySelector("#sortField"),v=t.querySelector("#sortOrder"),y=t.querySelector("#selectFields"),b=t.querySelector("#query"),C=t.querySelector("#preview");Array.isArray(g)||(i.style.fontStyle="italic",i.textContent="(wizard not available for objects, only for arrays)"),Object(h.getChildPaths)(n).forEach((function(e){var t=E(e),n=document.createElement("option");n.text=t,n.value=t,o.appendChild(n);var i=document.createElement("option");i.text=t,i.value=t,m.appendChild(i)}));var w,_=Object(h.getChildPaths)(n,!0).filter((function(e){return""!==e}));0<_.length?_.forEach((function(e){var t=E(e),n=document.createElement("option");n.text=t,n.value=t,y.appendChild(n)})):(w=t.querySelector("#selectFieldsPart"))&&(w.style.display="none");var x=new s.a(o,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),I=new s.a(a,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"compare..."}),A=new s.a(m,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"field..."}),k=new s.a(v,{defaultSelected:!1,clearable:!0,allowDeselect:!0,placeholder:"order..."}),S=new s.a(y,{multiple:!0,clearable:!0,defaultSelected:!1,placeholder:"select fields..."});function E(e){return""===e?"@":"."===e[0]?e.slice(1):e}x.on("selectr.change",M),I.on("selectr.change",M),f.oninput=M,A.on("selectr.change",M),k.on("selectr.change",M),S.on("selectr.change",M),t.querySelector(".pico-modal-contents").onclick=function(e){"A"!==e.target.nodeName&&e.preventDefault()};var O=Object(h.debounce)((function(){try{var e=u(g,b.value);C.className="jsoneditor-transform-preview",C.value=function(e,t,n){var i,r,o=c(e,function(e,t){for(var n="";0<t--;)n+=" ";return n}(0,2),"",n);return o.length>n?(i=o,("number"==typeof(r=n)?i.slice(0,r):i)+"..."):o}(e,0,d.b),r.disabled=!1}catch(e){C.className="jsoneditor-transform-preview jsoneditor-error",C.value=e.toString(),r.disabled=!0}}),300);function P(e,t){try{b.value=l(e,t),r.disabled=!1,O()}catch(e){var n='Error: an error happened when executing "createQuery": '+(e.message||e.toString());b.value="",r.disabled=!0,C.className="jsoneditor-transform-preview jsoneditor-error",C.value=n}}function M(){var e={};if(o.value&&a.value&&f.value&&(e.filter={field:o.value,relation:a.value,value:f.value}),m.value&&v.value&&(e.sort={field:m.value,direction:v.value}),y.value){for(var t=[],i=0;i<y.options.length;i++)y.options[i].selected&&t.push(y.options[i].value);e.projection={fields:t}}P(n,e)}b.oninput=O,r.onclick=function(t){t.preventDefault(),t.stopPropagation(),e.close(),p(b.value)},P(n,{}),setTimeout((function(){b.select(),b.focus(),b.selectionStart=3,b.selectionEnd=3}))})).afterClose((function(e){e.destroy()})).show()}},function(e,t,n){"use strict";function i(e,t,n,i){var r=i?" !== ":" === ",o=i?" || ":" && ",s=i?"!":"",a=i?"":"!";switch(e){case"null":return t+r+"null";case"array":return s+"Array.isArray("+t+")";case"object":return"("+s+t+o+"typeof "+t+r+'"object"'+o+a+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+r+'"number"'+o+a+"("+t+" % 1)"+o+t+r+t+(n?o+s+"isFinite("+t+")":"")+")";case"number":return"(typeof "+t+r+'"'+e+'"'+(n?o+s+"isFinite("+t+")":"")+")";default:return"typeof "+t+r+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:i,checkDataTypes:function(e,t,n){if(1===e.length)return i(e[0],t,n,!0);var r,s="",a=o(e);for(r in a.array&&a.object&&(s=a.null?"(":"(!"+t+" || ",s+="typeof "+t+' !== "object")',delete a.null,delete a.array,delete a.object),a.number&&delete a.integer,a)s+=(s?" && ":"")+i(r,t,n,!0);return s},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++){var o=t[i];(r[o]||"array"===e&&"array"===o)&&(n[n.length]=o)}if(n.length)return n}else{if(r[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:c,equal:n(18),ucs2length:n(47),varOccurences:function(e,t){var n=e.match(new RegExp(t+="[^0-9]","g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var i in e)if(i!=n&&t[i])return!0},schemaUnknownRules:function(e,t){if("boolean"!=typeof e)for(var n in e)if(!t[n])return n},toQuotedString:h,getPathExpr:function(e,t,n,i){return p(e,n?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){return p(e,h(n?"/"+g(t):l(t)))},getData:function(e,t,n){var i,r,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!d.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,o="rootData"}else{if(!(s=e.match(u)))throw new Error("Invalid JSON-pointer: "+e);if(i=+s[1],"#"==(r=s[2])){if(t<=i)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return n[t-i]}if(t<i)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(o="data"+(t-i||""),!r)return o}for(var a=o,c=r.split("/"),h=0;h<c.length;h++){var p=c[h];p&&(a+=" && "+(o+=l(f(p))))}return a},unescapeFragment:function(e){return f(decodeURIComponent(e))},unescapeJsonPointer:f,escapeFragment:function(e){return encodeURIComponent(g(e))},escapeJsonPointer:g};var r=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}function h(e){return"'"+c(e)+"'"}var d=/^\/(?:[^~]|~0|~1)*$/,u=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function p(e,t){return'""'==e?t:(e+" + "+t).replace(/([^\\])' \+ '/g,"$1")}function g(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function f(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var i=n(3),r=n(1),o=function(){function e(t,n,o,s){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var a={code:{text:Object(r.c)("modeCodeText"),title:Object(r.c)("modeCodeTitle"),click:function(){s("code")}},form:{text:Object(r.c)("modeFormText"),title:Object(r.c)("modeFormTitle"),click:function(){s("form")}},text:{text:Object(r.c)("modeTextText"),title:Object(r.c)("modeTextTitle"),click:function(){s("text")}},tree:{text:Object(r.c)("modeTreeText"),title:Object(r.c)("modeTreeTitle"),click:function(){s("tree")}},view:{text:Object(r.c)("modeViewText"),title:Object(r.c)("modeViewTitle"),click:function(){s("view")}},preview:{text:Object(r.c)("modePreviewText"),title:Object(r.c)("modePreviewTitle"),click:function(){s("preview")}}},l=[],c=0;c<n.length;c++){var h=n[c],d=a[h];if(!d)throw new Error('Unknown mode "'+h+'"');d.className="jsoneditor-type-modes"+(o===h?" jsoneditor-selected":""),l.push(d)}var u=a[o];if(!u)throw new Error('Unknown mode "'+o+'"');var p=u.text,g=document.createElement("button");g.type="button",g.className="jsoneditor-modes jsoneditor-separator",g.textContent=p+" \u25be",g.title=Object(r.c)("modeEditorTitle"),g.onclick=function(){new i.a(l).show(g,t)};var f=document.createElement("div");f.className="jsoneditor-modes",f.style.position="relative",f.appendChild(g),t.appendChild(f),this.dom={container:t,box:g,frame:f}}var t;return(t=[{key:"focus",value:function(){this.dom.box.focus()}},{key:"destroy",value:function(){this.dom&&this.dom.frame&&this.dom.frame.parentNode&&this.dom.frame.parentNode.removeChild(this.dom.frame),this.dom=null}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(t){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.target=t.target||null,!this.target)throw new Error('FocusTracker constructor called without a "target" to track.');this.onFocus="function"==typeof t.onFocus?t.onFocus:null,this.onBlur="function"==typeof t.onBlur?t.onBlur:null,this._onClick=this._onEvent.bind(this),this._onKeyUp=(function(e){9!==e.which&&9!==e.keyCode||this._onEvent(e)}).bind(this),this.focusFlag=!1,this.firstEventFlag=!0,(this.onFocus||this.onBlur)&&(document.addEventListener("click",this._onClick),document.addEventListener("keyup",this._onKeyUp))}var t;return(t=[{key:"destroy",value:function(){document.removeEventListener("click",this._onClick),document.removeEventListener("keyup",this._onKeyUp),this._onEvent({target:document.body})}},{key:"_onEvent",value:function(e){var t=e.target;t===this.target||this.target.contains(t)||this.target.contains(document.activeElement)?this.focusFlag||(this.onFocus&&this.onFocus({type:"focus",target:this.target}),this.focusFlag=!0):(this.focusFlag||this.firstEventFlag)&&(this.onBlur&&this.onBlur({type:"blur",target:this.target}),this.focusFlag=!1,this.firstEventFlag&&(this.firstEventFlag=!1))}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}()},function(e,t,n){"use strict";function i(){}var r={defaultSelected:!0,width:"auto",disabled:!1,searchable:!0,clearable:!1,sortSelected:!1,allowDeselect:!1,closeOnScroll:!1,nativeDropdown:!1,placeholder:"Select an option...",taggable:!1,tagPlaceholder:"Enter a tag..."};i.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){this._events=this._events||{},e in this._events!=0&&this._events[e].splice(this._events[e].indexOf(t),1)},emit:function(e){if(this._events=this._events||{},e in this._events!=0)for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},i.mixin=function(e){for(var t=["on","off","emit"],n=0;n<t.length;n++)"function"==typeof e?e.prototype[t[n]]=i.prototype[t[n]]:e[t[n]]=i.prototype[t[n]];return e};var o={extend:function(e,t){for(var n in t=t||{},e)e.hasOwnProperty(n)&&(t.hasOwnProperty(n)||(t[n]=e[n]));return t},each:function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&t.call(n,i,e[i],e);else for(var r=0,o=e.length;r<o;r++)t.call(n,r,e[r],e)},createElement:function(e,t){var n,i,r=document,o=r.createElement(e);if(t&&"[object Object]"===Object.prototype.toString.call(t))for(n in t)n in o?o[n]=t[n]:"html"===n?o.textContent=t[n]:"text"===n?(i=r.createTextNode(t[n]),o.appendChild(i)):o.setAttribute(n,t[n]);return o},hasClass:function(e,t){if(e)return e.classList?e.classList.contains(t):!!e.className&&!!e.className.match(new RegExp("(\\s|^)"+t+"(\\s|$)"))},addClass:function(e,t){o.hasClass(e,t)||(e.classList?e.classList.add(t):e.className=e.className.trim()+" "+t)},removeClass:function(e,t){o.hasClass(e,t)&&(e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\s)"+t.split(" ").join("|")+"(\\s|$)","gi")," "))},closest:function(e,t){return e&&e!==document.body&&(t(e)?e:o.closest(e.parentNode,t))},isInt:function(e){return"number"==typeof e&&isFinite(e)&&Math.floor(e)===e},debounce:function(e,t,n){var i;return function(){var r=this,o=arguments,s=n&&!i;clearTimeout(i),i=setTimeout((function(){i=null,n||e.apply(r,o)}),t),s&&e.apply(r,o)}},rect:function(e,t){var n=window,i=e.getBoundingClientRect(),r=t?n.pageXOffset:0,o=t?n.pageYOffset:0;return{bottom:i.bottom+o,height:i.height,left:i.left+r,right:i.right+r,top:i.top+o,width:i.width}},includes:function(e,t){return-1<e.indexOf(t)},truncate:function(e){for(;e.firstChild;)e.removeChild(e.firstChild)}};function s(e,t){return e.hasOwnProperty(t)&&(!0===e[t]||e[t].length)}function a(e,t,n){e.parentNode?e.parentNode.parentNode||t.appendChild(e.parentNode):t.appendChild(e),o.removeClass(e,"excluded"),n||(e.textContent=e.textContent+"")}function l(){var e,t;this.items.length&&(e=document.createDocumentFragment(),this.config.pagination?(t=this.pages.slice(0,this.pageIndex),o.each(t,(function(t,n){o.each(n,(function(t,n){a(n,e,this.customOption)}),this)}),this)):o.each(this.items,(function(t,n){a(n,e,this.customOption)}),this),e.childElementCount&&(o.removeClass(this.items[this.navIndex],"active"),this.navIndex=e.querySelector(".selectr-option").idx,o.addClass(this.items[this.navIndex],"active")),this.tree.appendChild(e))}function c(e,t){t=t||e;var n=this.customOption?this.config.renderOption(t):e.textContent,i=o.createElement("li",{class:"selectr-option",html:n,role:"treeitem","aria-selected":!1});return i.idx=e.idx,this.items.push(i),e.defaultSelected&&this.defaultSelected.push(e.idx),e.disabled&&(i.disabled=!0,o.addClass(i,"disabled")),i}function h(){(this.config.searchable||this.config.taggable)&&(this.input.value=null,this.searching=!1,this.config.searchable&&o.removeClass(this.inputContainer,"active"),o.hasClass(this.container,"notice")&&(o.removeClass(this.container,"notice"),o.addClass(this.container,"open"),this.input.focus()),o.each(this.items,(function(e,t){o.removeClass(t,"excluded"),this.customOption||(t.textContent=t.textContent+"")}),this))}function d(e,t){if(t=t||{},!e)throw new Error("You must supply either a HTMLSelectElement or a CSS3 selector string.");if("string"==typeof(this.el=e)&&(this.el=document.querySelector(e)),null===this.el)throw new Error("The element you passed to Selectr can not be found.");if("select"!==this.el.nodeName.toLowerCase())throw new Error("The element you passed to Selectr is not a HTMLSelectElement.");this.render(t)}var u=function(){var e,t=this.tree;t.scrollHeight-t.offsetHeight<=t.scrollTop&&this.pageIndex<this.pages.length&&(e=document.createDocumentFragment(),o.each(this.pages[this.pageIndex],(function(t,n){a(n,e,this.customOption)}),this),t.appendChild(e),this.pageIndex++,this.emit("selectr.paginate",{items:this.items.length,total:this.data.length,page:this.pageIndex,pages:this.pages.length}))};d.prototype.render=function(e){var t;this.rendered||(this.config=o.extend(r,e),this.originalType=this.el.type,this.originalIndex=this.el.tabIndex,this.defaultSelected=[],this.originalOptionCount=this.el.options.length,(this.config.multiple||this.config.taggable)&&(this.el.multiple=!0),this.disabled=s(this.config,"disabled"),this.opened=!1,this.config.taggable&&(this.config.searchable=!1),this.navigating=!1,this.mobileDevice=!1,/Android|webOS|iPhone|iPad|BlackBerry|Windows Phone|Opera Mini|IEMobile|Mobile/i.test(navigator.userAgent)&&(this.mobileDevice=!0),this.customOption=this.config.hasOwnProperty("renderOption")&&"function"==typeof this.config.renderOption,this.customSelected=this.config.hasOwnProperty("renderSelection")&&"function"==typeof this.config.renderSelection,i.mixin(this),(function(){this.requiresPagination=this.config.pagination&&0<this.config.pagination,s(this.config,"width")&&(o.isInt(this.config.width)?this.width=this.config.width+"px":"auto"===this.config.width?this.width="100%":o.includes(this.config.width,"%")&&(this.width=this.config.width)),this.container=o.createElement("div",{class:"selectr-container"}),this.config.customClass&&o.addClass(this.container,this.config.customClass),o.addClass(this.container,this.mobileDevice?"selectr-mobile":"selectr-desktop"),this.el.tabIndex=-1,o.addClass(this.el,this.config.nativeDropdown||this.mobileDevice?"selectr-visible":"selectr-hidden"),this.selected=o.createElement("div",{class:"selectr-selected",disabled:this.disabled,tabIndex:1,"aria-expanded":!1}),this.label=o.createElement(this.el.multiple?"ul":"span",{class:"selectr-label"});var e,t=o.createElement("div",{class:"selectr-options-container"});this.tree=o.createElement("ul",{class:"selectr-options",role:"tree","aria-hidden":!0,"aria-expanded":!1}),this.notice=o.createElement("div",{class:"selectr-notice"}),this.el.setAttribute("aria-hidden",!0),this.disabled&&(this.el.disabled=!0),this.el.multiple&&(o.addClass(this.label,"selectr-tags"),o.addClass(this.container,"multiple"),this.tags=[],this.selectedValues=this.getSelectedProperties("value"),this.selectedIndexes=this.getSelectedProperties("idx")),this.selected.appendChild(this.label),this.config.clearable&&(this.selectClear=o.createElement("button",{class:"selectr-clear",type:"button"}),this.container.appendChild(this.selectClear),o.addClass(this.container,"clearable")),this.config.taggable&&(e=o.createElement("li",{class:"input-tag"}),this.input=o.createElement("input",{class:"selectr-tag-input",placeholder:this.config.tagPlaceholder,tagIndex:0,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),e.appendChild(this.input),this.label.appendChild(e),o.addClass(this.container,"taggable"),this.tagSeperators=[","],this.config.tagSeperators&&(this.tagSeperators=this.tagSeperators.concat(this.config.tagSeperators))),this.config.searchable&&(this.input=o.createElement("input",{class:"selectr-input",tagIndex:-1,autocomplete:"off",autocorrect:"off",autocapitalize:"off",spellcheck:"false",role:"textbox",type:"search"}),this.inputClear=o.createElement("button",{class:"selectr-input-clear",type:"button"}),this.inputContainer=o.createElement("div",{class:"selectr-input-container"}),this.inputContainer.appendChild(this.input),this.inputContainer.appendChild(this.inputClear),t.appendChild(this.inputContainer)),t.appendChild(this.notice),t.appendChild(this.tree),this.items=[],this.options=[],this.el.options.length&&(this.options=[].slice.call(this.el.options));var n,i,r,a=!1,l=0;this.el.children.length&&o.each(this.el.children,(function(e,t){"OPTGROUP"===t.nodeName?(a=o.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.label+"</li>"}),o.each(t.children,(function(e,t){t.idx=l,a.appendChild(c.call(this,t,a)),l++}),this)):(t.idx=l,c.call(this,t),l++)}),this),this.config.data&&Array.isArray(this.config.data)&&(n=!(this.data=[]),a=!1,l=0,o.each(this.config.data,(function(e,t){s(t,"children")?(n=o.createElement("optgroup",{label:t.text}),a=o.createElement("ul",{class:"selectr-optgroup",role:"group",html:"<li class='selectr-optgroup--label'>"+t.text+"</li>"}),o.each(t.children,(function(e,t){(i=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=s(t,"disabled"),this.options.push(i),n.appendChild(i),i.idx=l,a.appendChild(c.call(this,i,t)),this.data[l]=t,l++}),this)):((i=new Option(t.text,t.value,!1,t.hasOwnProperty("selected")&&!0===t.selected)).disabled=s(t,"disabled"),this.options.push(i),i.idx=l,c.call(this,i,t),this.data[l]=t,l++)}),this)),this.setSelected(!0);for(var h=this.navIndex=0;h<this.items.length;h++)if(!o.hasClass(r=this.items[h],"disabled")){o.addClass(r,"active"),this.navIndex=h;break}this.requiresPagination&&(this.pageIndex=1,this.paginate()),this.container.appendChild(this.selected),this.container.appendChild(t),this.placeEl=o.createElement("div",{class:"selectr-placeholder"}),this.setPlaceholder(),this.selected.appendChild(this.placeEl),this.disabled&&this.disable(),this.el.parentNode.insertBefore(this.container,this.el),this.container.appendChild(this.el)}).call(this),this.bindEvents(),this.update(),this.optsRect=o.rect(this.tree),this.rendered=!0,this.el.multiple||(this.el.selectedIndex=this.selectedIndex),t=this,setTimeout((function(){t.emit("selectr.init")}),20))},d.prototype.getSelected=function(){return this.el.querySelectorAll("option:checked")},d.prototype.getSelectedProperties=function(e){var t=this.getSelected();return[].slice.call(t).map((function(t){return t[e]})).filter((function(e){return null!=e}))},d.prototype.bindEvents=function(){var e=this;this.events={},this.events.dismiss=(function(e){this.container.contains(e.target)||!this.opened&&!o.hasClass(this.container,"notice")||this.close()}).bind(this),this.events.navigate=(function(e){if(e=e||window.event,this.items.length&&this.opened&&o.includes([13,38,40],e.which)){if(e.preventDefault(),13===e.which)return!(this.config.taggable&&0<this.input.value.length)&&this.change(this.navIndex);var t,n=this.items[this.navIndex];switch(e.which){case 38:(t=0)<this.navIndex&&this.navIndex--;break;case 40:t=1,this.navIndex<this.items.length-1&&this.navIndex++}for(this.navigating=!0;o.hasClass(this.items[this.navIndex],"disabled")||o.hasClass(this.items[this.navIndex],"excluded");)if(t?this.navIndex++:this.navIndex--,this.searching){if(this.navIndex>this.tree.lastElementChild.idx){this.navIndex=this.tree.lastElementChild.idx;break}if(this.navIndex<this.tree.firstElementChild.idx){this.navIndex=this.tree.firstElementChild.idx;break}}var i=o.rect(this.items[this.navIndex]);t?(0===this.navIndex?this.tree.scrollTop=0:i.top+i.height>this.optsRect.top+this.optsRect.height&&(this.tree.scrollTop=this.tree.scrollTop+(i.top+i.height-(this.optsRect.top+this.optsRect.height))),this.navIndex===this.tree.childElementCount-1&&this.requiresPagination&&u.call(this)):0===this.navIndex?this.tree.scrollTop=0:i.top-this.optsRect.top<0&&(this.tree.scrollTop=this.tree.scrollTop+(i.top-this.optsRect.top)),n&&o.removeClass(n,"active"),o.addClass(this.items[this.navIndex],"active")}else this.navigating=!1}).bind(this),this.events.reset=this.reset.bind(this),(this.config.nativeDropdown||this.mobileDevice)&&(this.container.addEventListener("touchstart",(function(t){t.changedTouches[0].target===e.el&&e.toggle()})),(this.config.nativeDropdown||this.mobileDevice)&&this.container.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation(),t.target===e.el&&e.toggle()})),this.el.addEventListener("change",(function(t){var n,i;e.el.multiple?(n=e.getSelectedProperties("idx"),i=function(e,t){for(var n,i=[],r=e.slice(0),o=0;o<t.length;o++)-1<(n=r.indexOf(t[o]))?r.splice(n,1):i.push(t[o]);return[i,r]}(e.selectedIndexes,n),o.each(i[0],(function(t,n){e.select(n)}),e),o.each(i[1],(function(t,n){e.deselect(n)}),e)):-1<e.el.selectedIndex&&e.select(e.el.selectedIndex)}))),this.config.nativeDropdown&&this.container.addEventListener("keydown",(function(t){"Enter"===t.key&&e.selected===document.activeElement&&(e.toggle(),setTimeout((function(){e.el.focus()}),200))})),this.selected.addEventListener("click",(function(t){e.disabled||e.toggle(),t.preventDefault(),t.stopPropagation()})),this.label.addEventListener("click",(function(t){o.hasClass(t.target,"selectr-tag-remove")&&e.deselect(t.target.parentNode.idx)})),this.selectClear&&this.selectClear.addEventListener("click",this.clear.bind(this)),this.tree.addEventListener("mousedown",(function(e){e.preventDefault()})),this.tree.addEventListener("click",(function(t){t.preventDefault(),t.stopPropagation();var n=o.closest(t.target,(function(e){return e&&o.hasClass(e,"selectr-option")}));n&&(o.hasClass(n,"disabled")||(o.hasClass(n,"selected")?(e.el.multiple||!e.el.multiple&&e.config.allowDeselect)&&e.deselect(n.idx):e.select(n.idx),e.opened&&!e.el.multiple&&e.close()))})),this.tree.addEventListener("mouseover",(function(t){o.hasClass(t.target,"selectr-option")&&(o.hasClass(t.target,"disabled")||(o.removeClass(e.items[e.navIndex],"active"),o.addClass(t.target,"active"),e.navIndex=[].slice.call(e.items).indexOf(t.target)))})),this.config.searchable&&(this.input.addEventListener("focus",(function(t){e.searching=!0})),this.input.addEventListener("blur",(function(t){e.searching=!1})),this.input.addEventListener("keyup",(function(t){e.search(),e.config.taggable||(this.value.length?o.addClass(this.parentNode,"active"):o.removeClass(this.parentNode,"active"))})),this.inputClear.addEventListener("click",(function(t){e.input.value=null,h.call(e),e.tree.childElementCount||l.call(e)}))),this.config.taggable&&this.input.addEventListener("keyup",(function(t){var n;e.search(),e.config.taggable&&this.value.length&&(n=this.value.trim(),13!==t.which&&!o.includes(e.tagSeperators,t.key)||(o.each(e.tagSeperators,(function(e,t){n=n.replace(t,"")})),e.add({value:n,text:n,selected:!0},!0)?(e.close(),h.call(e)):(this.value="",e.setMessage("That tag is already in use."))))})),this.update=o.debounce((function(){e.opened&&e.config.closeOnScroll&&e.close(),e.width&&(e.container.style.width=e.width),e.invert()}),50),this.requiresPagination&&(this.paginateItems=o.debounce((function(){u.call(this)}),50),this.tree.addEventListener("scroll",this.paginateItems.bind(this))),document.addEventListener("click",this.events.dismiss),window.addEventListener("keydown",this.events.navigate),window.addEventListener("resize",this.update),window.addEventListener("scroll",this.update),this.el.form&&this.el.form.addEventListener("reset",this.events.reset)},d.prototype.setSelected=function(e){var t;this.config.data||this.el.multiple||!this.el.options.length||(0===this.el.selectedIndex&&(this.el.options[0].defaultSelected||this.config.defaultSelected||(this.el.selectedIndex=-1)),this.selectedIndex=this.el.selectedIndex,-1<this.selectedIndex&&this.select(this.selectedIndex)),this.config.multiple&&"select-one"===this.originalType&&!this.config.data&&this.el.options[0].selected&&!this.el.options[0].defaultSelected&&(this.el.options[0].selected=!1),o.each(this.options,(function(e,t){t.selected&&t.defaultSelected&&this.select(t.idx)}),this),this.config.selectedValue&&this.setValue(this.config.selectedValue),this.config.data&&(!this.el.multiple&&this.config.defaultSelected&&this.el.selectedIndex<0&&this.select(0),t=0,o.each(this.config.data,(function(e,n){s(n,"children")?o.each(n.children,(function(e,n){n.hasOwnProperty("selected")&&!0===n.selected&&this.select(t),t++}),this):(n.hasOwnProperty("selected")&&!0===n.selected&&this.select(t),t++)}),this))},d.prototype.destroy=function(){this.rendered&&(this.emit("selectr.destroy"),"select-one"===this.originalType&&(this.el.multiple=!1),this.config.data&&(this.el.textContent=""),o.removeClass(this.el,"selectr-hidden"),this.el.form&&o.off(this.el.form,"reset",this.events.reset),o.off(document,"click",this.events.dismiss),o.off(document,"keydown",this.events.navigate),o.off(window,"resize",this.update),o.off(window,"scroll",this.update),this.container.parentNode.replaceChild(this.el,this.container),this.rendered=!1)},d.prototype.change=function(e){var t=this.options[e];t.disabled||(t.selected&&o.hasClass(this.items[e],"selected")?this.deselect(e):this.select(e),this.opened&&!this.el.multiple&&this.close())},d.prototype.select=function(e){var t=this.items[e],n=[].slice.call(this.el.options),i=this.options[e];if(this.el.multiple){if(o.includes(this.selectedIndexes,e))return!1;if(this.config.maxSelections&&this.tags.length===this.config.maxSelections)return this.setMessage("A maximum of "+this.config.maxSelections+" items can be selected.",!0),!1;this.selectedValues.push(i.value),this.selectedIndexes.push(e),(function(e){var t,n,i=this,r=document.createDocumentFragment(),s=this.options[e.idx],a=this.customSelected?this.config.renderSelection(this.data?this.data[e.idx]:s):s.textContent,l=o.createElement("li",{class:"selectr-tag",html:a}),c=o.createElement("button",{class:"selectr-tag-remove",type:"button"});l.appendChild(c),l.idx=e.idx,l.tag=s.value,this.tags.push(l),this.config.sortSelected?(t=this.tags.slice(),n=function(e,t){e.replace(/(\d+)|(\D+)/g,(function(e,n,i){t.push([n||1/0,i||""])}))},t.sort((function(e,t){var r,o,s=[],a=[];for(!0===i.config.sortSelected?(r=e.tag,o=t.tag):"text"===i.config.sortSelected&&(r=e.textContent,o=t.textContent),n(r,s),n(o,a);s.length&&a.length;){var l=s.shift(),c=a.shift(),h=l[0]-c[0]||l[1].localeCompare(c[1]);if(h)return h}return s.length-a.length})),o.each(t,(function(e,t){r.appendChild(t)})),this.label.textContent=""):r.appendChild(l),this.config.taggable?this.label.insertBefore(r,this.input.parentNode):this.label.appendChild(r)}).call(this,t)}else this.label.textContent=this.customSelected?this.config.renderSelection(this.data?this.data[e]:i):i.textContent,this.selectedValue=i.value,this.selectedIndex=e,o.each(this.options,(function(t,n){var i=this.items[t];t!==e&&(i&&o.removeClass(i,"selected"),n.selected=!1,n.removeAttribute("selected"))}),this);o.includes(n,i)||this.el.add(i),t.setAttribute("aria-selected",!0),o.addClass(t,"selected"),o.addClass(this.container,"has-selected"),i.selected=!0,i.setAttribute("selected",""),this.emit("selectr.change",i),this.emit("selectr.select",i)},d.prototype.deselect=function(e,t){var n=this.items[e],i=this.options[e];if(this.el.multiple){var r=this.selectedIndexes.indexOf(e);this.selectedIndexes.splice(r,1);var s=this.selectedValues.indexOf(i.value);this.selectedValues.splice(s,1),(function(e){var t=!1;o.each(this.tags,(function(n,i){i.idx===e.idx&&(t=i)}),this),t&&(this.label.removeChild(t),this.tags.splice(this.tags.indexOf(t),1))}).call(this,n),this.tags.length||o.removeClass(this.container,"has-selected")}else{if(!t&&!this.config.clearable&&!this.config.allowDeselect)return!1;this.label.textContent="",this.selectedValue=null,this.el.selectedIndex=this.selectedIndex=-1,o.removeClass(this.container,"has-selected")}this.items[e].setAttribute("aria-selected",!1),o.removeClass(this.items[e],"selected"),i.selected=!1,i.removeAttribute("selected"),this.emit("selectr.change",null),this.emit("selectr.deselect",i)},d.prototype.setValue=function(e){var t=Array.isArray(e);if(t||(e=e.toString().trim()),!this.el.multiple&&t)return!1;o.each(this.options,(function(n,i){(t&&o.includes(e.toString(),i.value)||i.value===e)&&this.change(i.idx)}),this)},d.prototype.getValue=function(e,t){var n,i;return this.el.multiple?e?this.selectedIndexes.length&&(i={values:[]},o.each(this.selectedIndexes,(function(e,t){var n=this.options[t];i.values[e]={value:n.value,text:n.textContent}}),this)):i=this.selectedValues.slice():i=e?{value:(n=this.options[this.selectedIndex]).value,text:n.textContent}:this.selectedValue,e&&t&&(i=JSON.stringify(i)),i},d.prototype.add=function(e,t){if(e){if(this.data=this.data||[],this.items=this.items||[],this.options=this.options||[],Array.isArray(e))o.each(e,(function(e,n){this.add(n,t)}),this);else if("[object Object]"===Object.prototype.toString.call(e)){if(t){var n=!1;if(o.each(this.options,(function(t,i){i.value.toLowerCase()===e.value.toLowerCase()&&(n=!0)})),n)return!1}var i=o.createElement("option",e);return this.data.push(e),this.options.push(i),i.idx=0<this.options.length?this.options.length-1:0,c.call(this,i),e.selected&&this.select(i.idx),i}return this.setPlaceholder(),this.config.pagination&&this.paginate(),!0}},d.prototype.remove=function(e){var t,n=[];Array.isArray(e)?o.each(e,(function(t,i){o.isInt(i)?n.push(this.getOptionByIndex(i)):"string"==typeof e&&n.push(this.getOptionByValue(i))}),this):o.isInt(e)?n.push(this.getOptionByIndex(e)):"string"==typeof e&&n.push(this.getOptionByValue(e)),n.length&&(o.each(n,(function(e,n){t=n.idx,this.el.remove(n),this.options.splice(t,1);var i=this.items[t].parentNode;i&&i.removeChild(this.items[t]),this.items.splice(t,1),o.each(this.options,(function(e,t){t.idx=e,this.items[e].idx=e}),this)}),this),this.setPlaceholder(),this.config.pagination&&this.paginate())},d.prototype.removeAll=function(){this.clear(!0),o.each(this.el.options,(function(e,t){this.el.remove(t)}),this),o.truncate(this.tree),this.items=[],this.options=[],this.data=[],this.navIndex=0,this.requiresPagination&&(this.requiresPagination=!1,this.pageIndex=1,this.pages=[]),this.setPlaceholder()},d.prototype.search=function(e){var t,n;this.navigating||(e=e||this.input.value,t=document.createDocumentFragment(),this.removeMessage(),o.truncate(this.tree),1<e.length?(o.each(this.options,(function(n,i){var r,s,l=this.items[i.idx];o.includes(i.textContent.toLowerCase(),e.toLowerCase())&&!i.disabled?(a(l,t,this.customOption),o.removeClass(l,"excluded"),this.customOption||(l.textContent="",(r=function(e,t){var n=new RegExp(e,"i").exec(t);if(n){var i=n.index,r=n.index+n[0].length;return{before:t.substring(0,i),match:t.substring(i,r),after:t.substring(r)}}return null}(e,i.textContent))&&(l.appendChild(document.createTextNode(r.before)),(s=document.createElement("span")).className="selectr-match",s.appendChild(document.createTextNode(r.match)),l.appendChild(s),l.appendChild(document.createTextNode(r.after))))):o.addClass(l,"excluded")}),this),t.childElementCount?(n=t.firstElementChild,o.removeClass(this.items[this.navIndex],"active"),this.navIndex=n.idx,o.addClass(n,"active")):this.config.taggable||this.setMessage("no results.")):l.call(this),this.tree.appendChild(t))},d.prototype.toggle=function(){this.disabled||(this.opened?this.close():this.open())},d.prototype.open=function(){var e=this;return!!this.options.length&&(this.opened||this.emit("selectr.open"),this.opened=!0,this.mobileDevice||this.config.nativeDropdown?(o.addClass(this.container,"native-open"),void(this.config.data&&o.each(this.options,(function(e,t){this.el.add(t)}),this))):(o.addClass(this.container,"open"),l.call(this),this.invert(),this.tree.scrollTop=0,o.removeClass(this.container,"notice"),this.selected.setAttribute("aria-expanded",!0),this.tree.setAttribute("aria-hidden",!1),this.tree.setAttribute("aria-expanded",!0),void(this.config.searchable&&!this.config.taggable&&setTimeout((function(){e.input.focus(),e.input.tabIndex=0}),10))))},d.prototype.close=function(){var e;this.opened&&this.emit("selectr.close"),this.opened=!1,this.mobileDevice||this.config.nativeDropdown?o.removeClass(this.container,"native-open"):(e=o.hasClass(this.container,"notice"),this.config.searchable&&!e&&(this.input.blur(),this.input.tabIndex=-1,this.searching=!1),e&&(o.removeClass(this.container,"notice"),this.notice.textContent=""),o.removeClass(this.container,"open"),o.removeClass(this.container,"native-open"),this.selected.setAttribute("aria-expanded",!1),this.tree.setAttribute("aria-hidden",!0),this.tree.setAttribute("aria-expanded",!1),o.truncate(this.tree),h.call(this))},d.prototype.enable=function(){this.disabled=!1,this.el.disabled=!1,this.selected.tabIndex=this.originalIndex,this.el.multiple&&o.each(this.tags,(function(e,t){t.lastElementChild.tabIndex=0})),o.removeClass(this.container,"selectr-disabled")},d.prototype.disable=function(e){e||(this.el.disabled=!0),this.selected.tabIndex=-1,this.el.multiple&&o.each(this.tags,(function(e,t){t.lastElementChild.tabIndex=-1})),this.disabled=!0,o.addClass(this.container,"selectr-disabled")},d.prototype.reset=function(){this.disabled||(this.clear(),this.setSelected(!0),o.each(this.defaultSelected,(function(e,t){this.select(t)}),this),this.emit("selectr.reset"))},d.prototype.clear=function(e){var t;this.el.multiple?this.selectedIndexes.length&&(t=this.selectedIndexes.slice(),o.each(t,(function(e,t){this.deselect(t)}),this)):-1<this.selectedIndex&&this.deselect(this.selectedIndex,e),this.emit("selectr.clear")},d.prototype.serialise=function(e){var t=[];return o.each(this.options,(function(e,n){var i={value:n.value,text:n.textContent};n.selected&&(i.selected=!0),n.disabled&&(i.disabled=!0),t[e]=i})),e?JSON.stringify(t):t},d.prototype.serialize=function(e){return this.serialise(e)},d.prototype.setPlaceholder=function(e){e=e||this.config.placeholder||this.el.getAttribute("placeholder"),this.options.length||(e="No options available"),this.placeEl.textContent=e},d.prototype.paginate=function(){if(this.items.length){var e=this;return this.pages=this.items.map((function(t,n){return n%e.config.pagination==0?e.items.slice(n,n+e.config.pagination):null})).filter((function(e){return e})),this.pages}},d.prototype.setMessage=function(e,t){t&&this.close(),o.addClass(this.container,"notice"),this.notice.textContent=e},d.prototype.removeMessage=function(){o.removeClass(this.container,"notice"),this.notice.textContent=""},d.prototype.invert=function(){var e=o.rect(this.selected),t=window.innerHeight;e.top+e.height+this.tree.parentNode.offsetHeight>t?(o.addClass(this.container,"inverted"),this.isInverted=!0):(o.removeClass(this.container,"inverted"),this.isInverted=!1),this.optsRect=o.rect(this.tree)},d.prototype.getOptionByIndex=function(e){return this.options[e]},d.prototype.getOptionByValue=function(e){for(var t=!1,n=0,i=this.options.length;n<i;n++)if(this.options[n].value.trim()===e.toString().trim()){t=this.options[n];break}return t},e.exports=d},function(e,t){e.exports=function e(t,n){"use strict";function i(t){return e.insensitive&&(""+t).toLowerCase()||""+t}var r,o,s=/(^([+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?)?$|^0x[0-9a-f]+$|\d+)/gi,a=/(^[ ]*|[ ]*$)/g,l=/(^([\w ]+,?[\w ]+)?[\w ]+,?[\w ]+\d+:\d+(:\d+)?[\w ]?|^\d{1,4}[\/\-]\d{1,4}[\/\-]\d{1,4}|^\w+, \w+ \d+, \d{4})/,c=/^0x[0-9a-f]+$/i,h=/^0/,d=i(t).replace(a,"")||"",u=i(n).replace(a,"")||"",p=d.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),g=u.replace(s,"\0$1\0").replace(/\0$/,"").replace(/^\0/,"").split("\0"),f=parseInt(d.match(c),16)||1!==p.length&&d.match(l)&&Date.parse(d),m=parseInt(u.match(c),16)||f&&u.match(l)&&Date.parse(u)||null;if(m){if(f<m)return-1;if(m<f)return 1}for(var v=0,y=Math.max(p.length,g.length);v<y;v++){if(r=!(p[v]||"").match(h)&&parseFloat(p[v])||p[v]||0,o=!(g[v]||"").match(h)&&parseFloat(g[v])||g[v]||0,isNaN(r)!==isNaN(o))return isNaN(r)?1:-1;if(typeof r!=typeof o&&(r+="",o+=""),r<o)return-1;if(o<r)return 1}return 0}},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var i=n(0);function r(e,t,n){var r,o,s=3<arguments.length&&void 0!==arguments[3]&&arguments[3],a="function"==typeof(r=e).getRootNode?r.getRootNode():window,l={},c=e.getBoundingClientRect(),h=t.getBoundingClientRect(),d=document.createElement("div");function u(){if(d&&d.parentNode){for(var t in d.parentNode.removeChild(d),l){var r;Object.prototype.hasOwnProperty.call(l,t)&&((r=l[t])&&Object(i.removeEventListener)(a,t,r),delete l[t])}"function"==typeof n&&n(e)}}function p(e){var t;(t=e.target)===d||Object(i.isChildOf)(t,d)||u()}return d.className="jsoneditor-anchor",d.style.position="absolute",d.style.left=c.left-h.left+"px",d.style.top=c.top-h.top+"px",d.style.width=c.width-2+"px",d.style.height=c.height-2+"px",d.style.boxSizing="border-box",t.appendChild(d),l.mousedown=Object(i.addEventListener)(a,"mousedown",p),l.mousewheel=Object(i.addEventListener)(a,"mousewheel",p),s&&(o=null,d.onmouseover=function(){clearTimeout(o),o=null},d.onmouseout=function(){o=o||setTimeout(u,200)}),d.destroy=u,d}},function(e,t,n){var i;if(window.Picker)i=window.Picker;else try{i=n(41)}catch(e){}e.exports=i},function(e,t,n){var i,r,o;!function(){"use strict";r=[],void 0===(o="function"==typeof(i=function(){function e(e){return"object"==typeof Node?e instanceof Node:e&&"object"==typeof e&&"number"==typeof e.nodeType}function t(){var e=[];return{watch:e.push.bind(e),trigger:function(t,n){for(var i=!0,r={detail:n,preventDefault:function(){i=!1}},o=0;o<e.length;o++)e[o](t,r);return i}}}function n(e){return"none"===window.getComputedStyle(e).display}function i(e){this.elem=e}i.make=function(e,t){"string"==typeof e&&(e=document.querySelector(e));var n=document.createElement(t||"div");return(e||document.body).appendChild(n),new i(n)},i.prototype={child:function(e){return i.make(this.elem,e)},stylize:function(e){for(var t in void 0!==(e=e||{}).opacity&&(e.filter="alpha(opacity="+100*e.opacity+")"),e)e.hasOwnProperty(t)&&(this.elem.style[t]=e[t]);return this},clazz:function(e){return this.elem.className+=" "+e,this},html:function(t){return e(t)?this.elem.appendChild(t):this.elem.innerHTML=t,this},onClick:function(e){return this.elem.addEventListener("click",e),this},destroy:function(){this.elem.parentNode.removeChild(this.elem)},hide:function(){this.elem.style.display="none"},show:function(){this.elem.style.display="block"},attr:function(e,t){return void 0!==t&&this.elem.setAttribute(e,t),this},anyAncestor:function(e){for(var t=this.elem;t;){if(e(new i(t)))return!0;t=t.parentNode}return!1},isVisible:function(){return!n(this.elem)}};var r=1;function o(e){return function(){return e().elem}}var s=t(),a=t();return document.documentElement.addEventListener("keydown",(function(e){var t=e.which||e.keyCode;27===t?s.trigger():9===t&&a.trigger(e)})),function(l){"string"!=typeof l&&!e(l)||(l={content:l});var c=t(),h=t(),d=t(),u=t(),p=t();function g(e,t){var n=l[e];return"function"==typeof n&&(n=n(t)),void 0===n?t:n}var f,m,v,y,b,C,w,_,x,I=P.bind(window,"modal"),A=P.bind(window,"overlay"),k=P.bind(window,"close");function S(e){A().hide(),I().hide(),p.trigger(f,e)}function E(e){u.trigger(f,e)&&S(e)}function O(e){return function(){return e.apply(this,arguments),f}}function P(e,t){var n,o,s;return m||(n=function(e,t){var n=e("width","auto");"number"==typeof n&&(n+="px");var o=e("modalId","pico-"+r++);return i.make(e("parent")).clazz("pico-content").clazz(e("modalClass","")).stylize({display:"none",position:"fixed",zIndex:10001,left:"50%",top:"38.1966%",maxHeight:"90%",boxSizing:"border-box",width:n,"-ms-transform":"translate(-50%,-38.1966%)","-moz-transform":"translate(-50%,-38.1966%)","-webkit-transform":"translate(-50%,-38.1966%)","-o-transform":"translate(-50%,-38.1966%)",transform:"translate(-50%,-38.1966%)"}).stylize(e("modalStyles",{overflow:"auto",backgroundColor:"white",padding:"20px",borderRadius:"5px"})).html(e("content")).attr("id",o).attr("role","dialog").attr("aria-labelledby",e("ariaLabelledBy")).attr("aria-describedby",e("ariaDescribedBy",o)).onClick((function(e){new i(e.target).anyAncestor((function(e){return/\bpico-close\b/.test(e.elem.className)}))&&t()}))}(g,E),m={modal:n,overlay:(s=E,i.make((o=g)("parent")).clazz("pico-overlay").clazz(o("overlayClass","")).stylize({display:"none",position:"fixed",top:"0px",left:"0px",height:"100%",width:"100%",zIndex:1e4}).stylize(o("overlayStyles",{opacity:.5,background:"#000"})).onClick((function(){o("overlayClose",!0)&&s()}))),close:function(e,t){if(t("closeButton",!0))return e.child("button").html(t("closeHtml","&#xD7;")).clazz("pico-close").clazz(t("closeClass","")).stylize(t("closeStyles",{borderRadius:"2px",border:0,padding:0,cursor:"pointer",height:"15px",width:"15px",position:"absolute",top:"5px",right:"5px",fontSize:"16px",textAlign:"center",lineHeight:"15px",background:"#CCC"})).attr("aria-label",t("close-label","Close"))}(n,g)},c.trigger(f,t)),m[e]}function M(e,t){return(e.msMatchesSelector||e.webkitMatchesSelector||e.matches).call(e,t)}function T(e){return!(n(e)||M(e,":disabled")||e.hasAttribute("contenteditable"))&&(e.hasAttribute("tabindex")||M(e,"input,select,textarea,button,a[href],area[href],iframe"))}function R(e){for(var t=e.getElementsByTagName("*"),n=0;n<t.length;n++)if(T(t[n]))return t[n]}return f={modalElem:o(I),closeElem:o(k),overlayElem:o(A),buildDom:O(P.bind(null,null)),isVisible:function(){return!!(m&&I&&I().isVisible())},show:function(e){return h.trigger(f,e)&&(A().show(),k(),I().show(),d.trigger(f,e)),this},close:O(E),forceClose:O(S),destroy:function(){I().destroy(),A().destroy(),A=I=k=void 0},options:function(e){Object.keys(e).map((function(t){l[t]=e[t]}))},afterCreate:O(c.watch),beforeShow:O(h.watch),afterShow:O(d.watch),beforeClose:O(u.watch),afterClose:O(p.watch)},v=f,y=g.bind(null,"focus",!0),v.beforeShow((function(){b=document.activeElement})),v.afterShow((function(){var e;!y()||(e=R(v.modalElem()))&&e.focus()})),v.afterClose((function(){y()&&b&&b.focus(),b=null})),a.watch((function(e){var t,n;y()&&v.isVisible()&&(t=R(v.modalElem()),n=function(e){for(var t=e.getElementsByTagName("*"),n=t.length;n--;)if(T(t[n]))return t[n]}(v.modalElem()),(e.shiftKey?t:n)===document.activeElement&&((e.shiftKey?n:t).focus(),e.preventDefault()))})),C=f,w=g.bind(null,"bodyOverflow",!0),x=new i(document.body),C.beforeShow((function(){_=x.elem.style.overflow,w()&&x.stylize({overflow:"hidden"})})),C.afterClose((function(){x.stylize({overflow:_})})),s.watch((function(){g("escCloses",!0)&&f.isVisible()&&f.close()})),f}})?i.apply(t,r):i)||(e.exports=o)}()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var i=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.errorTableVisible=t.errorTableVisible,this.onToggleVisibility=t.onToggleVisibility,this.onFocusLine=t.onFocusLine||function(){},this.onChangeHeight=t.onChangeHeight,this.dom={};var n=document.createElement("div");n.className="jsoneditor-validation-errors-container",this.dom.validationErrorsContainer=n;var i=document.createElement("div");i.style.display="none",i.className="jsoneditor-additional-errors fadein",i.textContent="Scroll for more \u25bf",this.dom.additionalErrorsIndication=i,n.appendChild(i);var r=document.createElement("span");r.className="jsoneditor-validation-error-icon",r.style.display="none",this.dom.validationErrorIcon=r;var o=document.createElement("span");o.className="jsoneditor-validation-error-count",o.style.display="none",this.dom.validationErrorCount=o,this.dom.parseErrorIndication=document.createElement("span"),this.dom.parseErrorIndication.className="jsoneditor-parse-error-icon",this.dom.parseErrorIndication.style.display="none"}var t;return(t=[{key:"getErrorTable",value:function(){return this.dom.validationErrorsContainer}},{key:"getErrorCounter",value:function(){return this.dom.validationErrorCount}},{key:"getWarningIcon",value:function(){return this.dom.validationErrorIcon}},{key:"getErrorIcon",value:function(){return this.dom.parseErrorIndication}},{key:"toggleTableVisibility",value:function(){this.errorTableVisible=!this.errorTableVisible,this.onToggleVisibility(this.errorTableVisible)}},{key:"setErrors",value:function(e,t){var n,i,r,o=this;this.dom.validationErrors&&(this.dom.validationErrors.parentNode.removeChild(this.dom.validationErrors),this.dom.validationErrors=null,this.dom.additionalErrorsIndication.style.display="none"),this.errorTableVisible&&0<e.length?((n=document.createElement("div")).className="jsoneditor-validation-errors",(i=document.createElement("table")).className="jsoneditor-text-errors",n.appendChild(i),r=document.createElement("tbody"),i.appendChild(r),e.forEach((function(e){var n,i;isNaN(e.line)?!e.dataPath||(i=t.find((function(t){return t.path===e.dataPath})))&&(n=i.line+1):n=e.line;var s=document.createElement("tr");s.className=isNaN(n)?"":"jump-to-line",s.className+="error"===e.type?" parse-error":" validation-error";var a=document.createElement("td"),l=document.createElement("button");l.className="jsoneditor-schema-error",a.appendChild(l),s.appendChild(a);var c,h,d,u,p,g=document.createElement("td");g.style="white-space: nowrap;",g.textContent=isNaN(n)?"":"Ln "+n,s.appendChild(g),"string"==typeof e?((c=document.createElement("td")).colSpan=2,(h=document.createElement("pre")).appendChild(document.createTextNode(e)),c.appendChild(h),s.appendChild(c)):((d=document.createElement("td")).appendChild(document.createTextNode(e.dataPath||"")),s.appendChild(d),u=document.createElement("td"),(p=document.createElement("pre")).appendChild(document.createTextNode(e.message)),u.appendChild(p),s.appendChild(u)),s.onclick=function(){o.onFocusLine(n)},r.appendChild(s)})),this.dom.validationErrors=n,this.dom.validationErrorsContainer.appendChild(n),this.dom.additionalErrorsIndication.title=e.length+" errors total",this.dom.validationErrorsContainer.clientHeight<this.dom.validationErrorsContainer.scrollHeight?(this.dom.additionalErrorsIndication.style.display="block",this.dom.validationErrorsContainer.onscroll=function(){o.dom.additionalErrorsIndication.style.display=0<o.dom.validationErrorsContainer.clientHeight&&0===o.dom.validationErrorsContainer.scrollTop?"block":"none"}):this.dom.validationErrorsContainer.onscroll=void 0,this.onChangeHeight(this.dom.validationErrorsContainer.clientHeight+(this.dom.statusBar?this.dom.statusBar.clientHeight:0))):this.onChangeHeight(0);var s,a=e.filter((function(e){return"error"!==e.type})).length;0<a?(this.dom.validationErrorCount.style.display="inline",this.dom.validationErrorCount.innerText=a,this.dom.validationErrorCount.onclick=this.toggleTableVisibility.bind(this),this.dom.validationErrorIcon.style.display="inline",this.dom.validationErrorIcon.title=a+" schema validation error(s) found",this.dom.validationErrorIcon.onclick=this.toggleTableVisibility.bind(this)):(this.dom.validationErrorCount.style.display="none",this.dom.validationErrorIcon.style.display="none"),e.some((function(e){return"error"===e.type}))?(s=e[0].line,this.dom.parseErrorIndication.style.display="block",this.dom.parseErrorIndication.title=isNaN(s)?"parse error - check that the json is valid":"parse error on line "+s,this.dom.parseErrorIndication.onclick=this.toggleTableVisibility.bind(this)):this.dom.parseErrorIndication.style.display="none"}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}()},function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},function(e,t,n){"use strict";var i=n(46),r=n(18),o=n(7),s=n(25),a=n(48);function l(e,t,n){var i=this._refs[n];if("string"==typeof i){if(!this._refs[i])return l.call(this,e,t,i);i=this._refs[i]}if((i=i||this._schemas[n])instanceof s)return p(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var r,o,a,h=c.call(this,t,n);return h&&(r=h.schema,t=h.root,a=h.baseId),r instanceof s?o=r.validate||e.call(this,r.schema,t,void 0,a):void 0!==r&&(o=p(r,this._opts.inlineRefs)?r:e.call(this,r,t,void 0,a)),o}function c(e,t){var n=i.parse(t),r=f(n),o=g(this._getId(e.schema));if(0===Object.keys(e.schema).length||r!==o){var a=v(r),l=this._refs[a];if("string"==typeof l)return(function(e,t,n){var i=c.call(this,e,t);if(i){var r=i.schema,o=i.baseId;e=i.root;var s=this._getId(r);return s&&(o=y(o,s)),d.call(this,n,o,r,e)}}).call(this,e,l,n);if(l instanceof s)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[a])instanceof s))return;if(l.validate||this._compile(l),a==v(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=g(this._getId(e.schema))}return d.call(this,n,o,e.schema,e)}(e.exports=l).normalizeId=v,l.fullPath=g,l.url=y,l.ids=function(e){var t=v(this._getId(e)),n={"":t},s={"":g(t,!1)},l={},c=this;return a(e,{allKeys:!0},(function(e,t,a,h,d,u,p){if(""!==t){var g=c._getId(e),f=n[h],m=s[h]+"/"+d;if(void 0!==p&&(m+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof g){g=f=v(f?i.resolve(f,g):g);var y=c._refs[g];if("string"==typeof y&&(y=c._refs[y]),y&&y.schema){if(!r(e,y.schema))throw new Error('id "'+g+'" resolves to more than one schema')}else if(g!=v(m))if("#"==g[0]){if(l[g]&&!r(e,l[g]))throw new Error('id "'+g+'" resolves to more than one schema');l[g]=e}else c._refs[g]=m}n[t]=f,s[t]=m}})),l},l.inlineRef=p,l.schema=c;var h=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,n,i){if(e.fragment=e.fragment||"","/"==e.fragment.slice(0,1)){for(var r=e.fragment.split("/"),s=1;s<r.length;s++){var a,l,d,u=r[s];if(u){if(void 0===(n=n[u=o.unescapeFragment(u)]))break;h[u]||((d=this._getId(n))&&(t=y(t,d)),n.$ref&&(a=y(t,n.$ref),(l=c.call(this,i,a))&&(n=l.schema,i=l.root,t=l.baseId)))}}return void 0!==n&&n!==i.schema?{schema:n,root:i,baseId:t}:void 0}}var u=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&!e(n))return!1}else for(var r in t){if("$ref"==r)return!1;if("object"==typeof(n=t[r])&&!e(n))return!1}return!0}(e):t?function e(t){var n,i=0;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&(i+=e(n)),i==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(u[o])i++;else if("object"==typeof(n=t[o])&&(i+=e(n)+1),i==1/0)return 1/0}return i}(e)<=t:void 0)}function g(e,t){return!1!==t&&(e=v(e)),f(i.parse(e))}function f(e){return i.serialize(e).split("#")[0]+"#"}var m=/#\/?$/;function v(e){return e?e.replace(m,""):""}function y(e,t){return t=v(t),i.resolve(e,t)}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var i,r,o;if(Array.isArray(t)){if((i=t.length)!=n.length)return!1;for(r=i;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((i=(o=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=i;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,o[r]))return!1;for(r=i;0!=r--;){var s=o[r];if(!e(t[s],n[s]))return!1}return!0}return t!=t&&n!=n}},function(e,t,n){"use strict";var i=n(17);function r(e,t,n){this.message=n||r.message(e,t),this.missingRef=i.url(e,t),this.missingSchema=i.normalizeId(i.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e}e.exports={Validation:o((function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0})),MissingRef:o(r)},r.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){var i;if(window.ace)i=window.ace;else try{i=n(37),n(38),n(39);var r=n(40);i.config.setModuleUrl("ace/mode/json_worker",r)}catch(e){}e.exports=i},function(e,t,n){"use strict";n.r(t),n.d(t,"textModeMixins",(function(){return b}));var i=n(20),r=n.n(i),o=n(1),s=n(8),a=n(15),l=n(0),c=n(5),h=n(6),d=n(9),u=n(2),p=n(35),g=n(4);function f(e){return(f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var m={},v="ace/theme/jsoneditor";function y(){try{this.format()}catch(e){}}m.create=function(e){var t=this,n=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0===n.statusBar&&(n.statusBar=!0),n.mainMenuBar=!1!==n.mainMenuBar,n.enableSort=!1!==n.enableSort,n.enableTransform=!1!==n.enableTransform,n.createQuery=n.createQuery||g.a,n.executeQuery=n.executeQuery||g.b,this.indentation="number"==typeof(this.options=n).indentation?Number(n.indentation):2,Object(o.b)(this.options.languages),Object(o.a)(this.options.language);var i=n.ace?n.ace:r.a;this.mode="code"===n.mode?"code":"text","code"===this.mode&&void 0===i&&(this.mode="text",console.warn("Failed to load Ace editor, falling back to plain text mode. Please use a JSONEditor bundle including Ace, or pass Ace as via the configuration option `ace`.")),this.theme=n.theme||v,this.theme===v&&i&&Object(p.tryRequireThemeJsonEditor)(),n.onTextSelectionChange&&this.onTextSelectionChange(n.onTextSelectionChange);var c=this;this.container=e,this.dom={},this.aceEditor=void 0,this.textarea=void 0,this.validateSchema=null,this.annotations=[],this.lastSchemaErrors=void 0,this._debouncedValidate=Object(l.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.frame.onclick=function(e){e.preventDefault()},this.frame.onkeydown=function(e){c._onKeyDown(e)};var h,u,m,y,b,C,w,_,x={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new d.a(x),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.options.mainMenuBar&&(Object(l.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(h=document.createElement("button")).type="button",h.className="jsoneditor-format",h.title=Object(o.c)("formatTitle"),this.menu.appendChild(h),h.onclick=function(){try{c.format(),c._onChange()}catch(e){c._onError(e)}},(u=document.createElement("button")).type="button",u.className="jsoneditor-compact",u.title=Object(o.c)("compactTitle"),this.menu.appendChild(u),u.onclick=function(){try{c.compact(),c._onChange()}catch(e){c._onError(e)}},this.options.enableSort&&((m=document.createElement("button")).type="button",m.className="jsoneditor-sort",m.title=Object(o.c)("sortTitleShort"),m.onclick=function(){c._showSortModal()},this.menu.appendChild(m)),this.options.enableTransform&&((y=document.createElement("button")).type="button",y.title=Object(o.c)("transformTitleShort"),y.className="jsoneditor-transform",y.onclick=function(){c._showTransformModal()},this.menu.appendChild(y)),(b=document.createElement("button")).type="button",b.className="jsoneditor-repair",b.title=Object(o.c)("repairTitle"),this.menu.appendChild(b),b.onclick=function(){try{c.repair(),c._onChange()}catch(e){c._onError(e)}},"code"===this.mode&&((C=document.createElement("button")).type="button",C.className="jsoneditor-undo jsoneditor-separator",C.title=Object(o.c)("undo"),C.onclick=function(){t.aceEditor.getSession().getUndoManager().undo()},this.menu.appendChild(C),this.dom.undo=C,(w=document.createElement("button")).type="button",w.className="jsoneditor-redo",w.title=Object(o.c)("redo"),w.onclick=function(){t.aceEditor.getSession().getUndoManager().redo()},this.menu.appendChild(w),this.dom.redo=w),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new s.a(this.menu,this.options.modes,this.options.mode,(function(e){c.setMode(e),c.modeSwitcher.focus()}))),"code"===this.mode&&((_=document.createElement("a")).appendChild(document.createTextNode("powered by ace")),_.href="https://ace.c9.io/",_.target="_blank",_.className="jsoneditor-poweredBy",_.onclick=function(){window.open(_.href,_.target,"noopener")},this.menu.appendChild(_)));var I,A,k,S,E,O,P,M,T,R,D,N=this.options.onEditable&&f("function"===this.options.onEditable)&&!this.options.onEditable({});this.frame.appendChild(this.content),this.container.appendChild(this.frame),"code"===this.mode?(this.editorDom=document.createElement("div"),this.editorDom.style.height="100%",this.editorDom.style.width="100%",this.content.appendChild(this.editorDom),A=(I=i.edit(this.editorDom)).getSession(),I.$blockScrolling=1/0,I.setTheme(this.theme),I.setOptions({readOnly:N}),I.setShowPrintMargin(!1),I.setFontSize("13px"),A.setMode("ace/mode/json"),A.setTabSize(this.indentation),A.setUseSoftTabs(!0),A.setUseWrapMode(!0),k=A.setAnnotations,A.setAnnotations=function(e){k.call(this,e&&e.length?e:c.annotations)},I.commands.bindKey("Ctrl-L",null),I.commands.bindKey("Command-L",null),I.commands.bindKey("Ctrl-\\",null),I.commands.bindKey("Command-\\",null),I.commands.bindKey("Ctrl-Shift-\\",null),I.commands.bindKey("Command-Shift-\\",null),(this.aceEditor=I).on("change",this._onChange.bind(this)),I.on("changeSelection",this._onSelect.bind(this))):((S=document.createElement("textarea")).className="jsoneditor-text",S.spellcheck=!1,this.content.appendChild(S),this.textarea=S,this.textarea.readOnly=N,null===this.textarea.oninput?this.textarea.oninput=this._onChange.bind(this):this.textarea.onchange=this._onChange.bind(this),S.onselect=this._onSelect.bind(this),S.onmousedown=this._onMouseDown.bind(this),S.onblur=this._onBlur.bind(this)),this._updateHistoryButtons(),this.errorTable=new a.a({errorTableVisible:"text"===this.mode,onToggleVisibility:function(){c.validate()},onFocusLine:function(e){c.isFocused=!0,isNaN(e)||c.setTextSelection({row:e,column:1},{row:e,column:1e3})},onChangeHeight:function(e){var t=e+(c.dom.statusBar?c.dom.statusBar.clientHeight:0)+1;c.content.style.marginBottom=-t+"px",c.content.style.paddingBottom=t+"px"}}),this.frame.appendChild(this.errorTable.getErrorTable()),n.statusBar&&(Object(l.addClassName)(this.content,"has-status-bar"),this.curserInfoElements={},E=document.createElement("div"),(this.dom.statusBar=E).className="jsoneditor-statusbar",this.frame.appendChild(E),(O=document.createElement("span")).className="jsoneditor-curserinfo-label",O.innerText="Ln:",(P=document.createElement("span")).className="jsoneditor-curserinfo-val",P.innerText="1",E.appendChild(O),E.appendChild(P),(M=document.createElement("span")).className="jsoneditor-curserinfo-label",M.innerText="Col:",(T=document.createElement("span")).className="jsoneditor-curserinfo-val",T.innerText="1",E.appendChild(M),E.appendChild(T),this.curserInfoElements.colVal=T,this.curserInfoElements.lnVal=P,(R=document.createElement("span")).className="jsoneditor-curserinfo-label",R.innerText="characters selected",R.style.display="none",(D=document.createElement("span")).className="jsoneditor-curserinfo-count",D.innerText="0",D.style.display="none",this.curserInfoElements.countLabel=R,this.curserInfoElements.countVal=D,E.appendChild(D),E.appendChild(R),E.appendChild(this.errorTable.getErrorCounter()),E.appendChild(this.errorTable.getWarningIcon()),E.appendChild(this.errorTable.getErrorIcon())),this.setSchema(this.options.schema,this.options.schemaRefs)},m._onChange=function(){var e=this;if(!this.onChangeDisabled){if(setTimeout((function(){return e._updateHistoryButtons()})),this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}}},m._updateHistoryButtons=function(){var e;this.aceEditor&&this.dom.undo&&this.dom.redo&&(e=this.aceEditor.getSession().getUndoManager())&&e.hasUndo&&e.hasRedo&&(this.dom.undo.disabled=!e.hasUndo(),this.dom.redo.disabled=!e.hasRedo())},m._showSortModal=function(){var e=this,t=this.options.modalAnchor||u.a,n=this.get();Object(c.showSortModal)(t,n,(function(t){var i,r;Array.isArray(n)&&(i=Object(l.sort)(n,t.path,t.direction),e.sortedBy=t,e.update(i)),Object(l.isObject)(n)&&(r=Object(l.sortObjectKeys)(n,t.direction),e.sortedBy=t,e.update(r))}),e.sortedBy)},m._showTransformModal=function(){var e=this,t=this.options,n=t.modalAnchor,i=t.createQuery,r=t.executeQuery,o=t.queryDescription,s=this.get();Object(h.showTransformModal)({container:n||u.a,json:s,queryDescription:o,createQuery:i,executeQuery:r,onTransform:function(t){var n=r(s,t);e.update(n)}})},m._onSelect=function(){this._updateCursorInfo(),this._emitSelectionChange()},m._onKeyDown=function(e){var t=!1;220===(e.which||e.keyCode)&&e.ctrlKey&&(e.shiftKey?this.compact():this.format(),this._onChange(),t=!0),t&&(e.preventDefault(),e.stopPropagation()),this._updateCursorInfo(),this._emitSelectionChange()},m._onMouseDown=function(){this._updateCursorInfo(),this._emitSelectionChange()},m._onBlur=function(){var e=this;setTimeout((function(){e.isFocused||(e._updateCursorInfo(),e._emitSelectionChange()),e.isFocused=!1}))},m._updateCursorInfo=function(){var e,t,n,i,r,o=this;function s(){o.curserInfoElements.countVal.innerText!==r&&(o.curserInfoElements.countVal.innerText=r,o.curserInfoElements.countVal.style.display=r?"inline":"none",o.curserInfoElements.countLabel.style.display=r?"inline":"none"),o.curserInfoElements.lnVal.innerText=n,o.curserInfoElements.colVal.innerText=i}this.textarea?setTimeout((function(){var e=Object(l.getInputSelection)(o.textarea);e.startIndex!==e.endIndex&&(r=e.endIndex-e.startIndex),i=r&&o.cursorInfo&&o.cursorInfo.line===e.end.row&&o.cursorInfo.column===e.end.column?(n=e.start.row,e.start.column):(n=e.end.row,e.end.column),o.cursorInfo={line:n,column:i,count:r},o.options.statusBar&&s()}),0):this.aceEditor&&this.curserInfoElements&&(e=this.aceEditor.getCursorPosition(),t=this.aceEditor.getSelectedText(),o.cursorInfo={line:n=e.row+1,column:i=e.column+1,count:r=t.length},this.options.statusBar&&s())},m._emitSelectionChange=function(){var e;this._selectionChangedHandler&&(e=this.getTextSelection(),this._selectionChangedHandler(e.start,e.end,e.text))},m._refreshAnnotations=function(){var e,t=this.aceEditor&&this.aceEditor.getSession();t&&(e=t.getAnnotations().filter((function(e){return"error"===e.type})),t.setAnnotations(e))},m.destroy=function(){this.aceEditor&&(this.aceEditor.destroy(),this.aceEditor=null),this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.textarea=null,this._debouncedValidate=null,this.frameFocusTracker.destroy()},m.compact=function(){var e=this.get(),t=JSON.stringify(e);this.updateText(t)},m.format=function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this.updateText(t)},m.repair=function(){var e=this.getText(),t=Object(l.repair)(e);this.updateText(t)},m.focus=function(){this.textarea&&this.textarea.focus(),this.aceEditor&&this.aceEditor.focus()},m.resize=function(){this.aceEditor&&this.aceEditor.resize(!1)},m.set=function(e){this.setText(JSON.stringify(e,null,this.indentation))},m.update=function(e){this.updateText(JSON.stringify(e,null,this.indentation))},m.get=function(){var e=this.getText();return Object(l.parse)(e)},m.getText=function(){return this.textarea?this.textarea.value:this.aceEditor?this.aceEditor.getValue():""},m._setText=function(e,t){var n,i=this,r=!0===this.options.escapeUnicode?Object(l.escapeUnicodeChars)(e):e;this.textarea&&(this.textarea.value=r),this.aceEditor&&(this.onChangeDisabled=!0,this.aceEditor.setValue(r,-1),this.onChangeDisabled=!1,t&&(n=this,setTimeout((function(){n.aceEditor&&n.aceEditor.session.getUndoManager().reset()}))),setTimeout((function(){return i._updateHistoryButtons()}))),this._debouncedValidate()},m.setText=function(e){this._setText(e,!0)},m.updateText=function(e){this.getText()!==e&&this._setText(e,!1)},m.validate=function(){var e,t,n=this,i=[],r=[];try{var o=this.get();this.validateSchema&&(this.validateSchema(o)||(i=this.validateSchema.errors.map((function(e){return e.type="validation",Object(l.improveSchemaError)(e)})))),this.validationSequence=(this.validationSequence||0)+1;var s=this,a=this.validationSequence;(function(e,t){if(!t)return Promise.resolve([]);try{var n=t(e);return(Object(l.isPromise)(n)?n:Promise.resolve(n)).then((function(e){return Array.isArray(e)?e.filter((function(e){var t=Object(l.isValidValidationError)(e);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',e),t})).map((function(e){return{dataPath:Object(l.stringifyPath)(e.path),message:e.message,type:"customValidation"}})):[]}))}catch(e){return Promise.reject(e)}})(o,this.options.onValidate).then((function(e){var t;a===s.validationSequence&&(t=i.concat(r).concat(e),s._renderErrors(t),"function"==typeof n.options.onValidationError&&(Object(l.isValidationErrorChanged)(t,n.lastSchemaErrors)&&n.options.onValidationError.call(n,t),n.lastSchemaErrors=t))})).catch((function(e){console.error("Custom validation function did throw an error",e)}))}catch(o){this.getText()&&((e=/\w*line\s*(\d+)\w*/g.exec(o.message))&&(t=+e[1]),r=[{type:"error",message:o.message.replace(/\n/g,"<br>"),line:t}]),this._renderErrors(r),"function"==typeof this.options.onValidationError&&(Object(l.isValidationErrorChanged)(r,this.lastSchemaErrors)&&this.options.onValidationError.call(this,r),this.lastSchemaErrors=r)}},m._renderErrors=function(e){var t=this.getText(),n=[];e.reduce((function(e,t){return"string"==typeof t.dataPath&&-1===e.indexOf(t.dataPath)&&e.push(t.dataPath),e}),n);var i=Object(l.getPositionForPath)(t,n);this.aceEditor&&(this.annotations=i.map((function(t){var n=e.filter((function(e){return e.dataPath===t.path})),i=n.map((function(e){return e.message})).join("\n");return i?{row:t.line,column:t.column,text:"Schema validation error"+(1!==n.length?"s":"")+": \n"+i,type:"warning",source:"jsoneditor"}:{}})),this._refreshAnnotations()),this.errorTable.setErrors(e,i),this.aceEditor&&this.aceEditor.resize(!1)},m.getTextSelection=function(){var e={};if(this.textarea){var t=Object(l.getInputSelection)(this.textarea);return this.cursorInfo&&this.cursorInfo.line===t.end.row&&this.cursorInfo.column===t.end.column?(e.start=t.end,e.end=t.start):e=t,{start:e.start,end:e.end,text:this.textarea.value.substring(t.startIndex,t.endIndex)}}if(this.aceEditor){var n=this.aceEditor.getSelection(),i=this.aceEditor.getSelectedText(),r=n.getRange(),o=n.getSelectionLead();return o.row===r.end.row&&o.column===r.end.column?e=r:(e.start=r.end,e.end=r.start),{start:{row:e.start.row+1,column:e.start.column+1},end:{row:e.end.row+1,column:e.end.column+1},text:i}}},m.onTextSelectionChange=function(e){"function"==typeof e&&(this._selectionChangedHandler=Object(l.debounce)(e,this.DEBOUNCE_INTERVAL))},m.setTextSelection=function(e,t){var n,i,r,o,s;e&&t&&(this.textarea?(n=Object(l.getIndexForPosition)(this.textarea,e.row,e.column),i=Object(l.getIndexForPosition)(this.textarea,t.row,t.column),-1<n&&-1<i&&(this.textarea.setSelectionRange?(this.textarea.focus(),this.textarea.setSelectionRange(n,i)):this.textarea.createTextRange&&((r=this.textarea.createTextRange()).collapse(!0),r.moveEnd("character",i),r.moveStart("character",n),r.select()),o=(this.textarea.value.match(/\n/g)||[]).length+1,this.textarea.scrollTop=(s=e.row*(this.textarea.scrollHeight/o))>this.textarea.clientHeight?s-this.textarea.clientHeight/2:0)):this.aceEditor&&(this.aceEditor.selection.setRange({start:{row:e.row-1,column:e.column-1},end:{row:t.row-1,column:t.column-1}}),this.aceEditor.scrollToLine(e.row-1,!0)))};var b=[{mode:"text",mixin:m,data:"text",load:y},{mode:"code",mixin:m,data:"text",load:y}]},function(e,t,n){var i,r=((i={trace:function(){},yy:{},symbols_:{error:2,JSONString:3,STRING:4,JSONNumber:5,NUMBER:6,JSONNullLiteral:7,NULL:8,JSONBooleanLiteral:9,TRUE:10,FALSE:11,JSONText:12,JSONValue:13,EOF:14,JSONObject:15,JSONArray:16,"{":17,"}":18,JSONMemberList:19,JSONMember:20,":":21,",":22,"[":23,"]":24,JSONElementList:25,$accept:0,$end:1},terminals_:{2:"error",4:"STRING",6:"NUMBER",8:"NULL",10:"TRUE",11:"FALSE",14:"EOF",17:"{",18:"}",21:":",22:",",23:"[",24:"]"},productions_:[0,[3,1],[5,1],[7,1],[9,1],[9,1],[12,2],[13,1],[13,1],[13,1],[13,1],[13,1],[13,1],[15,2],[15,3],[20,3],[19,1],[19,3],[16,2],[16,3],[25,1],[25,3]],performAction:function(e,t,n,i,r,o){var s=o.length-1;switch(r){case 1:this.$=e.replace(/\\(\\|")/g,"$1").replace(/\\n/g,"\n").replace(/\\r/g,"\r").replace(/\\t/g,"\t").replace(/\\v/g,"\v").replace(/\\f/g,"\f").replace(/\\b/g,"\b");break;case 2:this.$=Number(e);break;case 3:this.$=null;break;case 4:this.$=!0;break;case 5:this.$=!1;break;case 6:return this.$=o[s-1];case 13:this.$={};break;case 14:this.$=o[s-1];break;case 15:this.$=[o[s-2],o[s]];break;case 16:this.$={},this.$[o[s][0]]=o[s][1];break;case 17:this.$=o[s-2],o[s-2][o[s][0]]=o[s][1];break;case 18:this.$=[];break;case 19:this.$=o[s-1];break;case 20:this.$=[o[s]];break;case 21:this.$=o[s-2],o[s-2].push(o[s])}},table:[{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],12:1,13:2,15:7,16:8,17:[1,14],23:[1,15]},{1:[3]},{14:[1,16]},{14:[2,7],18:[2,7],22:[2,7],24:[2,7]},{14:[2,8],18:[2,8],22:[2,8],24:[2,8]},{14:[2,9],18:[2,9],22:[2,9],24:[2,9]},{14:[2,10],18:[2,10],22:[2,10],24:[2,10]},{14:[2,11],18:[2,11],22:[2,11],24:[2,11]},{14:[2,12],18:[2,12],22:[2,12],24:[2,12]},{14:[2,3],18:[2,3],22:[2,3],24:[2,3]},{14:[2,4],18:[2,4],22:[2,4],24:[2,4]},{14:[2,5],18:[2,5],22:[2,5],24:[2,5]},{14:[2,1],18:[2,1],21:[2,1],22:[2,1],24:[2,1]},{14:[2,2],18:[2,2],22:[2,2],24:[2,2]},{3:20,4:[1,12],18:[1,17],19:18,20:19},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:23,15:7,16:8,17:[1,14],23:[1,15],24:[1,21],25:22},{1:[2,6]},{14:[2,13],18:[2,13],22:[2,13],24:[2,13]},{18:[1,24],22:[1,25]},{18:[2,16],22:[2,16]},{21:[1,26]},{14:[2,18],18:[2,18],22:[2,18],24:[2,18]},{22:[1,28],24:[1,27]},{22:[2,20],24:[2,20]},{14:[2,14],18:[2,14],22:[2,14],24:[2,14]},{3:20,4:[1,12],20:29},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:30,15:7,16:8,17:[1,14],23:[1,15]},{14:[2,19],18:[2,19],22:[2,19],24:[2,19]},{3:5,4:[1,12],5:6,6:[1,13],7:3,8:[1,9],9:4,10:[1,10],11:[1,11],13:31,15:7,16:8,17:[1,14],23:[1,15]},{18:[2,17],22:[2,17]},{18:[2,15],22:[2,15]},{22:[2,21],24:[2,21]}],defaultActions:{16:[2,6]},parseError:function(e){throw new Error(e)},parse:function(e){var t=this,n=[0],i=[null],r=[],o=this.table,s="",a=0,l=0,c=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,void 0===this.lexer.yylloc&&(this.lexer.yylloc={});var h=this.lexer.yylloc;function d(){var e=t.lexer.lex()||1;return"number"!=typeof e&&(e=t.symbols_[e]||e),e}r.push(h),"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var u,p,g,f,m,v,y,b,C={};;){if(void 0===(f=this.defaultActions[g=n[n.length-1]]?this.defaultActions[g]:(null==u&&(u=d()),o[g]&&o[g][u]))||!f.length||!f[0]){if(!c){for(v in b=[],o[g])this.terminals_[v]&&2<v&&b.push("'"+this.terminals_[v]+"'");var w="";w=this.lexer.showPosition?"Parse error on line "+(a+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+b.join(", ")+", got '"+this.terminals_[u]+"'":"Parse error on line "+(a+1)+": Unexpected "+(1==u?"end of input":"'"+(this.terminals_[u]||u)+"'"),this.parseError(w,{text:this.lexer.match,token:this.terminals_[u]||u,line:this.lexer.yylineno,loc:h,expected:b})}if(3==c){if(1==u)throw new Error(w||"Parsing halted.");l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,h=this.lexer.yylloc,u=d()}for(;!(2..toString()in o[g]);){if(0==g)throw new Error(w||"Parsing halted.");n.length=n.length-2,i.length=i.length-1,r.length=r.length-1,g=n[n.length-1]}p=u,u=2,f=o[g=n[n.length-1]]&&o[g][2],c=3}if(f[0]instanceof Array&&1<f.length)throw new Error("Parse Error: multiple actions possible at state: "+g+", token: "+u);switch(f[0]){case 1:n.push(u),i.push(this.lexer.yytext),r.push(this.lexer.yylloc),n.push(f[1]),u=null,p?(u=p,p=null):(l=this.lexer.yyleng,s=this.lexer.yytext,a=this.lexer.yylineno,h=this.lexer.yylloc,0<c&&c--);break;case 2:if(C.$=i[i.length-(y=this.productions_[f[1]][1])],C._$={first_line:r[r.length-(y||1)].first_line,last_line:r[r.length-1].last_line,first_column:r[r.length-(y||1)].first_column,last_column:r[r.length-1].last_column},void 0!==(m=this.performAction.call(C,s,l,a,this.yy,f[1],i,r)))return m;y&&(n=n.slice(0,-1*y*2),i=i.slice(0,-1*y),r=r.slice(0,-1*y)),n.push(this.productions_[f[1]][0]),i.push(C.$),r.push(C._$),n.push(o[n[n.length-2]][n[n.length-1]]);break;case 3:return!0}}return!0}}).lexer={EOF:1,parseError:function(e,t){if(!this.yy.parseError)throw new Error(e);this.yy.parseError(e,t)},setInput:function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.match+=e,this.matched+=e,e.match(/\n/)&&this.yylineno++,this._input=this._input.slice(1),e},unput:function(e){return this._input=e+this._input,this},more:function(){return this._more=!0,this},less:function(e){this._input=this.match.slice(e)+this._input},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(20<e.length?"...":"")+e.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(20<e.length?"...":"")).replace(/\n/g,"")},showPosition:function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},next:function(){if(this.done)return this.EOF;var e,t,n,i,r;this._input||(this.done=!0),this._more||(this.yytext="",this.match="");for(var o=this._currentRules(),s=0;s<o.length&&(!(n=this._input.match(this.rules[o[s]]))||t&&!(n[0].length>t[0].length)||(t=n,i=s,this.options.flex));s++);return t?((r=t[0].match(/\n.*/g))&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-1:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.yyleng=this.yytext.length,this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,o[i],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e||void 0):""===this._input?this.EOF:void this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})},lex:function(){var e=this.next();return void 0!==e?e:this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.pop()},_currentRules:function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function(e){this.begin(e)},options:{},performAction:function(e,t,n){switch(n){case 0:break;case 1:return 6;case 2:return t.yytext=t.yytext.substr(1,t.yyleng-2),4;case 3:return 17;case 4:return 18;case 5:return 23;case 6:return 24;case 7:return 22;case 8:return 21;case 9:return 10;case 10:return 11;case 11:return 8;case 12:return 14;case 13:return"INVALID"}},rules:[/^(?:\s+)/,/^(?:(-?([0-9]|[1-9][0-9]+))(\.[0-9]+)?([eE][-+]?[0-9]+)?\b)/,/^(?:"(?:\\[\\"bfnrt/]|\\u[a-fA-F0-9]{4}|[^\\\0-\x09\x0a-\x1f"])*")/,/^(?:\{)/,/^(?:\})/,/^(?:\[)/,/^(?:\])/,/^(?:,)/,/^(?::)/,/^(?:true\b)/,/^(?:false\b)/,/^(?:null\b)/,/^(?:$)/,/^(?:.)/],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13],inclusive:!0}}},i);t.parser=r,t.parse=r.parse.bind(r)},function(e,t){e.exports=function(){throw new Error("define cannot be used indirect")}},function(e,t){function n(e){"remove"in e||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){void 0!==this.parentNode&&this.parentNode.removeChild(this)}})}"undefined"!=typeof Element&&(void 0!==window.Element&&n(window.Element.prototype),void 0!==window.CharacterData&&n(window.CharacterData.prototype),void 0!==window.DocumentType&&n(window.DocumentType.prototype)),Array.prototype.findIndex||Object.defineProperty(Array.prototype,"findIndex",{value:function(e){for(var t=0;t<this.length;t++)if(e.call(this,this[t],t,this))return t;return-1},configurable:!0,writable:!0}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){return this[this.findIndex(e)]},configurable:!0,writable:!0}),String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")})},function(e,t,n){"use strict";var i=n(7);e.exports=function(e){i.copy(e,this)}},function(e,t,n){"use strict";e.exports=function(e,t){"function"==typeof(t=t||{})&&(t={cmp:t});var n,i="boolean"==typeof t.cycles&&t.cycles,r=t.cmp&&(n=t.cmp,function(e){return function(t,i){return n({key:t,value:e[t]},{key:i,value:e[i]})}}),o=[];return function e(t){if(t&&t.toJSON&&"function"==typeof t.toJSON&&(t=t.toJSON()),void 0!==t){if("number"==typeof t)return isFinite(t)?""+t:"null";if("object"!=typeof t)return JSON.stringify(t);if(Array.isArray(t)){for(a="[",l=0;l<t.length;l++)l&&(a+=","),a+=e(t[l])||"null";return a+"]"}if(null===t)return"null";if(-1!==o.indexOf(t)){if(i)return JSON.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}for(var n=o.push(t)-1,s=Object.keys(t).sort(r&&r(t)),a="",l=0;l<s.length;l++){var c=s[l],h=e(t[c]);h&&(a&&(a+=","),a+=JSON.stringify(c)+":"+h)}return o.splice(n,1),"{"+a+"}"}}(e)}},function(e,t,n){"use strict";e.exports=function(e,t){var n="",i=!0===e.schema.$async,r=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),o=e.self._getId(e.schema);if(e.opts.strictKeywords){var s=e.util.schemaUnknownRules(e.schema,e.RULES.keywords);if(s){var a="unknown keyword: "+s;if("log"!==e.opts.strictKeywords)throw new Error(a);e.logger.warn(a)}}if(e.isTop&&(n+=" var validate = ",i&&(e.async=!0,n+="async "),n+="function(data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",o&&(e.opts.sourceCode||e.opts.processCode)&&(n+=" /*# sourceURL="+o+" */ ")),"boolean"==typeof e.schema||!r&&!e.schema.$ref){var l=e.level,c=e.dataLevel,h=e.schema[t="false schema"],d=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,p=!e.opts.allErrors,g="data"+(c||""),f="valid"+l;return!1===e.schema?(e.isTop?p=!0:n+=" var "+f+" = false; ",(W=W||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'false schema' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'boolean schema is false' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ",P=n,n=W.pop(),n+=!e.compositeRule&&p?e.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "):n+=e.isTop?i?" return data; ":" validate.errors = null; return true; ":" var "+f+" = true; ",e.isTop&&(n+=" }; return validate; "),n}if(e.isTop){var m=e.isTop;if(l=e.level=0,c=e.dataLevel=0,g="data",e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[""],void 0!==e.schema.default&&e.opts.useDefaults&&e.opts.strictDefaults){var v="default is ignored in the schema root";if("log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}n+=" var vErrors = null; ",n+=" var errors = 0;     ",n+=" if (rootData === undefined) rootData = data; "}else{if(l=e.level,g="data"+((c=e.dataLevel)||""),o&&(e.baseId=e.resolve.url(e.baseId,o)),i&&!e.async)throw new Error("async schema in sync schema");n+=" var errs_"+l+" = errors;"}f="valid"+l,p=!e.opts.allErrors;var y,b="",C="",w=e.schema.type,_=Array.isArray(w);if(w&&e.opts.nullable&&!0===e.schema.nullable&&(_?-1==w.indexOf("null")&&(w=w.concat("null")):"null"!=w&&(w=[w,"null"],_=!0)),_&&1==w.length&&(w=w[0],_=!1),e.schema.$ref&&r){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(r=!1,e.logger.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(e.schema.$comment&&e.opts.$comment&&(n+=" "+e.RULES.all.$comment.code(e,"$comment")),w){e.opts.coerceTypes&&(y=e.util.coerceToTypes(e.opts.coerceTypes,w));var x=e.RULES.types[w];if(y||_||!0===x||x&&!Y(x)){if(d=e.schemaPath+".type",u=e.errSchemaPath+"/type",d=e.schemaPath+".type",u=e.errSchemaPath+"/type",n+=" if ("+e.util[_?"checkDataTypes":"checkDataType"](w,g,e.opts.strictNumbers,!0)+") { ",y){var I="dataType"+l,A="coerced"+l;n+=" var "+I+" = typeof "+g+"; var "+A+" = undefined; ","array"==e.opts.coerceTypes&&(n+=" if ("+I+" == 'object' && Array.isArray("+g+") && "+g+".length == 1) { "+g+" = "+g+"[0]; "+I+" = typeof "+g+"; if ("+e.util.checkDataType(e.schema.type,g,e.opts.strictNumbers)+") "+A+" = "+g+"; } "),n+=" if ("+A+" !== undefined) ; ";var k=y;if(k)for(var S,E=-1,O=k.length-1;E<O;)"string"==(S=k[E+=1])?n+=" else if ("+I+" == 'number' || "+I+" == 'boolean') "+A+" = '' + "+g+"; else if ("+g+" === null) "+A+" = ''; ":"number"==S||"integer"==S?(n+=" else if ("+I+" == 'boolean' || "+g+" === null || ("+I+" == 'string' && "+g+" && "+g+" == +"+g+" ","integer"==S&&(n+=" && !("+g+" % 1)"),n+=")) "+A+" = +"+g+"; "):"boolean"==S?n+=" else if ("+g+" === 'false' || "+g+" === 0 || "+g+" === null) "+A+" = false; else if ("+g+" === 'true' || "+g+" === 1) "+A+" = true; ":"null"==S?n+=" else if ("+g+" === '' || "+g+" === 0 || "+g+" === false) "+A+" = null; ":"array"==e.opts.coerceTypes&&"array"==S&&(n+=" else if ("+I+" == 'string' || "+I+" == 'number' || "+I+" == 'boolean' || "+g+" == null) "+A+" = ["+g+"]; ");(W=W||[]).push(n+=" else {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { type: '",n+=_?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ";var P=n;n=W.pop(),n+=!e.compositeRule&&p?e.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } if ("+A+" !== undefined) {  ";var M=c?"data"+(c-1||""):"parentData";n+=" "+g+" = "+A+"; ",c||(n+="if ("+M+" !== undefined)"),n+=" "+M+"["+(c?e.dataPathArr[c]:"parentDataProperty")+"] = "+A+"; } "}else(W=W||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { type: '",n+=_?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ",P=n,n=W.pop(),n+=!e.compositeRule&&p?e.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";n+=" } "}}if(e.schema.$ref&&!r)n+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(n+=" } if (errors === ",n+=m?"0":"errs_"+l,n+=") { ",C+="}");else{var T=e.RULES;if(T)for(var R=-1,D=T.length-1;R<D;)if(Y(x=T[R+=1])){if(x.type&&(n+=" if ("+e.util.checkDataType(x.type,g,e.opts.strictNumbers)+") { "),e.opts.useDefaults)if("object"==x.type&&e.schema.properties){h=e.schema.properties;var N=Object.keys(h);if(N)for(var L,B=-1,F=N.length-1;B<F;)if(void 0!==(H=h[L=N[B+=1]]).default){var V=g+e.util.getProperty(L);if(e.compositeRule){if(e.opts.strictDefaults){if(v="default is ignored for: "+V,"log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}}else n+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+V+" === null || "+V+" === '' "),n+=" ) "+V+" = ",n+="shared"==e.opts.useDefaults?" "+e.useDefault(H.default)+" ":" "+JSON.stringify(H.default)+" ",n+="; "}}else if("array"==x.type&&Array.isArray(e.schema.items)){var $=e.schema.items;if($){E=-1;for(var H,j=$.length-1;E<j;)if(void 0!==(H=$[E+=1]).default)if(V=g+"["+E+"]",e.compositeRule){if(e.opts.strictDefaults){if(v="default is ignored for: "+V,"log"!==e.opts.strictDefaults)throw new Error(v);e.logger.warn(v)}}else n+=" if ("+V+" === undefined ","empty"==e.opts.useDefaults&&(n+=" || "+V+" === null || "+V+" === '' "),n+=" ) "+V+" = ",n+="shared"==e.opts.useDefaults?" "+e.useDefault(H.default)+" ":" "+JSON.stringify(H.default)+" ",n+="; "}}var W,z=x.rules;if(z)for(var G,Z,K=-1,X=z.length-1;K<X;)!U(Z=z[K+=1])||(G=Z.code(e,Z.keyword,x.type))&&(n+=" "+G+" ",p&&(b+="}"));p&&(n+=" "+b+" ",b=""),x.type&&(n+=" } ",w&&w===x.type&&!y&&(d=e.schemaPath+".type",u=e.errSchemaPath+"/type",(W=W||[]).push(n+=" else { "),n="",!1!==e.createErrors?(n+=" { keyword: 'type' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { type: '",n+=_?""+w.join(","):""+w,n+="' } ",!1!==e.opts.messages&&(n+=" , message: 'should be ",n+=_?""+w.join(","):""+w,n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+g+" "),n+=" } "):n+=" {} ",P=n,n=W.pop(),n+=!e.compositeRule&&p?e.async?" throw new ValidationError(["+P+"]); ":" validate.errors = ["+P+"]; return false; ":" var err = "+P+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ")),p&&(n+=" if (errors === ",n+=m?"0":"errs_"+l,n+=") { ",C+="}")}}function Y(e){for(var t=e.rules,n=0;n<t.length;n++)if(U(t[n]))return 1}function U(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,i=0;i<n.length;i++)if(void 0!==e.schema[n[i]])return 1}(t)}return p&&(n+=" "+C+" "),m?(i?(n+=" if (errors === 0) return data;           ",n+=" else throw new ValidationError(vErrors); "):(n+=" validate.errors = vErrors; ",n+=" return errors === 0;       "),n+=" }; return validate;"):n+=" var "+f+" = errors === errs_"+l+";",n}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,s,a,l,c=" ",h=e.level,d=e.dataLevel,u=e.schema[t],p=e.schemaPath+e.util.getProperty(t),g=e.errSchemaPath+"/"+t,f=!e.opts.allErrors,m="data"+(d||""),v=e.opts.$data&&u&&u.$data,y=v?(c+=" var schema"+h+" = "+e.util.getData(u.$data,d,e.dataPathArr)+"; ","schema"+h):u,b="maximum"==t,C=b?"exclusiveMaximum":"exclusiveMinimum",w=e.schema[C],_=e.opts.$data&&w&&w.$data,x=b?"<":">",I=b?">":"<",A=void 0;if(!v&&"number"!=typeof u&&void 0!==u)throw new Error(t+" must be number");if(!_&&void 0!==w&&"number"!=typeof w&&"boolean"!=typeof w)throw new Error(C+" must be number or boolean");_?(o="exclIsNumber"+h,s="' + "+(a="op"+h)+" + '",c+=" var schemaExcl"+h+" = "+e.util.getData(w.$data,d,e.dataPathArr)+"; ",A=C,(l=l||[]).push(c+=" var "+(i="exclusive"+h)+"; var "+(r="exclType"+h)+" = typeof "+(n="schemaExcl"+h)+"; if ("+r+" != 'boolean' && "+r+" != 'undefined' && "+r+" != 'number') { "),c="",!1!==e.createErrors?(c+=" { keyword: '"+(A||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: {} ",!1!==e.opts.messages&&(c+=" , message: '"+C+" should be boolean' "),e.opts.verbose&&(c+=" , schema: validate.schema"+p+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),c+=" } "):c+=" {} ",k=c,c=l.pop(),c+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c+=" } else if ( ",v&&(c+=" ("+y+" !== undefined && typeof "+y+" != 'number') || "),c+=" "+r+" == 'number' ? ( ("+i+" = "+y+" === undefined || "+n+" "+x+"= "+y+") ? "+m+" "+I+"= "+n+" : "+m+" "+I+" "+y+" ) : ( ("+i+" = "+n+" === true) ? "+m+" "+I+"= "+y+" : "+m+" "+I+" "+y+" ) || "+m+" !== "+m+") { var op"+h+" = "+i+" ? '"+x+"' : '"+x+"='; ",void 0===u&&(A=C,g=e.errSchemaPath+"/"+C,y=n,v=_)):(s=x,(o="number"==typeof w)&&v?(a="'"+s+"'",c+=" if ( ",v&&(c+=" ("+y+" !== undefined && typeof "+y+" != 'number') || "),c+=" ( "+y+" === undefined || "+w+" "+x+"= "+y+" ? "+m+" "+I+"= "+w+" : "+m+" "+I+" "+y+" ) || "+m+" !== "+m+") { "):(o&&void 0===u?(i=!0,A=C,g=e.errSchemaPath+"/"+C,y=w,I+="="):(o&&(y=Math[b?"min":"max"](w,u)),w===(!o||y)?(i=!0,A=C,g=e.errSchemaPath+"/"+C,I+="="):(i=!1,s+="=")),a="'"+s+"'",c+=" if ( ",v&&(c+=" ("+y+" !== undefined && typeof "+y+" != 'number') || "),c+=" "+m+" "+I+" "+y+" || "+m+" !== "+m+") { ")),A=A||t,(l=l||[]).push(c),c="",!1!==e.createErrors?(c+=" { keyword: '"+(A||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(g)+" , params: { comparison: "+a+", limit: "+y+", exclusive: "+i+" } ",!1!==e.opts.messages&&(c+=" , message: 'should be "+s+" ",c+=v?"' + "+y:y+"'"),e.opts.verbose&&(c+=" , schema:  ",c+=v?"validate.schema"+p:""+u,c+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+m+" "),c+=" } "):c+=" {} ";var k=c;return c=l.pop(),c+=!e.compositeRule&&f?e.async?" throw new ValidationError(["+k+"]); ":" validate.errors = ["+k+"]; return false; ":" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c+=" } ",f&&(c+=" else { "),c}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h=e.opts.$data&&o&&o.$data,d=h?(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; ","schema"+i):o;if(!h&&"number"!=typeof o)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || ");var u=t,p=p||[];p.push(n+=" "+c+".length "+("maxItems"==t?">":"<")+" "+d+") { "),n="",!1!==e.createErrors?(n+=" { keyword: '"+(u||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+d+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxItems"==t?"more":"fewer",n+=" than ",n+=h?"' + "+d+" + '":""+o,n+=" items' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var g=n;return n=p.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h=e.opts.$data&&o&&o.$data,d=h?(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; ","schema"+i):o;if(!h&&"number"!=typeof o)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || "),n+=!1===e.opts.unicode?" "+c+".length ":" ucs2length("+c+") ";var u=t,p=p||[];p.push(n+=" "+("maxLength"==t?">":"<")+" "+d+") { "),n="",!1!==e.createErrors?(n+=" { keyword: '"+(u||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+d+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be ",n+="maxLength"==t?"longer":"shorter",n+=" than ",n+=h?"' + "+d+" + '":""+o,n+=" characters' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var g=n;return n=p.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h=e.opts.$data&&o&&o.$data,d=h?(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; ","schema"+i):o;if(!h&&"number"!=typeof o)throw new Error(t+" must be number");n+="if ( ",h&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'number') || ");var u=t,p=p||[];p.push(n+=" Object.keys("+c+").length "+("maxProperties"==t?">":"<")+" "+d+") { "),n="",!1!==e.createErrors?(n+=" { keyword: '"+(u||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+d+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have ",n+="maxProperties"==t?"more":"fewer",n+=" than ",n+=h?"' + "+d+" + '":""+o,n+=" properties' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var g=n;return n=p.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+g+"]); ":" validate.errors = ["+g+"]; return false; ":" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"http://json-schema.org/draft-07/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"$comment":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":true,"readOnly":{"type":"boolean","default":false},"examples":{"type":"array","items":true},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":true},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"propertyNames":{"format":"regex"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":true,"enum":{"type":"array","items":true,"minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"contentMediaType":{"type":"string"},"contentEncoding":{"type":"string"},"if":{"$ref":"#"},"then":{"$ref":"#"},"else":{"$ref":"#"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":true}')},function(e,t,n){"use strict";var i={b:"\b",f:"\f",n:"\n",r:"\r",t:"\t",'"':'"',"/":"/","\\":"\\"},r="a".charCodeAt();t.parse=function(e,t,n){var o={},s=0,a=0,l=0,c=n&&n.bigint&&"undefined"!=typeof BigInt;return{data:function t(n,i){var r;h(),v(n,"value");var o=p();switch(o){case"t":u("rue"),r=!0;break;case"f":u("alse"),r=!1;break;case"n":u("ull"),r=null;break;case'"':r=d();break;case"[":r=function(e){h();var n=[],i=0;if("]"==p())return n;for(g();;){n.push(t(e+"/"+i)),h();var r=p();if("]"==r)break;","!=r&&w(),h(),i++}return n}(n);break;case"{":r=function(e){h();var n={};if("}"==p())return n;for(g();;){var i=b();'"'!=p()&&w();var r=d(),o=e+"/"+m(r);y(o,"key",i),v(o,"keyEnd"),h(),":"!=p()&&w(),h(),n[r]=t(o),h();var s=p();if("}"==s)break;","!=s&&w(),h()}return n}(n);break;default:g(),0<="-0123456789".indexOf(o)?r=function(){var t="",n=!0;"-"==e[l]&&(t+=p()),t+=("0"==e[l]?p:f)(),"."==e[l]&&(t+=p()+f(),n=!1),"e"!=e[l]&&"E"!=e[l]||(t+=p(),"+"!=e[l]&&"-"!=e[l]||(t+=p()),t+=f(),n=!1);var i=+t;return c&&n&&(i>Number.MAX_SAFE_INTEGER||i<Number.MIN_SAFE_INTEGER)?BigInt(t):i}():C()}return v(n,"valueEnd"),h(),i&&l<e.length&&C(),r}("",!0),pointers:o};function h(){e:for(;l<e.length;){switch(e[l]){case" ":a++;break;case"\t":a+=4;break;case"\r":a=0;break;case"\n":a=0,s++;break;default:break e}l++}}function d(){for(var e,t="";'"'!=(e=p());)"\\"==e?(e=p())in i?t+=i[e]:"u"==e?t+=function(){for(var e=4,t=0;e--;){t<<=4;var n=p().toLowerCase();"a"<=n&&n<="f"?t+=n.charCodeAt()-r+10:"0"<=n&&n<="9"?t+=+n:w()}return String.fromCharCode(t)}():w():t+=e;return t}function u(e){for(var t=0;t<e.length;t++)p()!==e[t]&&w()}function p(){_();var t=e[l];return l++,a++,t}function g(){l--,a--}function f(){for(var t="";"0"<=e[l]&&e[l]<="9";)t+=p();if(t.length)return t;_(),C()}function v(e,t){y(e,t,b())}function y(e,t,n){o[e]=o[e]||{},o[e][t]=n}function b(){return{line:s,column:a,pos:l}}function C(){throw new SyntaxError("Unexpected token "+e[l]+" in JSON at position "+l)}function w(){g(),C()}function _(){if(l>=e.length)throw new SyntaxError("Unexpected end of JSON input")}},t.stringify=function(e,t,n){if(s(e)){var i=0;switch(typeof(o="object"==typeof n?n.space:n)){case"number":var r=10<o?10:o<0?0:Math.floor(o),o=r&&w(r," "),a=r,l=r;break;case"string":o=o.slice(0,10);for(var c=l=a=0;c<o.length;c++){switch(o[c]){case" ":l++;break;case"\t":l+=4;break;case"\r":l=0;break;case"\n":l=0,i++;break;default:throw new Error("whitespace characters not allowed in JSON")}a++}break;default:o=void 0}var h="",d={},u=0,g=0,f=0,v=n&&n.es6&&"function"==typeof Map;return function e(t,n,i){switch(C(i,"value"),typeof t){case"number":case"bigint":case"boolean":y(""+t);break;case"string":y(p(t));break;case"object":null===t?y("null"):"function"==typeof t.toJSON?y(p(t.toJSON())):Array.isArray(t)?r():v?t.constructor.BYTES_PER_ELEMENT?r():t instanceof Map?l():t instanceof Set?l(!0):a():a()}function r(){if(t.length){y("[");for(var r=n+1,o=0;o<t.length;o++){o&&y(","),b(r);var a=s(t[o])?t[o]:null;e(a,r,i+"/"+o)}b(n),y("]")}else y("[]")}function a(){var r=Object.keys(t);if(r.length){y("{");for(var a=n+1,l=0;l<r.length;l++){var c,h=r[l],d=t[h];s(d)&&(l&&y(","),c=i+"/"+m(h),b(a),C(c,"key"),y(p(h)),C(c,"keyEnd"),y(":"),o&&y(" "),e(d,a,c))}b(n),y("}")}else y("{}")}function l(r){if(t.size){y("{");for(var a=n+1,l=!0,c=t.entries(),h=c.next();!h.done;){var d,u=h.value,g=u[0],f=!!r||u[1];s(f)&&(l||y(","),l=!1,d=i+"/"+m(g),b(a),C(d,"key"),y(p(g)),C(d,"keyEnd"),y(":"),o&&y(" "),e(f,a,d)),h=c.next()}b(n),y("}")}else y("{}")}C(i,"valueEnd")}(e,0,""),{json:h,pointers:d}}function y(e){g+=e.length,f+=e.length,h+=e}function b(e){if(o){for(h+="\n"+w(e,o),u++,g=0;e--;)i?(u+=i,g=l):g+=l,f+=a;f+=1}}function C(e,t){d[e]=d[e]||{},d[e][t]={line:u,column:g,pos:f}}function w(e,t){return Array(e+1).join(t)}};var o=["number","bigint","boolean","string","object"];function s(e){return 0<=o.indexOf(typeof e)}var a=/"|\\/g,l=/[\b]/g,c=/\f/g,h=/\n/g,d=/\r/g,u=/\t/g;function p(e){return'"'+(e=e.replace(a,"\\$&").replace(c,"\\f").replace(l,"\\b").replace(h,"\\n").replace(d,"\\r").replace(u,"\\t"))+'"'}var g=/~/g,f=/\//g;function m(e){return e.replace(g,"~0").replace(f,"~1")}},function(e,t,n){!function(e){"use strict";function t(e){return null!==e&&"[object Array]"===Object.prototype.toString.call(e)}function n(e){return null!==e&&"[object Object]"===Object.prototype.toString.call(e)}function i(e,r){if(e===r)return!0;if(Object.prototype.toString.call(e)!==Object.prototype.toString.call(r))return!1;if(!0===t(e)){if(e.length!==r.length)return!1;for(var o=0;o<e.length;o++)if(!1===i(e[o],r[o]))return!1;return!0}if(!0!==n(e))return!1;var s,a,l={};for(s in e)if(hasOwnProperty.call(e,s)){if(!1===i(e[s],r[s]))return!1;l[s]=!0}for(a in r)if(hasOwnProperty.call(r,a)&&!0!==l[a])return!1;return!0}function r(e){if(""===e||!1===e||null===e)return!0;if(t(e)&&0===e.length)return!0;if(n(e)){for(var i in e)if(e.hasOwnProperty(i))return!1;return!0}return!1}var o="function"==typeof String.prototype.trimLeft?function(e){return e.trimLeft()}:function(e){return e.match(/^\s*(.*)/)[1]},s=0,a=2,l="UnquotedIdentifier",c="QuotedIdentifier",h="Rbracket",d="Rparen",u="Comma",p="Colon",g="Rbrace",f="Number",m="Current",v="Expref",y="Pipe",b="GTE",C="LTE",w="Flatten",_="Star",x="Filter",I="Dot",A="Lbrace",k="Lbracket",S="Lparen",E="Literal",O={".":I,"*":_,",":u,":":p,"{":A,"}":g,"]":h,"(":S,")":d,"@":m},P={"<":!0,">":!0,"=":!0,"!":!0},M={" ":!0,"\t":!0,"\n":!0};function T(e){return"0"<=e&&e<="9"||"-"===e}function R(){}R.prototype={tokenize:function(e){var t,n,i,r,o=[];for(this._current=0;this._current<e.length;)if("a"<=(r=e[this._current])&&r<="z"||"A"<=r&&r<="Z"||"_"===r)t=this._current,n=this._consumeUnquotedIdentifier(e),o.push({type:l,value:n,start:t});else if(void 0!==O[e[this._current]])o.push({type:O[e[this._current]],value:e[this._current],start:this._current}),this._current++;else if(T(e[this._current]))i=this._consumeNumber(e),o.push(i);else if("["===e[this._current])i=this._consumeLBracket(e),o.push(i);else if('"'===e[this._current])t=this._current,n=this._consumeQuotedIdentifier(e),o.push({type:c,value:n,start:t});else if("'"===e[this._current])t=this._current,n=this._consumeRawStringLiteral(e),o.push({type:E,value:n,start:t});else if("`"===e[this._current]){t=this._current;var s=this._consumeLiteral(e);o.push({type:E,value:s,start:t})}else if(void 0!==P[e[this._current]])o.push(this._consumeOperator(e));else if(void 0!==M[e[this._current]])this._current++;else if("&"===e[this._current])t=this._current,this._current++,"&"===e[this._current]?(this._current++,o.push({type:"And",value:"&&",start:t})):o.push({type:v,value:"&",start:t});else{if("|"!==e[this._current]){var a=new Error("Unknown character:"+e[this._current]);throw a.name="LexerError",a}t=this._current,this._current++,"|"===e[this._current]?(this._current++,o.push({type:"Or",value:"||",start:t})):o.push({type:y,value:"|",start:t})}return o},_consumeUnquotedIdentifier:function(e){var t,n=this._current;for(this._current++;this._current<e.length&&("a"<=(t=e[this._current])&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||"_"===t);)this._current++;return e.slice(n,this._current)},_consumeQuotedIdentifier:function(e){var t=this._current;this._current++;for(var n=e.length;'"'!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&'"'!==e[i+1]?i++:i+=2,this._current=i}return this._current++,JSON.parse(e.slice(t,this._current))},_consumeRawStringLiteral:function(e){var t=this._current;this._current++;for(var n=e.length;"'"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"'"!==e[i+1]?i++:i+=2,this._current=i}return this._current++,e.slice(t+1,this._current-1).replace("\\'","'")},_consumeNumber:function(e){var t=this._current;this._current++;for(var n=e.length;T(e[this._current])&&this._current<n;)this._current++;var i=parseInt(e.slice(t,this._current));return{type:f,value:i,start:t}},_consumeLBracket:function(e){var t=this._current;return this._current++,"?"===e[this._current]?(this._current++,{type:x,value:"[?",start:t}):"]"===e[this._current]?(this._current++,{type:w,value:"[]",start:t}):{type:k,value:"[",start:t}},_consumeOperator:function(e){var t=this._current,n=e[t];return this._current++,"!"===n?"="===e[this._current]?(this._current++,{type:"NE",value:"!=",start:t}):{type:"Not",value:"!",start:t}:"<"===n?"="===e[this._current]?(this._current++,{type:C,value:"<=",start:t}):{type:"LT",value:"<",start:t}:">"===n?"="===e[this._current]?(this._current++,{type:b,value:">=",start:t}):{type:"GT",value:">",start:t}:"="===n&&"="===e[this._current]?(this._current++,{type:"EQ",value:"==",start:t}):void 0},_consumeLiteral:function(e){this._current++;for(var t=this._current,n=e.length;"`"!==e[this._current]&&this._current<n;){var i=this._current;"\\"!==e[i]||"\\"!==e[i+1]&&"`"!==e[i+1]?i++:i+=2,this._current=i}var r=(r=o(e.slice(t,this._current))).replace("\\`","`"),s=this._looksLikeJSON(r)?JSON.parse(r):JSON.parse('"'+r+'"');return this._current++,s},_looksLikeJSON:function(e){if(""===e)return!1;if(0<='[{"'.indexOf(e[0]))return!0;if(0<=["true","false","null"].indexOf(e))return!0;if(!(0<="-0123456789".indexOf(e[0])))return!1;try{return JSON.parse(e),!0}catch(e){return!1}}};var D={};function N(){}function L(e){this.runtime=e}function B(e){this._interpreter=e,this.functionTable={abs:{_func:this._functionAbs,_signature:[{types:[s]}]},avg:{_func:this._functionAvg,_signature:[{types:[8]}]},ceil:{_func:this._functionCeil,_signature:[{types:[s]}]},contains:{_func:this._functionContains,_signature:[{types:[a,3]},{types:[1]}]},ends_with:{_func:this._functionEndsWith,_signature:[{types:[a]},{types:[a]}]},floor:{_func:this._functionFloor,_signature:[{types:[s]}]},length:{_func:this._functionLength,_signature:[{types:[a,3,4]}]},map:{_func:this._functionMap,_signature:[{types:[6]},{types:[3]}]},max:{_func:this._functionMax,_signature:[{types:[8,9]}]},merge:{_func:this._functionMerge,_signature:[{types:[4],variadic:!0}]},max_by:{_func:this._functionMaxBy,_signature:[{types:[3]},{types:[6]}]},sum:{_func:this._functionSum,_signature:[{types:[8]}]},starts_with:{_func:this._functionStartsWith,_signature:[{types:[a]},{types:[a]}]},min:{_func:this._functionMin,_signature:[{types:[8,9]}]},min_by:{_func:this._functionMinBy,_signature:[{types:[3]},{types:[6]}]},type:{_func:this._functionType,_signature:[{types:[1]}]},keys:{_func:this._functionKeys,_signature:[{types:[4]}]},values:{_func:this._functionValues,_signature:[{types:[4]}]},sort:{_func:this._functionSort,_signature:[{types:[9,8]}]},sort_by:{_func:this._functionSortBy,_signature:[{types:[3]},{types:[6]}]},join:{_func:this._functionJoin,_signature:[{types:[a]},{types:[9]}]},reverse:{_func:this._functionReverse,_signature:[{types:[a,3]}]},to_array:{_func:this._functionToArray,_signature:[{types:[1]}]},to_string:{_func:this._functionToString,_signature:[{types:[1]}]},to_number:{_func:this._functionToNumber,_signature:[{types:[1]}]},not_null:{_func:this._functionNotNull,_signature:[{types:[1],variadic:!0}]}}}D.EOF=0,D[l]=0,D[c]=0,D[h]=0,D[d]=0,D[u]=0,D[g]=0,D[f]=0,D[m]=0,D[v]=0,D[y]=1,D.Or=2,D.And=3,D.EQ=5,D.GT=5,D.LT=5,D.GTE=5,D.LTE=5,D.NE=5,D[w]=9,D[_]=20,D[x]=21,D.Dot=40,D.Not=45,D[A]=50,D[k]=55,D[S]=60,N.prototype={parse:function(e){this._loadTokens(e),this.index=0;var t=this.expression(0);if("EOF"===this._lookahead(0))return t;var n=this._lookaheadToken(0),i=new Error("Unexpected token type: "+n.type+", value: "+n.value);throw i.name="ParserError",i},_loadTokens:function(e){var t=(new R).tokenize(e);t.push({type:"EOF",value:"",start:e.length}),this.tokens=t},expression:function(e){var t=this._lookaheadToken(0);this._advance();for(var n=this.nud(t),i=this._lookahead(0);e<D[i];)this._advance(),n=this.led(i,n),i=this._lookahead(0);return n},_lookahead:function(e){return this.tokens[this.index+e].type},_lookaheadToken:function(e){return this.tokens[this.index+e]},_advance:function(){this.index++},nud:function(e){var t,n;switch(e.type){case E:return{type:"Literal",value:e.value};case l:return{type:"Field",name:e.value};case c:var i={type:"Field",name:e.value};if(this._lookahead(0)===S)throw new Error("Quoted identifier not allowed for function names.");return i;case"Not":return{type:"NotExpression",children:[t=this.expression(D.Not)]};case _:return t=null,{type:"ValueProjection",children:[{type:"Identity"},t=this._lookahead(0)===h?{type:"Identity"}:this._parseProjectionRHS(D.Star)]};case x:return this.led(e.type,{type:"Identity"});case A:return this._parseMultiselectHash();case w:return{type:"Projection",children:[{type:w,children:[{type:"Identity"}]},t=this._parseProjectionRHS(D.Flatten)]};case k:return this._lookahead(0)===f||this._lookahead(0)===p?(t=this._parseIndexExpression(),this._projectIfSlice({type:"Identity"},t)):this._lookahead(0)===_&&this._lookahead(1)===h?(this._advance(),this._advance(),{type:"Projection",children:[{type:"Identity"},t=this._parseProjectionRHS(D.Star)]}):this._parseMultiselectList();case m:return{type:m};case v:return{type:"ExpressionReference",children:[n=this.expression(D.Expref)]};case S:for(var r=[];this._lookahead(0)!==d;)this._lookahead(0)===m?(n={type:m},this._advance()):n=this.expression(0),r.push(n);return this._match(d),r[0];default:this._errorToken(e)}},led:function(e,t){var n;switch(e){case I:var i=D.Dot;return this._lookahead(0)!==_?{type:"Subexpression",children:[t,n=this._parseDotRHS(i)]}:(this._advance(),{type:"ValueProjection",children:[t,n=this._parseProjectionRHS(i)]});case y:return n=this.expression(D.Pipe),{type:y,children:[t,n]};case"Or":return{type:"OrExpression",children:[t,n=this.expression(D.Or)]};case"And":return{type:"AndExpression",children:[t,n=this.expression(D.And)]};case S:for(var r,o=t.name,s=[];this._lookahead(0)!==d;)this._lookahead(0)===m?(r={type:m},this._advance()):r=this.expression(0),this._lookahead(0)===u&&this._match(u),s.push(r);return this._match(d),{type:"Function",name:o,children:s};case x:var a=this.expression(0);return this._match(h),{type:"FilterProjection",children:[t,n=this._lookahead(0)===w?{type:"Identity"}:this._parseProjectionRHS(D.Filter),a]};case w:return{type:"Projection",children:[{type:w,children:[t]},this._parseProjectionRHS(D.Flatten)]};case"EQ":case"NE":case"GT":case b:case"LT":case C:return this._parseComparator(t,e);case k:var l=this._lookaheadToken(0);return l.type===f||l.type===p?(n=this._parseIndexExpression(),this._projectIfSlice(t,n)):(this._match(_),this._match(h),{type:"Projection",children:[t,n=this._parseProjectionRHS(D.Star)]});default:this._errorToken(this._lookaheadToken(0))}},_match:function(e){if(this._lookahead(0)!==e){var t=this._lookaheadToken(0),n=new Error("Expected "+e+", got: "+t.type);throw n.name="ParserError",n}this._advance()},_errorToken:function(e){var t=new Error("Invalid token ("+e.type+'): "'+e.value+'"');throw t.name="ParserError",t},_parseIndexExpression:function(){if(this._lookahead(0)===p||this._lookahead(1)===p)return this._parseSliceExpression();var e={type:"Index",value:this._lookaheadToken(0).value};return this._advance(),this._match(h),e},_projectIfSlice:function(e,t){var n={type:"IndexExpression",children:[e,t]};return"Slice"===t.type?{type:"Projection",children:[n,this._parseProjectionRHS(D.Star)]}:n},_parseSliceExpression:function(){for(var e=[null,null,null],t=0,n=this._lookahead(0);n!==h&&t<3;){if(n===p)t++,this._advance();else{if(n!==f){var i=this._lookahead(0),r=new Error("Syntax error, unexpected token: "+i.value+"("+i.type+")");throw r.name="Parsererror",r}e[t]=this._lookaheadToken(0).value,this._advance()}n=this._lookahead(0)}return this._match(h),{type:"Slice",children:e}},_parseComparator:function(e,t){return{type:"Comparator",name:t,children:[e,this.expression(D[t])]}},_parseDotRHS:function(e){var t=this._lookahead(0);return 0<=[l,c,_].indexOf(t)?this.expression(e):t===k?(this._match(k),this._parseMultiselectList()):t===A?(this._match(A),this._parseMultiselectHash()):void 0},_parseProjectionRHS:function(e){var t;if(D[this._lookahead(0)]<10)t={type:"Identity"};else if(this._lookahead(0)===k)t=this.expression(e);else if(this._lookahead(0)===x)t=this.expression(e);else{if(this._lookahead(0)!==I){var n=this._lookaheadToken(0),i=new Error("Sytanx error, unexpected token: "+n.value+"("+n.type+")");throw i.name="ParserError",i}this._match(I),t=this._parseDotRHS(e)}return t},_parseMultiselectList:function(){for(var e=[];this._lookahead(0)!==h;){var t=this.expression(0);if(e.push(t),this._lookahead(0)===u&&(this._match(u),this._lookahead(0)===h))throw new Error("Unexpected token Rbracket")}return this._match(h),{type:"MultiSelectList",children:e}},_parseMultiselectHash:function(){for(var e,t,n,i=[],r=[l,c];;){if(e=this._lookaheadToken(0),r.indexOf(e.type)<0)throw new Error("Expecting an identifier token, got: "+e.type);if(t=e.value,this._advance(),this._match(p),n={type:"KeyValuePair",name:t,value:this.expression(0)},i.push(n),this._lookahead(0)===u)this._match(u);else if(this._lookahead(0)===g){this._match(g);break}}return{type:"MultiSelectHash",children:i}}},L.prototype={search:function(e,t){return this.visit(e,t)},visit:function(e,o){var s,a,l,c,h,d;switch(e.type){case"Field":return null!==o&&n(o)&&void 0!==(h=o[e.name])?h:null;case"Subexpression":for(I=this.visit(e.children[0],o),S=1;S<e.children.length;S++)if(null===(I=this.visit(e.children[1],I)))return null;return I;case"IndexExpression":return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case"Index":if(!t(o))return null;var u=e.value;return u<0&&(u=o.length+u),void 0===(I=o[u])&&(I=null),I;case"Slice":if(!t(o))return null;var p=e.children.slice(0),g=this.computeSliceParams(o.length,p),f=g[0],_=g[1],x=g[2],I=[];if(0<x)for(S=f;S<_;S+=x)I.push(o[S]);else for(S=f;_<S;S+=x)I.push(o[S]);return I;case"Projection":var A=this.visit(e.children[0],o);if(!t(A))return null;for(D=[],S=0;S<A.length;S++)null!==(a=this.visit(e.children[1],A[S]))&&D.push(a);return D;case"ValueProjection":if(!n(A=this.visit(e.children[0],o)))return null;D=[];for(var k=function(e){for(var t=Object.keys(e),n=[],i=0;i<t.length;i++)n.push(e[t[i]]);return n}(A),S=0;S<k.length;S++)null!==(a=this.visit(e.children[1],k[S]))&&D.push(a);return D;case"FilterProjection":if(!t(A=this.visit(e.children[0],o)))return null;var E=[],O=[];for(S=0;S<A.length;S++)r(s=this.visit(e.children[2],A[S]))||E.push(A[S]);for(var P=0;P<E.length;P++)null!==(a=this.visit(e.children[1],E[P]))&&O.push(a);return O;case"Comparator":switch(l=this.visit(e.children[0],o),c=this.visit(e.children[1],o),e.name){case"EQ":I=i(l,c);break;case"NE":I=!i(l,c);break;case"GT":I=c<l;break;case b:I=c<=l;break;case"LT":I=l<c;break;case C:I=l<=c;break;default:throw new Error("Unknown comparator: "+e.name)}return I;case w:var M=this.visit(e.children[0],o);if(!t(M))return null;var T=[];for(S=0;S<M.length;S++)t(a=M[S])?T.push.apply(T,a):T.push(a);return T;case"Identity":return o;case"MultiSelectList":if(null===o)return null;for(D=[],S=0;S<e.children.length;S++)D.push(this.visit(e.children[S],o));return D;case"MultiSelectHash":if(null===o)return null;var R,D={};for(S=0;S<e.children.length;S++)D[(R=e.children[S]).name]=this.visit(R.value,o);return D;case"OrExpression":return r(s=this.visit(e.children[0],o))&&(s=this.visit(e.children[1],o)),s;case"AndExpression":return!0===r(l=this.visit(e.children[0],o))?l:this.visit(e.children[1],o);case"NotExpression":return r(l=this.visit(e.children[0],o));case"Literal":return e.value;case y:return d=this.visit(e.children[0],o),this.visit(e.children[1],d);case m:return o;case"Function":var N=[];for(S=0;S<e.children.length;S++)N.push(this.visit(e.children[S],o));return this.runtime.callFunction(e.name,N);case"ExpressionReference":var L=e.children[0];return L.jmespathType=v,L;default:throw new Error("Unknown node type: "+e.type)}},computeSliceParams:function(e,t){var n=t[0],i=t[1],r=t[2],o=[null,null,null];if(null===r)r=1;else if(0===r){var s=new Error("Invalid slice, step cannot be 0");throw s.name="RuntimeError",s}var a=r<0;return n=null===n?a?e-1:0:this.capSliceRange(e,n,r),i=null===i?a?-1:e:this.capSliceRange(e,i,r),o[0]=n,o[1]=i,o[2]=r,o},capSliceRange:function(e,t,n){return t<0?(t+=e)<0&&(t=n<0?-1:0):e<=t&&(t=n<0?e-1:e),t}},B.prototype={callFunction:function(e,t){var n=this.functionTable[e];if(void 0===n)throw new Error("Unknown function: "+e+"()");return this._validateArgs(e,t,n._signature),n._func.call(this,t)},_validateArgs:function(e,t,n){var i,r,o,s;if(n[n.length-1].variadic){if(t.length<n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes at least"+n.length+i+" but received "+t.length)}else if(t.length!==n.length)throw i=1===n.length?" argument":" arguments",new Error("ArgumentError: "+e+"() takes "+n.length+i+" but received "+t.length);for(var a=0;a<n.length;a++){s=!1,r=n[a].types,o=this._getTypeName(t[a]);for(var l=0;l<r.length;l++)if(this._typeMatches(o,r[l],t[a])){s=!0;break}if(!s)throw new Error("TypeError: "+e+"() expected argument "+(a+1)+" to be type "+r+" but received type "+o+" instead.")}},_typeMatches:function(e,t,n){if(1===t)return!0;if(9!==t&&8!==t&&3!==t)return e===t;if(3===t)return 3===e;if(3===e){var i;8===t?i=s:9===t&&(i=a);for(var r=0;r<n.length;r++)if(!this._typeMatches(this._getTypeName(n[r]),i,n[r]))return!1;return!0}},_getTypeName:function(e){switch(Object.prototype.toString.call(e)){case"[object String]":return a;case"[object Number]":return s;case"[object Array]":return 3;case"[object Boolean]":return 5;case"[object Null]":return 7;case"[object Object]":return e.jmespathType===v?6:4}},_functionStartsWith:function(e){return 0===e[0].lastIndexOf(e[1])},_functionEndsWith:function(e){var t=e[0],n=e[1];return-1!==t.indexOf(n,t.length-n.length)},_functionReverse:function(e){if(this._getTypeName(e[0])===a){for(var t=e[0],n="",i=t.length-1;0<=i;i--)n+=t[i];return n}var r=e[0].slice(0);return r.reverse(),r},_functionAbs:function(e){return Math.abs(e[0])},_functionCeil:function(e){return Math.ceil(e[0])},_functionAvg:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t/n.length},_functionContains:function(e){return 0<=e[0].indexOf(e[1])},_functionFloor:function(e){return Math.floor(e[0])},_functionLength:function(e){return n(e[0])?Object.keys(e[0]).length:e[0].length},_functionMap:function(e){for(var t=[],n=this._interpreter,i=e[0],r=e[1],o=0;o<r.length;o++)t.push(n.visit(i,r[o]));return t},_functionMerge:function(e){for(var t={},n=0;n<e.length;n++){var i,r=e[n];for(i in r)t[i]=r[i]}return t},_functionMax:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===s)return Math.max.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)n.localeCompare(t[i])<0&&(n=t[i]);return n}return null},_functionMin:function(e){if(0<e[0].length){if(this._getTypeName(e[0][0])===s)return Math.min.apply(Math,e[0]);for(var t=e[0],n=t[0],i=1;i<t.length;i++)t[i].localeCompare(n)<0&&(n=t[i]);return n}return null},_functionSum:function(e){for(var t=0,n=e[0],i=0;i<n.length;i++)t+=n[i];return t},_functionType:function(e){switch(this._getTypeName(e[0])){case s:return"number";case a:return"string";case 3:return"array";case 4:return"object";case 5:return"boolean";case 6:return"expref";case 7:return"null"}},_functionKeys:function(e){return Object.keys(e[0])},_functionValues:function(e){for(var t=e[0],n=Object.keys(t),i=[],r=0;r<n.length;r++)i.push(t[n[r]]);return i},_functionJoin:function(e){return e[1].join(e[0])},_functionToArray:function(e){return 3===this._getTypeName(e[0])?e[0]:[e[0]]},_functionToString:function(e){return this._getTypeName(e[0])===a?e[0]:JSON.stringify(e[0])},_functionToNumber:function(e){var t,n=this._getTypeName(e[0]);return n===s?e[0]:n!==a||(t=+e[0],isNaN(t))?null:t},_functionNotNull:function(e){for(var t=0;t<e.length;t++)if(7!==this._getTypeName(e[t]))return e[t];return null},_functionSort:function(e){var t=e[0].slice(0);return t.sort(),t},_functionSortBy:function(e){var t=e[0].slice(0);if(0===t.length)return t;var n=this._interpreter,i=e[1],r=this._getTypeName(n.visit(i,t[0]));if([s,a].indexOf(r)<0)throw new Error("TypeError");for(var o=this,l=[],c=0;c<t.length;c++)l.push([c,t[c]]);l.sort((function(e,t){var s=n.visit(i,e[1]),a=n.visit(i,t[1]);if(o._getTypeName(s)!==r)throw new Error("TypeError: expected "+r+", received "+o._getTypeName(s));if(o._getTypeName(a)!==r)throw new Error("TypeError: expected "+r+", received "+o._getTypeName(a));return a<s?1:s<a?-1:e[0]-t[0]}));for(var h=0;h<l.length;h++)t[h]=l[h][1];return t},_functionMaxBy:function(e){for(var t,n,i=e[0],r=this.createKeyFunction(e[1],[s,a]),o=-1/0,l=0;l<i.length;l++)o<(n=r(i[l]))&&(o=n,t=i[l]);return t},_functionMinBy:function(e){for(var t,n,i=e[0],r=this.createKeyFunction(e[1],[s,a]),o=1/0,l=0;l<i.length;l++)(n=r(i[l]))<o&&(o=n,t=i[l]);return t},createKeyFunction:function(e,t){var n=this,i=this._interpreter;return function(r){var o=i.visit(e,r);if(t.indexOf(n._getTypeName(o))<0){var s="TypeError: expected one of "+t+", received "+n._getTypeName(o);throw new Error(s)}return o}}},e.tokenize=function(e){return(new R).tokenize(e)},e.compile=function(e){return(new N).parse(e)},e.search=function(e,t){var n=new N,i=new B,r=new L(i);i._interpreter=r;var o=n.parse(t);return r.search(o,e)},e.strictDeepEqual=i}(t)},function(e,t,n){t.tryRequireThemeJsonEditor=function(){try{n(42)}catch(e){console.error(e)}}},function(e,t,n){"use strict";var i=n(20),r=n(13),o=n(80).treeModeMixins,s=n(21).textModeMixins,a=n(81).previewModeMixins,l=n(0),c=l.clear,h=l.extend,d=l.getInnerText,u=l.getInternetExplorerVersion,p=l.parse,g=n(43).tryRequireAjv,f=n(6).showTransformModal,m=n(5).showSortModal,v=g();function y(e,t,n){if(!(this instanceof y))throw new Error('JSONEditor constructor called without "new".');var i=u();if(-1!==i&&i<9)throw new Error("Unsupported browser, IE9 or newer required. Please install the newest version of your browser.");t&&(t.error&&(console.warn('Option "error" has been renamed to "onError"'),t.onError=t.error,delete t.error),t.change&&(console.warn('Option "change" has been renamed to "onChange"'),t.onChange=t.change,delete t.change),t.editable&&(console.warn('Option "editable" has been renamed to "onEditable"'),t.onEditable=t.editable,delete t.editable),t.onChangeJSON&&("text"!==t.mode&&"code"!==t.mode&&(!t.modes||-1===t.modes.indexOf("text")&&-1===t.modes.indexOf("code"))||console.warn('Option "onChangeJSON" is not applicable to modes "text" and "code". Use "onChangeText" or "onChange" instead.')),t&&Object.keys(t).forEach((function(e){-1===y.VALID_OPTIONS.indexOf(e)&&console.warn('Unknown option "'+e+'". This option will be ignored')}))),arguments.length&&this._create(e,t,n)}"undefined"==typeof Promise&&console.error("Promise undefined. Please load a Promise polyfill in the browser in order to use JSONEditor"),y.modes={},y.prototype.DEBOUNCE_INTERVAL=150,y.VALID_OPTIONS=["ajv","schema","schemaRefs","templates","ace","theme","autocomplete","onChange","onChangeJSON","onChangeText","onEditable","onError","onEvent","onModeChange","onNodeName","onValidate","onCreateMenu","onSelectionChange","onTextSelectionChange","onClassName","onFocus","onBlur","colorPicker","onColorPicker","timestampTag","timestampFormat","escapeUnicode","history","search","mode","modes","name","indentation","sortObjectKeys","navigationBar","statusBar","mainMenuBar","languages","language","enableSort","enableTransform","limitDragging","maxVisibleChilds","onValidationError","modalAnchor","popupAnchor","createQuery","executeQuery","queryDescription"],y.prototype._create=function(e,t,n){this.container=e,this.options=t||{},this.json=n||{},this.setMode(this.options.mode||this.options.modes&&this.options.modes[0]||"tree")},y.prototype.destroy=function(){},y.prototype.set=function(e){this.json=e},y.prototype.get=function(){return this.json},y.prototype.setText=function(e){this.json=p(e)},y.prototype.getText=function(){return JSON.stringify(this.json)},y.prototype.setName=function(e){this.options||(this.options={}),this.options.name=e},y.prototype.getName=function(){return this.options&&this.options.name},y.prototype.setMode=function(e){if(e!==this.options.mode||!this.create){var t=this.container,n=h({},this.options),i=n.mode;n.mode=e;var r=y.modes[e];if(!r)throw new Error('Unknown mode "'+n.mode+'"');try{var o="text"===r.data,s=this.getName(),a=this[o?"getText":"get"]();if(this.destroy(),c(this),h(this,r.mixin),this.create(t,n),this.setName(s),this[o?"setText":"set"](a),"function"==typeof r.load)try{r.load.call(this)}catch(e){console.error(e)}if("function"==typeof n.onModeChange&&e!==i)try{n.onModeChange(e,i)}catch(e){console.error(e)}}catch(e){this._onError(e)}}},y.prototype.getMode=function(){return this.options.mode},y.prototype._onError=function(e){if(!this.options||"function"!=typeof this.options.onError)throw e;this.options.onError(e)},y.prototype.setSchema=function(e,t){if(e){var i;try{this.options.ajv?i=this.options.ajv:((i=v({allErrors:!0,verbose:!0,schemaId:"auto",$data:!0})).addMetaSchema(n(78)),i.addMetaSchema(n(79)))}catch(e){console.warn("Failed to create an instance of Ajv, JSON Schema validation is not available. Please use a JSONEditor bundle including Ajv, or pass an instance of Ajv as via the configuration option `ajv`.")}if(i){if(t){for(var r in t)i.removeSchema(r),t[r]&&i.addSchema(t[r],r);this.options.schemaRefs=t}this.validateSchema=i.compile(e),this.options.schema=e,this.validate()}this.refresh()}else this.validateSchema=null,this.options.schema=null,this.options.schemaRefs=null,this.validate(),this.refresh()},y.prototype.validate=function(){},y.prototype.refresh=function(){},y.registerMode=function(e){var t;if(Array.isArray(e))for(r=0;r<e.length;r++)y.registerMode(e[r]);else{if(!("mode"in e))throw new Error('Property "mode" missing');if(!("mixin"in e))throw new Error('Property "mixin" missing');if(!("data"in e))throw new Error('Property "data" missing');var n=e.mode;if(n in y.modes)throw new Error('Mode "'+n+'" already registered');if("function"!=typeof e.mixin.create)throw new Error('Required function "create" missing on mixin');for(var i=["setMode","registerMode","modes"],r=0;r<i.length;r++)if((t=i[r])in e.mixin)throw new Error('Reserved property "'+t+'" not allowed in mixin');y.modes[n]=e}},y.registerMode(o),y.registerMode(s),y.registerMode(a),y.ace=i,y.Ajv=v,y.VanillaPicker=r,y.showTransformModal=f,y.showSortModal=m,y.getInnerText=d,y.default=y,e.exports=y},function(e,t,n){(function(e){!function(){var e=function(){return this}();e||"undefined"==typeof window||(e=window);var t=function(e,n,i){"string"==typeof e?(2==arguments.length&&(i=n),t.modules[e]||(t.payloads[e]=i,t.modules[e]=null)):t.original?t.original.apply(this,arguments):(console.error("dropping module because define wasn't a string."),console.trace())};function n(e,t,n){if("string"==typeof t){var i=s(e,t);if(null!=i)return n&&n(),i}else if("[object Array]"===Object.prototype.toString.call(t)){for(var o=[],a=0,l=t.length;a<l;++a){var c=s(e,t[a]);if(null==c&&r.original)return;o.push(c)}return n&&n.apply(null,o)||!0}}t.modules={},t.payloads={};var i,r=function(e,t){var i=n("",e,t);return null==i&&r.original?r.original.apply(this,arguments):i},o=function(e,t){if(-1!==t.indexOf("!")){var n=t.split("!");return o(e,n[0])+"!"+o(e,n[1])}if("."==t.charAt(0))for(t=e.split("/").slice(0,-1).join("/")+"/"+t;-1!==t.indexOf(".")&&i!=t;){var i=t;t=t.replace(/\/\.\//,"/").replace(/[^\/]+\/\.\.\//,"")}return t},s=function(e,i){i=o(e,i);var r,s,a=t.modules[i];return a||("function"==typeof(a=t.payloads[i])&&(r={id:i,uri:"",exports:s={},packaged:!0},s=a((function(e,t){return n(i,e,t)}),s,r)||r.exports,t.modules[i]=s,delete t.payloads[i]),a=t.modules[i]=s||a),a};i=e,e.ace||(e.ace={}),(i=e.ace).define&&i.define.packaged||(t.original=i.define,i.define=t,i.define.packaged=!0),i.require&&i.require.packaged||(r.original=i.require,i.require=r,i.require.packaged=!0)}(),ace.define("ace/lib/fixoldbrowsers",["require","exports","module"],(function(e,t,n){"use strict";"undefined"==typeof Element||Element.prototype.remove||Object.defineProperty(Element.prototype,"remove",{enumerable:!1,writable:!0,configurable:!0,value:function(){this.parentNode&&this.parentNode.removeChild(this)}})})),ace.define("ace/lib/useragent",["require","exports","module"],(function(e,t,n){"use strict";t.OS={LINUX:"LINUX",MAC:"MAC",WINDOWS:"WINDOWS"},t.getOS=function(){return t.isMac?t.OS.MAC:t.isLinux?t.OS.LINUX:t.OS.WINDOWS};var i="object"==typeof navigator?navigator:{},r=(/mac|win|linux/i.exec(i.platform)||["other"])[0].toLowerCase(),o=i.userAgent||"",s=i.appName||"";t.isWin="win"==r,t.isMac="mac"==r,t.isLinux="linux"==r,t.isIE="Microsoft Internet Explorer"==s||0<=s.indexOf("MSAppHost")?parseFloat((o.match(/(?:MSIE |Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]):parseFloat((o.match(/(?:Trident\/[0-9]+[\.0-9]+;.*rv:)([0-9]+[\.0-9]+)/)||[])[1]),t.isOldIE=t.isIE&&t.isIE<9,t.isGecko=t.isMozilla=o.match(/ Gecko\/\d+/),t.isOpera="object"==typeof opera&&"[object Opera]"==Object.prototype.toString.call(window.opera),t.isWebKit=parseFloat(o.split("WebKit/")[1])||void 0,t.isChrome=parseFloat(o.split(" Chrome/")[1])||void 0,t.isEdge=parseFloat(o.split(" Edge/")[1])||void 0,t.isAIR=0<=o.indexOf("AdobeAIR"),t.isAndroid=0<=o.indexOf("Android"),t.isChromeOS=0<=o.indexOf(" CrOS "),t.isIOS=/iPad|iPhone|iPod/.test(o)&&!window.MSStream,t.isIOS&&(t.isMac=!0),t.isMobile=t.isIOS||t.isAndroid})),ace.define("ace/lib/dom",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./useragent");t.buildDom=function e(t,n,i){if("string"==typeof t&&t){var r=document.createTextNode(t);return n&&n.appendChild(r),r}if(!Array.isArray(t))return t&&t.appendChild&&n&&n.appendChild(t),t;if("string"!=typeof t[0]||!t[0]){for(var o=[],s=0;s<t.length;s++){var a=e(t[s],n,i);a&&o.push(a)}return o}var l=document.createElement(t[0]),c=t[1],h=1;for(c&&"object"==typeof c&&!Array.isArray(c)&&(h=2),s=h;s<t.length;s++)e(t[s],l,i);return 2==h&&Object.keys(c).forEach((function(e){var t=c[e];"class"===e?l.className=Array.isArray(t)?t.join(" "):t:"function"==typeof t||"value"==e||"$"==e[0]?l[e]=t:"ref"===e?i&&(i[t]=l):null!=t&&l.setAttribute(e,t)})),n&&n.appendChild(l),l},t.getDocumentHead=function(e){return(e=e||document).head||e.getElementsByTagName("head")[0]||e.documentElement},t.createElement=function(e,t){return document.createElementNS?document.createElementNS(t||"http://www.w3.org/1999/xhtml",e):document.createElement(e)},t.removeChildren=function(e){e.innerHTML=""},t.createTextNode=function(e,t){return(t?t.ownerDocument:document).createTextNode(e)},t.createFragment=function(e){return(e?e.ownerDocument:document).createDocumentFragment()},t.hasCssClass=function(e,t){return-1!==(e.className+"").split(/\s+/g).indexOf(t)},t.addCssClass=function(e,n){t.hasCssClass(e,n)||(e.className+=" "+n)},t.removeCssClass=function(e,t){for(var n=e.className.split(/\s+/g);;){var i=n.indexOf(t);if(-1==i)break;n.splice(i,1)}e.className=n.join(" ")},t.toggleCssClass=function(e,t){for(var n=e.className.split(/\s+/g),i=!0;;){var r=n.indexOf(t);if(-1==r)break;i=!1,n.splice(r,1)}return i&&n.push(t),e.className=n.join(" "),i},t.setCssClass=function(e,n,i){i?t.addCssClass(e,n):t.removeCssClass(e,n)},t.hasCssString=function(e,t){var n,i=0;if(n=(t=t||document).querySelectorAll("style"))for(;i<n.length;)if(n[i++].id===e)return!0},t.importCssString=function(e,n,i){var r=i;i&&i.getRootNode&&(r=i.getRootNode())&&r!=i||(r=document);var o=r.ownerDocument||r;if(n&&t.hasCssString(n,r))return null;n&&(e+="\n/*# sourceURL=ace/css/"+n+" */");var s=t.createElement("style");s.appendChild(o.createTextNode(e)),n&&(s.id=n),r==o&&(r=t.getDocumentHead(o)),r.insertBefore(s,r.firstChild)},t.importCssStylsheet=function(e,n){t.buildDom(["link",{rel:"stylesheet",href:e}],t.getDocumentHead(n))},t.scrollbarWidth=function(e){var n=t.createElement("ace_inner");n.style.width="100%",n.style.minWidth="0px",n.style.height="200px",n.style.display="block";var i=t.createElement("ace_outer"),r=i.style;r.position="absolute",r.left="-10000px",r.overflow="hidden",r.width="200px",r.minWidth="0px",r.height="150px",r.display="block",i.appendChild(n);var o=e.documentElement;o.appendChild(i);var s=n.offsetWidth;r.overflow="scroll";var a=n.offsetWidth;return s==a&&(a=i.clientWidth),o.removeChild(i),s-a},"undefined"==typeof document&&(t.importCssString=function(){}),t.computedStyle=function(e,t){return window.getComputedStyle(e,"")||{}},t.setStyle=function(e,t,n){e[t]!==n&&(e[t]=n)},t.HAS_CSS_ANIMATION=!1,t.HAS_CSS_TRANSFORMS=!1,t.HI_DPI=!r.isWin||"undefined"!=typeof window&&1.5<=window.devicePixelRatio,"undefined"!=typeof document&&(i=document.createElement("div"),t.HI_DPI&&void 0!==i.style.transform&&(t.HAS_CSS_TRANSFORMS=!0),r.isEdge||void 0===i.style.animationName||(t.HAS_CSS_ANIMATION=!0),i=null),t.translate=t.HAS_CSS_TRANSFORMS?function(e,t,n){e.style.transform="translate("+Math.round(t)+"px, "+Math.round(n)+"px)"}:function(e,t,n){e.style.top=Math.round(n)+"px",e.style.left=Math.round(t)+"px"}})),ace.define("ace/lib/oop",["require","exports","module"],(function(e,t,n){"use strict";t.inherits=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})},t.mixin=function(e,t){for(var n in t)e[n]=t[n];return e},t.implement=function(e,n){t.mixin(e,n)}})),ace.define("ace/lib/keys",["require","exports","module","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("./oop"),r=function(){var e,t,n={MODIFIER_KEYS:{16:"Shift",17:"Ctrl",18:"Alt",224:"Meta",91:"MetaLeft",92:"MetaRight",93:"ContextMenu"},KEY_MODS:{ctrl:1,alt:2,option:2,shift:4,super:8,meta:8,command:8,cmd:8,control:1},FUNCTION_KEYS:{8:"Backspace",9:"Tab",13:"Return",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock"},PRINTABLE_KEYS:{32:" ",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*"}};for(t in n.FUNCTION_KEYS)e=n.FUNCTION_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);for(t in n.PRINTABLE_KEYS)e=n.PRINTABLE_KEYS[t].toLowerCase(),n[e]=parseInt(t,10);return i.mixin(n,n.MODIFIER_KEYS),i.mixin(n,n.PRINTABLE_KEYS),i.mixin(n,n.FUNCTION_KEYS),n.enter=n.return,n.escape=n.esc,n.del=n.delete,n[173]="-",function(){for(var e=["cmd","ctrl","alt","shift"],t=Math.pow(2,e.length);t--;)n.KEY_MODS[t]=e.filter((function(e){return t&n.KEY_MODS[e]})).join("-")+"-"}(),n.KEY_MODS[0]="",n.KEY_MODS[-1]="input-",n}();i.mixin(t,r),t.keyCodeToString=function(e){var t=r[e];return"string"!=typeof t&&(t=String.fromCharCode(e)),t.toLowerCase()}})),ace.define("ace/lib/event",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i,r=e("./keys"),o=e("./useragent"),s=null,a=0;function l(){return null==i&&function(){i=!1;try{document.createComment("").addEventListener("test",(function(){}),{get passive(){i={passive:!1}}})}catch(e){}}(),i}function c(e,t,n){this.elem=e,this.type=t,this.callback=n}c.prototype.destroy=function(){u(this.elem,this.type,this.callback),this.elem=this.type=this.callback=void 0};var h,d=t.addListener=function(e,t,n,i){e.addEventListener(t,n,l()),i&&i.$toDestroy.push(new c(e,t,n))},u=t.removeListener=function(e,t,n){e.removeEventListener(t,n,l())};function p(e){return 0|(e.ctrlKey?1:0)|(e.altKey?2:0)|(e.shiftKey?4:0)|(e.metaKey?8:0)}function g(e,t,n){var i,l=p(t);if(!o.isMac&&s){if(t.getModifierState&&(t.getModifierState("OS")||t.getModifierState("Win"))&&(l|=8),s.altGr){if(3==(3&l))return;s.altGr=0}18!==n&&17!==n||(i="location"in t?t.location:t.keyLocation,17===n&&1===i?1==s[n]&&(a=t.timeStamp):18===n&&3===l&&2===i&&t.timeStamp-a<50&&(s.altGr=!0))}if(n in r.MODIFIER_KEYS&&(n=-1),l||13!==n||3!==(i="location"in t?t.location:t.keyLocation)||(e(t,l,-n),!t.defaultPrevented)){if(o.isChromeOS&&8&l){if(e(t,l,n),t.defaultPrevented)return;l&=-9}return!!(l||n in r.FUNCTION_KEYS||n in r.PRINTABLE_KEYS)&&e(t,l,n)}}function f(){s=Object.create(null)}t.stopEvent=function(e){return t.stopPropagation(e),t.preventDefault(e),!1},t.stopPropagation=function(e){e.stopPropagation&&e.stopPropagation()},t.preventDefault=function(e){e.preventDefault&&e.preventDefault()},t.getButton=function(e){return"dblclick"==e.type?0:"contextmenu"==e.type||o.isMac&&e.ctrlKey&&!e.altKey&&!e.shiftKey?2:e.button},t.capture=function(e,t,n){var i=e&&e.ownerDocument||document;function r(e){t&&t(e),n&&n(e),u(i,"mousemove",t),u(i,"mouseup",r),u(i,"dragstart",r)}return d(i,"mousemove",t),d(i,"mouseup",r),d(i,"dragstart",r),r},t.addMouseWheelListener=function(e,t,n){"onmousewheel"in e?d(e,"mousewheel",(function(e){void 0!==e.wheelDeltaX?(e.wheelX=-e.wheelDeltaX/8,e.wheelY=-e.wheelDeltaY/8):(e.wheelX=0,e.wheelY=-e.wheelDelta/8),t(e)}),n):"onwheel"in e?d(e,"wheel",(function(e){switch(e.deltaMode){case e.DOM_DELTA_PIXEL:e.wheelX=.35*e.deltaX||0,e.wheelY=.35*e.deltaY||0;break;case e.DOM_DELTA_LINE:case e.DOM_DELTA_PAGE:e.wheelX=5*(e.deltaX||0),e.wheelY=5*(e.deltaY||0)}t(e)}),n):d(e,"DOMMouseScroll",(function(e){e.axis&&e.axis==e.HORIZONTAL_AXIS?(e.wheelX=5*(e.detail||0),e.wheelY=0):(e.wheelX=0,e.wheelY=5*(e.detail||0)),t(e)}),n)},t.addMultiMouseDownListener=function(e,n,i,r,s){var a,l,c,h=0,u={2:"dblclick",3:"tripleclick",4:"quadclick"};function p(e){var s;if(0!==t.getButton(e)?h=0:1<e.detail&&!(4<++h)||(h=1),o.isIE&&(s=5<Math.abs(e.clientX-a)||5<Math.abs(e.clientY-l),c&&!s||(h=1),c&&clearTimeout(c),c=setTimeout((function(){c=null}),n[h-1]||600),1==h&&(a=e.clientX,l=e.clientY)),e._clicks=h,i[r]("mousedown",e),4<h)h=0;else if(1<h)return i[r](u[h],e)}Array.isArray(e)||(e=[e]),e.forEach((function(e){d(e,"mousedown",p,s)}))},t.getModifierString=function(e){return r.KEY_MODS[p(e)]},t.addCommandKeyListener=function(e,n,i){var r,a;o.isOldGecko||o.isOpera&&!("KeyboardEvent"in window)?(r=null,d(e,"keydown",(function(e){r=e.keyCode}),i),d(e,"keypress",(function(e){return g(n,e,r)}),i)):(a=null,d(e,"keydown",(function(e){s[e.keyCode]=(s[e.keyCode]||0)+1;var t=g(n,e,e.keyCode);return a=e.defaultPrevented,t}),i),d(e,"keypress",(function(e){a&&(e.ctrlKey||e.altKey||e.shiftKey||e.metaKey)&&(t.stopEvent(e),a=null)}),i),d(e,"keyup",(function(e){s[e.keyCode]=null}),i),s||(f(),d(window,"focus",f)))},"object"==typeof window&&window.postMessage&&!o.isOldIE&&(h=1,t.nextTick=function(e,n){n=n||window;var i="zero-timeout-message-"+h++,r=function(o){o.data==i&&(t.stopPropagation(o),u(n,"message",r),e())};d(n,"message",r),n.postMessage(i,"*")}),t.$idleBlocked=!1,t.onIdle=function(e,n){return setTimeout((function n(){t.$idleBlocked?setTimeout(n,100):e()}),n)},t.$idleBlockId=null,t.blockIdle=function(e){t.$idleBlockId&&clearTimeout(t.$idleBlockId),t.$idleBlocked=!0,t.$idleBlockId=setTimeout((function(){t.$idleBlocked=!1}),e||100)},t.nextFrame="object"==typeof window&&(window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame),t.nextFrame=t.nextFrame?t.nextFrame.bind(window):function(e){setTimeout(e,17)}})),ace.define("ace/range",["require","exports","module"],(function(e,t,n){"use strict";function i(e,t,n,i){this.start={row:e,column:t},this.end={row:n,column:i}}(function(){this.isEqual=function(e){return this.start.row===e.start.row&&this.end.row===e.end.row&&this.start.column===e.start.column&&this.end.column===e.end.column},this.toString=function(){return"Range: ["+this.start.row+"/"+this.start.column+"] -> ["+this.end.row+"/"+this.end.column+"]"},this.contains=function(e,t){return 0==this.compare(e,t)},this.compareRange=function(e){var t=e.end,n=e.start,i=this.compare(t.row,t.column);return 1==i?1==(i=this.compare(n.row,n.column))?2:0==i?1:0:-1==i?-2:-1==(i=this.compare(n.row,n.column))?-1:1==i?42:0},this.comparePoint=function(e){return this.compare(e.row,e.column)},this.containsRange=function(e){return 0==this.comparePoint(e.start)&&0==this.comparePoint(e.end)},this.intersects=function(e){var t=this.compareRange(e);return-1==t||0==t||1==t},this.isEnd=function(e,t){return this.end.row==e&&this.end.column==t},this.isStart=function(e,t){return this.start.row==e&&this.start.column==t},this.setStart=function(e,t){"object"==typeof e?(this.start.column=e.column,this.start.row=e.row):(this.start.row=e,this.start.column=t)},this.setEnd=function(e,t){"object"==typeof e?(this.end.column=e.column,this.end.row=e.row):(this.end.row=e,this.end.column=t)},this.inside=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)&&!this.isStart(e,t)},this.insideStart=function(e,t){return 0==this.compare(e,t)&&!this.isEnd(e,t)},this.insideEnd=function(e,t){return 0==this.compare(e,t)&&!this.isStart(e,t)},this.compare=function(e,t){return this.isMultiLine()||e!==this.start.row?e<this.start.row?-1:e>this.end.row?1:this.start.row===e?t>=this.start.column?0:-1:this.end.row!==e||t<=this.end.column?0:1:t<this.start.column?-1:t>this.end.column?1:0},this.compareStart=function(e,t){return this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.compareEnd=function(e,t){return this.end.row==e&&this.end.column==t?1:this.compare(e,t)},this.compareInside=function(e,t){return this.end.row==e&&this.end.column==t?1:this.start.row==e&&this.start.column==t?-1:this.compare(e,t)},this.clipRows=function(e,t){var n,r;return this.end.row>t?n={row:t+1,column:0}:this.end.row<e&&(n={row:e,column:0}),this.start.row>t?r={row:t+1,column:0}:this.start.row<e&&(r={row:e,column:0}),i.fromPoints(r||this.start,n||this.end)},this.extend=function(e,t){var n,r,o=this.compare(e,t);return 0==o?this:(-1==o?n={row:e,column:t}:r={row:e,column:t},i.fromPoints(n||this.start,r||this.end))},this.isEmpty=function(){return this.start.row===this.end.row&&this.start.column===this.end.column},this.isMultiLine=function(){return this.start.row!==this.end.row},this.clone=function(){return i.fromPoints(this.start,this.end)},this.collapseRows=function(){return new i(this.start.row,0,0==this.end.column?Math.max(this.start.row,this.end.row-1):this.end.row,0)},this.toScreenRange=function(e){var t=e.documentToScreenPosition(this.start),n=e.documentToScreenPosition(this.end);return new i(t.row,t.column,n.row,n.column)},this.moveBy=function(e,t){this.start.row+=e,this.start.column+=t,this.end.row+=e,this.end.column+=t}}).call(i.prototype),i.fromPoints=function(e,t){return new i(e.row,e.column,t.row,t.column)},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},i.comparePoints=function(e,t){return e.row-t.row||e.column-t.column},t.Range=i})),ace.define("ace/lib/lang",["require","exports","module"],(function(e,t,n){"use strict";t.last=function(e){return e[e.length-1]},t.stringReverse=function(e){return e.split("").reverse().join("")},t.stringRepeat=function(e,t){for(var n="";0<t;)1&t&&(n+=e),(t>>=1)&&(e+=e);return n};var i=/^\s\s*/,r=/\s\s*$/;t.stringTrimLeft=function(e){return e.replace(i,"")},t.stringTrimRight=function(e){return e.replace(r,"")},t.copyObject=function(e){var t,n={};for(t in e)n[t]=e[t];return n},t.copyArray=function(e){for(var t=[],n=0,i=e.length;n<i;n++)t[n]=e[n]&&"object"==typeof e[n]?this.copyObject(e[n]):e[n];return t},t.deepCopy=function e(t){if("object"!=typeof t||!t)return t;var n;if(Array.isArray(t)){n=[];for(var i=0;i<t.length;i++)n[i]=e(t[i]);return n}if("[object Object]"!==Object.prototype.toString.call(t))return t;for(i in n={},t)n[i]=e(t[i]);return n},t.arrayToMap=function(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=1;return t},t.createMap=function(e){var t,n=Object.create(null);for(t in e)n[t]=e[t];return n},t.arrayRemove=function(e,t){for(var n=0;n<=e.length;n++)t===e[n]&&e.splice(n,1)},t.escapeRegExp=function(e){return e.replace(/([.*+?^${}()|[\]\/\\])/g,"\\$1")},t.escapeHTML=function(e){return(""+e).replace(/&/g,"&#38;").replace(/"/g,"&#34;").replace(/'/g,"&#39;").replace(/</g,"&#60;")},t.getMatchOffsets=function(e,t){var n=[];return e.replace(t,(function(e){n.push({offset:arguments[arguments.length-2],length:e.length})})),n},t.deferredCall=function(e){function t(){n=null,e()}var n=null,i=function(e){return i.cancel(),n=setTimeout(t,e||0),i};return(i.schedule=i).call=function(){return this.cancel(),e(),i},i.cancel=function(){return clearTimeout(n),n=null,i},i.isPending=function(){return n},i},t.delayedCall=function(e,t){function n(){r=null,e()}function i(e){null==r&&(r=setTimeout(n,e||t))}var r=null;return i.delay=function(e){r&&clearTimeout(r),r=setTimeout(n,e||t)},(i.schedule=i).call=function(){this.cancel(),e()},i.cancel=function(){r&&clearTimeout(r),r=null},i.isPending=function(){return r},i}})),ace.define("ace/clipboard",["require","exports","module"],(function(e,t,n){"use strict";var i;n.exports={lineMode:!1,pasteCancelled:function(){return!!(i&&i>Date.now()-50)||(i=!1)},cancel:function(){i=Date.now()}}})),ace.define("ace/keyboard/textinput",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/lib/dom","ace/lib/lang","ace/clipboard","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("../clipboard"),l=r.isChrome<18,c=r.isIE,h=63<r.isChrome,d=e("../lib/keys"),u=d.KEY_MODS,p=r.isIOS,g=p?/\s/:/\n/,f=r.isMobile;t.TextInput=function(e,t){var n=o.createElement("textarea");n.className="ace_text-input",n.setAttribute("wrap","off"),n.setAttribute("autocorrect","off"),n.setAttribute("autocapitalize","off"),n.setAttribute("spellcheck",!1),n.style.opacity="0",e.insertBefore(n,e.firstChild);var m=!1,v=!1,y=!1,b=!1,C="";f||(n.style.fontSize="1px");var w=!1,_=!1,x="",I=0,A=0,k=0;try{var S=document.activeElement===n}catch(e){}i.addListener(n,"blur",(function(e){_||(t.onBlur(e),S=!1)}),t),i.addListener(n,"focus",(function(e){if(!_){if(S=!0,r.isEdge)try{if(!document.hasFocus())return}catch(e){}t.onFocus(e),r.isEdge?setTimeout(E):E()}}),t),this.$focusScroll=!1,this.focus=function(){if(C||h||"browser"==this.$focusScroll)return n.focus({preventScroll:!0});var e=n.style.top;n.style.position="fixed",n.style.top="0px";try{var t=0!=n.getBoundingClientRect().top}catch(e){return}var i=[];if(t)for(var r=n.parentElement;r&&1==r.nodeType;)i.push(r),r.setAttribute("ace_nocontext",!0),r=!r.parentElement&&r.getRootNode?r.getRootNode().host:r.parentElement;n.focus({preventScroll:!0}),t&&i.forEach((function(e){e.removeAttribute("ace_nocontext")})),setTimeout((function(){n.style.position="","0px"==n.style.top&&(n.style.top=e)}),0)},this.blur=function(){n.blur()},this.isFocused=function(){return S},t.on("beforeEndOperation",(function(){var e=t.curOp,i=e&&e.command&&e.command.name;"insertstring"!=i&&(y&&i&&(e.docChanged||e.selectionChanged)&&(x=n.value="",V()),E())}));var E=p?function(e){var i,r;!S||m&&!e||b||((i="\n ab"+(e=e||"")+"cde fg\n")!=n.value&&(n.value=x=i),r=4+(e.length||(t.selection.isEmpty()?0:1)),4==I&&A==r||n.setSelectionRange(4,r),I=4,A=r)}:function(){if(!y&&!b&&(S||L)){y=!0;var e,i,r,o,s,a=0,l=0,c="";t.session&&(a=(i=(e=t.selection).getRange()).start.column,l=i.end.column,c=t.session.getLine(r=e.cursor.row),i.start.row!=r?(o=t.session.getLine(r-1),a=i.start.row<r-1?0:a,l+=o.length+1,c=o+"\n"+c):i.end.row!=r?(s=t.session.getLine(r+1),l=i.end.row>r+1?s.length:l,l+=c.length+1,c=c+"\n"+s):f&&0<r&&(c="\n"+c,l+=1,a+=1),400<c.length&&(a<400&&l<400?c=c.slice(0,400):(c="\n",a==l?a=l=0:(a=0,l=1))));var h=c+"\n\n";if(h!=x&&(n.value=x=h,I=A=h.length),L&&(I=n.selectionStart,A=n.selectionEnd),A!=l||I!=a||n.selectionEnd!=A)try{n.setSelectionRange(a,l),I=a,A=l}catch(e){}y=!1}};this.resetSelection=E,S&&t.onFocus();var O=null;function P(e,i){if(L=L&&!1,v)return E(),e&&t.onPaste(e),v=!1,"";for(var o=n.selectionStart,s=n.selectionEnd,a=I,l=x.length-A,c=e,h=e.length-o,d=e.length-s,u=0;0<a&&x[u]==e[u];)u++,a--;for(c=c.slice(u),u=1;0<l&&x.length-u>I-1&&x[x.length-u]==e[e.length-u];)u++,l--;h-=u-1,d-=u-1;var p=c.length-u+1;if(p<0&&(a=-p,p=0),c=c.slice(0,p),!(i||c||h||a||l||d))return"";var g=!(b=!0);return r.isAndroid&&". "==c&&(c="  ",g=!0),c&&!a&&!l&&!h&&!d||w?t.onTextInput(c):t.onTextInput(c,{extendLeft:a,extendRight:l,restoreStart:h,restoreEnd:d}),b=!1,x=e,I=o,A=s,k=d,g?"\n":c}function M(e){if(y)return F();if(e&&e.inputType){if("historyUndo"==e.inputType)return t.execCommand("undo");if("historyRedo"==e.inputType)return t.execCommand("redo")}var i=n.value,r=P(i,!0);(500<i.length||g.test(r)||f&&I<1&&I==A)&&E()}function T(e,r){var o=t.getCopyText();if(!o)return i.preventDefault(e);B(e,o)?(p&&(E(o),m=o,setTimeout((function(){m=!1}),10)),r?t.onCut():t.onCopy(),i.preventDefault(e)):(m=!0,n.value=o,n.select(),setTimeout((function(){m=!1,E(),r?t.onCut():t.onCopy()})))}function R(e){T(e,!0)}function D(e){T(e,!1)}function N(e){var o=B(e);a.pasteCancelled()||("string"==typeof o?(o&&t.onPaste(o,e),r.isIE&&setTimeout(E),i.preventDefault(e)):(n.value="",v=!0))}this.setInputHandler=function(e){O=e};var L=!(this.getInputHandler=function(){return O}),B=function(e,t,n){var i=e.clipboardData||window.clipboardData;if(i&&!l){var r=c||n?"Text":"text/plain";try{return t?!1!==i.setData(r,t):i.getData(r)}catch(e){if(!n)return B(e,t,!0)}}};i.addCommandKeyListener(n,t.onCommandKey.bind(t),t),i.addListener(n,"select",(function(e){var i;y||(m?m=!1:0===(i=n).selectionStart&&i.selectionEnd>=x.length&&i.value===x&&x&&i.selectionEnd!==A?(t.selectAll(),E()):f&&n.selectionStart!=I&&E())}),t),i.addListener(n,"input",M,t),i.addListener(n,"cut",R,t),i.addListener(n,"copy",D,t),i.addListener(n,"paste",N,t),"oncut"in n&&"oncopy"in n&&"onpaste"in n||i.addListener(e,"keydown",(function(e){if((!r.isMac||e.metaKey)&&e.ctrlKey)switch(e.keyCode){case 67:D(e);break;case 86:N(e);break;case 88:R(e)}}),t);var F=function(){var e;if(y&&t.onCompositionUpdate&&!t.$readOnly)return w?$():void(y.useTextareaForIME?t.onCompositionUpdate(n.value):(e=n.value,P(e),y.markerRange&&(y.context&&(y.markerRange.start.column=y.selectionStart=y.context.compositionStartOffset),y.markerRange.end.column=y.markerRange.start.column+A-y.selectionStart+k)))},V=function(e){t.onCompositionEnd&&!t.$readOnly&&(y=!1,t.onCompositionEnd(),t.off("mousedown",$),e&&M())};function $(){_=!0,n.blur(),n.focus(),_=!1}var H,j=s.delayedCall(F,50).schedule.bind(null,null);function W(){clearTimeout(H),H=setTimeout((function(){C&&(n.style.cssText=C,C=""),t.renderer.$isMousePressed=!1,t.renderer.$keepTextAreaAtCursor&&t.renderer.$moveTextAreaToCursor()}),0)}function z(e){t.textInput.onContextMenu(e),W()}i.addListener(n,"compositionstart",(function(e){var i;y||!t.onCompositionStart||t.$readOnly||(y={},w||(e.data&&(y.useTextareaForIME=!1),setTimeout(F,0),t._signal("compositionStart"),t.on("mousedown",$),(i=t.getSelectionRange()).end.row=i.start.row,i.end.column=i.start.column,y.markerRange=i,y.selectionStart=I,t.onCompositionStart(y),y.useTextareaForIME?(x=n.value="",A=I=0):(n.msGetInputContext&&(y.context=n.msGetInputContext()),n.getInputContext&&(y.context=n.getInputContext()))))}),t),i.addListener(n,"compositionupdate",F,t),i.addListener(n,"keyup",(function(e){27==e.keyCode&&n.value.length<n.selectionStart&&(y||(x=n.value),I=A=-1,E()),j()}),t),i.addListener(n,"keydown",j,t),i.addListener(n,"compositionend",V,t),this.getElement=function(){return n},this.setCommandMode=function(e){w=e,n.readOnly=!1},this.setReadOnly=function(e){w||(n.readOnly=e)},this.setCopyWithEmptySelection=function(e){},this.onContextMenu=function(e){L=!0,E(),t._emit("nativecontextmenu",{target:t,domEvent:e}),this.moveToMouse(e,!0)},this.moveToMouse=function(e,s){function a(e){o.translate(n,e.clientX-d-2,Math.min(e.clientY-h-2,u))}C=C||n.style.cssText,n.style.cssText=(s?"z-index:100000;":"")+(r.isIE?"opacity:0.1;":"")+"text-indent: -"+(I+A)*t.renderer.characterWidth*.5+"px;";var l=t.container.getBoundingClientRect(),c=o.computedStyle(t.container),h=l.top+(parseInt(c.borderTopWidth)||0),d=l.left+(parseInt(l.borderLeftWidth)||0),u=l.bottom-h-n.clientHeight-2;a(e),"mousedown"==e.type&&(t.renderer.$isMousePressed=!0,clearTimeout(H),r.isWin&&i.capture(t.container,a,W))},this.onContextMenuClose=W,i.addListener(n,"mouseup",z,t),i.addListener(n,"mousedown",(function(e){e.preventDefault(),W()}),t),i.addListener(t.renderer.scroller,"contextmenu",z,t),i.addListener(n,"contextmenu",z,t),p&&function(e,t){var n=null,i=!1;function r(n){var r,o,s,a,l;document.activeElement===t&&(i||y||e.$mouseHandler.isMousePressed||m||(o=t.selectionEnd,s=null,(a=0)==(r=t.selectionStart)?s=d.up:1==r?s=d.home:A<o&&"\n"==x[o]?s=d.end:r<I&&" "==x[r-1]?(s=d.left,a=u.option):r<I||r==I&&A!=I&&r==o?s=d.left:A<o&&2<x.slice(0,o).split("\n").length?s=d.down:A<o&&" "==x[o-1]?(s=d.right,a=u.option):(A<o||o==A&&A!=I&&r==o)&&(s=d.right),r!==o&&(a|=u.shift),s&&(!e.onCommandKey({},a,s)&&e.commands&&(s=d.keyCodeToString(s),(l=e.commands.findKeyCommand(a,s))&&e.execCommand(l)),I=r,A=o,E(""))))}t.addEventListener("keydown",(function(e){n&&clearTimeout(n),i=!0}),!0),t.addEventListener("keyup",(function(e){n=setTimeout((function(){i=!1}),100)}),!0),document.addEventListener("selectionchange",r),e.on("destroy",(function(){document.removeEventListener("selectionchange",r)}))}(t,n)},t.$setUserAgentForTests=function(e,t){f=e,p=t}})),ace.define("ace/mouse/default_handlers",["require","exports","module","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/useragent");function r(e){e.$clickSelection=null;var t=e.editor;t.setDefaultHandler("mousedown",this.onMouseDown.bind(e)),t.setDefaultHandler("dblclick",this.onDoubleClick.bind(e)),t.setDefaultHandler("tripleclick",this.onTripleClick.bind(e)),t.setDefaultHandler("quadclick",this.onQuadClick.bind(e)),t.setDefaultHandler("mousewheel",this.onMouseWheel.bind(e)),["select","startSelect","selectEnd","selectAllEnd","selectByWordsEnd","selectByLinesEnd","dragWait","dragWaitEnd","focusWait"].forEach((function(t){e[t]=this[t]}),this),e.selectByLines=this.extendSelectionBy.bind(e,"getLineRange"),e.selectByWords=this.extendSelectionBy.bind(e,"getWordRange")}function o(e,t){return(e.start.row==e.end.row?2*t.column-e.start.column-e.end.column:e.start.row!=e.end.row-1||e.start.column||e.end.column?2*t.row-e.start.row-e.end.row:t.column-4)<0?{cursor:e.start,anchor:e.end}:{cursor:e.end,anchor:e.start}}(function(){this.onMouseDown=function(e){var t=e.inSelection(),n=e.getDocumentPosition();this.mousedownEvent=e;var r=this.editor,o=e.getButton();return 0!==o?(!r.getSelectionRange().isEmpty()&&1!=o||r.selection.moveToPosition(n),void(2==o&&(r.textInput.onContextMenu(e.domEvent),i.isMozilla||e.preventDefault()))):(this.mousedownEvent.time=Date.now(),!t||r.isFocused()||(r.focus(),!this.$focusTimeout||this.$clickSelection||r.inMultiSelectMode)?(this.captureMouse(e),this.startSelect(n,1<e.domEvent._clicks),e.preventDefault()):(this.setState("focusWait"),void this.captureMouse(e)))},this.startSelect=function(e,t){e=e||this.editor.renderer.screenToTextCoordinates(this.x,this.y);var n=this.editor;this.mousedownEvent&&(this.mousedownEvent.getShiftKey()?n.selection.selectToPosition(e):t||n.selection.moveToPosition(e),t||this.select(),n.renderer.scroller.setCapture&&n.renderer.scroller.setCapture(),n.setStyle("ace_selecting"),this.setState("select"))},this.select=function(){var e,t,n,i=this.editor,r=i.renderer.screenToTextCoordinates(this.x,this.y);this.$clickSelection&&(n=-1==(e=this.$clickSelection.comparePoint(r))?this.$clickSelection.end:1==e?this.$clickSelection.start:(r=(t=o(this.$clickSelection,r)).cursor,t.anchor),i.selection.setSelectionAnchor(n.row,n.column)),i.selection.selectToPosition(r),i.renderer.scrollCursorIntoView()},this.extendSelectionBy=function(e){var t,n,i,r,s=this.editor,a=s.renderer.screenToTextCoordinates(this.x,this.y),l=s.selection[e](a.row,a.column);this.$clickSelection&&(t=this.$clickSelection.comparePoint(l.start),n=this.$clickSelection.comparePoint(l.end),-1==t&&n<=0?(r=this.$clickSelection.end,l.end.row==a.row&&l.end.column==a.column||(a=l.start)):1==n&&0<=t?(r=this.$clickSelection.start,l.start.row==a.row&&l.start.column==a.column||(a=l.end)):r=-1==t&&1==n?(a=l.end,l.start):(a=(i=o(this.$clickSelection,a)).cursor,i.anchor),s.selection.setSelectionAnchor(r.row,r.column)),s.selection.selectToPosition(a),s.renderer.scrollCursorIntoView()},this.selectEnd=this.selectAllEnd=this.selectByWordsEnd=this.selectByLinesEnd=function(){this.$clickSelection=null,this.editor.unsetStyle("ace_selecting"),this.editor.renderer.scroller.releaseCapture&&this.editor.renderer.scroller.releaseCapture()},this.focusWait=function(){var e,t,n=(e=this.mousedownEvent.y,t=this.y,Math.sqrt(Math.pow(this.x-this.mousedownEvent.x,2)+Math.pow(t-e,2))),i=Date.now();(0<n||i-this.mousedownEvent.time>this.$focusTimeout)&&this.startSelect(this.mousedownEvent.getDocumentPosition())},this.onDoubleClick=function(e){var t=e.getDocumentPosition(),n=this.editor,i=n.session.getBracketRange(t);i?(i.isEmpty()&&(i.start.column--,i.end.column++),this.setState("select")):(i=n.selection.getWordRange(t.row,t.column),this.setState("selectByWords")),this.$clickSelection=i,this.select()},this.onTripleClick=function(e){var t=e.getDocumentPosition(),n=this.editor;this.setState("selectByLines");var i=n.getSelectionRange();i.isMultiLine()&&i.contains(t.row,t.column)?(this.$clickSelection=n.selection.getLineRange(i.start.row),this.$clickSelection.end=n.selection.getLineRange(i.end.row).end):this.$clickSelection=n.selection.getLineRange(t.row),this.select()},this.onQuadClick=function(e){var t=this.editor;t.selectAll(),this.$clickSelection=t.getSelectionRange(),this.setState("selectAll")},this.onMouseWheel=function(e){if(!e.getAccelKey()){e.getShiftKey()&&e.wheelY&&!e.wheelX&&(e.wheelX=e.wheelY,e.wheelY=0);var t=this.editor;this.$lastScroll||(this.$lastScroll={t:0,vx:0,vy:0,allowed:0});var n=this.$lastScroll,i=e.domEvent.timeStamp,r=i-n.t,o=r?e.wheelX/r:n.vx,s=r?e.wheelY/r:n.vy;r<550&&(o=(o+n.vx)/2,s=(s+n.vy)/2);var a=Math.abs(o/s),l=!1;return 1<=a&&t.renderer.isScrollableBy(e.wheelX*e.speed,0)&&(l=!0),a<=1&&t.renderer.isScrollableBy(0,e.wheelY*e.speed)&&(l=!0),l?n.allowed=i:i-n.allowed<550&&(Math.abs(o)<=1.5*Math.abs(n.vx)&&Math.abs(s)<=1.5*Math.abs(n.vy)?(l=!0,n.allowed=i):n.allowed=0),n.t=i,n.vx=o,n.vy=s,l?(t.renderer.scrollBy(e.wheelX*e.speed,e.wheelY*e.speed),e.stop()):void 0}}}).call(r.prototype),t.DefaultHandlers=r})),ace.define("ace/tooltip",["require","exports","module","ace/lib/oop","ace/lib/dom"],(function(e,t,n){"use strict";e("./lib/oop");var i=e("./lib/dom");function r(e){this.isOpen=!1,this.$element=null,this.$parentNode=e}(function(){this.$init=function(){return this.$element=i.createElement("div"),this.$element.className="ace_tooltip",this.$element.style.display="none",this.$parentNode.appendChild(this.$element),this.$element},this.getElement=function(){return this.$element||this.$init()},this.setText=function(e){this.getElement().textContent=e},this.setHtml=function(e){this.getElement().innerHTML=e},this.setPosition=function(e,t){this.getElement().style.left=e+"px",this.getElement().style.top=t+"px"},this.setClassName=function(e){i.addCssClass(this.getElement(),e)},this.show=function(e,t,n){null!=e&&this.setText(e),null!=t&&null!=n&&this.setPosition(t,n),this.isOpen||(this.getElement().style.display="block",this.isOpen=!0)},this.hide=function(){this.isOpen&&(this.getElement().style.display="none",this.isOpen=!1)},this.getHeight=function(){return this.getElement().offsetHeight},this.getWidth=function(){return this.getElement().offsetWidth},this.destroy=function(){this.isOpen=!1,this.$element&&this.$element.parentNode&&this.$element.parentNode.removeChild(this.$element)}}).call(r.prototype),t.Tooltip=r})),ace.define("ace/mouse/default_gutter_handler",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/event","ace/tooltip"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/oop"),o=e("../lib/event"),s=e("../tooltip").Tooltip;function a(e){s.call(this,e)}r.inherits(a,s),(function(){this.setPosition=function(e,t){var n=window.innerWidth||document.documentElement.clientWidth,i=window.innerHeight||document.documentElement.clientHeight,r=this.getWidth(),o=this.getHeight();n<(e+=15)+r&&(e-=e+r-n),i<(t+=15)+o&&(t-=20+o),s.prototype.setPosition.call(this,e,t)}}).call(a.prototype),t.GutterHandler=function(e){var t,n,r,s=e.editor,l=s.renderer.$gutterLayer,c=new a(s.container);function h(){t=t&&clearTimeout(t),r&&(c.hide(),r=null,s._signal("hideGutterTooltip",c),s.off("mousewheel",h))}function d(e){c.setPosition(e.x,e.y)}e.editor.setDefaultHandler("guttermousedown",(function(t){if(s.isFocused()&&0==t.getButton()&&"foldWidgets"!=l.getRegion(t)){var n=t.getDocumentPosition().row,i=s.session.selection;if(t.getShiftKey())i.selectTo(n,0);else{if(2==t.domEvent.detail)return s.selectAll(),t.preventDefault();e.$clickSelection=s.selection.getLineRange(n)}return e.setState("selectByLines"),e.captureMouse(t),t.preventDefault()}})),e.editor.setDefaultHandler("guttermousemove",(function(o){if(i.hasCssClass(o.domEvent.target||o.domEvent.srcElement,"ace_fold-widget"))return h();r&&e.$tooltipFollowsMouse&&d(o),n=o,t=t||setTimeout((function(){t=null,(n&&!e.isMousePressed?function(){var t,i,o=n.getDocumentPosition().row,a=l.$annotations[o];if(!a)return h();if(o==s.session.getLength()){var u=s.renderer.pixelToScreenCoordinates(0,n.y).row,p=n.$pos;if(u>s.session.documentToScreenRow(p.row,p.column))return h()}r!=a&&(r=a.text.join("<br/>"),c.setHtml(r),c.show(),s._signal("showGutterTooltip",c),s.on("mousewheel",h),e.$tooltipFollowsMouse?d(n):(t=n.domEvent.target.getBoundingClientRect(),(i=c.getElement().style).left=t.right+"px",i.top=t.bottom+"px"))}:h)()}),50)})),o.addListener(s.renderer.$gutter,"mouseout",(function(e){n=null,r&&!t&&(t=setTimeout((function(){t=null,h()}),50))}),s),s.on("changeSession",h)}})),ace.define("ace/mouse/mouse_event",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/event"),r=e("../lib/useragent"),o=t.MouseEvent=function(e,t){this.domEvent=e,this.editor=t,this.x=this.clientX=e.clientX,this.y=this.clientY=e.clientY,this.$pos=null,this.$inSelection=null,this.propagationStopped=!1,this.defaultPrevented=!1};(function(){this.stopPropagation=function(){i.stopPropagation(this.domEvent),this.propagationStopped=!0},this.preventDefault=function(){i.preventDefault(this.domEvent),this.defaultPrevented=!0},this.stop=function(){this.stopPropagation(),this.preventDefault()},this.getDocumentPosition=function(){return this.$pos||(this.$pos=this.editor.renderer.screenToTextCoordinates(this.clientX,this.clientY)),this.$pos},this.inSelection=function(){if(null!==this.$inSelection)return this.$inSelection;var e,t=this.editor.getSelectionRange();return t.isEmpty()?this.$inSelection=!1:(e=this.getDocumentPosition(),this.$inSelection=t.contains(e.row,e.column)),this.$inSelection},this.getButton=function(){return i.getButton(this.domEvent)},this.getShiftKey=function(){return this.domEvent.shiftKey},this.getAccelKey=r.isMac?function(){return this.domEvent.metaKey}:function(){return this.domEvent.ctrlKey}}).call(o.prototype)})),ace.define("ace/mouse/dragdrop_handler",["require","exports","module","ace/lib/dom","ace/lib/event","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/event"),o=e("../lib/useragent");function s(e){var t=e.editor,n=i.createElement("img");n.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",o.isOpera&&(n.style.cssText="width:1px;height:1px;position:fixed;top:0;left:0;z-index:2147483647;opacity:0;"),["dragWait","dragWaitEnd","startDrag","dragReadyEnd","onMouseDrag"].forEach((function(t){e[t]=this[t]}),this),t.on("mousedown",this.onMouseDown.bind(e));var s,l,c,h,d,u,p,g,f,m,v,y=t.container,b=0;function C(){var e,n,i,r=u;e=u=t.renderer.screenToTextCoordinates(l,c),n=r,i=Date.now(),m&&n&&e.row==n.row&&n&&e.column==n.column?5<a(v.x,v.y,l,c)?m=null:200<=i-m&&(t.renderer.scrollCursorIntoView(),m=null):(t.moveCursorToPosition(e),m=i,v={x:l,y:c}),function(e,n){var i=Date.now(),r=t.renderer.layerConfig.lineHeight,o=t.renderer.layerConfig.characterWidth,s=t.renderer.scroller.getBoundingClientRect(),a={x:{left:l-s.left,right:s.right-l},y:{top:c-s.top,bottom:s.bottom-c}},h=Math.min(a.x.left,a.x.right),d=Math.min(a.y.top,a.y.bottom),u={row:e.row,column:e.column};h/o<=2&&(u.column+=a.x.left<a.x.right?-3:2),d/r<=1&&(u.row+=a.y.top<a.y.bottom?-1:1),e.row!=u.row||e.column!=u.column&&n&&e.row==n.row?f?200<=i-f&&t.renderer.scrollCursorIntoView(u):f=i:f=null}(u,r)}function w(){d=t.selection.toOrientedRange(),s=t.session.addMarker(d,"ace_selection",t.getSelectionStyle()),t.clearSelection(),t.isFocused()&&t.renderer.$cursorLayer.setBlinking(!1),clearInterval(h),C(),h=setInterval(C,20),b=0,r.addListener(document,"mousemove",I)}function _(){clearInterval(h),t.session.removeMarker(s),s=null,t.selection.fromOrientedRange(d),t.isFocused()&&!g&&t.$resetCursorStyle(),b=0,m=f=u=d=null,r.removeListener(document,"mousemove",I)}this.onDragStart=function(e){if(this.cancelDrag||!y.draggable){var i=this;return setTimeout((function(){i.startSelect(),i.captureMouse(e)}),0),e.preventDefault()}d=t.getSelectionRange();var r=e.dataTransfer;r.effectAllowed=t.getReadOnly()?"copy":"copyMove",o.isOpera&&(t.container.appendChild(n),n.scrollTop=0),r.setDragImage&&r.setDragImage(n,0,0),o.isOpera&&t.container.removeChild(n),r.clearData(),r.setData("Text",t.session.getTextRange()),g=!0,this.setState("drag")},this.onDragEnd=function(e){y.draggable=!1,g=!1,this.setState(null),t.getReadOnly()||(p||"move"!=e.dataTransfer.dropEffect||t.session.remove(t.getSelectionRange()),t.$resetCursorStyle()),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle("")},this.onDragEnter=function(e){if(!t.getReadOnly()&&A(e.dataTransfer))return l=e.clientX,c=e.clientY,s||w(),b++,e.dataTransfer.dropEffect=p=k(e),r.preventDefault(e)},this.onDragOver=function(e){if(!t.getReadOnly()&&A(e.dataTransfer))return l=e.clientX,c=e.clientY,s||(w(),b++),null!==x&&(x=null),e.dataTransfer.dropEffect=p=k(e),r.preventDefault(e)},this.onDragLeave=function(e){if(--b<=0&&s)return _(),p=null,r.preventDefault(e)},this.onDrop=function(e){if(u){var n=e.dataTransfer;if(g)switch(p){case"move":d=d.contains(u.row,u.column)?{start:u,end:u}:t.moveText(d,u);break;case"copy":d=t.moveText(d,u,!0)}else{var i=n.getData("Text");d={start:u,end:t.session.insert(u,i)},t.focus(),p=null}return _(),r.preventDefault(e)}},r.addListener(y,"dragstart",this.onDragStart.bind(e),t),r.addListener(y,"dragend",this.onDragEnd.bind(e),t),r.addListener(y,"dragenter",this.onDragEnter.bind(e),t),r.addListener(y,"dragover",this.onDragOver.bind(e),t),r.addListener(y,"dragleave",this.onDragLeave.bind(e),t),r.addListener(y,"drop",this.onDrop.bind(e),t);var x=null;function I(){null==x&&(x=setTimeout((function(){null!=x&&s&&_()}),20))}function A(e){var t=e.types;return!t||Array.prototype.some.call(t,(function(e){return"text/plain"==e||"Text"==e}))}function k(e){var t=["copy","copymove","all","uninitialized"],n=o.isMac?e.altKey:e.ctrlKey,i="uninitialized";try{i=e.dataTransfer.effectAllowed.toLowerCase()}catch(e){}var r="none";return n&&0<=t.indexOf(i)?r="copy":0<=["move","copymove","linkmove","all","uninitialized"].indexOf(i)?r="move":0<=t.indexOf(i)&&(r="copy"),r}}function a(e,t,n,i){return Math.sqrt(Math.pow(n-e,2)+Math.pow(i-t,2))}(function(){this.dragWait=function(){Date.now()-this.mousedownEvent.time>this.editor.getDragDelay()&&this.startDrag()},this.dragWaitEnd=function(){this.editor.container.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()),this.selectEnd()},this.dragReadyEnd=function(e){this.editor.$resetCursorStyle(),this.editor.unsetStyle("ace_dragging"),this.editor.renderer.setCursorStyle(""),this.dragWaitEnd()},this.startDrag=function(){this.cancelDrag=!1;var e=this.editor;e.container.draggable=!0,e.renderer.$cursorLayer.setBlinking(!1),e.setStyle("ace_dragging"),e.renderer.setCursorStyle(o.isWin?"default":"move"),this.setState("dragReady")},this.onMouseDrag=function(e){var t=this.editor.container;o.isIE&&"dragReady"==this.state&&3<a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&t.dragDrop(),"dragWait"===this.state&&0<a(this.mousedownEvent.x,this.mousedownEvent.y,this.x,this.y)&&(t.draggable=!1,this.startSelect(this.mousedownEvent.getDocumentPosition()))},this.onMouseDown=function(e){if(this.$dragEnabled){this.mousedownEvent=e;var t=this.editor,n=e.inSelection(),i=e.getButton();if(1===(e.domEvent.detail||1)&&0===i&&n){if(e.editor.inMultiSelectMode&&(e.getAccelKey()||e.getShiftKey()))return;this.mousedownEvent.time=Date.now();var r=e.domEvent.target||e.domEvent.srcElement;"unselectable"in r&&(r.unselectable="on"),t.getDragDelay()?(o.isWebKit&&(this.cancelDrag=!0,t.container.draggable=!0),this.setState("dragWait")):this.startDrag(),this.captureMouse(e,this.onMouseDrag.bind(this)),e.defaultPrevented=!0}}}}).call(s.prototype),t.DragdropHandler=s})),ace.define("ace/mouse/touch_handler",["require","exports","module","ace/mouse/mouse_event","ace/lib/event","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./mouse_event").MouseEvent,r=e("../lib/event"),o=e("../lib/dom");t.addTouchListeners=function(e,t){var n,s,a,l,c,h,d,u,p,g="scroll",f=0,m=0,v=0,y=0;function b(){p||function(){function e(e){var r,s,a=e.target.getAttribute("action");if("more"==a||!i)return i=!i,r=t.getCopyText(),s=t.session.getUndoManager().hasUndo(),void p.replaceChild(o.buildDom(i?["span",!r&&["span",{class:"ace_mobile-button",action:"selectall"},"Select All"],r&&["span",{class:"ace_mobile-button",action:"copy"},"Copy"],r&&["span",{class:"ace_mobile-button",action:"cut"},"Cut"],n&&["span",{class:"ace_mobile-button",action:"paste"},"Paste"],s&&["span",{class:"ace_mobile-button",action:"undo"},"Undo"],["span",{class:"ace_mobile-button",action:"find"},"Find"],["span",{class:"ace_mobile-button",action:"openCommandPallete"},"Pallete"]]:["span"]),p.firstChild);"paste"==a?n.readText().then((function(e){t.execCommand(a,e)})):a&&("cut"!=a&&"copy"!=a||(n?n.writeText(t.getCopyText()):document.execCommand("copy")),t.execCommand(a)),p.firstChild.style.display="none",i=!1,"openCommandPallete"!=a&&t.focus()}var n=window.navigator&&window.navigator.clipboard,i=!1;p=o.buildDom(["div",{class:"ace_mobile-menu",ontouchstart:function(e){g="menu",e.stopPropagation(),e.preventDefault(),t.textInput.focus()},ontouchend:function(t){t.stopPropagation(),t.preventDefault(),e(t)},onclick:e},["span"],["span",{class:"ace_mobile-button",action:"more"},"..."]],t.container)}();var e=t.selection.cursor,n=t.renderer.textToScreenCoordinates(e.row,e.column),i=t.renderer.textToScreenCoordinates(0,0).pageX,r=t.renderer.scrollLeft,s=t.container.getBoundingClientRect();p.style.top=n.pageY-s.top-3+"px",n.pageX-s.left<s.width-70?(p.style.left="",p.style.right="10px"):(p.style.right="",p.style.left=i+r-s.left+"px"),p.style.display="",p.firstChild.style.display="none",t.on("input",C)}function C(e){p&&(p.style.display="none"),t.off("input",C)}function w(){c=null,clearTimeout(c);var e=t.selection.getRange(),n=e.contains(d.row,d.column);!e.isEmpty()&&n||(t.selection.moveToPosition(d),t.selection.selectWord()),g="wait",b()}r.addListener(e,"contextmenu",(function(e){u&&t.textInput.getElement().focus()}),t),r.addListener(e,"touchstart",(function(e){var r=e.touches;if(c||1<r.length)return clearTimeout(c),c=null,a=-1,void(g="zoom");u=t.$mouseHandler.isMousePressed=!0;var o=t.renderer.layerConfig.lineHeight,h=t.renderer.layerConfig.lineHeight,p=e.timeStamp;l=p;var b=r[0],C=b.clientX,_=b.clientY;Math.abs(n-C)+Math.abs(s-_)>o&&(a=-1),n=e.clientX=C,s=e.clientY=_,v=y=0;var x=new i(e,t);if(d=x.getDocumentPosition(),p-a<500&&1==r.length&&!f)m++,e.preventDefault(),e.button=0,function(){c=null,clearTimeout(c),t.selection.moveToPosition(d);var e=2<=m?t.selection.getLineRange(d.row):t.session.getBracketRange(d);e&&!e.isEmpty()?t.selection.setRange(e):t.selection.selectWord(),g="wait"}();else{m=0;var I=t.selection.cursor,A=t.selection.isEmpty()?I:t.selection.anchor,k=t.renderer.$cursorLayer.getPixelPosition(I,!0),S=t.renderer.$cursorLayer.getPixelPosition(A,!0),E=t.renderer.scroller.getBoundingClientRect(),O=t.renderer.layerConfig.offset,P=t.renderer.scrollLeft,M=function(e,t){return(e/=h)*e+(t=t/o-.75)*t};if(e.clientX<E.left)return void(g="zoom");var T=M(e.clientX-E.left-k.left+P,e.clientY-E.top-k.top+O),R=M(e.clientX-E.left-S.left+P,e.clientY-E.top-S.top+O);T<3.5&&R<3.5&&(g=R<T?"cursor":"anchor"),g=R<3.5?"anchor":T<3.5?"cursor":"scroll",c=setTimeout(w,450)}a=p}),t),r.addListener(e,"touchend",(function(e){u=t.$mouseHandler.isMousePressed=!1,h&&clearInterval(h),"zoom"==g?(g="",f=0):c?(t.selection.moveToPosition(d),f=0,b()):"scroll"==g?(f+=60,h=setInterval((function(){f--<=0&&(clearInterval(h),h=null),Math.abs(v)<.01&&(v=0),Math.abs(y)<.01&&(y=0),f<20&&(v*=.9),f<20&&(y*=.9);var e=t.session.getScrollTop();t.renderer.scrollBy(10*v,10*y),e==t.session.getScrollTop()&&(f=0)}),10),C()):b(),clearTimeout(c),c=null}),t),r.addListener(e,"touchmove",(function(e){c&&(clearTimeout(c),c=null);var r=e.touches;if(!(1<r.length||"zoom"==g)){var o=r[0],a=n-o.clientX,h=s-o.clientY;if("wait"==g){if(!(4<a*a+h*h))return e.preventDefault();g="cursor"}n=o.clientX,s=o.clientY,e.clientX=o.clientX,e.clientY=o.clientY;var d,u,p=e.timeStamp,f=p-l;l=p,"scroll"==g?((d=new i(e,t)).speed=1,d.wheelX=a,d.wheelY=h,10*Math.abs(a)<Math.abs(h)&&(a=0),10*Math.abs(h)<Math.abs(a)&&(h=0),0!=f&&(v=a/f,y=h/f),t._emit("mousewheel",d),d.propagationStopped||(v=y=0)):(u=new i(e,t).getDocumentPosition(),"cursor"==g?t.selection.moveCursorToPosition(u):"anchor"==g&&t.selection.setSelectionAnchor(u.row,u.column),t.renderer.scrollCursorIntoView(u),e.preventDefault())}}),t)}})),ace.define("ace/lib/net",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./dom");t.get=function(e,t){var n=new XMLHttpRequest;n.open("GET",e,!0),n.onreadystatechange=function(){4===n.readyState&&t(n.responseText)},n.send(null)},t.loadScript=function(e,t){var n=i.getDocumentHead(),r=document.createElement("script");r.src=e,n.appendChild(r),r.onload=r.onreadystatechange=function(e,n){!n&&r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(r=r.onload=r.onreadystatechange=null,n||t())}},t.qualifyURL=function(e){var t=document.createElement("a");return t.href=e,t.href}})),ace.define("ace/lib/event_emitter",["require","exports","module"],(function(e,t,n){"use strict";function i(){this.propagationStopped=!0}function r(){this.defaultPrevented=!0}var o={};o._emit=o._dispatchEvent=function(e,t){this._eventRegistry||(this._eventRegistry={}),this._defaultHandlers||(this._defaultHandlers={});var n=this._eventRegistry[e]||[],o=this._defaultHandlers[e];if(n.length||o){"object"==typeof t&&t||(t={}),t.type||(t.type=e),t.stopPropagation||(t.stopPropagation=i),t.preventDefault||(t.preventDefault=r),n=n.slice();for(var s=0;s<n.length&&(n[s](t,this),!t.propagationStopped);s++);return o&&!t.defaultPrevented?o(t,this):void 0}},o._signal=function(e,t){var n=(this._eventRegistry||{})[e];if(n){n=n.slice();for(var i=0;i<n.length;i++)n[i](t,this)}},o.once=function(e,t){var n=this;if(this.on(e,(function i(){n.off(e,i),t.apply(null,arguments)})),!t)return new Promise((function(e){t=e}))},o.setDefaultHandler=function(e,t){var n,i,r,o=this._defaultHandlers;(o=o||(this._defaultHandlers={_disabled_:{}}))[e]&&(n=o[e],(i=o._disabled_[e])||(o._disabled_[e]=i=[]),i.push(n),-1!=(r=i.indexOf(t))&&i.splice(r,1)),o[e]=t},o.removeDefaultHandler=function(e,t){var n,i,r=this._defaultHandlers;r&&(n=r._disabled_[e],r[e]==t?n&&this.setDefaultHandler(e,n.pop()):!n||-1!=(i=n.indexOf(t))&&n.splice(i,1))},o.on=o.addEventListener=function(e,t,n){this._eventRegistry=this._eventRegistry||{};var i=this._eventRegistry[e];return-1==(i=i||(this._eventRegistry[e]=[])).indexOf(t)&&i[n?"unshift":"push"](t),t},o.off=o.removeListener=o.removeEventListener=function(e,t){this._eventRegistry=this._eventRegistry||{};var n,i=this._eventRegistry[e];!i||-1!==(n=i.indexOf(t))&&i.splice(n,1)},o.removeAllListeners=function(e){e||(this._eventRegistry=this._defaultHandlers=void 0),this._eventRegistry&&(this._eventRegistry[e]=void 0),this._defaultHandlers&&(this._defaultHandlers[e]=void 0)},t.EventEmitter=o})),ace.define("ace/lib/app_config",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){var i=e("./oop"),r=e("./event_emitter").EventEmitter,o={setOptions:function(e){Object.keys(e).forEach((function(t){this.setOption(t,e[t])}),this)},getOptions:function(e){var t,n={};return e?Array.isArray(e)||(n=e,e=Object.keys(n)):(t=this.$options,e=Object.keys(t).filter((function(e){return!t[e].hidden}))),e.forEach((function(e){n[e]=this.getOption(e)}),this),n},setOption:function(e,t){if(this["$"+e]!==t){var n=this.$options[e];if(!n)return s('misspelled option "'+e+'"');if(n.forwardTo)return this[n.forwardTo]&&this[n.forwardTo].setOption(e,t);n.handlesSet||(this["$"+e]=t),n&&n.set&&n.set.call(this,t)}},getOption:function(e){var t=this.$options[e];return t?t.forwardTo?this[t.forwardTo]&&this[t.forwardTo].getOption(e):t&&t.get?t.get.call(this):this["$"+e]:s('misspelled option "'+e+'"')}};function s(e){"undefined"!=typeof console&&console.warn&&console.warn.apply(console,arguments)}function a(e,t){var n=new Error(e);n.data=t,"object"==typeof console&&console.error&&console.error(n),setTimeout((function(){throw n}))}function l(){this.$defaultOptions={}}(function(){i.implement(this,r),this.defineOptions=function(e,t,n){return e.$options||(this.$defaultOptions[t]=e.$options={}),Object.keys(n).forEach((function(t){var i=n[t];"string"==typeof i&&(i={forwardTo:i}),i.name||(i.name=t),"initialValue"in(e.$options[i.name]=i)&&(e["$"+i.name]=i.initialValue)})),i.implement(e,o),this},this.resetOptions=function(e){Object.keys(e.$options).forEach((function(t){var n=e.$options[t];"value"in n&&e.setOption(t,n.value)}))},this.setDefaultValue=function(e,t,n){if(!e){for(e in this.$defaultOptions)if(this.$defaultOptions[e][t])break;if(!this.$defaultOptions[e][t])return!1}var i=this.$defaultOptions[e]||(this.$defaultOptions[e]={});i[t]&&(i.forwardTo?this.setDefaultValue(i.forwardTo,t,n):i[t].value=n)},this.setDefaultValues=function(e,t){Object.keys(t).forEach((function(n){this.setDefaultValue(e,n,t[n])}),this)},this.warn=s,this.reportError=a}).call(l.prototype),t.AppConfig=l})),ace.define("ace/config",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/lib/net","ace/lib/app_config"],(function(e,t,i){var r=e("./lib/lang"),o=(e("./lib/oop"),e("./lib/net")),s=e("./lib/app_config").AppConfig;i.exports=t=new s;var a=function(){return this||"undefined"!=typeof window&&window}(),l={packaged:!1,workerPath:null,modePath:null,themePath:null,basePath:"",suffix:".js",$moduleUrls:{},loadWorkerFromBlob:!0,sharedPopups:!1};t.get=function(e){if(!l.hasOwnProperty(e))throw new Error("Unknown config key: "+e);return l[e]},t.set=function(e,t){if(l.hasOwnProperty(e))l[e]=t;else if(0==this.setDefaultValue("",e,t))throw new Error("Unknown config key: "+e)},t.all=function(){return r.copyObject(l)},t.$modes={},t.moduleUrl=function(e,t){if(l.$moduleUrls[e])return l.$moduleUrls[e];var n,i=e.split("/"),r="snippets"==(t=t||i[i.length-2]||"")?"/":"-",o=i[i.length-1];"worker"==t&&"-"==r&&(n=new RegExp("^"+t+"[\\-_]|[\\-_]"+t+"$","g"),o=o.replace(n,"")),(!o||o==t)&&1<i.length&&(o=i[i.length-2]);var s=l[t+"Path"];return null==s?s=l.basePath:"/"==r&&(t=r=""),s&&"/"!=s.slice(-1)&&(s+="/"),s+t+r+o+this.get("suffix")},t.setModuleUrl=function(e,t){return l.$moduleUrls[e]=t},t.$loading={},t.loadModule=function(n,i){var r,s;Array.isArray(n)&&(s=n[0],n=n[1]);try{r=e(n)}catch(i){}if(r&&!t.$loading[n])return i&&i(r);if(t.$loading[n]||(t.$loading[n]=[]),t.$loading[n].push(i),!(1<t.$loading[n].length)){function a(){e([n],(function(e){t._emit("load.module",{name:n,module:e});var i=t.$loading[n];t.$loading[n]=null,i.forEach((function(t){t&&t(e)}))}))}if(!t.get("packaged"))return a();o.loadScript(t.moduleUrl(n,s),a),c()}};var c=function(){l.basePath||l.workerPath||l.modePath||l.themePath||Object.keys(l.$moduleUrls).length||(console.error("Unable to infer path to ace from script src,","use ace.config.set('basePath', 'path') to enable dynamic loading of modes and themes","or with webpack use ace/webpack-resolver"),c=function(){})};function h(r){if(a&&a.document){l.packaged=r||e.packaged||i.packaged||a.define&&n(23).packaged;for(var o,s={},c="",h=document.currentScript||document._currentScript,d=(h&&h.ownerDocument||document).getElementsByTagName("script"),u=0;u<d.length;u++){var p=d[u],g=p.src||p.getAttribute("src");if(g){for(var f=p.attributes,m=0,v=f.length;m<v;m++){var y=f[m];0===y.name.indexOf("data-ace-")&&(s[y.name.replace(/^data-ace-/,"").replace(/-(.)/g,(function(e,t){return t.toUpperCase()}))]=y.value)}var b=g.match(/^(.*)\/ace(\-\w+)?\.js(\?|$)/);b&&(c=b[1])}}for(o in c&&(s.base=s.base||c,s.packaged=!0),s.basePath=s.base,s.workerPath=s.workerPath||s.base,s.modePath=s.modePath||s.base,s.themePath=s.themePath||s.base,delete s.base,s)void 0!==s[o]&&t.set(o,s[o])}}h(!0),t.init=h,t.version="1.4.12"})),ace.define("ace/mouse/mouse_handler",["require","exports","module","ace/lib/event","ace/lib/useragent","ace/mouse/default_handlers","ace/mouse/default_gutter_handler","ace/mouse/mouse_event","ace/mouse/dragdrop_handler","ace/mouse/touch_handler","ace/config"],(function(e,t,n){"use strict";function i(e){var t=this;function n(t){document.hasFocus&&document.hasFocus()&&(e.isFocused()||document.activeElement!=(e.textInput&&e.textInput.getElement()))||window.focus(),e.focus()}this.editor=e,new s(this),new a(this),new c(this);var i=e.renderer.getMouseEventTarget();r.addListener(i,"click",this.onMouseEvent.bind(this,"click"),e),r.addListener(i,"mousemove",this.onMouseMove.bind(this,"mousemove"),e),r.addMultiMouseDownListener([i,e.renderer.scrollBarV&&e.renderer.scrollBarV.inner,e.renderer.scrollBarH&&e.renderer.scrollBarH.inner,e.textInput&&e.textInput.getElement()].filter(Boolean),[400,300,250],this,"onMouseEvent",e),r.addMouseWheelListener(e.container,this.onMouseWheel.bind(this,"mousewheel"),e),h(e.container,e);var l=e.renderer.$gutter;r.addListener(l,"mousedown",this.onMouseEvent.bind(this,"guttermousedown"),e),r.addListener(l,"click",this.onMouseEvent.bind(this,"gutterclick"),e),r.addListener(l,"dblclick",this.onMouseEvent.bind(this,"gutterdblclick"),e),r.addListener(l,"mousemove",this.onMouseEvent.bind(this,"guttermousemove"),e),r.addListener(i,"mousedown",n,e),r.addListener(l,"mousedown",n,e),o.isIE&&e.renderer.scrollBarV&&(r.addListener(e.renderer.scrollBarV.element,"mousedown",n,e),r.addListener(e.renderer.scrollBarH.element,"mousedown",n,e)),e.on("mousemove",(function(n){var i,r,o;t.state||t.$dragDelay||!t.$dragEnabled||(i=e.renderer.screenToTextCoordinates(n.x,n.y),r=e.session.selection.getRange(),o=e.renderer,!r.isEmpty()&&r.insideStart(i.row,i.column)?o.setCursorStyle("default"):o.setCursorStyle(""))}),e)}var r=e("../lib/event"),o=e("../lib/useragent"),s=e("./default_handlers").DefaultHandlers,a=e("./default_gutter_handler").GutterHandler,l=e("./mouse_event").MouseEvent,c=e("./dragdrop_handler").DragdropHandler,h=e("./touch_handler").addTouchListeners,d=e("../config");(function(){this.onMouseEvent=function(e,t){this.editor._emit(e,new l(t,this.editor))},this.onMouseMove=function(e,t){var n=this.editor._eventRegistry&&this.editor._eventRegistry.mousemove;n&&n.length&&this.editor._emit(e,new l(t,this.editor))},this.onMouseWheel=function(e,t){var n=new l(t,this.editor);n.speed=2*this.$scrollSpeed,n.wheelX=t.wheelX,n.wheelY=t.wheelY,this.editor._emit(e,n)},this.setState=function(e){this.state=e},this.captureMouse=function(e,t){this.x=e.x,this.y=e.y,this.isMousePressed=!0;var n=this.editor,i=this.editor.renderer;function s(e){if(e){if(o.isWebKit&&!e.which&&c.releaseMouse)return c.releaseMouse();c.x=e.clientX,c.y=e.clientY,t&&t(e),c.mouseEvent=new l(e,c.editor),c.$mouseMoved=!0}}function a(e){n.off("beforeEndOperation",d),clearInterval(u),h(),c[c.state+"End"]&&c[c.state+"End"](e),c.state="",c.isMousePressed=i.$isMousePressed=!1,i.$keepTextAreaAtCursor&&i.$moveTextAreaToCursor(),c.$onCaptureMouseMove=c.releaseMouse=null,e&&c.onMouseEvent("mouseup",e),n.endOperation()}i.$isMousePressed=!0;var c=this,h=function(){c[c.state]&&c[c.state](),c.$mouseMoved=!1};if(o.isOldIE&&"dblclick"==e.domEvent.type)return setTimeout((function(){a(e)}));var d=function(e){c.releaseMouse&&n.curOp.command.name&&n.curOp.selectionChanged&&(c[c.state+"End"]&&c[c.state+"End"](),c.state="",c.releaseMouse())};n.on("beforeEndOperation",d),n.startOperation({command:{name:"mouse"}}),c.$onCaptureMouseMove=s,c.releaseMouse=r.capture(this.editor.container,s,a);var u=setInterval(h,20)},this.releaseMouse=null,this.cancelContextMenu=function(){var e=(function(t){t&&t.domEvent&&"contextmenu"!=t.domEvent.type||(this.editor.off("nativecontextmenu",e),t&&t.domEvent&&r.stopEvent(t.domEvent))}).bind(this);setTimeout(e,10),this.editor.on("nativecontextmenu",e)},this.destroy=function(){this.releaseMouse&&this.releaseMouse()}}).call(i.prototype),d.defineOptions(i.prototype,"mouseHandler",{scrollSpeed:{initialValue:2},dragDelay:{initialValue:o.isMac?150:0},dragEnabled:{initialValue:!0},focusTimeout:{initialValue:0},tooltipFollowsMouse:{initialValue:!0}}),t.MouseHandler=i})),ace.define("ace/mouse/fold_handler",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("../lib/dom");t.FoldHandler=function(e){e.on("click",(function(t){var n=t.getDocumentPosition(),r=e.session,o=r.getFoldAt(n.row,n.column,1);o&&(t.getAccelKey()?r.removeFold(o):r.expandFold(o),t.stop());var s=t.domEvent&&t.domEvent.target;s&&i.hasCssClass(s,"ace_inline_button")&&i.hasCssClass(s,"ace_toggle_wrap")&&(r.setOption("wrap",!r.getUseWrapMode()),e.renderer.scrollCursorIntoView())})),e.on("gutterclick",(function(t){var n,i;"foldWidgets"==e.renderer.$gutterLayer.getRegion(t)&&(n=t.getDocumentPosition().row,(i=e.session).foldWidgets&&i.foldWidgets[n]&&e.session.onFoldWidgetClick(n,t),e.isFocused()||e.focus(),t.stop())})),e.on("gutterdblclick",(function(t){var n,i,r,o,s;"foldWidgets"==e.renderer.$gutterLayer.getRegion(t)&&(n=t.getDocumentPosition().row,(o=(r=(i=e.session).getParentFoldRangeData(n,!0)).range||r.firstRange)&&((s=i.getFoldAt(n=o.start.row,i.getLine(n).length,1))?i.removeFold(s):(i.addFold("...",o),e.renderer.scrollCursorIntoView({row:o.start.row,column:0}))),t.stop())}))}})),ace.define("ace/keyboard/keybinding",["require","exports","module","ace/lib/keys","ace/lib/event"],(function(e,t,n){"use strict";function i(e){this.$editor=e,this.$data={editor:e},this.$handlers=[],this.setDefaultHandler(e.commands)}var r=e("../lib/keys"),o=e("../lib/event");(function(){this.setDefaultHandler=function(e){this.removeKeyboardHandler(this.$defaultHandler),this.$defaultHandler=e,this.addKeyboardHandler(e,0)},this.setKeyboardHandler=function(e){var t=this.$handlers;if(t[t.length-1]!=e){for(;t[t.length-1]&&t[t.length-1]!=this.$defaultHandler;)this.removeKeyboardHandler(t[t.length-1]);this.addKeyboardHandler(e,1)}},this.addKeyboardHandler=function(e,t){var n;e&&("function"!=typeof e||e.handleKeyboard||(e.handleKeyboard=e),-1!=(n=this.$handlers.indexOf(e))&&this.$handlers.splice(n,1),null==t?this.$handlers.push(e):this.$handlers.splice(t,0,e),-1==n&&e.attach&&e.attach(this.$editor))},this.removeKeyboardHandler=function(e){var t=this.$handlers.indexOf(e);return-1!=t&&(this.$handlers.splice(t,1),e.detach&&e.detach(this.$editor),!0)},this.getKeyboardHandler=function(){return this.$handlers[this.$handlers.length-1]},this.getStatusText=function(){var e=this.$data,t=e.editor;return this.$handlers.map((function(n){return n.getStatusText&&n.getStatusText(t,e)||""})).filter(Boolean).join(" ")},this.$callKeyboardHandlers=function(e,t,n,i){for(var r,s=!1,a=this.$editor.commands,l=this.$handlers.length;l--&&!((r=this.$handlers[l].handleKeyboard(this.$data,e,t,n,i))&&r.command&&((s="null"==r.command||a.exec(r.command,this.$editor,r.args,i))&&i&&-1!=e&&1!=r.passEvent&&1!=r.command.passEvent&&o.stopEvent(i),s)););return s||-1!=e||(r={command:"insertstring"},s=a.exec("insertstring",this.$editor,t)),s&&this.$editor._signal&&this.$editor._signal("keyboardActivity",r),s},this.onCommandKey=function(e,t,n){var i=r.keyCodeToString(n);return this.$callKeyboardHandlers(t,i,n,e)},this.onTextInput=function(e){return this.$callKeyboardHandlers(-1,e)}}).call(i.prototype),t.KeyBinding=i})),ace.define("ace/lib/bidiutil",["require","exports","module"],(function(e,t,n){"use strict";var i=0,r=0,o=!1,s=!1,a=!1,l=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],c=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],h=11,d=18,u=[d,d,d,d,d,d,d,d,d,6,5,6,8,5,d,d,d,d,d,d,d,d,d,d,d,d,d,d,5,5,5,6,8,4,4,h,h,h,4,4,4,4,4,10,9,10,9,9,2,2,2,2,2,2,2,2,2,2,9,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,4,4,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,4,4,4,d,d,d,d,d,d,5,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,d,9,4,h,h,h,h,4,4,4,4,0,4,4,d,4,4,h,h,2,2,4,0,4,4,4,2,0,4,4,4,4,4],p=[8,8,8,8,8,8,8,8,8,8,8,d,d,d,0,1,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8,5,13,14,15,16,17,9,h,h,h,h,h,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,9,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,8];function g(e,t,n){if(!(r<e))if(1!=e||1!=i||s)for(var o,a,l,c,h=n.length,d=0;d<h;){if(t[d]>=e){for(o=d+1;o<h&&t[o]>=e;)o++;for(a=d,l=o-1;a<l;a++,l--)c=n[a],n[a]=n[l],n[l]=c;d=o}d++}else n.reverse()}function f(e){var t=e.charCodeAt(0),n=t>>8;return 0==n?191<t?0:u[t]:5==n?/[\u0591-\u05f4]/.test(e)?1:0:6==n?/[\u0610-\u061a\u064b-\u065f\u06d6-\u06e4\u06e7-\u06ed]/.test(e)?12:/[\u0660-\u0669\u066b-\u066c]/.test(e)?3:1642==t?h:/[\u06f0-\u06f9]/.test(e)?2:7:32==n&&t<=8287?p[255&t]:254==n&&65136<=t?7:4}t.L=0,t.R=1,t.EN=2,t.ON_R=3,t.AN=4,t.R_H=5,t.B=6,t.RLE=7,t.DOT="\xb7",t.doBidiReorder=function(e,n,u){if(e.length<2)return{};var p=e.split(""),m=new Array(p.length),v=new Array(p.length),y=[];i=u?1:0,function(e,t,n,u){var p,g,m,v,y=i?c:l,b=0,C=-1,w=null,_=null,x=[];if(!u)for(w=0,u=[];w<n;w++)u[w]=f(e[w]);for(r=i,a=s=o=!1,_=0;_<n;_++){if(p=b,x[_]=g=function(e,t,n,r){var l,c,u,p,g=t[r];switch(g){case 0:case 1:o=!1;case 4:case 3:return g;case 2:return o?3:2;case 7:return o=!0,1;case 8:return 4;case 9:return r<1||r+1>=t.length||2!=(l=n[r-1])&&3!=l||2!=(c=t[r+1])&&3!=c?4:(o&&(c=3),c==l?c:4);case 10:return 2==(l=0<r?n[r-1]:5)&&r+1<t.length&&2==t[r+1]?2:4;case h:if(0<r&&2==n[r-1])return 2;if(o)return 4;for(p=r+1,u=t.length;p<u&&t[p]==h;)p++;return p<u&&2==t[p]?2:4;case 12:for(u=t.length,p=r+1;p<u&&12==t[p];)p++;if(p<u){var f=e[r];if(l=t[p],(1425<=f&&f<=2303||64286==f)&&(1==l||7==l))return 1}return r<1||5==(l=t[r-1])?4:n[r-1];case 5:return s=!(o=!1),i;case 6:return a=!0,4;case 13:case 14:case 16:case 17:case 15:o=!1;case d:return 4}}(e,u,x,_),v=240&(b=y[p][g]),t[_]=m=y[b&=15][5],0<v)if(16==v){for(w=C;w<_;w++)t[w]=1;C=-1}else C=-1;if(y[b][6])-1==C&&(C=_);else if(-1<C){for(w=C;w<_;w++)t[w]=m;C=-1}5==u[_]&&(t[_]=0),r|=m}if(a)for(w=0;w<n;w++)if(6==u[w]){t[w]=i;for(var I=w-1;0<=I&&8==u[I];I--)t[I]=i}}(p,y,p.length,n);for(var b=0;b<m.length;m[b]=b,b++);for(g(2,y,m),g(1,y,m),b=0;b<m.length-1;b++)3===n[b]?y[b]=t.AN:1===y[b]&&(n[b]>7&&n[b]<13||4===n[b]||n[b]===d)?y[b]=t.ON_R:0<b&&"\u0644"===p[b-1]&&/\u0622|\u0623|\u0625|\u0627/.test(p[b])&&(y[b-1]=y[b]=t.R_H,b++);for(p[p.length-1]===t.DOT&&(y[p.length-1]=t.B),"\u202b"===p[0]&&(y[0]=t.RLE),b=0;b<m.length;b++)v[b]=y[m[b]];return{logicalFromVisual:m,bidiLevels:v}},t.hasBidiCharacters=function(e,t){for(var n=!1,i=0;i<e.length;i++)t[i]=f(e.charAt(i)),n||1!=t[i]&&7!=t[i]&&3!=t[i]||(n=!0);return n},t.getVisualFromLogicalIdx=function(e,t){for(var n=0;n<t.logicalFromVisual.length;n++)if(t.logicalFromVisual[n]==e)return n;return 0}})),ace.define("ace/bidihandler",["require","exports","module","ace/lib/bidiutil","ace/lib/lang"],(function(e,t,n){"use strict";function i(e){this.session=e,this.bidiMap={},this.currentRow=null,this.bidiUtil=r,this.charWidths=[],this.EOL="\xac",this.showInvisibles=!0,this.isRtlDir=!1,this.$isRtl=!1,this.line="",this.wrapIndent=0,this.EOF="\xb6",this.RLE="\u202b",this.contentWidth=0,this.fontMetrics=null,this.rtlLineOffset=0,this.wrapOffset=0,this.isMoveLeftOperation=!1,this.seenBidi=s.test(e.getValue())}var r=e("./lib/bidiutil"),o=e("./lib/lang"),s=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac\u202B]/;(function(){this.isBidiRow=function(e,t,n){return!!this.seenBidi&&(e!==this.currentRow&&(this.currentRow=e,this.updateRowLine(t,n),this.updateBidiMap()),this.bidiMap.bidiLevels)},this.onChange=function(e){this.seenBidi?this.currentRow=null:"insert"==e.action&&s.test(e.lines.join("\n"))&&(this.seenBidi=!0,this.currentRow=null)},this.getDocumentRow=function(){var e,t=0,n=this.session.$screenRowCache;return!n.length||0<=(e=this.session.$getRowCacheIndex(n,this.currentRow))&&(t=this.session.$docRowCache[e]),t},this.getSplitIndex=function(){var e=0,t=this.session.$screenRowCache;if(t.length)for(var n,i=this.session.$getRowCacheIndex(t,this.currentRow);0<this.currentRow-e&&(n=this.session.$getRowCacheIndex(t,this.currentRow-e-1))===i;)i=n,e++;else e=this.currentRow;return e},this.updateRowLine=function(e,t){void 0===e&&(e=this.getDocumentRow());var n,i=e===this.session.getLength()-1?this.EOF:this.EOL;this.wrapIndent=0,this.line=this.session.getLine(e),this.isRtlDir=this.$isRtl||this.line.charAt(0)===this.RLE,this.session.$useWrapMode?((n=this.session.$wrapData[e])&&(void 0===t&&(t=this.getSplitIndex()),0<t&&n.length?(this.wrapIndent=n.indent,this.wrapOffset=this.wrapIndent*this.charWidths[r.L],this.line=t<n.length?this.line.substring(n[t-1],n[t]):this.line.substring(n[n.length-1])):this.line=this.line.substring(0,n[t])),t==n.length&&(this.line+=this.showInvisibles?i:r.DOT)):this.line+=this.showInvisibles?i:r.DOT;var s,a=this.session,l=0;this.line=this.line.replace(/\t|[\u1100-\u2029, \u202F-\uFFE6]/g,(function(e,t){return"\t"===e||a.isFullWidth(e.charCodeAt(0))?(s="\t"===e?a.getScreenTabSize(t+l):2,l+=s-1,o.stringRepeat(r.DOT,s)):e})),this.isRtlDir&&(this.fontMetrics.$main.textContent=this.line.charAt(this.line.length-1)==r.DOT?this.line.substr(0,this.line.length-1):this.line,this.rtlLineOffset=this.contentWidth-this.fontMetrics.$main.getBoundingClientRect().width)},this.updateBidiMap=function(){var e=[];this.bidiMap=r.hasBidiCharacters(this.line,e)||this.isRtlDir?r.doBidiReorder(this.line,e,this.isRtlDir):{}},this.markAsDirty=function(){this.currentRow=null},this.updateCharacterWidths=function(e){var t,n;this.characterWidth!==e.$characterSize.width&&(this.fontMetrics=e,t=this.characterWidth=e.$characterSize.width,n=e.$measureCharWidth("\u05d4"),this.charWidths[r.L]=this.charWidths[r.EN]=this.charWidths[r.ON_R]=t,this.charWidths[r.R]=this.charWidths[r.AN]=n,this.charWidths[r.R_H]=.45*n,this.charWidths[r.B]=this.charWidths[r.RLE]=0,this.currentRow=null)},this.setShowInvisibles=function(e){this.showInvisibles=e,this.currentRow=null},this.setEolChar=function(e){this.EOL=e},this.setContentWidth=function(e){this.contentWidth=e},this.isRtlLine=function(e){return!!this.$isRtl||(null!=e?this.session.getLine(e).charAt(0)==this.RLE:this.isRtlDir)},this.setRtlDirection=function(e,t){for(var n=e.getCursorPosition(),i=e.selection.getSelectionAnchor().row;i<=n.row;i++)t||e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE?t&&e.session.getLine(i).charAt(0)!==e.session.$bidiHandler.RLE&&e.session.doc.insert({column:0,row:i},e.session.$bidiHandler.RLE):e.session.doc.removeInLine(i,0,1)},this.getPosLeft=function(e){e-=this.wrapIndent;var t=this.line.charAt(0)===this.RLE?1:0,n=t<e?this.session.getOverwrite()?e:e-1:t,i=r.getVisualFromLogicalIdx(n,this.bidiMap),o=this.bidiMap.bidiLevels,s=0;!this.session.getOverwrite()&&e<=t&&o[i]%2!=0&&i++;for(var a=0;a<i;a++)s+=this.charWidths[o[a]];return!this.session.getOverwrite()&&t<e&&o[i]%2==0&&(s+=this.charWidths[o[i]]),this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset),this.isRtlDir&&(s+=this.rtlLineOffset),s},this.getSelections=function(e,t){var n,i=this.bidiMap,r=i.bidiLevels,o=[],s=0,a=Math.min(e,t)-this.wrapIndent,l=Math.max(e,t)-this.wrapIndent,c=!1,h=!1,d=0;this.wrapIndent&&(s+=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);for(var u,p=0;p<r.length;p++)n=r[p],(c=a<=(u=i.logicalFromVisual[p])&&u<l)&&!h?d=s:!c&&h&&o.push({left:d,width:s-d}),s+=this.charWidths[n],h=c;if(c&&p===r.length&&o.push({left:d,width:s-d}),this.isRtlDir)for(var g=0;g<o.length;g++)o[g].left+=this.rtlLineOffset;return o},this.offsetToCol=function(e){this.isRtlDir&&(e-=this.rtlLineOffset);var t=0,n=(e=Math.max(e,0),0),i=0,r=this.bidiMap.bidiLevels,o=this.charWidths[r[i]];for(this.wrapIndent&&(e-=this.isRtlDir?-1*this.wrapOffset:this.wrapOffset);n+o/2<e;){if(n+=o,i===r.length-1){o=0;break}o=this.charWidths[r[++i]]}return 0===(t=0<i&&r[i-1]%2!=0&&r[i]%2==0?(e<n&&i--,this.bidiMap.logicalFromVisual[i]):0<i&&r[i-1]%2==0&&r[i]%2!=0?1+(n<e?this.bidiMap.logicalFromVisual[i]:this.bidiMap.logicalFromVisual[i-1]):this.isRtlDir&&i===r.length-1&&0===o&&r[i-1]%2==0||!this.isRtlDir&&0===i&&r[i]%2!=0?1+this.bidiMap.logicalFromVisual[i]:(0<i&&r[i-1]%2!=0&&0!==o&&i--,this.bidiMap.logicalFromVisual[i]))&&this.isRtlDir&&t++,t+this.wrapIndent}}).call(i.prototype),t.BidiHandler=i})),ace.define("ace/selection",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/range"],(function(e,t,n){"use strict";function i(e){this.session=e,this.doc=e.getDocument(),this.clearSelection(),this.cursor=this.lead=this.doc.createAnchor(0,0),this.anchor=this.doc.createAnchor(0,0),this.$silent=!1;var t=this;this.cursor.on("change",(function(e){t.$cursorChanged=!0,t.$silent||t._emit("changeCursor"),t.$isEmpty||t.$silent||t._emit("changeSelection"),t.$keepDesiredColumnOnChange||e.old.column==e.value.column||(t.$desiredColumn=null)})),this.anchor.on("change",(function(){t.$anchorChanged=!0,t.$isEmpty||t.$silent||t._emit("changeSelection")}))}var r=e("./lib/oop"),o=e("./lib/lang"),s=e("./lib/event_emitter").EventEmitter,a=e("./range").Range;(function(){r.implement(this,s),this.isEmpty=function(){return this.$isEmpty||this.anchor.row==this.lead.row&&this.anchor.column==this.lead.column},this.isMultiLine=function(){return!this.$isEmpty&&this.anchor.row!=this.cursor.row},this.getCursor=function(){return this.lead.getPosition()},this.setSelectionAnchor=function(e,t){this.$isEmpty=!1,this.anchor.setPosition(e,t)},this.getAnchor=this.getSelectionAnchor=function(){return this.$isEmpty?this.getSelectionLead():this.anchor.getPosition()},this.getSelectionLead=function(){return this.lead.getPosition()},this.isBackwards=function(){var e=this.anchor,t=this.lead;return e.row>t.row||e.row==t.row&&e.column>t.column},this.getRange=function(){var e=this.anchor,t=this.lead;return this.$isEmpty?a.fromPoints(t,t):this.isBackwards()?a.fromPoints(t,e):a.fromPoints(e,t)},this.clearSelection=function(){this.$isEmpty||(this.$isEmpty=!0,this._emit("changeSelection"))},this.selectAll=function(){this.$setSelection(0,0,Number.MAX_VALUE,Number.MAX_VALUE)},this.setRange=this.setSelectionRange=function(e,t){var n=t?e.end:e.start,i=t?e.start:e.end;this.$setSelection(n.row,n.column,i.row,i.column)},this.$setSelection=function(e,t,n,i){var r,o;this.$silent||(r=this.$isEmpty,o=this.inMultiSelectMode,this.$silent=!0,this.$cursorChanged=this.$anchorChanged=!1,this.anchor.setPosition(e,t),this.cursor.setPosition(n,i),this.$isEmpty=!a.comparePoints(this.anchor,this.cursor),this.$silent=!1,this.$cursorChanged&&this._emit("changeCursor"),(this.$cursorChanged||this.$anchorChanged||r!=this.$isEmpty||o)&&this._emit("changeSelection"))},this.$moveSelection=function(e){var t=this.lead;this.$isEmpty&&this.setSelectionAnchor(t.row,t.column),e.call(this)},this.selectTo=function(e,t){this.$moveSelection((function(){this.moveCursorTo(e,t)}))},this.selectToPosition=function(e){this.$moveSelection((function(){this.moveCursorToPosition(e)}))},this.moveTo=function(e,t){this.clearSelection(),this.moveCursorTo(e,t)},this.moveToPosition=function(e){this.clearSelection(),this.moveCursorToPosition(e)},this.selectUp=function(){this.$moveSelection(this.moveCursorUp)},this.selectDown=function(){this.$moveSelection(this.moveCursorDown)},this.selectRight=function(){this.$moveSelection(this.moveCursorRight)},this.selectLeft=function(){this.$moveSelection(this.moveCursorLeft)},this.selectLineStart=function(){this.$moveSelection(this.moveCursorLineStart)},this.selectLineEnd=function(){this.$moveSelection(this.moveCursorLineEnd)},this.selectFileEnd=function(){this.$moveSelection(this.moveCursorFileEnd)},this.selectFileStart=function(){this.$moveSelection(this.moveCursorFileStart)},this.selectWordRight=function(){this.$moveSelection(this.moveCursorWordRight)},this.selectWordLeft=function(){this.$moveSelection(this.moveCursorWordLeft)},this.getWordRange=function(e,t){var n;return void 0===t&&(e=(n=e||this.lead).row,t=n.column),this.session.getWordRange(e,t)},this.selectWord=function(){this.setSelectionRange(this.getWordRange())},this.selectAWord=function(){var e=this.getCursor(),t=this.session.getAWordRange(e.row,e.column);this.setSelectionRange(t)},this.getLineRange=function(e,t){var n="number"==typeof e?e:this.lead.row,i=this.session.getFoldLine(n),r=i?(n=i.start.row,i.end.row):n;return!0===t?new a(n,0,r,this.session.getLine(r).length):new a(n,0,r+1,0)},this.selectLine=function(){this.setSelectionRange(this.getLineRange())},this.moveCursorUp=function(){this.moveCursorBy(-1,0)},this.moveCursorDown=function(){this.moveCursorBy(1,0)},this.wouldMoveIntoSoftTab=function(e,t,n){var i=e.column,r=e.column+t;return n<0&&(i=e.column-t,r=e.column),this.session.isTabStop(e)&&this.doc.getLine(e.row).slice(i,r).split(" ").length-1==t},this.moveCursorLeft=function(){var e,t,n=this.lead.getPosition();(e=this.session.getFoldAt(n.row,n.column,-1))?this.moveCursorTo(e.start.row,e.start.column):0===n.column?0<n.row&&this.moveCursorTo(n.row-1,this.doc.getLine(n.row-1).length):(t=this.session.getTabSize(),this.wouldMoveIntoSoftTab(n,t,-1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,-t):this.moveCursorBy(0,-1))},this.moveCursorRight=function(){var e,t,n=this.lead.getPosition();(e=this.session.getFoldAt(n.row,n.column,1))?this.moveCursorTo(e.end.row,e.end.column):this.lead.column==this.doc.getLine(this.lead.row).length?this.lead.row<this.doc.getLength()-1&&this.moveCursorTo(this.lead.row+1,0):(t=this.session.getTabSize(),this.wouldMoveIntoSoftTab(n=this.lead,t,1)&&!this.session.getNavigateWithinSoftTabs()?this.moveCursorBy(0,t):this.moveCursorBy(0,1))},this.moveCursorLineStart=function(){var e=this.lead.row,t=this.lead.column,n=this.session.documentToScreenRow(e,t),i=this.session.screenToDocumentPosition(n,0),r=this.session.getDisplayLine(e,null,i.row,i.column).match(/^\s*/);r[0].length==t||this.session.$useEmacsStyleLineStart||(i.column+=r[0].length),this.moveCursorToPosition(i)},this.moveCursorLineEnd=function(){var e,t,n=this.lead,i=this.session.getDocumentLastRowColumnPosition(n.row,n.column);this.lead.column==i.column&&(e=this.session.getLine(i.row),i.column!=e.length||0<(t=e.search(/\s+$/))&&(i.column=t)),this.moveCursorTo(i.row,i.column)},this.moveCursorFileEnd=function(){var e=this.doc.getLength()-1,t=this.doc.getLine(e).length;this.moveCursorTo(e,t)},this.moveCursorFileStart=function(){this.moveCursorTo(0,0)},this.moveCursorLongWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t);this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0;var r=this.session.getFoldAt(e,t,1);if(r)this.moveCursorTo(r.end.row,r.end.column);else{if(this.session.nonTokenRe.exec(i)&&(t+=this.session.nonTokenRe.lastIndex,this.session.nonTokenRe.lastIndex=0,i=n.substring(t)),t>=n.length)return this.moveCursorTo(e,n.length),this.moveCursorRight(),void(e<this.doc.getLength()-1&&this.moveCursorWordRight());this.session.tokenRe.exec(i)&&(t+=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(e,t)}},this.moveCursorLongWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))this.moveCursorTo(e.start.row,e.start.column);else{var i=this.session.getFoldStringAt(t,n,-1);null==i&&(i=this.doc.getLine(t).substring(0,n));var r=o.stringReverse(i);if(this.session.nonTokenRe.lastIndex=0,this.session.tokenRe.lastIndex=0,this.session.nonTokenRe.exec(r)&&(n-=this.session.nonTokenRe.lastIndex,r=r.slice(this.session.nonTokenRe.lastIndex),this.session.nonTokenRe.lastIndex=0),n<=0)return this.moveCursorTo(t,0),this.moveCursorLeft(),void(0<t&&this.moveCursorWordLeft());this.session.tokenRe.exec(r)&&(n-=this.session.tokenRe.lastIndex,this.session.tokenRe.lastIndex=0),this.moveCursorTo(t,n)}},this.$shortWordEndIndex=function(e){var t,n=0,i=/\s/,r=this.session.tokenRe;if(r.lastIndex=0,this.session.tokenRe.exec(e))n=this.session.tokenRe.lastIndex;else{for(;(t=e[n])&&i.test(t);)n++;if(n<1)for(r.lastIndex=0;(t=e[n])&&!r.test(t);)if(r.lastIndex=0,n++,i.test(t)){if(2<n){n--;break}for(;(t=e[n])&&i.test(t);)n++;if(2<n)break}}return r.lastIndex=0,n},this.moveCursorShortWordRight=function(){var e=this.lead.row,t=this.lead.column,n=this.doc.getLine(e),i=n.substring(t),r=this.session.getFoldAt(e,t,1);if(r)return this.moveCursorTo(r.end.row,r.end.column);if(t==n.length){for(var o=this.doc.getLength();e++,i=this.doc.getLine(e),e<o&&/^\s*$/.test(i););/^\s+/.test(i)||(i=""),t=0}var s=this.$shortWordEndIndex(i);this.moveCursorTo(e,t+s)},this.moveCursorShortWordLeft=function(){var e,t=this.lead.row,n=this.lead.column;if(e=this.session.getFoldAt(t,n,-1))return this.moveCursorTo(e.start.row,e.start.column);var i=this.session.getLine(t).substring(0,n);if(0===n){for(;t--,i=this.doc.getLine(t),0<t&&/^\s*$/.test(i););n=i.length,/\s+$/.test(i)||(i="")}var r=o.stringReverse(i),s=this.$shortWordEndIndex(r);return this.moveCursorTo(t,n-s)},this.moveCursorWordRight=function(){this.session.$selectLongWords?this.moveCursorLongWordRight():this.moveCursorShortWordRight()},this.moveCursorWordLeft=function(){this.session.$selectLongWords?this.moveCursorLongWordLeft():this.moveCursorShortWordLeft()},this.moveCursorBy=function(e,t){var n,i,r=this.session.documentToScreenPosition(this.lead.row,this.lead.column);0===t&&(0!==e&&(this.session.$bidiHandler.isBidiRow(r.row,this.lead.row)?(n=this.session.$bidiHandler.getPosLeft(r.column),r.column=Math.round(n/this.session.$bidiHandler.charWidths[0])):n=r.column*this.session.$bidiHandler.charWidths[0]),this.$desiredColumn?r.column=this.$desiredColumn:this.$desiredColumn=r.column),0!=e&&this.session.lineWidgets&&this.session.lineWidgets[this.lead.row]&&(i=this.session.lineWidgets[this.lead.row],e<0?e-=i.rowsAbove||0:0<e&&(e+=i.rowCount-(i.rowsAbove||0)));var o=this.session.screenToDocumentPosition(r.row+e,r.column,n);this.moveCursorTo(o.row,o.column+t,0===t)},this.moveCursorToPosition=function(e){this.moveCursorTo(e.row,e.column)},this.moveCursorTo=function(e,t,n){var i=this.session.getFoldAt(e,t,1);i&&(e=i.start.row,t=i.start.column),this.$keepDesiredColumnOnChange=!0;var r=this.session.getLine(e);/[\uDC00-\uDFFF]/.test(r.charAt(t))&&r.charAt(t-1)&&(this.lead.row==e&&this.lead.column==t+1?--t:t+=1),this.lead.setPosition(e,t),this.$keepDesiredColumnOnChange=!1,n||(this.$desiredColumn=null)},this.moveCursorToScreen=function(e,t,n){var i=this.session.screenToDocumentPosition(e,t);this.moveCursorTo(i.row,i.column,n)},this.detach=function(){this.lead.detach(),this.anchor.detach(),this.session=this.doc=null},this.fromOrientedRange=function(e){this.setSelectionRange(e,e.cursor==e.start),this.$desiredColumn=e.desiredColumn||this.$desiredColumn},this.toOrientedRange=function(e){var t=this.getRange();return e?(e.start.column=t.start.column,e.start.row=t.start.row,e.end.column=t.end.column,e.end.row=t.end.row):e=t,e.cursor=this.isBackwards()?e.start:e.end,e.desiredColumn=this.$desiredColumn,e},this.getRangeOfMovements=function(e){var t=this.getCursor();try{e(this);var n=this.getCursor();return a.fromPoints(t,n)}catch(e){return a.fromPoints(t,t)}finally{this.moveCursorToPosition(t)}},this.toJSON=function(){var e;return this.rangeCount?e=this.ranges.map((function(e){var t=e.clone();return t.isBackwards=e.cursor==e.start,t})):(e=this.getRange()).isBackwards=this.isBackwards(),e},this.fromJSON=function(e){if(null==e.start){if(this.rangeList&&1<e.length){this.toSingleRange(e[0]);for(var t=e.length;t--;){var n=a.fromPoints(e[t].start,e[t].end);e[t].isBackwards&&(n.cursor=n.start),this.addRange(n,!0)}return}e=e[0]}this.rangeList&&this.toSingleRange(e),this.setSelectionRange(e,e.isBackwards)},this.isEqual=function(e){if((e.length||this.rangeCount)&&e.length!=this.rangeCount)return!1;if(!e.length||!this.ranges)return this.getRange().isEqual(e);for(var t=this.ranges.length;t--;)if(!this.ranges[t].isEqual(e[t]))return!1;return!0}}).call(i.prototype),t.Selection=i})),ace.define("ace/tokenizer",["require","exports","module","ace/config"],(function(e,t,n){"use strict";function i(e){for(var t in this.states=e,this.regExps={},this.matchMappings={},this.states){for(var n=this.states[t],i=[],r=0,o=this.matchMappings[t]={defaultToken:"text"},s="g",a=[],l=0;l<n.length;l++){var c,h,d=n[l];d.defaultToken&&(o.defaultToken=d.defaultToken),d.caseInsensitive&&(s="gi"),null!=d.regex&&(d.regex instanceof RegExp&&(d.regex=d.regex.toString().slice(1,-1)),c=d.regex,h=new RegExp("(?:("+c+")|(.))").exec("a").length-2,Array.isArray(d.token)?1==d.token.length||1==h?d.token=d.token[0]:h-1!=d.token.length?(this.reportError("number of classes and regexp groups doesn't match",{rule:d,groupCount:h-1}),d.token=d.token[0]):(d.tokenArray=d.token,d.token=null,d.onMatch=this.$arrayTokens):"function"!=typeof d.token||d.onMatch||(d.onMatch=1<h?this.$applyToken:d.token),1<h&&(c=/\\\d/.test(d.regex)?d.regex.replace(/\\([0-9]+)/g,(function(e,t){return"\\"+(parseInt(t,10)+r+1)})):(h=1,this.removeCapturingGroups(d.regex)),d.splitRegex||"string"==typeof d.token||a.push(d)),o[r]=l,r+=h,i.push(c),d.onMatch||(d.onMatch=null))}i.length||(o[0]=0,i.push("$")),a.forEach((function(e){e.splitRegex=this.createSplitterRegexp(e.regex,s)}),this),this.regExps[t]=new RegExp("("+i.join(")|(")+")|($)",s)}}var r=e("./config"),o=2e3;(function(){this.$setMaxTokenCount=function(e){o=0|e},this.$applyToken=function(e){var t=this.splitRegex.exec(e).slice(1),n=this.token.apply(this,t);if("string"==typeof n)return[{type:n,value:e}];for(var i=[],r=0,o=n.length;r<o;r++)t[r]&&(i[i.length]={type:n[r],value:t[r]});return i},this.$arrayTokens=function(e){if(!e)return[];var t=this.splitRegex.exec(e);if(!t)return"text";for(var n=[],i=this.tokenArray,r=0,o=i.length;r<o;r++)t[r+1]&&(n[n.length]={type:i[r],value:t[r+1]});return n},this.removeCapturingGroups=function(e){return e.replace(/\\.|\[(?:\\.|[^\\\]])*|\(\?[:=!]|(\()/g,(function(e,t){return t?"(?:":e}))},this.createSplitterRegexp=function(e,t){var n,i,r;return-1!=e.indexOf("(?=")&&(n=0,i=!1,r={},e.replace(/(\\.)|(\((?:\?[=!])?)|(\))|([\[\]])/g,(function(e,t,o,s,a,l){return i?i="]"!=a:a?i=!0:s?(n==r.stack&&(r.end=l+1,r.stack=-1),n--):o&&(n++,1!=o.length&&(r.stack=n,r.start=l)),e})),null!=r.end&&/^\)*$/.test(e.substr(r.end))&&(e=e.substring(0,r.start)+e.substr(r.end))),"^"!=e.charAt(0)&&(e="^"+e),"$"!=e.charAt(e.length-1)&&(e+="$"),new RegExp(e,(t||"").replace("g",""))},this.getLineTokens=function(e,t){var n;t&&"string"!=typeof t?"#tmp"===(t=(n=t.slice(0))[0])&&(n.shift(),t=n.shift()):n=[];var i=t||"start",r=this.states[i];r||(r=this.states[i="start"]);for(var s,a=this.matchMappings[i],l=this.regExps[i],c=[],h=l.lastIndex=0,d=0,u={type:null,value:""};s=l.exec(e);){var p,g=a.defaultToken,f=null,m=s[0],v=l.lastIndex;v-m.length>h&&(p=e.substring(h,v-m.length),u.type==g?u.value+=p:(u.type&&c.push(u),u={type:g,value:p}));for(var y=0;y<s.length-2;y++)if(void 0!==s[y+1]){g=(f=r[a[y]]).onMatch?f.onMatch(m,i,n,e):f.token,f.next&&(i="string"==typeof f.next?f.next:f.next(i,n),(r=this.states[i])||(this.reportError("state doesn't exist",i),r=this.states[i="start"]),a=this.matchMappings[i],h=v,(l=this.regExps[i]).lastIndex=v),f.consumeLineEnd&&(h=v);break}if(m)if("string"==typeof g)f&&!1===f.merge||u.type!==g?(u.type&&c.push(u),u={type:g,value:m}):u.value+=m;else if(g)for(u.type&&c.push(u),u={type:null,value:""},y=0;y<g.length;y++)c.push(g[y]);if(h==e.length)break;if(h=v,d++>o){for(d>2*e.length&&this.reportError("infinite loop with in ace tokenizer",{startState:t,line:e});h<e.length;)u.type&&c.push(u),u={value:e.substring(h,h+=500),type:"overflow"};i="start",n=[];break}}return u.type&&c.push(u),1<n.length&&n[0]!==i&&n.unshift("#tmp",i),{tokens:c,state:n.length?n:i}},this.reportError=r.reportError}).call(i.prototype),t.Tokenizer=i})),ace.define("ace/mode/text_highlight_rules",["require","exports","module","ace/lib/lang"],(function(e,t,n){"use strict";function i(){this.$rules={start:[{token:"empty_line",regex:"^$"},{defaultToken:"text"}]}}var r=e("../lib/lang");(function(){function e(e,t){return"start"==e&&!t.length||t.unshift(this.nextState,e),this.nextState}function t(e,t){return t.shift(),t.shift()||"start"}this.addRules=function(e,t){if(t)for(var n in e){for(var i=e[n],r=0;r<i.length;r++){var o=i[r];(o.next||o.onMatch)&&("string"==typeof o.next&&0!==o.next.indexOf(t)&&(o.next=t+o.next),o.nextState&&0!==o.nextState.indexOf(t)&&(o.nextState=t+o.nextState))}this.$rules[t+n]=i}else for(var n in e)this.$rules[n]=e[n]},this.getRules=function(){return this.$rules},this.embedRules=function(e,t,n,i,o){var s="function"==typeof e?(new e).getRules():e;if(i)for(var a=0;a<i.length;a++)i[a]=t+i[a];else for(var l in i=[],s)i.push(t+l);if(this.addRules(s,t),n){var c=Array.prototype[o?"push":"unshift"];for(a=0;a<i.length;a++)c.apply(this.$rules[i[a]],r.deepCopy(n))}this.$embeds||(this.$embeds=[]),this.$embeds.push(t)},this.getEmbeds=function(){return this.$embeds},this.normalizeRules=function(){var n=0,i=this.$rules;Object.keys(i).forEach((function r(o){var s=i[o];s.processed=!0;for(var a=0;a<s.length;a++){var l=s[a],c=null;Array.isArray(l)&&(c=l,l={}),!l.regex&&l.start&&(l.regex=l.start,l.next||(l.next=[]),l.next.push({defaultToken:l.token},{token:l.token+".end",regex:l.end||l.start,next:"pop"}),l.token=l.token+".start",l.push=!0);var h,d=l.next||l.push;if(d&&Array.isArray(d)?((h=l.stateName)||("string"!=typeof(h=l.token)&&(h=h[0]||""),i[h]&&(h+=n++)),i[h]=d,r(l.next=h)):"pop"==d&&(l.next=t),l.push&&(l.nextState=l.next||l.push,l.next=e,delete l.push),l.rules)for(var u in l.rules)i[u]?i[u].push&&i[u].push.apply(i[u],l.rules[u]):i[u]=l.rules[u];var p,g="string"==typeof l?l:l.include;g&&(c=Array.isArray(g)?g.map((function(e){return i[e]})):i[g]),c&&(p=[a,1].concat(c),l.noEscape&&(p=p.filter((function(e){return!e.next}))),s.splice.apply(s,p),a--),l.keywordMap&&(l.token=this.createKeywordMapper(l.keywordMap,l.defaultToken||"text",l.caseInsensitive),delete l.defaultToken)}}),this)},this.createKeywordMapper=function(e,t,n,i){var r=Object.create(null);return this.$keywordList=[],Object.keys(e).forEach((function(t){for(var o=e[t].split(i||"|"),s=o.length;s--;){var a=o[s];this.$keywordList.push(a),n&&(a=a.toLowerCase()),r[a]=t}}),this),e=null,n?function(e){return r[e.toLowerCase()]||t}:function(e){return r[e]||t}},this.getKeywords=function(){return this.$keywords}}).call(i.prototype),t.TextHighlightRules=i})),ace.define("ace/mode/behaviour",["require","exports","module"],(function(e,t,n){"use strict";function i(){this.$behaviours={}}(function(){this.add=function(e,t,n){switch(void 0){case this.$behaviours:this.$behaviours={};case this.$behaviours[e]:this.$behaviours[e]={}}this.$behaviours[e][t]=n},this.addBehaviours=function(e){for(var t in e)for(var n in e[t])this.add(t,n,e[t][n])},this.remove=function(e){this.$behaviours&&this.$behaviours[e]&&delete this.$behaviours[e]},this.inherit=function(e,t){var n;n="function"==typeof e?(new e).getBehaviours(t):e.getBehaviours(t),this.addBehaviours(n)},this.getBehaviours=function(e){if(e){for(var t={},n=0;n<e.length;n++)this.$behaviours[e[n]]&&(t[e[n]]=this.$behaviours[e[n]]);return t}return this.$behaviours}}).call(i.prototype),t.Behaviour=i})),ace.define("ace/token_iterator",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(e,t,n){this.$session=e,this.$row=t,this.$rowTokens=e.getTokens(t);var i=e.getTokenAt(t,n);this.$tokenIndex=i?i.index:-1}var r=e("./range").Range;(function(){this.stepBackward=function(){for(--this.$tokenIndex;this.$tokenIndex<0;){if(--this.$row,this.$row<0)return this.$row=0,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=this.$rowTokens.length-1}return this.$rowTokens[this.$tokenIndex]},this.stepForward=function(){var e;for(this.$tokenIndex+=1;this.$tokenIndex>=this.$rowTokens.length;){if(this.$row+=1,e=e||this.$session.getLength(),this.$row>=e)return this.$row=e-1,null;this.$rowTokens=this.$session.getTokens(this.$row),this.$tokenIndex=0}return this.$rowTokens[this.$tokenIndex]},this.getCurrentToken=function(){return this.$rowTokens[this.$tokenIndex]},this.getCurrentTokenRow=function(){return this.$row},this.getCurrentTokenColumn=function(){var e=this.$rowTokens,t=this.$tokenIndex,n=e[t].start;if(void 0!==n)return n;for(n=0;0<t;)n+=e[--t].value.length;return n},this.getCurrentTokenPosition=function(){return{row:this.$row,column:this.getCurrentTokenColumn()}},this.getCurrentTokenRange=function(){var e=this.$rowTokens[this.$tokenIndex],t=this.getCurrentTokenColumn();return new r(this.$row,t,this.$row,t+e.value.length)}}).call(i.prototype),t.TokenIterator=i})),ace.define("ace/mode/behaviour/cstyle",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";function i(e){var t=-1;if(e.multiSelect&&(t=e.selection.index,u.rangeCount!=e.multiSelect.rangeCount&&(u={rangeCount:e.multiSelect.rangeCount})),u[t])return o=u[t];o=u[t]={autoInsertedBrackets:0,autoInsertedRow:-1,autoInsertedLineEnd:"",maybeInsertedBrackets:0,maybeInsertedRow:-1,maybeInsertedLineStart:"",maybeInsertedLineEnd:""}}function r(e,t,n,i){var r=e.end.row-e.start.row;return{text:n+t+i,selection:[0,e.start.column+1,r,e.end.column+(r?0:1)]}}var o,s=e("../../lib/oop"),a=e("../behaviour").Behaviour,l=e("../../token_iterator").TokenIterator,c=e("../../lib/lang"),h=["text","paren.rparen","rparen","paren","punctuation.operator"],d=["text","paren.rparen","rparen","paren","punctuation.operator","comment"],u={},p={'"':'"',"'":"'"},g=function(e){this.add("braces","insertion",(function(t,n,s,a,l){var h=s.getCursorPosition(),d=a.doc.getLine(h.row);if("{"==l){i(s);var u=s.getSelectionRange(),p=a.doc.getTextRange(u);if(""!==p&&"{"!==p&&s.getWrapBehavioursEnabled())return r(u,p,"{","}");if(g.isSaneInsertion(s,a))return/[\]\}\)]/.test(d[h.column])||s.inMultiSelectMode||e&&e.braces?(g.recordAutoInsert(s,a,"}"),{text:"{}",selection:[1,1]}):(g.recordMaybeInsert(s,a,"{"),{text:"{",selection:[1,1]})}else if("}"==l){if(i(s),"}"==d.substring(h.column,h.column+1)&&null!==a.$findOpeningBracket("}",{column:h.column+1,row:h.row})&&g.isAutoInsertedClosing(h,d,l))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}else{if("\n"==l||"\r\n"==l){i(s);var f="";if(g.isMaybeInsertedClosing(h,d)&&(f=c.stringRepeat("}",o.maybeInsertedBrackets),g.clearMaybeInsertedClosing()),"}"===d.substring(h.column,h.column+1)){var m=a.findMatchingBracket({row:h.row,column:h.column+1},"}");if(!m)return null;var v=this.$getIndent(a.getLine(m.row))}else{if(!f)return void g.clearMaybeInsertedClosing();v=this.$getIndent(d)}var y=v+a.getTabString();return{text:"\n"+y+"\n"+v+f,selection:[1,y.length,1,y.length]}}g.clearMaybeInsertedClosing()}})),this.add("braces","deletion",(function(e,t,n,r,s){var a=r.doc.getTextRange(s);if(!s.isMultiLine()&&"{"==a){if(i(n),"}"==r.doc.getLine(s.start.row).substring(s.end.column,s.end.column+1))return s.end.column++,s;o.maybeInsertedBrackets--}})),this.add("parens","insertion",(function(e,t,n,o,s){if("("==s){i(n);var a=n.getSelectionRange(),l=o.doc.getTextRange(a);if(""!==l&&n.getWrapBehavioursEnabled())return r(a,l,"(",")");if(g.isSaneInsertion(n,o))return g.recordAutoInsert(n,o,")"),{text:"()",selection:[1,1]}}else if(")"==s){i(n);var c=n.getCursorPosition(),h=o.doc.getLine(c.row);if(")"==h.substring(c.column,c.column+1)&&null!==o.$findOpeningBracket(")",{column:c.column+1,row:c.row})&&g.isAutoInsertedClosing(c,h,s))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("parens","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"("==s&&(i(n),")"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o})),this.add("brackets","insertion",(function(e,t,n,o,s){if("["==s){i(n);var a=n.getSelectionRange(),l=o.doc.getTextRange(a);if(""!==l&&n.getWrapBehavioursEnabled())return r(a,l,"[","]");if(g.isSaneInsertion(n,o))return g.recordAutoInsert(n,o,"]"),{text:"[]",selection:[1,1]}}else if("]"==s){i(n);var c=n.getCursorPosition(),h=o.doc.getLine(c.row);if("]"==h.substring(c.column,c.column+1)&&null!==o.$findOpeningBracket("]",{column:c.column+1,row:c.row})&&g.isAutoInsertedClosing(c,h,s))return g.popAutoInsertedClosing(),{text:"",selection:[1,1]}}})),this.add("brackets","deletion",(function(e,t,n,r,o){var s=r.doc.getTextRange(o);if(!o.isMultiLine()&&"["==s&&(i(n),"]"==r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)))return o.end.column++,o})),this.add("string_dquotes","insertion",(function(e,t,n,o,s){var a=o.$mode.$quotes||p;if(1==s.length&&a[s]){if(this.lineCommentStart&&-1!=this.lineCommentStart.indexOf(s))return;i(n);var l=s,c=n.getSelectionRange(),h=o.doc.getTextRange(c);if(!(""===h||1==h.length&&a[h])&&n.getWrapBehavioursEnabled())return r(c,h,l,l);if(!h){var d=n.getCursorPosition(),u=o.doc.getLine(d.row),g=u.substring(d.column-1,d.column),f=u.substring(d.column,d.column+1),m=o.getTokenAt(d.row,d.column),v=o.getTokenAt(d.row,d.column+1);if("\\"==g&&m&&/escape/.test(m.type))return null;var y,b=m&&/string|escape/.test(m.type),C=!v||/string|escape/.test(v.type);if(f==l)(y=b!==C)&&/string\.end/.test(v.type)&&(y=!1);else{if(b&&!C)return null;if(b&&C)return null;var w=o.$mode.tokenRe;w.lastIndex=0;var _=w.test(g);w.lastIndex=0;var x=w.test(g);if(_||x)return null;if(f&&!/[\s;,.})\]\\]/.test(f))return null;var I=u[d.column-2];if(g==l&&(I==l||w.test(I)))return null;y=!0}return{text:y?l+l:"",selection:[1,1]}}}})),this.add("string_dquotes","deletion",(function(e,t,n,r,o){var s=r.$mode.$quotes||p,a=r.doc.getTextRange(o);if(!o.isMultiLine()&&s.hasOwnProperty(a)&&(i(n),r.doc.getLine(o.start.row).substring(o.start.column+1,o.start.column+2)==a))return o.end.column++,o}))};g.isSaneInsertion=function(e,t){var n=e.getCursorPosition(),i=new l(t,n.row,n.column);if(!this.$matchTokenType(i.getCurrentToken()||"text",h)){if(/[)}\]]/.test(e.session.getLine(n.row)[n.column]))return!0;var r=new l(t,n.row,n.column+1);if(!this.$matchTokenType(r.getCurrentToken()||"text",h))return!1}return i.stepForward(),i.getCurrentTokenRow()!==n.row||this.$matchTokenType(i.getCurrentToken()||"text",d)},g.$matchTokenType=function(e,t){return-1<t.indexOf(e.type||e)},g.recordAutoInsert=function(e,t,n){var i=e.getCursorPosition(),r=t.doc.getLine(i.row);this.isAutoInsertedClosing(i,r,o.autoInsertedLineEnd[0])||(o.autoInsertedBrackets=0),o.autoInsertedRow=i.row,o.autoInsertedLineEnd=n+r.substr(i.column),o.autoInsertedBrackets++},g.recordMaybeInsert=function(e,t,n){var i=e.getCursorPosition(),r=t.doc.getLine(i.row);this.isMaybeInsertedClosing(i,r)||(o.maybeInsertedBrackets=0),o.maybeInsertedRow=i.row,o.maybeInsertedLineStart=r.substr(0,i.column)+n,o.maybeInsertedLineEnd=r.substr(i.column),o.maybeInsertedBrackets++},g.isAutoInsertedClosing=function(e,t,n){return 0<o.autoInsertedBrackets&&e.row===o.autoInsertedRow&&n===o.autoInsertedLineEnd[0]&&t.substr(e.column)===o.autoInsertedLineEnd},g.isMaybeInsertedClosing=function(e,t){return 0<o.maybeInsertedBrackets&&e.row===o.maybeInsertedRow&&t.substr(e.column)===o.maybeInsertedLineEnd&&t.substr(0,e.column)==o.maybeInsertedLineStart},g.popAutoInsertedClosing=function(){o.autoInsertedLineEnd=o.autoInsertedLineEnd.substr(1),o.autoInsertedBrackets--},g.clearMaybeInsertedClosing=function(){o&&(o.maybeInsertedBrackets=0,o.maybeInsertedRow=-1)},s.inherits(g,a),t.CstyleBehaviour=g})),ace.define("ace/unicode",["require","exports","module"],(function(e,t,n){"use strict";for(var i=[48,9,8,25,5,0,2,25,48,0,11,0,5,0,6,22,2,30,2,457,5,11,15,4,8,0,2,0,18,116,2,1,3,3,9,0,2,2,2,0,2,19,2,82,2,138,2,4,3,155,12,37,3,0,8,38,10,44,2,0,2,1,2,1,2,0,9,26,6,2,30,10,7,61,2,9,5,101,2,7,3,9,2,18,3,0,17,58,3,100,15,53,5,0,6,45,211,57,3,18,2,5,3,11,3,9,2,1,7,6,2,2,2,7,3,1,3,21,2,6,2,0,4,3,3,8,3,1,3,3,9,0,5,1,2,4,3,11,16,2,2,5,5,1,3,21,2,6,2,1,2,1,2,1,3,0,2,4,5,1,3,2,4,0,8,3,2,0,8,15,12,2,2,8,2,2,2,21,2,6,2,1,2,4,3,9,2,2,2,2,3,0,16,3,3,9,18,2,2,7,3,1,3,21,2,6,2,1,2,4,3,8,3,1,3,2,9,1,5,1,2,4,3,9,2,0,17,1,2,5,4,2,2,3,4,1,2,0,2,1,4,1,4,2,4,11,5,4,4,2,2,3,3,0,7,0,15,9,18,2,2,7,2,2,2,22,2,9,2,4,4,7,2,2,2,3,8,1,2,1,7,3,3,9,19,1,2,7,2,2,2,22,2,9,2,4,3,8,2,2,2,3,8,1,8,0,2,3,3,9,19,1,2,7,2,2,2,22,2,15,4,7,2,2,2,3,10,0,9,3,3,9,11,5,3,1,2,17,4,23,2,8,2,0,3,6,4,0,5,5,2,0,2,7,19,1,14,57,6,14,2,9,40,1,2,0,3,1,2,0,3,0,7,3,2,6,2,2,2,0,2,0,3,1,2,12,2,2,3,4,2,0,2,5,3,9,3,1,35,0,24,1,7,9,12,0,2,0,2,0,5,9,2,35,5,19,2,5,5,7,2,35,10,0,58,73,7,77,3,37,11,42,2,0,4,328,2,3,3,6,2,0,2,3,3,40,2,3,3,32,2,3,3,6,2,0,2,3,3,14,2,56,2,3,3,66,5,0,33,15,17,84,13,619,3,16,2,25,6,74,22,12,2,6,12,20,12,19,13,12,2,2,2,1,13,51,3,29,4,0,5,1,3,9,34,2,3,9,7,87,9,42,6,69,11,28,4,11,5,11,11,39,3,4,12,43,5,25,7,10,38,27,5,62,2,28,3,10,7,9,14,0,89,75,5,9,18,8,13,42,4,11,71,55,9,9,4,48,83,2,2,30,14,230,23,280,3,5,3,37,3,5,3,7,2,0,2,0,2,0,2,30,3,52,2,6,2,0,4,2,2,6,4,3,3,5,5,12,6,2,2,6,67,1,20,0,29,0,14,0,17,4,60,12,5,0,4,11,18,0,5,0,3,9,2,0,4,4,7,0,2,0,2,0,2,3,2,10,3,3,6,4,5,0,53,1,2684,46,2,46,2,132,7,6,15,37,11,53,10,0,17,22,10,6,2,6,2,6,2,6,2,6,2,6,2,6,2,6,2,31,48,0,470,1,36,5,2,4,6,1,5,85,3,1,3,2,2,89,2,3,6,40,4,93,18,23,57,15,513,6581,75,20939,53,1164,68,45,3,268,4,27,21,31,3,13,13,1,2,24,9,69,11,1,38,8,3,102,3,1,111,44,25,51,13,68,12,9,7,23,4,0,5,45,3,35,13,28,4,64,15,10,39,54,10,13,3,9,7,22,4,1,5,66,25,2,227,42,2,1,3,9,7,11171,13,22,5,48,8453,301,3,61,3,105,39,6,13,4,6,11,2,12,2,4,2,0,2,1,2,1,2,107,34,362,19,63,3,53,41,11,5,15,17,6,13,1,25,2,33,4,2,134,20,9,8,25,5,0,2,25,12,88,4,5,3,5,3,5,3,2],r=0,o=[],s=0;s<i.length;s+=2)o.push(r+=i[s]),i[s+1]&&o.push(45,r+=i[s+1]);t.wordChars=String.fromCharCode.apply(null,o)})),ace.define("ace/mode/text",["require","exports","module","ace/config","ace/tokenizer","ace/mode/text_highlight_rules","ace/mode/behaviour/cstyle","ace/unicode","ace/lib/lang","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";function i(){this.HighlightRules=s}var r=e("../config"),o=e("../tokenizer").Tokenizer,s=e("./text_highlight_rules").TextHighlightRules,a=e("./behaviour/cstyle").CstyleBehaviour,l=e("../unicode"),c=e("../lib/lang"),h=e("../token_iterator").TokenIterator,d=e("../range").Range;(function(){this.$defaultBehaviour=new a,this.tokenRe=new RegExp("^["+l.wordChars+"\\$_]+","g"),this.nonTokenRe=new RegExp("^(?:[^"+l.wordChars+"\\$_]|\\s])+","g"),this.getTokenizer=function(){return this.$tokenizer||(this.$highlightRules=this.$highlightRules||new this.HighlightRules(this.$highlightRuleConfig),this.$tokenizer=new o(this.$highlightRules.getRules())),this.$tokenizer},this.lineCommentStart="",this.blockComment="",this.toggleCommentLines=function(e,t,n,i){var r=t.doc,o=!0,s=!0,a=1/0,l=t.getTabSize(),h=!1;if(this.lineCommentStart){m=Array.isArray(this.lineCommentStart)?(y=this.lineCommentStart.map(c.escapeRegExp).join("|"),this.lineCommentStart[0]):(y=c.escapeRegExp(this.lineCommentStart),this.lineCommentStart),y=new RegExp("^(\\s*)(?:"+y+") ?"),h=t.getUseSoftTabs();var d=function(e,t){var n,i,o=e.match(y);o&&(f(e,n=o[1].length,i=o[0].length)||" "!=o[0][i-1]||i--,r.removeInLine(t,n,i))},u=m+" ",p=function(e,t){o&&!/\S/.test(e)||(f(e,a,a)?r.insertInLine({row:t,column:a},u):r.insertInLine({row:t,column:a},m))},g=function(e,t){return y.test(e)},f=function(e,t,n){for(var i=0;t--&&" "==e.charAt(t);)i++;if(i%l!=0)return!1;for(i=0;" "==e.charAt(n++);)i++;return 2<l?i%l!=l-1:i%l==0}}else{if(!this.blockComment)return!1;var m=this.blockComment.start,v=this.blockComment.end,y=new RegExp("^(\\s*)(?:"+c.escapeRegExp(m)+")"),b=new RegExp("(?:"+c.escapeRegExp(v)+")\\s*$");p=function(e,t){g(e,t)||o&&!/\S/.test(e)||(r.insertInLine({row:t,column:e.length},v),r.insertInLine({row:t,column:a},m))},d=function(e,t){var n;(n=e.match(b))&&r.removeInLine(t,e.length-n[0].length,e.length),(n=e.match(y))&&r.removeInLine(t,n[1].length,n[0].length)},g=function(e,n){if(y.test(e))return!0;for(var i=t.getTokens(n),r=0;r<i.length;r++)if("comment"===i[r].type)return!0}}function C(e){for(var t=n;t<=i;t++)e(r.getLine(t),t)}var w=1/0;C((function(e,t){var n=e.search(/\S/);-1!==n?(n<a&&(a=n),s&&!g(e,t)&&(s=!1)):w>e.length&&(w=e.length)})),a==1/0&&(a=w,s=o=!1),h&&a%l!=0&&(a=Math.floor(a/l)*l),C(s?d:p)},this.toggleBlockComment=function(e,t,n,i){var r=this.blockComment;if(r){!r.start&&r[0]&&(r=r[0]);var o,s,a=(g=new h(t,i.row,i.column)).getCurrentToken(),l=t.selection.toOrientedRange();if(a&&/comment/.test(a.type)){for(;a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(r.start))){var c=g.getCurrentTokenRow(),u=g.getCurrentTokenColumn()+f,p=new d(c,u,c,u+r.start.length);break}a=g.stepBackward()}var g,f;for(a=(g=new h(t,i.row,i.column)).getCurrentToken();a&&/comment/.test(a.type);){if(-1!=(f=a.value.indexOf(r.end))){c=g.getCurrentTokenRow(),u=g.getCurrentTokenColumn()+f;var m=new d(c,u,c,u+r.end.length);break}a=g.stepForward()}m&&t.remove(m),p&&(t.remove(p),o=p.start.row,s=-r.start.length)}else s=r.start.length,o=n.start.row,t.insert(n.end,r.end),t.insert(n.start,r.start);l.start.row==o&&(l.start.column+=s),l.end.row==o&&(l.end.column+=s),t.selection.fromOrientedRange(l)}},this.getNextLineIndent=function(e,t,n){return this.$getIndent(t)},this.checkOutdent=function(e,t,n){return!1},this.autoOutdent=function(e,t,n){},this.$getIndent=function(e){return e.match(/^\s*/)[0]},this.createWorker=function(e){return null},this.createModeDelegates=function(e){for(var t in this.$embeds=[],this.$modes={},e){var n,i,o;e[t]&&(i=(n=e[t]).prototype.$id,(o=r.$modes[i])||(r.$modes[i]=o=new n),r.$modes[t]||(r.$modes[t]=o),this.$embeds.push(t),this.$modes[t]=o)}var s=["toggleBlockComment","toggleCommentLines","getNextLineIndent","checkOutdent","autoOutdent","transformAction","getCompletions"];for(t=0;t<s.length;t++)!function(e){var n=s[t],i=e[n];e[s[t]]=function(){return this.$delegator(n,arguments,i)}}(this)},this.$delegator=function(e,t,n){var i=t[0]||"start";if("string"!=typeof i){if(Array.isArray(i[2])&&(o=this.$modes[i[2][i[2].length-1]]))return o[e].apply(o,[i[1]].concat([].slice.call(t,1)));i=i[0]||"start"}for(var r=0;r<this.$embeds.length;r++)if(this.$modes[this.$embeds[r]]){var o,s=i.split(this.$embeds[r]);if(!s[0]&&s[1])return t[0]=s[1],(o=this.$modes[this.$embeds[r]])[e].apply(o,t)}var a=n.apply(this,t);return n?a:void 0},this.transformAction=function(e,t,n,i,r){if(this.$behaviour){var o,s=this.$behaviour.getBehaviours();for(o in s)if(s[o][t]){var a=s[o][t].apply(this,arguments);if(a)return a}}},this.getKeywords=function(e){if(!this.completionKeywords){var t=this.$tokenizer.rules,n=[];for(s in t)for(var i=t[s],r=0,o=i.length;r<o;r++)if("string"==typeof i[r].token)/keyword|support|storage/.test(i[r].token)&&n.push(i[r].regex);else if("object"==typeof i[r].token)for(var s,a=0,l=i[r].token.length;a<l;a++)/keyword|support|storage/.test(i[r].token[a])&&(s=i[r].regex.match(/\(.+?\)/g)[a],n.push(s.substr(1,s.length-2)));this.completionKeywords=n}return e?n.concat(this.$keywordList||[]):this.$keywordList},this.$createKeywordList=function(){return this.$highlightRules||this.getTokenizer(),this.$keywordList=this.$highlightRules.$keywordList||[]},this.getCompletions=function(e,t,n,i){return(this.$keywordList||this.$createKeywordList()).map((function(e){return{name:e,value:e,score:0,meta:"keyword"}}))},this.$id="ace/mode/text"}).call(i.prototype),t.Mode=i})),ace.define("ace/apply_delta",["require","exports","module"],(function(e,t,n){"use strict";t.applyDelta=function(e,t,n){var i,r=t.start.row,o=t.start.column,s=e[r]||"";switch(t.action){case"insert":1===t.lines.length?e[r]=s.substring(0,o)+t.lines[0]+s.substring(o):(i=[r,1].concat(t.lines),e.splice.apply(e,i),e[r]=s.substring(0,o)+e[r],e[r+t.lines.length-1]+=s.substring(o));break;case"remove":var a=t.end.column,l=t.end.row;r===l?e[r]=s.substring(0,o)+s.substring(a):e.splice(r,l-r+1,s.substring(0,o)+e[l].substring(a))}}})),ace.define("ace/anchor",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/event_emitter").EventEmitter,o=t.Anchor=function(e,t,n){this.$onChange=this.onChange.bind(this),this.attach(e),void 0===n?this.setPosition(t.row,t.column):this.setPosition(t,n)};(function(){function e(e,t,n){return e.row<t.row||e.row==t.row&&(n?e.column<=t.column:e.column<t.column)}i.implement(this,r),this.getPosition=function(){return this.$clipPositionToDocument(this.row,this.column)},this.getDocument=function(){return this.document},this.$insertRight=!1,this.onChange=function(t){var n;t.start.row==t.end.row&&t.start.row!=this.row||t.start.row>this.row||(n=function(t,n,i){var r="insert"==t.action,o=(r?1:-1)*(t.end.row-t.start.row),s=(r?1:-1)*(t.end.column-t.start.column),a=t.start,l=r?a:t.end;return e(n,a,i)?{row:n.row,column:n.column}:e(l,n,!i)?{row:n.row+o,column:n.column+(n.row==l.row?s:0)}:{row:a.row,column:a.column}}(t,{row:this.row,column:this.column},this.$insertRight),this.setPosition(n.row,n.column,!0))},this.setPosition=function(e,t,n){var i,r=n?{row:e,column:t}:this.$clipPositionToDocument(e,t);this.row==r.row&&this.column==r.column||(i={row:this.row,column:this.column},this.row=r.row,this.column=r.column,this._signal("change",{old:i,value:r}))},this.detach=function(){this.document.off("change",this.$onChange)},this.attach=function(e){this.document=e||this.document,this.document.on("change",this.$onChange)},this.$clipPositionToDocument=function(e,t){var n={};return e>=this.document.getLength()?(n.row=Math.max(0,this.document.getLength()-1),n.column=this.document.getLine(n.row).length):e<0?(n.row=0,n.column=0):(n.row=e,n.column=Math.min(this.document.getLine(n.row).length,Math.max(0,t))),t<0&&(n.column=0),n}}).call(o.prototype)})),ace.define("ace/document",["require","exports","module","ace/lib/oop","ace/apply_delta","ace/lib/event_emitter","ace/range","ace/anchor"],(function(e,t,n){"use strict";function i(e){this.$lines=[""],0===e.length?this.$lines=[""]:Array.isArray(e)?this.insertMergedLines({row:0,column:0},e):this.insert({row:0,column:0},e)}var r=e("./lib/oop"),o=e("./apply_delta").applyDelta,s=e("./lib/event_emitter").EventEmitter,a=e("./range").Range,l=e("./anchor").Anchor;(function(){r.implement(this,s),this.setValue=function(e){var t=this.getLength()-1;this.remove(new a(0,0,t,this.getLine(t).length)),this.insert({row:0,column:0},e)},this.getValue=function(){return this.getAllLines().join(this.getNewLineCharacter())},this.createAnchor=function(e,t){return new l(this,e,t)},this.$split=0==="aaa".split(/a/).length?function(e){return e.replace(/\r\n|\r/g,"\n").split("\n")}:function(e){return e.split(/\r\n|\r|\n/)},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r\n|\r|\n)/m);this.$autoNewLine=t?t[1]:"\n",this._signal("changeNewLineMode")},this.getNewLineCharacter=function(){switch(this.$newLineMode){case"windows":return"\r\n";case"unix":return"\n";default:return this.$autoNewLine||"\n"}},this.$autoNewLine="",this.$newLineMode="auto",this.setNewLineMode=function(e){this.$newLineMode!==e&&(this.$newLineMode=e,this._signal("changeNewLineMode"))},this.getNewLineMode=function(){return this.$newLineMode},this.isNewLine=function(e){return"\r\n"==e||"\r"==e||"\n"==e},this.getLine=function(e){return this.$lines[e]||""},this.getLines=function(e,t){return this.$lines.slice(e,t+1)},this.getAllLines=function(){return this.getLines(0,this.getLength())},this.getLength=function(){return this.$lines.length},this.getTextRange=function(e){return this.getLinesForRange(e).join(this.getNewLineCharacter())},this.getLinesForRange=function(e){var t,n;return e.start.row===e.end.row?t=[this.getLine(e.start.row).substring(e.start.column,e.end.column)]:((t=this.getLines(e.start.row,e.end.row))[0]=(t[0]||"").substring(e.start.column),e.end.row-e.start.row==(n=t.length-1)&&(t[n]=t[n].substring(0,e.end.column))),t},this.insertLines=function(e,t){return console.warn("Use of document.insertLines is deprecated. Use the insertFullLines method instead."),this.insertFullLines(e,t)},this.removeLines=function(e,t){return console.warn("Use of document.removeLines is deprecated. Use the removeFullLines method instead."),this.removeFullLines(e,t)},this.insertNewLine=function(e){return console.warn("Use of document.insertNewLine is deprecated. Use insertMergedLines(position, ['', '']) instead."),this.insertMergedLines(e,["",""])},this.insert=function(e,t){return this.getLength()<=1&&this.$detectNewLine(t),this.insertMergedLines(e,this.$split(t))},this.insertInLine=function(e,t){var n=this.clippedPos(e.row,e.column),i=this.pos(e.row,e.column+t.length);return this.applyDelta({start:n,end:i,action:"insert",lines:[t]},!0),this.clonePos(i)},this.clippedPos=function(e,t){var n=this.getLength();void 0===e?e=n:e<0?e=0:n<=e&&(e=n-1,t=void 0);var i=this.getLine(e);return null==t&&(t=i.length),{row:e,column:t=Math.min(Math.max(t,0),i.length)}},this.clonePos=function(e){return{row:e.row,column:e.column}},this.pos=function(e,t){return{row:e,column:t}},this.$clipPosition=function(e){var t=this.getLength();return e.row>=t?(e.row=Math.max(0,t-1),e.column=this.getLine(t-1).length):(e.row=Math.max(0,e.row),e.column=Math.min(Math.max(e.column,0),this.getLine(e.row).length)),e},this.insertFullLines=function(e,t){var n=(e=Math.min(Math.max(e,0),this.getLength()))<this.getLength()?(t=t.concat([""]),0):(t=[""].concat(t),e--,this.$lines[e].length);this.insertMergedLines({row:e,column:n},t)},this.insertMergedLines=function(e,t){var n=this.clippedPos(e.row,e.column),i={row:n.row+t.length-1,column:(1==t.length?n.column:0)+t[t.length-1].length};return this.applyDelta({start:n,end:i,action:"insert",lines:t}),this.clonePos(i)},this.remove=function(e){var t=this.clippedPos(e.start.row,e.start.column),n=this.clippedPos(e.end.row,e.end.column);return this.applyDelta({start:t,end:n,action:"remove",lines:this.getLinesForRange({start:t,end:n})}),this.clonePos(t)},this.removeInLine=function(e,t,n){var i=this.clippedPos(e,t),r=this.clippedPos(e,n);return this.applyDelta({start:i,end:r,action:"remove",lines:this.getLinesForRange({start:i,end:r})},!0),this.clonePos(i)},this.removeFullLines=function(e,t){e=Math.min(Math.max(0,e),this.getLength()-1);var n=(t=Math.min(Math.max(0,t),this.getLength()-1))==this.getLength()-1&&0<e,i=t<this.getLength()-1,r=n?e-1:e,o=n?this.getLine(r).length:0,s=i?t+1:t,l=i?0:this.getLine(s).length,c=new a(r,o,s,l),h=this.$lines.slice(e,t+1);return this.applyDelta({start:c.start,end:c.end,action:"remove",lines:this.getLinesForRange(c)}),h},this.removeNewLine=function(e){e<this.getLength()-1&&0<=e&&this.applyDelta({start:this.pos(e,this.getLine(e).length),end:this.pos(e+1,0),action:"remove",lines:["",""]})},this.replace=function(e,t){return e instanceof a||(e=a.fromPoints(e.start,e.end)),0===t.length&&e.isEmpty()?e.start:t==this.getTextRange(e)?e.end:(this.remove(e),t?this.insert(e.start,t):e.start)},this.applyDeltas=function(e){for(var t=0;t<e.length;t++)this.applyDelta(e[t])},this.revertDeltas=function(e){for(var t=e.length-1;0<=t;t--)this.revertDelta(e[t])},this.applyDelta=function(e,t){var n="insert"==e.action;(n?e.lines.length<=1&&!e.lines[0]:!a.comparePoints(e.start,e.end))||(n&&2e4<e.lines.length?this.$splitAndapplyLargeDelta(e,2e4):(o(this.$lines,e,t),this._signal("change",e)))},this.$safeApplyDelta=function(e){var t=this.$lines.length;("remove"==e.action&&e.start.row<t&&e.end.row<t||"insert"==e.action&&e.start.row<=t)&&this.applyDelta(e)},this.$splitAndapplyLargeDelta=function(e,t){for(var n=e.lines,i=n.length-t+1,r=e.start.row,o=e.start.column,s=0,a=0;s<i;s=a){var l=n.slice(s,a+=t-1);l.push(""),this.applyDelta({start:this.pos(r+s,o),end:this.pos(r+a,o=0),action:e.action,lines:l},!0)}e.lines=n.slice(s),e.start.row=r+s,e.start.column=o,this.applyDelta(e,!0)},this.revertDelta=function(e){this.$safeApplyDelta({start:this.clonePos(e.start),end:this.clonePos(e.end),action:"insert"==e.action?"remove":"insert",lines:e.lines.slice()})},this.indexToPosition=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=t||0,o=n.length;r<o;r++)if((e-=n[r].length+i)<0)return{row:r,column:e+n[r].length+i};return{row:o-1,column:e+n[o-1].length+i}},this.positionToIndex=function(e,t){for(var n=this.$lines||this.getAllLines(),i=this.getNewLineCharacter().length,r=0,o=Math.min(e.row,n.length),s=t||0;s<o;++s)r+=n[s].length+i;return r+e.column}}).call(i.prototype),t.Document=i})),ace.define("ace/background_tokenizer",["require","exports","module","ace/lib/oop","ace/lib/event_emitter"],(function(e,t,n){"use strict";function i(e,t){this.running=!1,this.lines=[],this.states=[],this.currentLine=0,this.tokenizer=e;var n=this;this.$worker=function(){if(n.running){for(var e=new Date,t=n.currentLine,i=-1,r=n.doc,o=t;n.lines[t];)t++;var s=r.getLength(),a=0;for(n.running=!1;t<s;){for(n.$tokenizeRow(t),i=t;t++,n.lines[t];);if(++a%5==0&&20<new Date-e){n.running=setTimeout(n.$worker,20);break}}n.currentLine=t,-1==i&&(i=t),o<=i&&n.fireUpdateEvent(o,i)}}}var r=e("./lib/oop"),o=e("./lib/event_emitter").EventEmitter;(function(){r.implement(this,o),this.setTokenizer=function(e){this.tokenizer=e,this.lines=[],this.states=[],this.start(0)},this.setDocument=function(e){this.doc=e,this.lines=[],this.states=[],this.stop()},this.fireUpdateEvent=function(e,t){this._signal("update",{data:{first:e,last:t}})},this.start=function(e){this.currentLine=Math.min(e||0,this.currentLine,this.doc.getLength()),this.lines.splice(this.currentLine,this.lines.length),this.states.splice(this.currentLine,this.states.length),this.stop(),this.running=setTimeout(this.$worker,700)},this.scheduleStart=function(){this.running||(this.running=setTimeout(this.$worker,700))},this.$updateOnChange=function(e){var t,n=e.start.row,i=e.end.row-n;0==i?this.lines[n]=null:"remove"==e.action?(this.lines.splice(n,1+i,null),this.states.splice(n,1+i,null)):((t=Array(1+i)).unshift(n,1),this.lines.splice.apply(this.lines,t),this.states.splice.apply(this.states,t)),this.currentLine=Math.min(n,this.currentLine,this.doc.getLength()),this.stop()},this.stop=function(){this.running&&clearTimeout(this.running),this.running=!1},this.getTokens=function(e){return this.lines[e]||this.$tokenizeRow(e)},this.getState=function(e){return this.currentLine==e&&this.$tokenizeRow(e),this.states[e]||"start"},this.$tokenizeRow=function(e){var t=this.doc.getLine(e),n=this.tokenizer.getLineTokens(t,this.states[e-1],e);return this.states[e]+""!=n.state+""?(this.states[e]=n.state,this.lines[e+1]=null,this.currentLine>e+1&&(this.currentLine=e+1)):this.currentLine==e&&(this.currentLine=e+1),this.lines[e]=n.tokens}}).call(i.prototype),t.BackgroundTokenizer=i})),ace.define("ace/search_highlight",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";function i(e,t,n){this.setRegexp(e),this.clazz=t,this.type=n||"text"}var r=e("./lib/lang"),o=(e("./lib/oop"),e("./range").Range);(function(){this.MAX_RANGES=500,this.setRegexp=function(e){this.regExp+""!=e+""&&(this.regExp=e,this.cache=[])},this.update=function(e,t,n,i){if(this.regExp)for(var s=i.lastRow,a=i.firstRow;a<=s;a++){var l=this.cache[a];null==l&&((l=r.getMatchOffsets(n.getLine(a),this.regExp)).length>this.MAX_RANGES&&(l=l.slice(0,this.MAX_RANGES)),l=l.map((function(e){return new o(a,e.offset,a,e.offset+e.length)})),this.cache[a]=l.length?l:"");for(var c=l.length;c--;)t.drawSingleLineMarker(e,l[c].toScreenRange(n),this.clazz,i)}}}).call(i.prototype),t.SearchHighlight=i})),ace.define("ace/edit_session/fold_line",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../range").Range;function r(e,t){this.foldData=e,Array.isArray(t)?this.folds=t:t=this.folds=[t];var n=t[t.length-1];this.range=new i(t[0].start.row,t[0].start.column,n.end.row,n.end.column),this.start=this.range.start,this.end=this.range.end,this.folds.forEach((function(e){e.setFoldLine(this)}),this)}(function(){this.shiftRow=function(e){this.start.row+=e,this.end.row+=e,this.folds.forEach((function(t){t.start.row+=e,t.end.row+=e}))},this.addFold=function(e){if(e.sameRow){if(e.start.row<this.startRow||e.endRow>this.endRow)throw new Error("Can't add a fold to this FoldLine as it has no connection");this.folds.push(e),this.folds.sort((function(e,t){return-e.range.compareEnd(t.start.row,t.start.column)})),0<this.range.compareEnd(e.start.row,e.start.column)?(this.end.row=e.end.row,this.end.column=e.end.column):this.range.compareStart(e.end.row,e.end.column)<0&&(this.start.row=e.start.row,this.start.column=e.start.column)}else if(e.start.row==this.end.row)this.folds.push(e),this.end.row=e.end.row,this.end.column=e.end.column;else{if(e.end.row!=this.start.row)throw new Error("Trying to add fold to FoldRow that doesn't have a matching row");this.folds.unshift(e),this.start.row=e.start.row,this.start.column=e.start.column}e.foldLine=this},this.containsRow=function(e){return e>=this.start.row&&e<=this.end.row},this.walk=function(e,t,n){var i,r,o=0,s=this.folds,a=!0;null==t&&(t=this.end.row,n=this.end.column);for(var l=0;l<s.length;l++){if(-1==(r=(i=s[l]).range.compareStart(t,n)))return void e(null,t,n,o,a);if(!e(null,i.start.row,i.start.column,o,a)&&e(i.placeholder,i.start.row,i.start.column,o)||0===r)return;a=!i.sameRow,o=i.end.column}e(null,t,n,o,a)},this.getNextFoldTo=function(e,t){for(var n,i,r=0;r<this.folds.length;r++){if(-1==(i=(n=this.folds[r]).range.compareEnd(e,t)))return{fold:n,kind:"after"};if(0===i)return{fold:n,kind:"inside"}}return null},this.addRemoveChars=function(e,t,n){var i,r,o=this.getNextFoldTo(e,t);if(o)if(i=o.fold,"inside"==o.kind&&i.start.column!=t&&i.start.row!=e)window.console&&window.console.log(e,t,i);else if(i.start.row==e){var s=(r=this.folds).indexOf(i);for(0===s&&(this.start.column+=n);s<r.length;s++){if((i=r[s]).start.column+=n,!i.sameRow)return;i.end.column+=n}this.end.column+=n}},this.split=function(e,t){var n=this.getNextFoldTo(e,t);if(!n||"inside"==n.kind)return null;var i=this.folds,o=this.foldData,s=i.indexOf(n.fold),a=i[s-1];this.end.row=a.end.row,this.end.column=a.end.column;var l=new r(o,i=i.splice(s,i.length-s));return o.splice(o.indexOf(this)+1,0,l),l},this.merge=function(e){for(var t=e.folds,n=0;n<t.length;n++)this.addFold(t[n]);var i=this.foldData;i.splice(i.indexOf(e),1)},this.toString=function(){var e=[this.range.toString()+": ["];return this.folds.forEach((function(t){e.push("  "+t.toString())})),e.push("]"),e.join("\n")},this.idxToPosition=function(e){for(var t=0,n=0;n<this.folds.length;n++){var i=this.folds[n];if((e-=i.start.column-t)<0)return{row:i.start.row,column:i.start.column+e};if((e-=i.placeholder.length)<0)return i.start;t=i.end.column}return{row:this.end.row,column:this.end.column+e}}}).call(r.prototype),t.FoldLine=r})),ace.define("ace/range_list",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(){this.ranges=[],this.$bias=1}var r=e("./range").Range.comparePoints;(function(){this.comparePoints=r,this.pointIndex=function(e,t,n){for(var i=this.ranges,o=n||0;o<i.length;o++){var s=i[o],a=r(e,s.end);if(!(0<a)){var l=r(e,s.start);return 0===a?t&&0!==l?-o-2:o:0<l||0===l&&!t?o:-o-1}}return-o-1},this.add=function(e){var t=!e.isEmpty(),n=this.pointIndex(e.start,t);n<0&&(n=-n-1);var i=this.pointIndex(e.end,t,n);return i<0?i=-i-1:i++,this.ranges.splice(n,i-n,e)},this.addList=function(e){for(var t=[],n=e.length;n--;)t.push.apply(t,this.add(e[n]));return t},this.substractPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges.splice(t,1)},this.merge=function(){for(var e,t=[],n=this.ranges,i=(n=n.sort((function(e,t){return r(e.start,t.start)})))[0],o=1;o<n.length;o++){var s=r((e=i).end,(i=n[o]).start);s<0||(0!=s||e.isEmpty()||i.isEmpty())&&(r(e.end,i.end)<0&&(e.end.row=i.end.row,e.end.column=i.end.column),n.splice(o,1),t.push(i),i=e,o--)}return this.ranges=n,t},this.contains=function(e,t){return 0<=this.pointIndex({row:e,column:t})},this.containsPoint=function(e){return 0<=this.pointIndex(e)},this.rangeAtPoint=function(e){var t=this.pointIndex(e);if(0<=t)return this.ranges[t]},this.clipRows=function(e,t){var n=this.ranges;if(n[0].start.row>t||n[n.length-1].start.row<e)return[];var i=this.pointIndex({row:e,column:0});i<0&&(i=-i-1);var r=this.pointIndex({row:t,column:0},i);r<0&&(r=-r-1);for(var o=[],s=i;s<r;s++)o.push(n[s]);return o},this.removeAll=function(){return this.ranges.splice(0,this.ranges.length)},this.attach=function(e){this.session&&this.detach(),this.session=e,this.onChange=this.$onChange.bind(this),this.session.on("change",this.onChange)},this.detach=function(){this.session&&(this.session.removeListener("change",this.onChange),this.session=null)},this.$onChange=function(e){for(var t=e.start,n=e.end,i=t.row,r=n.row,o=this.ranges,s=0,a=o.length;s<a&&!((l=o[s]).end.row>=i);s++);var l;if("insert"==e.action){for(var c=r-i,h=-t.column+n.column;s<a&&!((l=o[s]).start.row>i);s++)if(l.start.row==i&&l.start.column>=t.column&&(l.start.column==t.column&&this.$bias<=0||(l.start.column+=h,l.start.row+=c)),l.end.row==i&&l.end.column>=t.column){if(l.end.column==t.column&&this.$bias<0)continue;l.end.column==t.column&&0<h&&s<a-1&&l.end.column>l.start.column&&l.end.column==o[s+1].start.column&&(l.end.column-=h),l.end.column+=h,l.end.row+=c}}else for(c=i-r,h=t.column-n.column;s<a&&!((l=o[s]).start.row>r);s++)l.end.row<r&&(i<l.end.row||i==l.end.row&&t.column<l.end.column)?(l.end.row=i,l.end.column=t.column):l.end.row==r?l.end.column<=n.column?(c||l.end.column>t.column)&&(l.end.column=t.column,l.end.row=t.row):(l.end.column+=h,l.end.row+=c):l.end.row>r&&(l.end.row+=c),l.start.row<r&&(i<l.start.row||i==l.start.row&&t.column<l.start.column)?(l.start.row=i,l.start.column=t.column):l.start.row==r?l.start.column<=n.column?(c||l.start.column>t.column)&&(l.start.column=t.column,l.start.row=t.row):(l.start.column+=h,l.start.row+=c):l.start.row>r&&(l.start.row+=c);if(0!=c&&s<a)for(;s<a;s++)(l=o[s]).start.row+=c,l.end.row+=c}}).call(i.prototype),t.RangeList=i})),ace.define("ace/edit_session/fold",["require","exports","module","ace/range_list","ace/lib/oop"],(function(e,t,n){"use strict";var i=e("../range_list").RangeList,r=e("../lib/oop"),o=t.Fold=function(e,t){this.foldLine=null,this.placeholder=t,this.range=e,this.start=e.start,this.end=e.end,this.sameRow=e.start.row==e.end.row,this.subFolds=this.ranges=[]};function s(e,t){e.row-=t.row,0==e.row&&(e.column-=t.column)}function a(e,t){0==e.row&&(e.column+=t.column),e.row+=t.row}r.inherits(o,i),(function(){this.toString=function(){return'"'+this.placeholder+'" '+this.range.toString()},this.setFoldLine=function(e){this.foldLine=e,this.subFolds.forEach((function(t){t.setFoldLine(e)}))},this.clone=function(){var e=this.range.clone(),t=new o(e,this.placeholder);return this.subFolds.forEach((function(e){t.subFolds.push(e.clone())})),t.collapseChildren=this.collapseChildren,t},this.addSubFold=function(e){if(!this.range.isEqual(e)){var t,n;s((t=e).start,n=this.start),s(t.end,n);for(var i=e.start.row,r=e.start.column,o=0,a=-1;o<this.subFolds.length&&1==(a=this.subFolds[o].range.compare(i,r));o++);var l=this.subFolds[o],c=0;if(0==a){if(l.range.containsRange(e))return l.addSubFold(e);c=1}i=e.range.end.row,r=e.range.end.column;var h=o;for(a=-1;h<this.subFolds.length&&1==(a=this.subFolds[h].range.compare(i,r));h++);0==a&&h++;for(var d=this.subFolds.splice(o,h-o,e),u=0==a?d.length-1:d.length,p=c;p<u;p++)e.addSubFold(d[p]);return e.setFoldLine(this.foldLine),e}},this.restoreRange=function(e){return a((t=e).start,n=this.start),void a(t.end,n);var t,n}}).call(o.prototype)})),ace.define("ace/edit_session/folding",["require","exports","module","ace/range","ace/edit_session/fold_line","ace/edit_session/fold","ace/token_iterator"],(function(e,t,n){"use strict";var i=e("../range").Range,r=e("./fold_line").FoldLine,o=e("./fold").Fold,s=e("../token_iterator").TokenIterator;t.Folding=function(){this.getFoldAt=function(e,t,n){var i=this.getFoldLine(e);if(!i)return null;for(var r=i.folds,o=0;o<r.length;o++){var s=r[o].range;if(s.contains(e,t)){if(1==n&&s.isEnd(e,t)&&!s.isEmpty())continue;if(-1==n&&s.isStart(e,t)&&!s.isEmpty())continue;return r[o]}}},this.getFoldsInRange=function(e){var t=e.start,n=e.end,i=this.$foldData,r=[];t.column+=1,--n.column;for(var o=0;o<i.length;o++)if(2!=(l=i[o].range.compareRange(e))){if(-2==l)break;for(var s=i[o].folds,a=0;a<s.length;a++){var l,c=s[a];if(-2==(l=c.range.compareRange(e)))break;if(2!=l){if(42==l)break;r.push(c)}}}return--t.column,n.column+=1,r},this.getFoldsInRangeList=function(e){var t;return Array.isArray(e)?(t=[],e.forEach((function(e){t=t.concat(this.getFoldsInRange(e))}),this)):t=this.getFoldsInRange(e),t},this.getAllFolds=function(){for(var e=[],t=this.$foldData,n=0;n<t.length;n++)for(var i=0;i<t[n].folds.length;i++)e.push(t[n].folds[i]);return e},this.getFoldStringAt=function(e,t,n,i){if(!(i=i||this.getFoldLine(e)))return null;for(var r,o,s={end:{column:0}},a=0;a<i.folds.length;a++){var l=(o=i.folds[a]).range.compareEnd(e,t);if(-1==l){r=this.getLine(o.start.row).substring(s.end.column,o.start.column);break}if(0===l)return null;s=o}return r=r||this.getLine(o.start.row).substring(s.end.column),-1==n?r.substring(0,t-s.end.column):1==n?r.substring(t-s.end.column):r},this.getFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.start.row<=e&&r.end.row>=e)return r;if(r.end.row>e)return null}return null},this.getNextFoldLine=function(e,t){var n=this.$foldData,i=0;for(t&&(i=n.indexOf(t)),-1==i&&(i=0);i<n.length;i++){var r=n[i];if(r.end.row>=e)return r}return null},this.getFoldedRowCount=function(e,t){for(var n=this.$foldData,i=t-e+1,r=0;r<n.length;r++){var o=n[r],s=o.end.row,a=o.start.row;if(t<=s){a<t&&(e<=a?i-=t-a:i=0);break}e<=s&&(i-=e<=a?s-a:s-e+1)}return i},this.$addFoldLine=function(e){return this.$foldData.push(e),this.$foldData.sort((function(e,t){return e.start.row-t.start.row})),e},this.addFold=function(e,t){var n,i=this.$foldData,s=!1;e instanceof o?n=e:(n=new o(t,e)).collapseChildren=t.collapseChildren,this.$clipRangeToDocument(n.range);var a=n.start.row,l=n.start.column,c=n.end.row,h=n.end.column,d=this.getFoldAt(a,l,1),u=this.getFoldAt(c,h,-1);if(d&&u==d)return d.addSubFold(n);d&&!d.range.isStart(a,l)&&this.removeFold(d),u&&!u.range.isEnd(c,h)&&this.removeFold(u);var p=this.getFoldsInRange(n.range);0<p.length&&(this.removeFolds(p),n.collapseChildren||p.forEach((function(e){n.addSubFold(e)})));for(var g=0;g<i.length;g++){var f=i[g];if(c==f.start.row){f.addFold(n),s=!0;break}if(a==f.end.row){if(f.addFold(n),s=!0,!n.sameRow){var m=i[g+1];if(m&&m.start.row==c){f.merge(m);break}}break}if(c<=f.start.row)break}return s||(f=this.$addFoldLine(new r(this.$foldData,n))),this.$useWrapMode?this.$updateWrapData(f.start.row,f.start.row):this.$updateRowLengthCache(f.start.row,f.start.row),this.$modified=!0,this._signal("changeFold",{data:n,action:"add"}),n},this.addFolds=function(e){e.forEach((function(e){this.addFold(e)}),this)},this.removeFold=function(e){var t,n=e.foldLine,i=n.start.row,r=n.end.row,o=this.$foldData,s=n.folds;1==s.length?o.splice(o.indexOf(n),1):n.range.isEnd(e.end.row,e.end.column)?(s.pop(),n.end.row=s[s.length-1].end.row,n.end.column=s[s.length-1].end.column):n.range.isStart(e.start.row,e.start.column)?(s.shift(),n.start.row=s[0].start.row,n.start.column=s[0].start.column):e.sameRow?s.splice(s.indexOf(e),1):((s=(t=n.split(e.start.row,e.start.column)).folds).shift(),t.start.row=s[0].start.row,t.start.column=s[0].start.column),this.$updating||(this.$useWrapMode?this.$updateWrapData(i,r):this.$updateRowLengthCache(i,r)),this.$modified=!0,this._signal("changeFold",{data:e,action:"remove"})},this.removeFolds=function(e){for(var t=[],n=0;n<e.length;n++)t.push(e[n]);t.forEach((function(e){this.removeFold(e)}),this),this.$modified=!0},this.expandFold=function(e){this.removeFold(e),e.subFolds.forEach((function(t){e.restoreRange(t),this.addFold(t)}),this),0<e.collapseChildren&&this.foldAll(e.start.row+1,e.end.row,e.collapseChildren-1),e.subFolds=[]},this.expandFolds=function(e){e.forEach((function(e){this.expandFold(e)}),this)},this.unfold=function(e,t){var n,r;if(null==e?(n=new i(0,0,this.getLength(),0),null==t&&(t=!0)):n="number"==typeof e?new i(e,0,e,this.getLine(e).length):"row"in e?i.fromPoints(e,e):e,r=this.getFoldsInRangeList(n),0!=t?this.removeFolds(r):this.expandFolds(r),r.length)return r},this.isRowFolded=function(e,t){return!!this.getFoldLine(e,t)},this.getRowFoldEnd=function(e,t){var n=this.getFoldLine(e,t);return n?n.end.row:e},this.getRowFoldStart=function(e,t){var n=this.getFoldLine(e,t);return n?n.start.row:e},this.getFoldDisplayLine=function(e,t,n,i,r){null==i&&(i=e.start.row),null==r&&(r=0),null==t&&(t=e.end.row),null==n&&(n=this.getLine(t).length);var o=this.doc,s="";return e.walk((function(e,t,n,a){if(!(t<i)){if(t==i){if(n<r)return;a=Math.max(r,a)}s+=null!=e?e:o.getLine(t).substring(a,n)}}),t,n),s},this.getDisplayLine=function(e,t,n,i){var r=this.getFoldLine(e);if(r)return this.getFoldDisplayLine(r,e,t,n,i);var o=this.doc.getLine(e);return o.substring(i||0,t||o.length)},this.$cloneFoldData=function(){var e=[];return e=this.$foldData.map((function(t){var n=t.folds.map((function(e){return e.clone()}));return new r(e,n)}))},this.toggleFold=function(e){var t,n=this.selection.getRange();if(n.isEmpty()){var i,r=n.start;if(i=this.getFoldAt(r.row,r.column))return void this.expandFold(i);(t=this.findMatchingBracket(r))?1==n.comparePoint(t)?n.end=t:(n.start=t,n.start.column++,n.end.column--):(t=this.findMatchingBracket({row:r.row,column:r.column+1}))?(1==n.comparePoint(t)?n.end=t:n.start=t,n.start.column++):n=this.getCommentFoldRange(r.row,r.column)||n}else{var o=this.getFoldsInRange(n);if(e&&o.length)return void this.expandFolds(o);1==o.length&&(i=o[0])}if((i=i||this.getFoldAt(n.start.row,n.start.column))&&i.range.toString()==n.toString())this.expandFold(i);else{var s="...";if(!n.isMultiLine()){if((s=this.getTextRange(n)).length<4)return;s=s.trim().substring(0,2)+".."}this.addFold(s,n)}},this.getCommentFoldRange=function(e,t,n){var r=new s(this,e,t),o=r.getCurrentToken(),a=o&&o.type;if(o&&/^comment|string/.test(a)){"comment"==(a=a.match(/comment|string/)[0])&&(a+="|doc-start");var l=new RegExp(a),c=new i;if(1!=n){for(;(o=r.stepBackward())&&l.test(o.type););r.stepForward()}if(c.start.row=r.getCurrentTokenRow(),c.start.column=r.getCurrentTokenColumn()+2,r=new s(this,e,t),-1!=n){var h=-1;do{if(o=r.stepForward(),-1==h){var d=this.getState(r.$row);l.test(d)||(h=r.$row)}else if(r.$row>h)break}while(o&&l.test(o.type));o=r.stepBackward()}else o=r.getCurrentToken();return c.end.row=r.getCurrentTokenRow(),c.end.column=r.getCurrentTokenColumn()+o.value.length-2,c}},this.foldAll=function(e,t,n,i){null==n&&(n=1e5);var r=this.foldWidgets;if(r){t=t||this.getLength();for(var o,s=e=e||0;s<t;s++)null==r[s]&&(r[s]=this.getFoldWidget(s)),"start"==r[s]&&(i&&!i(s)||(o=this.getFoldWidgetRange(s))&&o.isMultiLine()&&o.end.row<=t&&o.start.row>=e&&(s=o.end.row,o.collapseChildren=n,this.addFold("...",o)))}},this.foldToLevel=function(e){for(this.foldAll();0<e--;)this.unfold(null,!1)},this.foldAllComments=function(){var e=this;this.foldAll(null,null,null,(function(t){for(var n=e.getTokens(t),i=0;i<n.length;i++){var r=n[i];if("text"!=r.type||!/^\s+$/.test(r.value))return!!/comment/.test(r.type)}}))},this.$foldStyles={manual:1,markbegin:1,markbeginend:1},this.$foldStyle="markbegin",this.setFoldStyle=function(e){if(!this.$foldStyles[e])throw new Error("invalid fold style: "+e+"["+Object.keys(this.$foldStyles).join(", ")+"]");var t;this.$foldStyle!=e&&("manual"==(this.$foldStyle=e)&&this.unfold(),t=this.$foldMode,this.$setFolding(null),this.$setFolding(t))},this.$setFolding=function(e){this.$foldMode!=e&&(this.$foldMode=e,this.off("change",this.$updateFoldWidgets),this.off("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets),this._signal("changeAnnotation"),e&&"manual"!=this.$foldStyle?(this.foldWidgets=[],this.getFoldWidget=e.getFoldWidget.bind(e,this,this.$foldStyle),this.getFoldWidgetRange=e.getFoldWidgetRange.bind(e,this,this.$foldStyle),this.$updateFoldWidgets=this.updateFoldWidgets.bind(this),this.$tokenizerUpdateFoldWidgets=this.tokenizerUpdateFoldWidgets.bind(this),this.on("change",this.$updateFoldWidgets),this.on("tokenizerUpdate",this.$tokenizerUpdateFoldWidgets)):this.foldWidgets=null)},this.getParentFoldRangeData=function(e,t){var n=this.foldWidgets;if(!n||t&&n[e])return{};for(var i=e-1;0<=i;){var r=n[i];if(null==r&&(r=n[i]=this.getFoldWidget(i)),"start"==r){var o=this.getFoldWidgetRange(i),s=s||o;if(o&&o.end.row>=e)break}i--}return{range:-1!==i&&o,firstRange:s}},this.onFoldWidgetClick=function(e,t){var n,i={children:(t=t.domEvent).shiftKey,all:t.ctrlKey||t.metaKey,siblings:t.altKey};this.$toggleFoldWidget(e,i)||(n=t.target||t.srcElement)&&/ace_fold-widget/.test(n.className)&&(n.className+=" ace_invalid")},this.$toggleFoldWidget=function(e,t){if(this.getFoldWidget){var n=this.getFoldWidget(e),i=this.getLine(e),r="end"===n?-1:1,o=this.getFoldAt(e,-1==r?0:i.length,r);if(o)return t.children||t.all?this.removeFold(o):this.expandFold(o),o;var s,a,l,c=this.getFoldWidgetRange(e,!0);return c&&!c.isMultiLine()&&(o=this.getFoldAt(c.start.row,c.start.column,1))&&c.isEqual(o.range)?(this.removeFold(o),o):(t.siblings?((s=this.getParentFoldRangeData(e)).range&&(a=s.range.start.row+1,l=s.range.end.row),this.foldAll(a,l,t.all?1e4:0)):t.children?(l=c?c.end.row:this.getLength(),this.foldAll(e+1,l,t.all?1e4:0)):c&&(t.all&&(c.collapseChildren=1e4),this.addFold("...",c)),c)}},this.toggleFoldWidget=function(e){var t,n,i=this.selection.getCursor().row,r=(i=this.getRowFoldStart(i),this.$toggleFoldWidget(i,{}));r||(r=(t=this.getParentFoldRangeData(i,!0)).range||t.firstRange)&&((n=this.getFoldAt(i=r.start.row,this.getLine(i).length,1))?this.removeFold(n):this.addFold("...",r))},this.updateFoldWidgets=function(e){var t,n=e.start.row,i=e.end.row-n;0==i?this.foldWidgets[n]=null:"remove"==e.action?this.foldWidgets.splice(n,1+i,null):((t=Array(1+i)).unshift(n,1),this.foldWidgets.splice.apply(this.foldWidgets,t))},this.tokenizerUpdateFoldWidgets=function(e){var t=e.data;t.first!=t.last&&this.foldWidgets.length>t.first&&this.foldWidgets.splice(t.first,this.foldWidgets.length)}}})),ace.define("ace/edit_session/bracket_match",["require","exports","module","ace/token_iterator","ace/range"],(function(e,t,n){"use strict";var i=e("../token_iterator").TokenIterator,r=e("../range").Range;t.BracketMatch=function(){this.findMatchingBracket=function(e,t){if(0==e.column)return null;var n=t||this.getLine(e.row).charAt(e.column-1);if(""==n)return null;var i=n.match(/([\(\[\{])|([\)\]\}])/);return i?i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e):null},this.getBracketRange=function(e){var t,n,i=this.getLine(e.row),o=!0,s=i.charAt(e.column-1),a=s&&s.match(/([\(\[\{])|([\)\]\}])/);if(a||(s=i.charAt(e.column),e={row:e.row,column:e.column+1},a=s&&s.match(/([\(\[\{])|([\)\]\}])/),o=!1),!a)return null;if(a[1]){if(!(n=this.$findClosingBracket(a[1],e)))return null;t=r.fromPoints(e,n),o||(t.end.column++,t.start.column--),t.cursor=t.end}else{if(!(n=this.$findOpeningBracket(a[2],e)))return null;t=r.fromPoints(n,e),o||(t.start.column++,t.end.column--),t.cursor=t.start}return t},this.getMatchingBracketRanges=function(e){var t=this.getLine(e.row),n=t.charAt(e.column-1),i=n&&n.match(/([\(\[\{])|([\)\]\}])/);if(i||(n=t.charAt(e.column),e={row:e.row,column:e.column+1},i=n&&n.match(/([\(\[\{])|([\)\]\}])/)),!i)return null;var o=new r(e.row,e.column-1,e.row,e.column),s=i[1]?this.$findClosingBracket(i[1],e):this.$findOpeningBracket(i[2],e);return s?[o,new r(s.row,s.column,s.row,s.column+1)]:[o]},this.$brackets={")":"(","(":")","]":"[","[":"]","{":"}","}":"{","<":">",">":"<"},this.$findOpeningBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a=a||s.stepForward()){n=n||new RegExp("(\\.?"+a.type.replace(".","\\.").replace("rparen",".paren").replace(/\b(?:end)\b/,"(?:start|begin|end)")+")+");for(var l=t.column-s.getCurrentTokenColumn()-2,c=a.value;;){for(;0<=l;){var h=c.charAt(l);if(h==r){if(0==--o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else h==e&&(o+=1);--l}for(;(a=s.stepBackward())&&!n.test(a.type););if(null==a)break;l=(c=a.value).length-1}return null}},this.$findClosingBracket=function(e,t,n){var r=this.$brackets[e],o=1,s=new i(this,t.row,t.column),a=s.getCurrentToken();if(a=a||s.stepForward()){n=n||new RegExp("(\\.?"+a.type.replace(".","\\.").replace("lparen",".paren").replace(/\b(?:start|begin)\b/,"(?:start|begin|end)")+")+");for(var l=t.column-s.getCurrentTokenColumn();;){for(var c=a.value,h=c.length;l<h;){var d=c.charAt(l);if(d==r){if(0==--o)return{row:s.getCurrentTokenRow(),column:l+s.getCurrentTokenColumn()}}else d==e&&(o+=1);l+=1}for(;(a=s.stepForward())&&!n.test(a.type););if(null==a)break;l=0}return null}}}})),ace.define("ace/edit_session",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/bidihandler","ace/config","ace/lib/event_emitter","ace/selection","ace/mode/text","ace/range","ace/document","ace/background_tokenizer","ace/search_highlight","ace/edit_session/folding","ace/edit_session/bracket_match"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/lang"),o=e("./bidihandler").BidiHandler,s=e("./config"),a=e("./lib/event_emitter").EventEmitter,l=e("./selection").Selection,c=e("./mode/text").Mode,h=e("./range").Range,d=e("./document").Document,u=e("./background_tokenizer").BackgroundTokenizer,p=e("./search_highlight").SearchHighlight,g=function(e,t){this.$breakpoints=[],this.$decorations=[],this.$frontMarkers={},this.$backMarkers={},this.$markerId=1,this.$undoSelect=!0,this.$foldData=[],this.id="session"+ ++g.$uid,this.$foldData.toString=function(){return this.join("\n")},this.on("changeFold",this.onChangeFold.bind(this)),this.$onChange=this.onChange.bind(this),"object"==typeof e&&e.getLine||(e=new d(e)),this.setDocument(e),this.selection=new l(this),this.$bidiHandler=new o(this),s.resetOptions(this),this.setMode(t),s._signal("session",this)};g.$uid=0,(function(){i.implement(this,a),this.setDocument=function(e){this.doc&&this.doc.removeListener("change",this.$onChange),(this.doc=e).on("change",this.$onChange),this.bgTokenizer&&this.bgTokenizer.setDocument(this.getDocument()),this.resetCaches()},this.getDocument=function(){return this.doc},this.$resetRowCache=function(e){if(!e)return this.$docRowCache=[],void(this.$screenRowCache=[]);var t=this.$docRowCache.length,n=this.$getRowCacheIndex(this.$docRowCache,e)+1;n<t&&(this.$docRowCache.splice(n,t),this.$screenRowCache.splice(n,t))},this.$getRowCacheIndex=function(e,t){for(var n=0,i=e.length-1;n<=i;){var r=n+i>>1,o=e[r];if(o<t)n=1+r;else{if(!(t<o))return r;i=r-1}}return n-1},this.resetCaches=function(){this.$modified=!0,this.$wrapData=[],this.$rowLengthCache=[],this.$resetRowCache(0),this.bgTokenizer&&this.bgTokenizer.start(0)},this.onChangeFold=function(e){this.$resetRowCache(e.data.start.row)},this.onChange=function(e){this.$modified=!0,this.$bidiHandler.onChange(e),this.$resetRowCache(e.start.row);var t=this.$updateInternalDataOnChange(e);!this.$fromUndo&&this.$undoManager&&(t&&t.length&&(this.$undoManager.add({action:"removeFolds",folds:t},this.mergeUndoDeltas),this.mergeUndoDeltas=!0),this.$undoManager.add(e,this.mergeUndoDeltas),this.mergeUndoDeltas=!0,this.$informUndoManager.schedule()),this.bgTokenizer&&this.bgTokenizer.$updateOnChange(e),this._signal("change",e)},this.setValue=function(e){this.doc.setValue(e),this.selection.moveTo(0,0),this.$resetRowCache(0),this.setUndoManager(this.$undoManager),this.getUndoManager().reset()},this.getValue=this.toString=function(){return this.doc.getValue()},this.getSelection=function(){return this.selection},this.getState=function(e){return this.bgTokenizer.getState(e)},this.getTokens=function(e){return this.bgTokenizer.getTokens(e)},this.getTokenAt=function(e,t){var n,i=this.bgTokenizer.getTokens(e),r=0;if(null==t){var o=i.length-1;r=this.getLine(e).length}else for(o=0;o<i.length&&!(t<=(r+=i[o].value.length));o++);return(n=i[o])?(n.index=o,n.start=r-n.value.length,n):null},this.setUndoManager=function(e){var t;this.$undoManager=e,this.$informUndoManager&&this.$informUndoManager.cancel(),e?(t=this,e.addSession(this),this.$syncInformUndoManager=function(){t.$informUndoManager.cancel(),t.mergeUndoDeltas=!1},this.$informUndoManager=r.delayedCall(this.$syncInformUndoManager)):this.$syncInformUndoManager=function(){}},this.markUndoGroup=function(){this.$syncInformUndoManager&&this.$syncInformUndoManager()},this.$defaultUndoManager={undo:function(){},redo:function(){},hasUndo:function(){},hasRedo:function(){},reset:function(){},add:function(){},addSelection:function(){},startNewGroup:function(){},addSession:function(){}},this.getUndoManager=function(){return this.$undoManager||this.$defaultUndoManager},this.getTabString=function(){return this.getUseSoftTabs()?r.stringRepeat(" ",this.getTabSize()):"\t"},this.setUseSoftTabs=function(e){this.setOption("useSoftTabs",e)},this.getUseSoftTabs=function(){return this.$useSoftTabs&&!this.$mode.$indentWithTabs},this.setTabSize=function(e){this.setOption("tabSize",e)},this.getTabSize=function(){return this.$tabSize},this.isTabStop=function(e){return this.$useSoftTabs&&e.column%this.$tabSize==0},this.setNavigateWithinSoftTabs=function(e){this.setOption("navigateWithinSoftTabs",e)},this.getNavigateWithinSoftTabs=function(){return this.$navigateWithinSoftTabs},this.$overwrite=!1,this.setOverwrite=function(e){this.setOption("overwrite",e)},this.getOverwrite=function(){return this.$overwrite},this.toggleOverwrite=function(){this.setOverwrite(!this.$overwrite)},this.addGutterDecoration=function(e,t){this.$decorations[e]||(this.$decorations[e]=""),this.$decorations[e]+=" "+t,this._signal("changeBreakpoint",{})},this.removeGutterDecoration=function(e,t){this.$decorations[e]=(this.$decorations[e]||"").replace(" "+t,""),this._signal("changeBreakpoint",{})},this.getBreakpoints=function(){return this.$breakpoints},this.setBreakpoints=function(e){this.$breakpoints=[];for(var t=0;t<e.length;t++)this.$breakpoints[e[t]]="ace_breakpoint";this._signal("changeBreakpoint",{})},this.clearBreakpoints=function(){this.$breakpoints=[],this._signal("changeBreakpoint",{})},this.setBreakpoint=function(e,t){void 0===t&&(t="ace_breakpoint"),t?this.$breakpoints[e]=t:delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.clearBreakpoint=function(e){delete this.$breakpoints[e],this._signal("changeBreakpoint",{})},this.addMarker=function(e,t,n,i){var r=this.$markerId++,o={range:e,type:n||"line",renderer:"function"==typeof n?n:null,clazz:t,inFront:!!i,id:r};return i?(this.$frontMarkers[r]=o,this._signal("changeFrontMarker")):(this.$backMarkers[r]=o,this._signal("changeBackMarker")),r},this.addDynamicMarker=function(e,t){if(e.update){var n=this.$markerId++;return e.id=n,e.inFront=!!t,t?(this.$frontMarkers[n]=e,this._signal("changeFrontMarker")):(this.$backMarkers[n]=e,this._signal("changeBackMarker")),e}},this.removeMarker=function(e){var t=this.$frontMarkers[e]||this.$backMarkers[e];t&&(delete(t.inFront?this.$frontMarkers:this.$backMarkers)[e],this._signal(t.inFront?"changeFrontMarker":"changeBackMarker"))},this.getMarkers=function(e){return e?this.$frontMarkers:this.$backMarkers},this.highlight=function(e){var t;this.$searchHighlight||(t=new p(null,"ace_selected-word","text"),this.$searchHighlight=this.addDynamicMarker(t)),this.$searchHighlight.setRegexp(e)},this.highlightLines=function(e,t,n,i){"number"!=typeof t&&(n=t,t=e),n=n||"ace_step";var r=new h(e,0,t,1/0);return r.id=this.addMarker(r,n,"fullLine",i),r},this.setAnnotations=function(e){this.$annotations=e,this._signal("changeAnnotation",{})},this.getAnnotations=function(){return this.$annotations||[]},this.clearAnnotations=function(){this.setAnnotations([])},this.$detectNewLine=function(e){var t=e.match(/^.*?(\r?\n)/m);this.$autoNewLine=t?t[1]:"\n"},this.getWordRange=function(e,t){var n,i=this.getLine(e),r=!1;0<t&&(r=!!i.charAt(t-1).match(this.tokenRe)),n=(r=r||!!i.charAt(t).match(this.tokenRe))?this.tokenRe:/^\s+$/.test(i.slice(t-1,t+1))?/\s/:this.nonTokenRe;var o=t;if(0<o){for(;0<=--o&&i.charAt(o).match(n););o++}for(var s=t;s<i.length&&i.charAt(s).match(n);)s++;return new h(e,o,e,s)},this.getAWordRange=function(e,t){for(var n=this.getWordRange(e,t),i=this.getLine(n.end.row);i.charAt(n.end.column).match(/[ \t]/);)n.end.column+=1;return n},this.setNewLineMode=function(e){this.doc.setNewLineMode(e)},this.getNewLineMode=function(){return this.doc.getNewLineMode()},this.setUseWorker=function(e){this.setOption("useWorker",e)},this.getUseWorker=function(){return this.$useWorker},this.onReloadTokenizer=function(e){this.bgTokenizer.start(e.data.first),this._signal("tokenizerUpdate",e)},this.$modes=s.$modes,this.$mode=null,this.$modeId=null,this.setMode=function(e,t){if(e&&"object"==typeof e){if(e.getTokenizer)return this.$onChangeMode(e);var n=e,i=e.path}else i=e||"ace/mode/text";if(this.$modes["ace/mode/text"]||(this.$modes["ace/mode/text"]=new c),this.$modes[i]&&!n)return this.$onChangeMode(this.$modes[i]),void(t&&t());this.$modeId=i,s.loadModule(["mode",i],(function(e){if(this.$modeId!==i)return t&&t();this.$modes[i]&&!n?this.$onChangeMode(this.$modes[i]):e&&e.Mode&&(e=new e.Mode(n),n||((this.$modes[i]=e).$id=i),this.$onChangeMode(e)),t&&t()}).bind(this)),this.$mode||this.$onChangeMode(this.$modes["ace/mode/text"],!0)},this.$onChangeMode=function(e,t){var n,i,r,o;t||(this.$modeId=e.$id),this.$mode!==e&&(n=this.$mode,this.$mode=e,this.$stopWorker(),this.$useWorker&&this.$startWorker(),void 0!==(i=e.getTokenizer()).on&&(r=this.onReloadTokenizer.bind(this),i.on("update",r)),this.bgTokenizer?this.bgTokenizer.setTokenizer(i):(this.bgTokenizer=new u(i),(o=this).bgTokenizer.on("update",(function(e){o._signal("tokenizerUpdate",e)}))),this.bgTokenizer.setDocument(this.getDocument()),this.tokenRe=e.tokenRe,this.nonTokenRe=e.nonTokenRe,t||(e.attachToSession&&e.attachToSession(this),this.$options.wrapMethod.set.call(this,this.$wrapMethod),this.$setFolding(e.foldingRules),this.bgTokenizer.start(0),this._emit("changeMode",{oldMode:n,mode:e})))},this.$stopWorker=function(){this.$worker&&(this.$worker.terminate(),this.$worker=null)},this.$startWorker=function(){try{this.$worker=this.$mode.createWorker(this)}catch(e){s.warn("Could not load worker",e),this.$worker=null}},this.getMode=function(){return this.$mode},this.$scrollTop=0,this.setScrollTop=function(e){this.$scrollTop===e||isNaN(e)||(this.$scrollTop=e,this._signal("changeScrollTop",e))},this.getScrollTop=function(){return this.$scrollTop},this.$scrollLeft=0,this.setScrollLeft=function(e){this.$scrollLeft===e||isNaN(e)||(this.$scrollLeft=e,this._signal("changeScrollLeft",e))},this.getScrollLeft=function(){return this.$scrollLeft},this.getScreenWidth=function(){return this.$computeWidth(),this.lineWidgets?Math.max(this.getLineWidgetMaxWidth(),this.screenWidth):this.screenWidth},this.getLineWidgetMaxWidth=function(){if(null!=this.lineWidgetsWidth)return this.lineWidgetsWidth;var e=0;return this.lineWidgets.forEach((function(t){t&&t.screenWidth>e&&(e=t.screenWidth)})),this.lineWidgetWidth=e},this.$computeWidth=function(e){if(this.$modified||e){if(this.$modified=!1,this.$useWrapMode)return this.screenWidth=this.$wrapLimit;for(var t=this.doc.getAllLines(),n=this.$rowLengthCache,i=0,r=0,o=this.$foldData[r],s=o?o.start.row:1/0,a=t.length,l=0;l<a;l++){if(s<l){if(a<=(l=o.end.row+1))break;s=(o=this.$foldData[r++])?o.start.row:1/0}null==n[l]&&(n[l]=this.$getStringScreenWidth(t[l])[0]),n[l]>i&&(i=n[l])}this.screenWidth=i}},this.getLine=function(e){return this.doc.getLine(e)},this.getLines=function(e,t){return this.doc.getLines(e,t)},this.getLength=function(){return this.doc.getLength()},this.getTextRange=function(e){return this.doc.getTextRange(e||this.selection.getRange())},this.insert=function(e,t){return this.doc.insert(e,t)},this.remove=function(e){return this.doc.remove(e)},this.removeFullLines=function(e,t){return this.doc.removeFullLines(e,t)},this.undoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=e.length-1;-1!=n;n--){var i=e[n];"insert"==i.action||"remove"==i.action?this.doc.revertDelta(i):i.folds&&this.addFolds(i.folds)}!t&&this.$undoSelect&&(e.selectionBefore?this.selection.fromJSON(e.selectionBefore):this.selection.setRange(this.$getUndoSelection(e,!0))),this.$fromUndo=!1}},this.redoChanges=function(e,t){if(e.length){this.$fromUndo=!0;for(var n=0;n<e.length;n++){var i=e[n];"insert"!=i.action&&"remove"!=i.action||this.doc.$safeApplyDelta(i)}!t&&this.$undoSelect&&(e.selectionAfter?this.selection.fromJSON(e.selectionAfter):this.selection.setRange(this.$getUndoSelection(e,!1))),this.$fromUndo=!1}},this.setUndoSelect=function(e){this.$undoSelect=e},this.$getUndoSelection=function(e,t){function n(e){return t?"insert"!==e.action:"insert"===e.action}for(var i,r,o=0;o<e.length;o++){var s=e[o];s.start&&(i?n(s)?(-1==i.compare((r=s.start).row,r.column)&&i.setStart(r),1==i.compare((r=s.end).row,r.column)&&i.setEnd(r)):-1==i.compare((r=s.start).row,r.column)&&(i=h.fromPoints(s.start,s.start)):i=n(s)?h.fromPoints(s.start,s.end):h.fromPoints(s.start,s.start))}return i},this.replace=function(e,t){return this.doc.replace(e,t)},this.moveText=function(e,t,n){var i,r,o,s,a=this.getTextRange(e),l=this.getFoldsInRange(e),c=h.fromPoints(t,t);return n||(this.remove(e),(s=(o=e.start.row-e.end.row)?-e.end.column:e.start.column-e.end.column)&&(c.start.row==e.end.row&&c.start.column>e.end.column&&(c.start.column+=s),c.end.row==e.end.row&&c.end.column>e.end.column&&(c.end.column+=s)),o&&c.start.row>=e.end.row&&(c.start.row+=o,c.end.row+=o)),c.end=this.insert(c.start,a),l.length&&(o=(r=c.start).row-(i=e.start).row,s=r.column-i.column,this.addFolds(l.map((function(e){return(e=e.clone()).start.row==i.row&&(e.start.column+=s),e.end.row==i.row&&(e.end.column+=s),e.start.row+=o,e.end.row+=o,e})))),c},this.indentRows=function(e,t,n){n=n.replace(/\t/g,this.getTabString());for(var i=e;i<=t;i++)this.doc.insertInLine({row:i,column:0},n)},this.outdentRows=function(e){for(var t=e.collapseRows(),n=new h(0,0,0,0),i=this.getTabSize(),r=t.start.row;r<=t.end.row;++r){var o=this.getLine(r);n.start.row=r,n.end.row=r;for(var s=0;s<i&&" "==o.charAt(s);++s);s<i&&"\t"==o.charAt(s)?(n.start.column=s,n.end.column=s+1):(n.start.column=0,n.end.column=s),this.remove(n)}},this.$moveLines=function(e,t,n){if(e=this.getRowFoldStart(e),t=this.getRowFoldEnd(t),n<0){if((r=this.getRowFoldStart(e+n))<0)return 0;var i=r-e}else if(0<n){var r;if((r=this.getRowFoldEnd(t+n))>this.doc.getLength()-1)return 0;i=r-t}else e=this.$clipRowToDocument(e),i=(t=this.$clipRowToDocument(t))-e+1;var o=new h(e,0,t,Number.MAX_VALUE),s=this.getFoldsInRange(o).map((function(e){return(e=e.clone()).start.row+=i,e.end.row+=i,e})),a=0==n?this.doc.getLines(e,t):this.doc.removeFullLines(e,t);return this.doc.insertFullLines(e+i,a),s.length&&this.addFolds(s),i},this.moveLinesUp=function(e,t){return this.$moveLines(e,t,-1)},this.moveLinesDown=function(e,t){return this.$moveLines(e,t,1)},this.duplicateLines=function(e,t){return this.$moveLines(e,t,0)},this.$clipRowToDocument=function(e){return Math.max(0,Math.min(e,this.doc.getLength()-1))},this.$clipColumnToRow=function(e,t){return t<0?0:Math.min(this.doc.getLine(e).length,t)},this.$clipPositionToDocument=function(e,t){var n;return t=Math.max(0,t),t=e<0?e=0:(n=this.doc.getLength())<=e?(e=n-1,this.doc.getLine(n-1).length):Math.min(this.doc.getLine(e).length,t),{row:e,column:t}},this.$clipRangeToDocument=function(e){e.start.row<0?(e.start.row=0,e.start.column=0):e.start.column=this.$clipColumnToRow(e.start.row,e.start.column);var t=this.doc.getLength()-1;return e.end.row>t?(e.end.row=t,e.end.column=this.doc.getLine(t).length):e.end.column=this.$clipColumnToRow(e.end.row,e.end.column),e},this.$wrapLimit=80,this.$useWrapMode=!1,this.$wrapLimitRange={min:null,max:null},this.setUseWrapMode=function(e){var t;e!=this.$useWrapMode&&(this.$useWrapMode=e,this.$modified=!0,this.$resetRowCache(0),e&&(t=this.getLength(),this.$wrapData=Array(t),this.$updateWrapData(0,t-1)),this._signal("changeWrapMode"))},this.getUseWrapMode=function(){return this.$useWrapMode},this.setWrapLimitRange=function(e,t){this.$wrapLimitRange.min===e&&this.$wrapLimitRange.max===t||(this.$wrapLimitRange={min:e,max:t},this.$modified=!0,this.$bidiHandler.markAsDirty(),this.$useWrapMode&&this._signal("changeWrapMode"))},this.adjustWrapLimit=function(e,t){var n=this.$wrapLimitRange;n.max<0&&(n={min:t,max:t});var i=this.$constrainWrapLimit(e,n.min,n.max);return i!=this.$wrapLimit&&1<i&&(this.$wrapLimit=i,this.$modified=!0,this.$useWrapMode&&(this.$updateWrapData(0,this.getLength()-1),this.$resetRowCache(0),this._signal("changeWrapLimit")),!0)},this.$constrainWrapLimit=function(e,t,n){return t&&(e=Math.max(t,e)),n&&(e=Math.min(n,e)),e},this.getWrapLimit=function(){return this.$wrapLimit},this.setWrapLimit=function(e){this.setWrapLimitRange(e,e)},this.getWrapLimitRange=function(){return{min:this.$wrapLimitRange.min,max:this.$wrapLimitRange.max}},this.$updateInternalDataOnChange=function(e){var t,n=this.$useWrapMode,i=e.action,r=e.start,o=e.end,s=r.row,a=o.row,l=a-s,c=null;if(this.$updating=!0,0!=l)if("remove"===i){this[n?"$wrapData":"$rowLengthCache"].splice(s,l);var h=this.$foldData;c=this.getFoldsInRange(e),this.removeFolds(c);var d,u=0;for((t=this.getFoldLine(o.row))&&(t.addRemoveChars(o.row,o.column,r.column-o.column),t.shiftRow(-l),(d=this.getFoldLine(s))&&d!==t&&(d.merge(t),t=d),u=h.indexOf(t)+1);u<h.length;u++)(t=h[u]).start.row>=o.row&&t.shiftRow(-l);a=s}else{var p=Array(l);p.unshift(s,0);var g,f=n?this.$wrapData:this.$rowLengthCache;for(f.splice.apply(f,p),h=this.$foldData,u=0,(t=this.getFoldLine(s))&&(0==(g=t.range.compareInside(r.row,r.column))?(t=t.split(r.row,r.column))&&(t.shiftRow(l),t.addRemoveChars(a,0,o.column-r.column)):-1==g&&(t.addRemoveChars(s,0,o.column-r.column),t.shiftRow(l)),u=h.indexOf(t)+1);u<h.length;u++)(t=h[u]).start.row>=s&&t.shiftRow(l)}else l=Math.abs(e.start.column-e.end.column),"remove"===i&&(c=this.getFoldsInRange(e),this.removeFolds(c),l=-l),(t=this.getFoldLine(s))&&t.addRemoveChars(s,r.column,l);return n&&this.$wrapData.length!=this.doc.getLength()&&console.error("doc.getLength() and $wrapData.length have to be the same!"),this.$updating=!1,n?this.$updateWrapData(s,a):this.$updateRowLengthCache(s,a),c},this.$updateRowLengthCache=function(e,t,n){this.$rowLengthCache[e]=null,this.$rowLengthCache[t]=null},this.$updateWrapData=function(e,i){var r,o,s=this.doc.getAllLines(),a=this.getTabSize(),l=this.$wrapData,c=this.$wrapLimit,h=e;for(i=Math.min(i,s.length-1);h<=i;)(o=this.getFoldLine(h,o))?(r=[],o.walk((function(e,i,o,a){var l;if(null!=e){(l=this.$getDisplayTokens(e,r.length))[0]=t;for(var c=1;c<l.length;c++)l[c]=n}else l=this.$getDisplayTokens(s[i].substring(a,o),r.length);r=r.concat(l)}).bind(this),o.end.row,s[o.end.row].length+1),l[o.start.row]=this.$computeWrapSplits(r,c,a),h=o.end.row+1):(r=this.$getDisplayTokens(s[h]),l[h]=this.$computeWrapSplits(r,c,a),h++)};var t=3,n=4;function o(e){return!(e<4352)&&(4352<=e&&e<=4447||4515<=e&&e<=4519||4602<=e&&e<=4607||9001<=e&&e<=9002||11904<=e&&e<=11929||11931<=e&&e<=12019||12032<=e&&e<=12245||12272<=e&&e<=12283||12288<=e&&e<=12350||12353<=e&&e<=12438||12441<=e&&e<=12543||12549<=e&&e<=12589||12593<=e&&e<=12686||12688<=e&&e<=12730||12736<=e&&e<=12771||12784<=e&&e<=12830||12832<=e&&e<=12871||12880<=e&&e<=13054||13056<=e&&e<=19903||19968<=e&&e<=42124||42128<=e&&e<=42182||43360<=e&&e<=43388||44032<=e&&e<=55203||55216<=e&&e<=55238||55243<=e&&e<=55291||63744<=e&&e<=64255||65040<=e&&e<=65049||65072<=e&&e<=65106||65108<=e&&e<=65126||65128<=e&&e<=65131||65281<=e&&e<=65376||65504<=e&&e<=65510)}this.$computeWrapSplits=function(e,i,r){if(0==e.length)return[];var o=[],s=e.length,a=0,l=0,c=this.$wrapAsCode,h=this.$indentedSoftWrap,d=i<=Math.max(2*r,8)||!1===h?0:Math.floor(i/2);function u(t){for(var n=t-a,i=a;i<t;i++){var s=e[i];12!==s&&2!==s||--n}o.length||(p=function(){var t=0;if(0===d)return t;if(h)for(var n=0;n<e.length;n++){var i=e[n];if(10==i)t+=1;else{if(11!=i){if(12==i)continue;break}t+=r}}return c&&!1!==h&&(t+=r),Math.min(t,d)}(),o.indent=p),o.push(l+=n),a=t}for(var p=0;i-p<s-a;){var g=a+i-p;if(10<=e[g-1]&&10<=e[g])u(g);else if(e[g]!=t&&e[g]!=n){for(var f=Math.max(g-(i-(i>>2)),a-1);f<g&&e[g]<t;)g--;if(c){for(;f<g&&e[g]<t;)g--;for(;f<g&&9==e[g];)g--}else for(;f<g&&e[g]<10;)g--;f<g?u(++g):(2==e[g=a+i]&&g--,u(g-p))}else{for(;g!=a-1&&e[g]!=t;g--);if(a<g){u(g);continue}for(g=a+i;g<e.length&&e[g]==n;g++);if(g==e.length)break;u(g)}}return o},this.$getDisplayTokens=function(e,t){var n,i=[];t=t||0;for(var r=0;r<e.length;r++){var s=e.charCodeAt(r);if(9==s){n=this.getScreenTabSize(i.length+t),i.push(11);for(var a=1;a<n;a++)i.push(12)}else 32==s?i.push(10):39<s&&s<48||57<s&&s<64?i.push(9):4352<=s&&o(s)?i.push(1,2):i.push(1)}return i},this.$getStringScreenWidth=function(e,t,n){if(0==t)return[0,0];var i,r;for(null==t&&(t=1/0),n=n||0,r=0;r<e.length&&(9==(i=e.charCodeAt(r))?n+=this.getScreenTabSize(n):4352<=i&&o(i)?n+=2:n+=1,!(t<n));r++);return[n,r]},this.lineWidgets=null,this.getRowLength=function(e){var t=1;return this.lineWidgets&&(t+=this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0),this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+t:t},this.getRowLineCount=function(e){return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1:1},this.getRowWrapIndent=function(e){if(this.$useWrapMode){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE),n=this.$wrapData[t.row];return n.length&&n[0]<t.column?n.indent:0}return 0},this.getScreenLastRowColumn=function(e){var t=this.screenToDocumentPosition(e,Number.MAX_VALUE);return this.documentToScreenColumn(t.row,t.column)},this.getDocumentLastRowColumn=function(e,t){var n=this.documentToScreenRow(e,t);return this.getScreenLastRowColumn(n)},this.getDocumentLastRowColumnPosition=function(e,t){var n=this.documentToScreenRow(e,t);return this.screenToDocumentPosition(n,Number.MAX_VALUE/10)},this.getRowSplitData=function(e){return this.$useWrapMode?this.$wrapData[e]:void 0},this.getScreenTabSize=function(e){return this.$tabSize-(e%this.$tabSize|0)},this.screenToDocumentRow=function(e,t){return this.screenToDocumentPosition(e,t).row},this.screenToDocumentColumn=function(e,t){return this.screenToDocumentPosition(e,t).column},this.screenToDocumentPosition=function(e,t,n){if(e<0)return{row:0,column:0};var i,r,o,s=0,a=0,l=0,c=0,h=this.$screenRowCache,d=this.$getRowCacheIndex(h,e),u=h.length;o=u&&0<=d?(l=h[d],s=this.$docRowCache[d],e>h[u-1]):!u;for(var p=this.getLength()-1,g=this.getNextFoldLine(s),f=g?g.start.row:1/0;l<=e&&!(e<l+(c=this.getRowLength(s))||p<=s);)l+=c,f<++s&&(f=(g=this.getNextFoldLine(s=g.end.row+1,g))?g.start.row:1/0),o&&(this.$docRowCache.push(s),this.$screenRowCache.push(l));if(g&&g.start.row<=s)i=this.getFoldDisplayLine(g),s=g.start.row;else{if(l+c<=e||p<s)return{row:p,column:this.getLine(p).length};i=this.getLine(s),g=null}var m,v=0,y=Math.floor(e-l);return!this.$useWrapMode||(m=this.$wrapData[s])&&(r=m[y],0<y&&m.length&&(v=m.indent,i=i.substring(a=m[y-1]||m[m.length-1]))),void 0!==n&&this.$bidiHandler.isBidiRow(l+y,s,y)&&(t=this.$bidiHandler.offsetToCol(n)),a+=this.$getStringScreenWidth(i,t-v)[1],this.$useWrapMode&&r<=a&&(a=r-1),g?g.idxToPosition(a):{row:s,column:a}},this.documentToScreenPosition=function(e,t){var n,i=void 0===t?this.$clipPositionToDocument(e.row,e.column):this.$clipPositionToDocument(e,t),r=0;(n=this.getFoldAt(e=i.row,t=i.column,1))&&(e=n.start.row,t=n.start.column);var o,s,a=0,l=this.$docRowCache,c=this.$getRowCacheIndex(l,e),h=l.length;s=h&&0<=c?(a=l[c],r=this.$screenRowCache[c],e>l[h-1]):!h;for(var d=this.getNextFoldLine(a),u=d?d.start.row:1/0;a<e;){if(u<=a){if(e<(o=d.end.row+1))break;u=(d=this.getNextFoldLine(o,d))?d.start.row:1/0}else o=a+1;r+=this.getRowLength(a),a=o,s&&(this.$docRowCache.push(a),this.$screenRowCache.push(r))}var p="",g=d&&u<=a?(p=this.getFoldDisplayLine(d,e,t),d.start.row):(p=this.getLine(e).substring(0,t),e),f=0;if(this.$useWrapMode){var m=this.$wrapData[g];if(m){for(var v=0;p.length>=m[v];)r++,v++;p=p.substring(m[v-1]||0,p.length),f=0<v?m.indent:0}}return this.lineWidgets&&this.lineWidgets[a]&&this.lineWidgets[a].rowsAbove&&(r+=this.lineWidgets[a].rowsAbove),{row:r,column:f+this.$getStringScreenWidth(p)[0]}},this.documentToScreenColumn=function(e,t){return this.documentToScreenPosition(e,t).column},this.documentToScreenRow=function(e,t){return this.documentToScreenPosition(e,t).row},this.getScreenLength=function(){var e=0,t=null;if(this.$useWrapMode)for(var n=this.$wrapData.length,i=0,r=0,o=(t=this.$foldData[r++])?t.start.row:1/0;i<n;){var s=this.$wrapData[i];e+=s?s.length+1:1,o<++i&&(i=t.end.row+1,o=(t=this.$foldData[r++])?t.start.row:1/0)}else{e=this.getLength();var a=this.$foldData;for(r=0;r<a.length;r++)e-=(t=a[r]).end.row-t.start.row}return this.lineWidgets&&(e+=this.$getWidgetScreenLength()),e},this.$setFontMetrics=function(e){this.$enableVarChar&&(this.$getStringScreenWidth=function(t,n,i){if(0===n)return[0,0];var r,o;for(n=n||1/0,i=i||0,o=0;o<t.length&&!(n<(i+="\t"===(r=t.charAt(o))?this.getScreenTabSize(i):e.getCharacterWidth(r)));o++);return[i,o]})},this.destroy=function(){this.bgTokenizer&&(this.bgTokenizer.setDocument(null),this.bgTokenizer=null),this.$stopWorker(),this.removeAllListeners(),this.selection.detach()},this.isFullWidth=o}).call(g.prototype),e("./edit_session/folding").Folding.call(g.prototype),e("./edit_session/bracket_match").BracketMatch.call(g.prototype),s.defineOptions(g.prototype,"session",{wrap:{set:function(e){var t;e&&"off"!=e?"free"==e?e=!0:"printMargin"==e?e=-1:"string"==typeof e&&(e=parseInt(e,10)||!1):e=!1,this.$wrap!=e&&((this.$wrap=e)?(this.setWrapLimitRange(t="number"==typeof e?e:null,t),this.setUseWrapMode(!0)):this.setUseWrapMode(!1))},get:function(){return this.getUseWrapMode()?-1==this.$wrap?"printMargin":this.getWrapLimitRange().min?this.$wrap:"free":"off"},handlesSet:!0},wrapMethod:{set:function(e){(e="auto"==e?"text"!=this.$mode.type:"text"!=e)!=this.$wrapAsCode&&(this.$wrapAsCode=e,this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0)))},initialValue:"auto"},indentedSoftWrap:{set:function(){this.$useWrapMode&&(this.$useWrapMode=!1,this.setUseWrapMode(!0))},initialValue:!0},firstLineNumber:{set:function(){this._signal("changeBreakpoint")},initialValue:1},useWorker:{set:function(e){this.$useWorker=e,this.$stopWorker(),e&&this.$startWorker()},initialValue:!0},useSoftTabs:{initialValue:!0},tabSize:{set:function(e){0<(e=parseInt(e))&&this.$tabSize!==e&&(this.$modified=!0,this.$rowLengthCache=[],this.$tabSize=e,this._signal("changeTabSize"))},initialValue:4,handlesSet:!0},navigateWithinSoftTabs:{initialValue:!1},foldStyle:{set:function(e){this.setFoldStyle(e)},handlesSet:!0},overwrite:{set:function(e){this._signal("changeOverwrite")},initialValue:!1},newLineMode:{set:function(e){this.doc.setNewLineMode(e)},get:function(){return this.doc.getNewLineMode()},handlesSet:!0},mode:{set:function(e){this.setMode(e)},get:function(){return this.$modeId},handlesSet:!0}}),t.EditSession=g})),ace.define("ace/search",["require","exports","module","ace/lib/lang","ace/lib/oop","ace/range"],(function(e,t,n){"use strict";function i(){this.$options={}}var r=e("./lib/lang"),o=e("./lib/oop"),s=e("./range").Range;(function(){this.set=function(e){return o.mixin(this.$options,e),this},this.getOptions=function(){return r.copyObject(this.$options)},this.setOptions=function(e){this.$options=e},this.find=function(e){var t=this.$options,n=this.$matchIterator(e,t);if(!n)return!1;var i=null;return n.forEach((function(e,n,r,o){return i=new s(e,n,r,o),!(n==o&&t.start&&t.start.start&&0!=t.skipCurrent&&i.isEqual(t.start)&&(i=null,1))})),i},this.findAll=function(e){var t=this.$options;if(!t.needle)return[];this.$assembleRegExp(t);var n=t.range,i=n?e.getLines(n.start.row,n.end.row):e.doc.getAllLines(),o=[],a=t.re;if(t.$isMultiLine){var l,c=a.length,h=i.length-c;e:for(var d=a.offset||0;d<=h;d++){for(var u=0;u<c;u++)if(-1==i[d+u].search(a[u]))continue e;var p=i[d],g=i[d+c-1],f=p.length-p.match(a[0])[0].length,m=g.match(a[c-1])[0].length;l&&l.end.row===d&&l.end.column>f||(o.push(l=new s(d,f,d+c-1,m)),2<c&&(d=d+c-2))}}else for(var v=0;v<i.length;v++){var y=r.getMatchOffsets(i[v],a);for(u=0;u<y.length;u++){var b=y[u];o.push(new s(v,b.offset,v,b.offset+b.length))}}if(n){var C=n.start.column,w=n.start.column;for(v=0,u=o.length-1;v<u&&o[v].start.column<C&&o[v].start.row==n.start.row;)v++;for(;v<u&&o[u].end.column>w&&o[u].end.row==n.end.row;)u--;for(o=o.slice(v,u+1),v=0,u=o.length;v<u;v++)o[v].start.row+=n.start.row,o[v].end.row+=n.start.row}return o},this.replace=function(e,t){var n=this.$options,i=this.$assembleRegExp(n);if(n.$isMultiLine)return t;if(i){var r=i.exec(e);if(!r||r[0].length!=e.length)return null;if(t=e.replace(i,t),n.preserveCase){t=t.split("");for(var o=Math.min(e.length,e.length);o--;){var s=e[o];t[o]=s&&s.toLowerCase()!=s?t[o].toUpperCase():t[o].toLowerCase()}t=t.join("")}return t}},this.$assembleRegExp=function(e,t){if(e.needle instanceof RegExp)return e.re=e.needle;var n,i,o=e.needle;if(!e.needle)return e.re=!1;function s(e){return/\w/.test(e)||i.regExp?"\\b":""}e.regExp||(o=r.escapeRegExp(o)),e.wholeWord&&(i=e,o=s((n=o)[0])+n+s(n[n.length-1]));var a=e.caseSensitive?"gm":"gmi";if(e.$isMultiLine=!t&&/[\n\r]/.test(o),e.$isMultiLine)return e.re=this.$assembleMultilineRegExp(o,a);try{var l=new RegExp(o,a)}catch(e){l=!1}return e.re=l},this.$assembleMultilineRegExp=function(e,t){for(var n=e.replace(/\r\n|\r|\n/g,"$\n^").split("\n"),i=[],r=0;r<n.length;r++)try{i.push(new RegExp(n[r],t))}catch(e){return!1}return i},this.$matchIterator=function(e,t){var n=this.$assembleRegExp(t);if(!n)return!1;var i=1==t.backwards,r=0!=t.skipCurrent,o=t.range,s=t.start;(s=s||(o?o[i?"end":"start"]:e.selection.getRange())).start&&(s=s[r!=i?"end":"start"]);var a,l,c,h=o?o.start.row:0,d=o?o.end.row:e.getLength()-1;return a=i?function(e){var n=s.row;if(!c(n,s.column,e)){for(n--;h<=n;n--)if(c(n,Number.MAX_VALUE,e))return;if(0!=t.wrap)for(n=d,h=s.row;h<=n;n--)if(c(n,Number.MAX_VALUE,e))return}}:function(e){var n=s.row;if(!c(n,s.column,e)){for(n+=1;n<=d;n++)if(c(n,0,e))return;if(0!=t.wrap)for(n=h,d=s.row;n<=d;n++)if(c(n,0,e))return}},c=t.$isMultiLine?(l=n.length,function(t,r,o){var s=i?t-l+1:t;if(!(s<0)){var a=e.getLine(s),c=a.search(n[0]);if(!(!i&&c<r||-1===c)){for(var h=1;h<l;h++)if(-1==(a=e.getLine(s+h)).search(n[h]))return;var d=a.match(n[l-1])[0].length;if(!(i&&r<d))return!!o(s,c,s+l-1,d)||void 0}}}):i?function(t,i,r){var o,s=e.getLine(t),a=[];for(n.lastIndex=0;o=n.exec(s);){var l=o[0].length,c=o.index;if(!l){if(c>=s.length)break;n.lastIndex=c+=1}if(o.index+l>i)break;a.push(o.index,l)}for(var h=a.length-1;0<=h;h-=2){var d=a[h-1];if(r(t,d,t,d+(l=a[h])))return!0}}:function(t,i,r){var o,s=e.getLine(t);for(n.lastIndex=i;o=n.exec(s);){var a,l=o[0].length;if(r(t,a=o.index,t,a+l))return!0;if(!l&&(n.lastIndex=a+=1,a>=s.length))return!1}},{forEach:a}}}).call(i.prototype),t.Search=i})),ace.define("ace/keyboard/hash_handler",["require","exports","module","ace/lib/keys","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("../lib/keys"),r=e("../lib/useragent"),o=i.KEY_MODS;function s(e,t){this.platform=t||(r.isMac?"mac":"win"),this.commands={},this.commandKeyBinding={},this.addCommands(e),this.$singleCommand=!0}function a(e,t){s.call(this,e,t),this.$singleCommand=!1}a.prototype=s.prototype,(function(){function e(e){return"object"==typeof e&&e.bindKey&&e.bindKey.position||(e.isDefault?-100:0)}this.addCommand=function(e){this.commands[e.name]&&this.removeCommand(e),(this.commands[e.name]=e).bindKey&&this._buildKeyHash(e)},this.removeCommand=function(e,t){var n=e&&("string"==typeof e?e:e.name);e=this.commands[n],t||delete this.commands[n];var i,r=this.commandKeyBinding;for(i in r){var o,s=r[i];s==e?delete r[i]:!Array.isArray(s)||-1!=(o=s.indexOf(e))&&(s.splice(o,1),1==s.length&&(r[i]=s[0]))}},this.bindKey=function(e,t,n){if("object"==typeof e&&e&&(null==n&&(n=e.position),e=e[this.platform]),e)return"function"==typeof t?this.addCommand({exec:t,bindKey:e,name:t.name||e}):void e.split("|").forEach((function(e){var i,r="";-1!=e.indexOf(" ")&&(e=(i=e.split(/\s+/)).pop(),i.forEach((function(e){var t=this.parseKeys(e);this._addCommandToBinding(r+=(r?" ":"")+(o[t.hashId]+t.key),"chainKeys")}),this),r+=" ");var s=this.parseKeys(e);this._addCommandToBinding(r+(o[s.hashId]+s.key),t,n)}),this)},this._addCommandToBinding=function(t,n,i){var r=this.commandKeyBinding;if(n)if(!r[t]||this.$singleCommand)r[t]=n;else{Array.isArray(r[t])?-1!=(s=r[t].indexOf(n))&&r[t].splice(s,1):r[t]=[r[t]],"number"!=typeof i&&(i=e(n));for(var o=r[t],s=0;s<o.length&&!(i<e(o[s]));s++);o.splice(s,0,n)}else delete r[t]},this.addCommands=function(e){e&&Object.keys(e).forEach((function(t){var n=e[t];if(n){if("string"==typeof n)return this.bindKey(n,t);"function"==typeof n&&(n={exec:n}),"object"==typeof n&&(n.name||(n.name=t),this.addCommand(n))}}),this)},this.removeCommands=function(e){Object.keys(e).forEach((function(t){this.removeCommand(e[t])}),this)},this.bindKeys=function(e){Object.keys(e).forEach((function(t){this.bindKey(t,e[t])}),this)},this._buildKeyHash=function(e){this.bindKey(e.bindKey,e)},this.parseKeys=function(e){var t=e.toLowerCase().split(/[\-\+]([\-\+])?/).filter((function(e){return e})),n=t.pop(),r=i[n];if(i.FUNCTION_KEYS[r])n=i.FUNCTION_KEYS[r].toLowerCase();else{if(!t.length)return{key:n,hashId:-1};if(1==t.length&&"shift"==t[0])return{key:n.toUpperCase(),hashId:-1}}for(var o=0,s=t.length;s--;){var a=i.KEY_MODS[t[s]];if(null==a)return"undefined"!=typeof console&&console.error("invalid modifier "+t[s]+" in "+e),!1;o|=a}return{key:n,hashId:o}},this.findKeyCommand=function(e,t){return this.commandKeyBinding[o[e]+t]},this.handleKeyboard=function(e,t,n,i){if(!(i<0)){var r=o[t]+n,s=this.commandKeyBinding[r];return e.$keyChain&&(e.$keyChain+=" "+r,s=this.commandKeyBinding[e.$keyChain]||s),!s||"chainKeys"!=s&&"chainKeys"!=s[s.length-1]?(e.$keyChain&&(t&&4!=t||1!=n.length?(-1==t||0<i)&&(e.$keyChain=""):e.$keyChain=e.$keyChain.slice(0,-r.length-1)),{command:s}):(e.$keyChain=e.$keyChain||r,{command:"null"})}},this.getStatusText=function(e,t){return t.$keyChain||""}}).call(s.prototype),t.HashHandler=s,t.MultiHashHandler=a})),ace.define("ace/commands/command_manager",["require","exports","module","ace/lib/oop","ace/keyboard/hash_handler","ace/lib/event_emitter"],(function(e,t,n){"use strict";function i(e,t){o.call(this,t,e),this.byName=this.commands,this.setDefaultHandler("exec",(function(e){return e.command.exec(e.editor,e.args||{})}))}var r=e("../lib/oop"),o=e("../keyboard/hash_handler").MultiHashHandler,s=e("../lib/event_emitter").EventEmitter;r.inherits(i,o),(function(){r.implement(this,s),this.exec=function(e,t,n){if(Array.isArray(e)){for(var i=e.length;i--;)if(this.exec(e[i],t,n))return!0;return!1}if("string"==typeof e&&(e=this.commands[e]),!e)return!1;if(t&&t.$readOnly&&!e.readOnly)return!1;if(0!=this.$checkCommandState&&e.isAvailable&&!e.isAvailable(t))return!1;var r={editor:t,command:e,args:n};return r.returnValue=this._emit("exec",r),this._signal("afterExec",r),!1!==r.returnValue},this.toggleRecording=function(e){if(!this.$inReplay)return e&&e._emit("changeStatus"),this.recording?(this.macro.pop(),this.off("exec",this.$addCommandToMacro),this.macro.length||(this.macro=this.oldMacro),this.recording=!1):(this.$addCommandToMacro||(this.$addCommandToMacro=(function(e){this.macro.push([e.command,e.args])}).bind(this)),this.oldMacro=this.macro,this.macro=[],this.on("exec",this.$addCommandToMacro),this.recording=!0)},this.replay=function(e){if(!this.$inReplay&&this.macro){if(this.recording)return this.toggleRecording(e);try{this.$inReplay=!0,this.macro.forEach((function(t){"string"==typeof t?this.exec(t,e):this.exec(t[0],e,t[1])}),this)}finally{this.$inReplay=!1}}},this.trimMacro=function(e){return e.map((function(e){return"string"!=typeof e[0]&&(e[0]=e[0].name),e[1]||(e=e[0]),e}))}}).call(i.prototype),t.CommandManager=i})),ace.define("ace/commands/default_commands",["require","exports","module","ace/lib/lang","ace/config","ace/range"],(function(e,t,n){"use strict";var i=e("../lib/lang"),r=e("../config"),o=e("../range").Range;function s(e,t){return{win:e,mac:t}}t.commands=[{name:"showSettingsMenu",bindKey:s("Ctrl-,","Command-,"),exec:function(e){r.loadModule("ace/ext/settings_menu",(function(t){t.init(e),e.showSettingsMenu()}))},readOnly:!0},{name:"goToNextError",bindKey:s("Alt-E","F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,1)}))},scrollIntoView:"animate",readOnly:!0},{name:"goToPreviousError",bindKey:s("Alt-Shift-E","Shift-F4"),exec:function(e){r.loadModule("./ext/error_marker",(function(t){t.showErrorMarker(e,-1)}))},scrollIntoView:"animate",readOnly:!0},{name:"selectall",description:"Select all",bindKey:s("Ctrl-A","Command-A"),exec:function(e){e.selectAll()},readOnly:!0},{name:"centerselection",description:"Center selection",bindKey:s(null,"Ctrl-L"),exec:function(e){e.centerSelection()},readOnly:!0},{name:"gotoline",description:"Go to line...",bindKey:s("Ctrl-L","Command-L"),exec:function(e,t){"number"!=typeof t||isNaN(t)||e.gotoLine(t),e.prompt({$type:"gotoLine"})},readOnly:!0},{name:"fold",bindKey:s("Alt-L|Ctrl-F1","Command-Alt-L|Command-F1"),exec:function(e){e.session.toggleFold(!1)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"unfold",bindKey:s("Alt-Shift-L|Ctrl-Shift-F1","Command-Alt-Shift-L|Command-Shift-F1"),exec:function(e){e.session.toggleFold(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleFoldWidget",bindKey:s("F2","F2"),exec:function(e){e.session.toggleFoldWidget()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"toggleParentFoldWidget",bindKey:s("Alt-F2","Alt-F2"),exec:function(e){e.session.toggleFoldWidget(!0)},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"foldall",description:"Fold all",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAll()},scrollIntoView:"center",readOnly:!0},{name:"foldAllComments",description:"Fold all comments",bindKey:s(null,"Ctrl-Command-Option-0"),exec:function(e){e.session.foldAllComments()},scrollIntoView:"center",readOnly:!0},{name:"foldOther",description:"Fold other",bindKey:s("Alt-0","Command-Option-0"),exec:function(e){e.session.foldAll(),e.session.unfold(e.selection.getAllRanges())},scrollIntoView:"center",readOnly:!0},{name:"unfoldall",description:"Unfold all",bindKey:s("Alt-Shift-0","Command-Option-Shift-0"),exec:function(e){e.session.unfold()},scrollIntoView:"center",readOnly:!0},{name:"findnext",description:"Find next",bindKey:s("Ctrl-K","Command-G"),exec:function(e){e.findNext()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"findprevious",description:"Find previous",bindKey:s("Ctrl-Shift-K","Command-Shift-G"),exec:function(e){e.findPrevious()},multiSelectAction:"forEach",scrollIntoView:"center",readOnly:!0},{name:"selectOrFindNext",description:"Select or find next",bindKey:s("Alt-K","Ctrl-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findNext()},readOnly:!0},{name:"selectOrFindPrevious",description:"Select or find previous",bindKey:s("Alt-Shift-K","Ctrl-Shift-G"),exec:function(e){e.selection.isEmpty()?e.selection.selectWord():e.findPrevious()},readOnly:!0},{name:"find",description:"Find",bindKey:s("Ctrl-F","Command-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e)}))},readOnly:!0},{name:"overwrite",description:"Overwrite",bindKey:"Insert",exec:function(e){e.toggleOverwrite()},readOnly:!0},{name:"selecttostart",description:"Select to start",bindKey:s("Ctrl-Shift-Home","Command-Shift-Home|Command-Shift-Up"),exec:function(e){e.getSelection().selectFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotostart",description:"Go to start",bindKey:s("Ctrl-Home","Command-Home|Command-Up"),exec:function(e){e.navigateFileStart()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectup",description:"Select up",bindKey:s("Shift-Up","Shift-Up|Ctrl-Shift-P"),exec:function(e){e.getSelection().selectUp()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golineup",description:"Go line up",bindKey:s("Up","Up|Ctrl-P"),exec:function(e,t){e.navigateUp(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttoend",description:"Select to end",bindKey:s("Ctrl-Shift-End","Command-Shift-End|Command-Shift-Down"),exec:function(e){e.getSelection().selectFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"gotoend",description:"Go to end",bindKey:s("Ctrl-End","Command-End|Command-Down"),exec:function(e){e.navigateFileEnd()},multiSelectAction:"forEach",readOnly:!0,scrollIntoView:"animate",aceCommandGroup:"fileJump"},{name:"selectdown",description:"Select down",bindKey:s("Shift-Down","Shift-Down|Ctrl-Shift-N"),exec:function(e){e.getSelection().selectDown()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"golinedown",description:"Go line down",bindKey:s("Down","Down|Ctrl-N"),exec:function(e,t){e.navigateDown(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordleft",description:"Select word left",bindKey:s("Ctrl-Shift-Left","Option-Shift-Left"),exec:function(e){e.getSelection().selectWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordleft",description:"Go to word left",bindKey:s("Ctrl-Left","Option-Left"),exec:function(e){e.navigateWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolinestart",description:"Select to line start",bindKey:s("Alt-Shift-Left","Command-Shift-Left|Ctrl-Shift-A"),exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolinestart",description:"Go to line start",bindKey:s("Alt-Left|Home","Command-Left|Home|Ctrl-A"),exec:function(e){e.navigateLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectleft",description:"Select left",bindKey:s("Shift-Left","Shift-Left|Ctrl-Shift-B"),exec:function(e){e.getSelection().selectLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoleft",description:"Go to left",bindKey:s("Left","Left|Ctrl-B"),exec:function(e,t){e.navigateLeft(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectwordright",description:"Select word right",bindKey:s("Ctrl-Shift-Right","Option-Shift-Right"),exec:function(e){e.getSelection().selectWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotowordright",description:"Go to word right",bindKey:s("Ctrl-Right","Option-Right"),exec:function(e){e.navigateWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selecttolineend",description:"Select to line end",bindKey:s("Alt-Shift-Right","Command-Shift-Right|Shift-End|Ctrl-Shift-E"),exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotolineend",description:"Go to line end",bindKey:s("Alt-Right|End","Command-Right|End|Ctrl-E"),exec:function(e){e.navigateLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectright",description:"Select right",bindKey:s("Shift-Right","Shift-Right"),exec:function(e){e.getSelection().selectRight()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"gotoright",description:"Go to right",bindKey:s("Right","Right|Ctrl-F"),exec:function(e,t){e.navigateRight(t.times)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectpagedown",description:"Select page down",bindKey:"Shift-PageDown",exec:function(e){e.selectPageDown()},readOnly:!0},{name:"pagedown",description:"Page down",bindKey:s(null,"Option-PageDown"),exec:function(e){e.scrollPageDown()},readOnly:!0},{name:"gotopagedown",description:"Go to page down",bindKey:s("PageDown","PageDown|Ctrl-V"),exec:function(e){e.gotoPageDown()},readOnly:!0},{name:"selectpageup",description:"Select page up",bindKey:"Shift-PageUp",exec:function(e){e.selectPageUp()},readOnly:!0},{name:"pageup",description:"Page up",bindKey:s(null,"Option-PageUp"),exec:function(e){e.scrollPageUp()},readOnly:!0},{name:"gotopageup",description:"Go to page up",bindKey:"PageUp",exec:function(e){e.gotoPageUp()},readOnly:!0},{name:"scrollup",description:"Scroll up",bindKey:s("Ctrl-Up",null),exec:function(e){e.renderer.scrollBy(0,-2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"scrolldown",description:"Scroll down",bindKey:s("Ctrl-Down",null),exec:function(e){e.renderer.scrollBy(0,2*e.renderer.layerConfig.lineHeight)},readOnly:!0},{name:"selectlinestart",description:"Select line start",bindKey:"Shift-Home",exec:function(e){e.getSelection().selectLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"selectlineend",description:"Select line end",bindKey:"Shift-End",exec:function(e){e.getSelection().selectLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"togglerecording",description:"Toggle recording",bindKey:s("Ctrl-Alt-E","Command-Option-E"),exec:function(e){e.commands.toggleRecording(e)},readOnly:!0},{name:"replaymacro",description:"Replay macro",bindKey:s("Ctrl-Shift-E","Command-Shift-E"),exec:function(e){e.commands.replay(e)},readOnly:!0},{name:"jumptomatching",description:"Jump to matching",bindKey:s("Ctrl-\\|Ctrl-P","Command-\\"),exec:function(e){e.jumpToMatching()},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"selecttomatching",description:"Select to matching",bindKey:s("Ctrl-Shift-\\|Ctrl-Shift-P","Command-Shift-\\"),exec:function(e){e.jumpToMatching(!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"expandToMatching",description:"Expand to matching",bindKey:s("Ctrl-Shift-M","Ctrl-Shift-M"),exec:function(e){e.jumpToMatching(!0,!0)},multiSelectAction:"forEach",scrollIntoView:"animate",readOnly:!0},{name:"passKeysToBrowser",description:"Pass keys to browser",bindKey:s(null,null),exec:function(){},passEvent:!0,readOnly:!0},{name:"copy",description:"Copy",exec:function(e){},readOnly:!0},{name:"cut",description:"Cut",exec:function(e){var t=e.$copyWithEmptySelection&&e.selection.isEmpty()?e.selection.getLineRange():e.selection.getRange();e._emit("cut",t),t.isEmpty()||e.session.remove(t),e.clearSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"paste",description:"Paste",exec:function(e,t){e.$handlePaste(t)},scrollIntoView:"cursor"},{name:"removeline",description:"Remove line",bindKey:s("Ctrl-D","Command-D"),exec:function(e){e.removeLines()},scrollIntoView:"cursor",multiSelectAction:"forEachLine"},{name:"duplicateSelection",description:"Duplicate selection",bindKey:s("Ctrl-Shift-D","Command-Shift-D"),exec:function(e){e.duplicateSelection()},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"sortlines",description:"Sort lines",bindKey:s("Ctrl-Alt-S","Command-Alt-S"),exec:function(e){e.sortLines()},scrollIntoView:"selection",multiSelectAction:"forEachLine"},{name:"togglecomment",description:"Toggle comment",bindKey:s("Ctrl-/","Command-/"),exec:function(e){e.toggleCommentLines()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"toggleBlockComment",description:"Toggle block comment",bindKey:s("Ctrl-Shift-/","Command-Shift-/"),exec:function(e){e.toggleBlockComment()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"modifyNumberUp",description:"Modify number up",bindKey:s("Ctrl-Shift-Up","Alt-Shift-Up"),exec:function(e){e.modifyNumber(1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"modifyNumberDown",description:"Modify number down",bindKey:s("Ctrl-Shift-Down","Alt-Shift-Down"),exec:function(e){e.modifyNumber(-1)},scrollIntoView:"cursor",multiSelectAction:"forEach"},{name:"replace",description:"Replace",bindKey:s("Ctrl-H","Command-Option-F"),exec:function(e){r.loadModule("ace/ext/searchbox",(function(t){t.Search(e,!0)}))}},{name:"undo",description:"Undo",bindKey:s("Ctrl-Z","Command-Z"),exec:function(e){e.undo()}},{name:"redo",description:"Redo",bindKey:s("Ctrl-Shift-Z|Ctrl-Y","Command-Shift-Z|Command-Y"),exec:function(e){e.redo()}},{name:"copylinesup",description:"Copy lines up",bindKey:s("Alt-Shift-Up","Command-Option-Up"),exec:function(e){e.copyLinesUp()},scrollIntoView:"cursor"},{name:"movelinesup",description:"Move lines up",bindKey:s("Alt-Up","Option-Up"),exec:function(e){e.moveLinesUp()},scrollIntoView:"cursor"},{name:"copylinesdown",description:"Copy lines down",bindKey:s("Alt-Shift-Down","Command-Option-Down"),exec:function(e){e.copyLinesDown()},scrollIntoView:"cursor"},{name:"movelinesdown",description:"Move lines down",bindKey:s("Alt-Down","Option-Down"),exec:function(e){e.moveLinesDown()},scrollIntoView:"cursor"},{name:"del",description:"Delete",bindKey:s("Delete","Delete|Ctrl-D|Shift-Delete"),exec:function(e){e.remove("right")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"backspace",description:"Backspace",bindKey:s("Shift-Backspace|Backspace","Ctrl-Backspace|Shift-Backspace|Backspace|Ctrl-H"),exec:function(e){e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"cut_or_delete",description:"Cut or delete",bindKey:s("Shift-Delete",null),exec:function(e){if(!e.selection.isEmpty())return!1;e.remove("left")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestart",description:"Remove to line start",bindKey:s("Alt-Backspace","Command-Backspace"),exec:function(e){e.removeToLineStart()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineend",description:"Remove to line end",bindKey:s("Alt-Delete","Ctrl-K|Command-Delete"),exec:function(e){e.removeToLineEnd()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolinestarthard",description:"Remove to line start hard",bindKey:s("Ctrl-Shift-Backspace",null),exec:function(e){var t=e.selection.getRange();t.start.column=0,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removetolineendhard",description:"Remove to line end hard",bindKey:s("Ctrl-Shift-Delete",null),exec:function(e){var t=e.selection.getRange();t.end.column=Number.MAX_VALUE,e.session.remove(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordleft",description:"Remove word left",bindKey:s("Ctrl-Backspace","Alt-Backspace|Ctrl-Alt-Backspace"),exec:function(e){e.removeWordLeft()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"removewordright",description:"Remove word right",bindKey:s("Ctrl-Delete","Alt-Delete"),exec:function(e){e.removeWordRight()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"outdent",description:"Outdent",bindKey:s("Shift-Tab","Shift-Tab"),exec:function(e){e.blockOutdent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"indent",description:"Indent",bindKey:s("Tab","Tab"),exec:function(e){e.indent()},multiSelectAction:"forEach",scrollIntoView:"selectionPart"},{name:"blockoutdent",description:"Block outdent",bindKey:s("Ctrl-[","Ctrl-["),exec:function(e){e.blockOutdent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"blockindent",description:"Block indent",bindKey:s("Ctrl-]","Ctrl-]"),exec:function(e){e.blockIndent()},multiSelectAction:"forEachLine",scrollIntoView:"selectionPart"},{name:"insertstring",description:"Insert string",exec:function(e,t){e.insert(t)},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"inserttext",description:"Insert text",exec:function(e,t){e.insert(i.stringRepeat(t.text||"",t.times||1))},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"splitline",description:"Split line",bindKey:s(null,"Ctrl-O"),exec:function(e){e.splitLine()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"transposeletters",description:"Transpose letters",bindKey:s("Alt-Shift-X","Ctrl-T"),exec:function(e){e.transposeLetters()},multiSelectAction:function(e){e.transposeSelections(1)},scrollIntoView:"cursor"},{name:"touppercase",description:"To uppercase",bindKey:s("Ctrl-U","Ctrl-U"),exec:function(e){e.toUpperCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"tolowercase",description:"To lowercase",bindKey:s("Ctrl-Shift-U","Ctrl-Shift-U"),exec:function(e){e.toLowerCase()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"autoindent",description:"Auto Indent",bindKey:s(null,null),exec:function(e){e.autoIndent()},multiSelectAction:"forEachLine",scrollIntoView:"animate"},{name:"expandtoline",description:"Expand to line",bindKey:s("Ctrl-Shift-L","Command-Shift-L"),exec:function(e){var t=e.selection.getRange();t.start.column=t.end.column=0,t.end.row++,e.selection.setRange(t,!1)},multiSelectAction:"forEach",scrollIntoView:"cursor",readOnly:!0},{name:"joinlines",description:"Join lines",bindKey:s(null,null),exec:function(e){for(var t=e.selection.isBackwards(),n=t?e.selection.getSelectionLead():e.selection.getSelectionAnchor(),r=t?e.selection.getSelectionAnchor():e.selection.getSelectionLead(),s=e.session.doc.getLine(n.row).length,a=e.session.doc.getTextRange(e.selection.getRange()).replace(/\n\s*/," ").length,l=e.session.doc.getLine(n.row),c=n.row+1;c<=r.row+1;c++){var h=i.stringTrimLeft(i.stringTrimRight(e.session.doc.getLine(c)));0!==h.length&&(h=" "+h),l+=h}r.row+1<e.session.doc.getLength()-1&&(l+=e.session.doc.getNewLineCharacter()),e.clearSelection(),e.session.doc.replace(new o(n.row,0,r.row+2,0),l),0<a?(e.selection.moveCursorTo(n.row,n.column),e.selection.selectTo(n.row,n.column+a)):(s=e.session.doc.getLine(n.row).length>s?s+1:s,e.selection.moveCursorTo(n.row,s))},multiSelectAction:"forEach",readOnly:!0},{name:"invertSelection",description:"Invert selection",bindKey:s(null,null),exec:function(e){var t=e.session.doc.getLength()-1,n=e.session.doc.getLine(t).length,i=e.selection.rangeList.ranges,r=[];i.length<1&&(i=[e.selection.getRange()]);for(var s=0;s<i.length;s++)s==i.length-1&&(i[s].end.row===t&&i[s].end.column===n||r.push(new o(i[s].end.row,i[s].end.column,t,n))),0===s?0===i[s].start.row&&0===i[s].start.column||r.push(new o(0,0,i[s].start.row,i[s].start.column)):r.push(new o(i[s-1].end.row,i[s-1].end.column,i[s].start.row,i[s].start.column));for(e.exitMultiSelectMode(),e.clearSelection(),s=0;s<r.length;s++)e.selection.addRange(r[s],!1)},readOnly:!0,scrollIntoView:"none"},{name:"addLineAfter",exec:function(e){e.selection.clearSelection(),e.navigateLineEnd(),e.insert("\n")},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"addLineBefore",exec:function(e){e.selection.clearSelection();var t=e.getCursorPosition();e.selection.moveTo(t.row-1,Number.MAX_VALUE),e.insert("\n"),0===t.row&&e.navigateUp()},multiSelectAction:"forEach",scrollIntoView:"cursor"},{name:"openCommandPallete",description:"Open command pallete",bindKey:s("F1","F1"),exec:function(e){e.prompt({$type:"commands"})},readOnly:!0},{name:"modeSelect",description:"Change language mode...",bindKey:s(null,null),exec:function(e){e.prompt({$type:"modes"})},readOnly:!0}];for(var a=1;a<9;a++)t.commands.push({name:"foldToLevel"+a,description:"Fold To Level "+a,level:a,exec:function(e){e.session.foldToLevel(this.level)},scrollIntoView:"center",readOnly:!0})})),ace.define("ace/editor",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/useragent","ace/keyboard/textinput","ace/mouse/mouse_handler","ace/mouse/fold_handler","ace/keyboard/keybinding","ace/edit_session","ace/search","ace/range","ace/lib/event_emitter","ace/commands/command_manager","ace/commands/default_commands","ace/config","ace/token_iterator","ace/clipboard"],(function(e,t,n){"use strict";e("./lib/fixoldbrowsers");var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./lib/lang"),s=e("./lib/useragent"),a=e("./keyboard/textinput").TextInput,l=e("./mouse/mouse_handler").MouseHandler,c=e("./mouse/fold_handler").FoldHandler,h=e("./keyboard/keybinding").KeyBinding,d=e("./edit_session").EditSession,u=e("./search").Search,p=e("./range").Range,g=e("./lib/event_emitter").EventEmitter,f=e("./commands/command_manager").CommandManager,m=e("./commands/default_commands").commands,v=e("./config"),y=e("./token_iterator").TokenIterator,b=e("./clipboard"),C=function(e,t,n){this.$toDestroy=[];var i=e.getContainerElement();this.container=i,this.renderer=e,this.id="editor"+ ++C.$uid,this.commands=new f(s.isMac?"mac":"win",m),"object"==typeof document&&(this.textInput=new a(e.getTextAreaContainer(),this),this.renderer.textarea=this.textInput.getElement(),this.$mouseHandler=new l(this),new c(this)),this.keyBinding=new h(this),this.$search=(new u).set({wrap:!0}),this.$historyTracker=this.$historyTracker.bind(this),this.commands.on("exec",this.$historyTracker),this.$initOperationListeners(),this._$emitInputEvent=o.delayedCall((function(){this._signal("input",{}),this.session&&this.session.bgTokenizer&&this.session.bgTokenizer.scheduleStart()}).bind(this)),this.on("change",(function(e,t){t._$emitInputEvent.schedule(31)})),this.setSession(t||n&&n.session||new d("")),v.resetOptions(this),n&&this.setOptions(n),v._signal("editor",this)};C.$uid=0,(function(){i.implement(this,g),this.$initOperationListeners=function(){this.commands.on("exec",this.startOperation.bind(this),!0),this.commands.on("afterExec",this.endOperation.bind(this),!0),this.$opResetTimer=o.delayedCall(this.endOperation.bind(this,!0)),this.on("change",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.docChanged=!0}).bind(this),!0),this.on("changeSelection",(function(){this.curOp||(this.startOperation(),this.curOp.selectionBefore=this.$lastSel),this.curOp.selectionChanged=!0}).bind(this),!0)},this.curOp=null,this.prevOp={},this.startOperation=function(e){if(this.curOp){if(!e||this.curOp.command)return;this.prevOp=this.curOp}e||(this.previousCommand=null,e={}),this.$opResetTimer.schedule(),this.curOp=this.session.curOp={command:e.command||{},args:e.args,scrollTop:this.renderer.scrollTop},this.curOp.selectionBefore=this.selection.toJSON()},this.endOperation=function(e){if(this.curOp&&this.session){if(e&&!1===e.returnValue||!this.session)return this.curOp=null;if(1==e&&this.curOp.command&&"mouse"==this.curOp.command.name)return;if(this._signal("beforeEndOperation"),!this.curOp)return;var t=this.curOp.command,n=t&&t.scrollIntoView;if(n){switch(n){case"center-animate":n="animate";case"center":this.renderer.scrollCursorIntoView(null,.5);break;case"animate":case"cursor":this.renderer.scrollCursorIntoView();break;case"selectionPart":var i=this.selection.getRange(),r=this.renderer.layerConfig;(i.start.row>=r.lastRow||i.end.row<=r.firstRow)&&this.renderer.scrollSelectionIntoView(this.selection.anchor,this.selection.lead)}"animate"==n&&this.renderer.animateScrolling(this.curOp.scrollTop)}var o=this.selection.toJSON();this.curOp.selectionAfter=o,this.$lastSel=this.selection.toJSON(),this.session.getUndoManager().addSelection(o),this.prevOp=this.curOp,this.curOp=null}},this.$mergeableCommands=["backspace","del","insertstring"],this.$historyTracker=function(e){var t,n,i,r;this.$mergeUndoDeltas&&(n=this.$mergeableCommands,i=(t=this.prevOp).command&&e.command.name==t.command.name,"insertstring"==e.command.name?(r=e.args,void 0===this.mergeNextCommand&&(this.mergeNextCommand=!0),i=i&&this.mergeNextCommand&&(!/\s/.test(r)||/\s/.test(t.args)),this.mergeNextCommand=!0):i=i&&-1!==n.indexOf(e.command.name),"always"!=this.$mergeUndoDeltas&&2e3<Date.now()-this.sequenceStartTime&&(i=!1),i?this.session.mergeUndoDeltas=!0:-1!==n.indexOf(e.command.name)&&(this.sequenceStartTime=Date.now()))},this.setKeyboardHandler=function(e,t){var n;e&&"string"==typeof e&&"ace"!=e?(this.$keybindingId=e,n=this,v.loadModule(["keybinding",e],(function(i){n.$keybindingId==e&&n.keyBinding.setKeyboardHandler(i&&i.handler),t&&t()}))):(this.$keybindingId=null,this.keyBinding.setKeyboardHandler(e),t&&t())},this.getKeyboardHandler=function(){return this.keyBinding.getKeyboardHandler()},this.setSession=function(e){var t,n;this.session!=e&&(this.curOp&&this.endOperation(),this.curOp={},(t=this.session)&&(this.session.off("change",this.$onDocumentChange),this.session.off("changeMode",this.$onChangeMode),this.session.off("tokenizerUpdate",this.$onTokenizerUpdate),this.session.off("changeTabSize",this.$onChangeTabSize),this.session.off("changeWrapLimit",this.$onChangeWrapLimit),this.session.off("changeWrapMode",this.$onChangeWrapMode),this.session.off("changeFold",this.$onChangeFold),this.session.off("changeFrontMarker",this.$onChangeFrontMarker),this.session.off("changeBackMarker",this.$onChangeBackMarker),this.session.off("changeBreakpoint",this.$onChangeBreakpoint),this.session.off("changeAnnotation",this.$onChangeAnnotation),this.session.off("changeOverwrite",this.$onCursorChange),this.session.off("changeScrollTop",this.$onScrollTopChange),this.session.off("changeScrollLeft",this.$onScrollLeftChange),(n=this.session.getSelection()).off("changeCursor",this.$onCursorChange),n.off("changeSelection",this.$onSelectionChange)),(this.session=e)?(this.$onDocumentChange=this.onDocumentChange.bind(this),e.on("change",this.$onDocumentChange),this.renderer.setSession(e),this.$onChangeMode=this.onChangeMode.bind(this),e.on("changeMode",this.$onChangeMode),this.$onTokenizerUpdate=this.onTokenizerUpdate.bind(this),e.on("tokenizerUpdate",this.$onTokenizerUpdate),this.$onChangeTabSize=this.renderer.onChangeTabSize.bind(this.renderer),e.on("changeTabSize",this.$onChangeTabSize),this.$onChangeWrapLimit=this.onChangeWrapLimit.bind(this),e.on("changeWrapLimit",this.$onChangeWrapLimit),this.$onChangeWrapMode=this.onChangeWrapMode.bind(this),e.on("changeWrapMode",this.$onChangeWrapMode),this.$onChangeFold=this.onChangeFold.bind(this),e.on("changeFold",this.$onChangeFold),this.$onChangeFrontMarker=this.onChangeFrontMarker.bind(this),this.session.on("changeFrontMarker",this.$onChangeFrontMarker),this.$onChangeBackMarker=this.onChangeBackMarker.bind(this),this.session.on("changeBackMarker",this.$onChangeBackMarker),this.$onChangeBreakpoint=this.onChangeBreakpoint.bind(this),this.session.on("changeBreakpoint",this.$onChangeBreakpoint),this.$onChangeAnnotation=this.onChangeAnnotation.bind(this),this.session.on("changeAnnotation",this.$onChangeAnnotation),this.$onCursorChange=this.onCursorChange.bind(this),this.session.on("changeOverwrite",this.$onCursorChange),this.$onScrollTopChange=this.onScrollTopChange.bind(this),this.session.on("changeScrollTop",this.$onScrollTopChange),this.$onScrollLeftChange=this.onScrollLeftChange.bind(this),this.session.on("changeScrollLeft",this.$onScrollLeftChange),this.selection=e.getSelection(),this.selection.on("changeCursor",this.$onCursorChange),this.$onSelectionChange=this.onSelectionChange.bind(this),this.selection.on("changeSelection",this.$onSelectionChange),this.onChangeMode(),this.onCursorChange(),this.onScrollTopChange(),this.onScrollLeftChange(),this.onSelectionChange(),this.onChangeFrontMarker(),this.onChangeBackMarker(),this.onChangeBreakpoint(),this.onChangeAnnotation(),this.session.getUseWrapMode()&&this.renderer.adjustWrapLimit(),this.renderer.updateFull()):(this.selection=null,this.renderer.setSession(e)),this._signal("changeSession",{session:e,oldSession:t}),this.curOp=null,t&&t._signal("changeEditor",{oldEditor:this}),e&&e._signal("changeEditor",{editor:this}),e&&e.bgTokenizer&&e.bgTokenizer.scheduleStart())},this.getSession=function(){return this.session},this.setValue=function(e,t){return this.session.doc.setValue(e),t?1==t?this.navigateFileEnd():-1==t&&this.navigateFileStart():this.selectAll(),e},this.getValue=function(){return this.session.getValue()},this.getSelection=function(){return this.selection},this.resize=function(e){this.renderer.onResize(e)},this.setTheme=function(e,t){this.renderer.setTheme(e,t)},this.getTheme=function(){return this.renderer.getTheme()},this.setStyle=function(e){this.renderer.setStyle(e)},this.unsetStyle=function(e){this.renderer.unsetStyle(e)},this.getFontSize=function(){return this.getOption("fontSize")||r.computedStyle(this.container).fontSize},this.setFontSize=function(e){this.setOption("fontSize",e)},this.$highlightBrackets=function(){var e;this.$highlightPending||((e=this).$highlightPending=!0,setTimeout((function(){e.$highlightPending=!1;var t,n,i=e.session;i&&i.bgTokenizer&&(i.$bracketHighlight&&(i.$bracketHighlight.markerIds.forEach((function(e){i.removeMarker(e)})),i.$bracketHighlight=null),!(t=i.getMatchingBracketRanges(e.getCursorPosition()))&&i.$mode.getMatching&&(t=i.$mode.getMatching(e.session)),t&&(n="ace_bracket",Array.isArray(t)?1==t.length&&(n="ace_error_bracket"):t=[t],2==t.length&&(0==p.comparePoints(t[0].end,t[1].start)?t=[p.fromPoints(t[0].start,t[1].end)]:0==p.comparePoints(t[0].start,t[1].end)&&(t=[p.fromPoints(t[1].start,t[0].end)])),i.$bracketHighlight={ranges:t,markerIds:t.map((function(e){return i.addMarker(e,n,"text")}))}))}),50))},this.$highlightTags=function(){var e;this.$highlightTagPending||((e=this).$highlightTagPending=!0,setTimeout((function(){e.$highlightTagPending=!1;var t=e.session;if(t&&t.bgTokenizer){var n=e.getCursorPosition(),i=new y(e.session,n.row,n.column),r=i.getCurrentToken();if(!r||!/\b(?:tag-open|tag-name)/.test(r.type))return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);if(-1===r.type.indexOf("tag-open")||(r=i.stepForward())){var o=r.value,s=r.value,a=0,l=i.stepBackward();if("<"===l.value)for(;l=r,(r=i.stepForward())&&(-1!==r.type.indexOf("tag-name")?o===(s=r.value)&&("<"===l.value?a++:"</"===l.value&&a--):o===s&&"/>"===r.value&&a--),r&&0<=a;);else{do{if(r=l,l=i.stepBackward(),r)if(-1!==r.type.indexOf("tag-name"))o===r.value&&("<"===l.value?a++:"</"===l.value&&a--);else if("/>"===r.value){for(var c=0,h=l;h;){if(-1!==h.type.indexOf("tag-name")&&h.value===o){a--;break}if("<"===h.value)break;h=i.stepBackward(),c++}for(var d=0;d<c;d++)i.stepForward()}}while(l&&a<=0);i.stepForward()}if(!r)return t.removeMarker(t.$tagHighlight),void(t.$tagHighlight=null);var u=i.getCurrentTokenRow(),g=i.getCurrentTokenColumn(),f=new p(u,g,u,g+r.value.length),m=t.$backMarkers[t.$tagHighlight];t.$tagHighlight&&null!=m&&0!==f.compareRange(m.range)&&(t.removeMarker(t.$tagHighlight),t.$tagHighlight=null),t.$tagHighlight||(t.$tagHighlight=t.addMarker(f,"ace_bracket","text"))}}}),50))},this.focus=function(){var e=this;setTimeout((function(){e.isFocused()||e.textInput.focus()})),this.textInput.focus()},this.isFocused=function(){return this.textInput.isFocused()},this.blur=function(){this.textInput.blur()},this.onFocus=function(e){this.$isFocused||(this.$isFocused=!0,this.renderer.showCursor(),this.renderer.visualizeFocus(),this._emit("focus",e))},this.onBlur=function(e){this.$isFocused&&(this.$isFocused=!1,this.renderer.hideCursor(),this.renderer.visualizeBlur(),this._emit("blur",e))},this.$cursorChange=function(){this.renderer.updateCursor(),this.$highlightBrackets(),this.$highlightTags(),this.$updateHighlightActiveLine()},this.onDocumentChange=function(e){this.renderer.updateLines(e.start.row,e.start.row==e.end.row?e.end.row:1/0,this.session.$useWrapMode),this._signal("change",e),this.$cursorChange()},this.onTokenizerUpdate=function(e){var t=e.data;this.renderer.updateLines(t.first,t.last)},this.onScrollTopChange=function(){this.renderer.scrollToY(this.session.getScrollTop())},this.onScrollLeftChange=function(){this.renderer.scrollToX(this.session.getScrollLeft())},this.onCursorChange=function(){this.$cursorChange(),this._signal("changeSelection")},this.$updateHighlightActiveLine=function(){var e,t,n=this.getSession();this.$highlightActiveLine&&("line"==this.$selectionStyle&&this.selection.isMultiLine()||(e=this.getCursorPosition()),this.renderer.theme&&this.renderer.theme.$selectionColorConflict&&!this.selection.isEmpty()&&(e=!1),!this.renderer.$maxLines||1!==this.session.getLength()||1<this.renderer.$minLines||(e=!1)),n.$highlightLineMarker&&!e?(n.removeMarker(n.$highlightLineMarker.id),n.$highlightLineMarker=null):!n.$highlightLineMarker&&e?((t=new p(e.row,e.column,e.row,1/0)).id=n.addMarker(t,"ace_active-line","screenLine"),n.$highlightLineMarker=t):e&&(n.$highlightLineMarker.start.row=e.row,n.$highlightLineMarker.end.row=e.row,n.$highlightLineMarker.start.column=e.column,n._signal("changeBackMarker"))},this.onSelectionChange=function(e){var t,n,i=this.session;i.$selectionMarker&&i.removeMarker(i.$selectionMarker),i.$selectionMarker=null,this.selection.isEmpty()?this.$updateHighlightActiveLine():(t=this.selection.getRange(),n=this.getSelectionStyle(),i.$selectionMarker=i.addMarker(t,"ace_selection",n));var r=this.$highlightSelectedWord&&this.$getSelectionHighLightRegexp();this.session.highlight(r),this._signal("changeSelection")},this.$getSelectionHighLightRegexp=function(){var e=this.session,t=this.getSelectionRange();if(!t.isEmpty()&&!t.isMultiLine()){var n=t.start.column,i=t.end.column,r=e.getLine(t.start.row),o=r.substring(n,i);if(!(5e3<o.length)&&/[\w\d]/.test(o)){var s=this.$search.$assembleRegExp({wholeWord:!0,caseSensitive:!0,needle:o}),a=r.substring(n-1,i+1);if(s.test(a))return s}}},this.onChangeFrontMarker=function(){this.renderer.updateFrontMarkers()},this.onChangeBackMarker=function(){this.renderer.updateBackMarkers()},this.onChangeBreakpoint=function(){this.renderer.updateBreakpoints()},this.onChangeAnnotation=function(){this.renderer.setAnnotations(this.session.getAnnotations())},this.onChangeMode=function(e){this.renderer.updateText(),this._emit("changeMode",e)},this.onChangeWrapLimit=function(){this.renderer.updateFull()},this.onChangeWrapMode=function(){this.renderer.onResize(!0)},this.onChangeFold=function(){this.$updateHighlightActiveLine(),this.renderer.updateFull()},this.getSelectedText=function(){return this.session.getTextRange(this.getSelectionRange())},this.getCopyText=function(){var e=this.getSelectedText(),t=this.session.doc.getNewLineCharacter(),n=!1;if(!e&&this.$copyWithEmptySelection){n=!0;for(var i=this.selection.getAllRanges(),r=0;r<i.length;r++){var o=i[r];r&&i[r-1].start.row==o.start.row||(e+=this.session.getLine(o.start.row)+t)}}var s={text:e};return this._signal("copy",s),b.lineMode=n?s.text:"",s.text},this.onCopy=function(){this.commands.exec("copy",this)},this.onCut=function(){this.commands.exec("cut",this)},this.onPaste=function(e,t){this.commands.exec("paste",this,{text:e,event:t})},this.$handlePaste=function(e){"string"==typeof e&&(e={text:e}),this._signal("paste",e);var t=e.text,n=t==b.lineMode,i=this.session;if(!this.inMultiSelectMode||this.inVirtualSelectionMode)n?i.insert({row:this.selection.lead.row,column:0},t):this.insert(t);else if(n)this.selection.rangeList.ranges.forEach((function(e){i.insert({row:e.start.row,column:0},t)}));else{var r=t.split(/\r\n|\r|\n/),o=this.selection.rangeList.ranges;if(r.length!=o.length||!(2!=r.length||r[0]&&r[1]))return this.commands.exec("insertstring",this,t);for(var s=o.length;s--;){var a=o[s];a.isEmpty()||i.remove(a),i.insert(a.start,r[s])}}},this.execCommand=function(e,t){return this.commands.exec(e,this,t)},this.insert=function(e,t){var n,i,r,o=this.session,s=o.getMode(),a=this.getCursorPosition();!this.getBehavioursEnabled()||t||(n=s.transformAction(o.getState(a.row),"insertion",this,o,e))&&(e!==n.text&&(this.inVirtualSelectionMode||(this.session.mergeUndoDeltas=!1,this.mergeNextCommand=!1)),e=n.text),"\t"==e&&(e=this.session.getTabString()),this.selection.isEmpty()?this.session.getOverwrite()&&-1==e.indexOf("\n")&&((i=new p.fromPoints(a,a)).end.column+=e.length,this.session.remove(i)):(i=this.getSelectionRange(),a=this.session.remove(i),this.clearSelection()),"\n"!=e&&"\r\n"!=e||(d=o.getLine(a.row),a.column>d.search(/\S|$/)&&(r=d.substr(a.column).search(/\S|$/),o.doc.removeInLine(a.row,a.column,a.column+r))),this.clearSelection();var l,c=a.column,h=o.getState(a.row),d=o.getLine(a.row),u=s.checkOutdent(h,d,e);o.insert(a,e),n&&n.selection&&this.selection.setSelectionRange(2==n.selection.length?new p(a.row,c+n.selection[0],a.row,c+n.selection[1]):new p(a.row+n.selection[0],n.selection[1],a.row+n.selection[2],n.selection[3])),this.$enableAutoIndent&&(o.getDocument().isNewLine(e)&&(l=s.getNextLineIndent(h,d.slice(0,a.column),o.getTabString()),o.insert({row:a.row+1,column:0},l)),u&&s.autoOutdent(h,o,a.row))},this.autoIndent=function(){var e,t,n,i=this.session,r=i.getMode();n=this.selection.isEmpty()?(t=0,i.doc.getLength()-1):(t=(e=this.getSelectionRange()).start.row,e.end.row);for(var o,s,a,l,c="",h="",d=i.getTabString(),u=t;u<=n;u++)0<u&&(c=i.getState(u-1),o=i.getLine(u-1),h=r.getNextLineIndent(c,o,d)),s=i.getLine(u),h!==(a=r.$getIndent(s))&&(0<a.length&&(l=new p(u,0,u,a.length),i.remove(l)),0<h.length&&i.insert({row:u,column:0},h)),r.autoOutdent(c,i,u)},this.onTextInput=function(e,t){if(!t)return this.keyBinding.onTextInput(e);this.startOperation({command:{name:"insertstring"}});var n=this.applyComposition.bind(this,e,t);this.selection.rangeCount?this.forEachSelection(n):n(),this.endOperation()},this.applyComposition=function(e,t){var n;(t.extendLeft||t.extendRight)&&((n=this.selection.getRange()).start.column-=t.extendLeft,n.end.column+=t.extendRight,n.start.column<0&&(n.start.row--,n.start.column+=this.session.getLine(n.start.row).length+1),this.selection.setRange(n),e||n.isEmpty()||this.remove()),!e&&this.selection.isEmpty()||this.insert(e,!0),(t.restoreStart||t.restoreEnd)&&((n=this.selection.getRange()).start.column-=t.restoreStart,n.end.column-=t.restoreEnd,this.selection.setRange(n))},this.onCommandKey=function(e,t,n){return this.keyBinding.onCommandKey(e,t,n)},this.setOverwrite=function(e){this.session.setOverwrite(e)},this.getOverwrite=function(){return this.session.getOverwrite()},this.toggleOverwrite=function(){this.session.toggleOverwrite()},this.setScrollSpeed=function(e){this.setOption("scrollSpeed",e)},this.getScrollSpeed=function(){return this.getOption("scrollSpeed")},this.setDragDelay=function(e){this.setOption("dragDelay",e)},this.getDragDelay=function(){return this.getOption("dragDelay")},this.setSelectionStyle=function(e){this.setOption("selectionStyle",e)},this.getSelectionStyle=function(){return this.getOption("selectionStyle")},this.setHighlightActiveLine=function(e){this.setOption("highlightActiveLine",e)},this.getHighlightActiveLine=function(){return this.getOption("highlightActiveLine")},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.setHighlightSelectedWord=function(e){this.setOption("highlightSelectedWord",e)},this.getHighlightSelectedWord=function(){return this.$highlightSelectedWord},this.setAnimatedScroll=function(e){this.renderer.setAnimatedScroll(e)},this.getAnimatedScroll=function(){return this.renderer.getAnimatedScroll()},this.setShowInvisibles=function(e){this.renderer.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.renderer.getShowInvisibles()},this.setDisplayIndentGuides=function(e){this.renderer.setDisplayIndentGuides(e)},this.getDisplayIndentGuides=function(){return this.renderer.getDisplayIndentGuides()},this.setShowPrintMargin=function(e){this.renderer.setShowPrintMargin(e)},this.getShowPrintMargin=function(){return this.renderer.getShowPrintMargin()},this.setPrintMarginColumn=function(e){this.renderer.setPrintMarginColumn(e)},this.getPrintMarginColumn=function(){return this.renderer.getPrintMarginColumn()},this.setReadOnly=function(e){this.setOption("readOnly",e)},this.getReadOnly=function(){return this.getOption("readOnly")},this.setBehavioursEnabled=function(e){this.setOption("behavioursEnabled",e)},this.getBehavioursEnabled=function(){return this.getOption("behavioursEnabled")},this.setWrapBehavioursEnabled=function(e){this.setOption("wrapBehavioursEnabled",e)},this.getWrapBehavioursEnabled=function(){return this.getOption("wrapBehavioursEnabled")},this.setShowFoldWidgets=function(e){this.setOption("showFoldWidgets",e)},this.getShowFoldWidgets=function(){return this.getOption("showFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.remove=function(e){this.selection.isEmpty()&&("left"==e?this.selection.selectLeft():this.selection.selectRight());var t,n,i,r,o,s=this.getSelectionRange();this.getBehavioursEnabled()&&(n=(t=this.session).getState(s.start.row),i=t.getMode().transformAction(n,"deletion",this,t,s),0!==s.end.column||"\n"==(r=t.getTextRange(s))[r.length-1]&&(o=t.getLine(s.end.row),/^\s+$/.test(o)&&(s.end.column=o.length)),i&&(s=i)),this.session.remove(s),this.clearSelection()},this.removeWordRight=function(){this.selection.isEmpty()&&this.selection.selectWordRight(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeWordLeft=function(){this.selection.isEmpty()&&this.selection.selectWordLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineStart=function(){this.selection.isEmpty()&&this.selection.selectLineStart(),this.selection.isEmpty()&&this.selection.selectLeft(),this.session.remove(this.getSelectionRange()),this.clearSelection()},this.removeToLineEnd=function(){this.selection.isEmpty()&&this.selection.selectLineEnd();var e=this.getSelectionRange();e.start.column==e.end.column&&e.start.row==e.end.row&&(e.end.column=0,e.end.row++),this.session.remove(e),this.clearSelection()},this.splitLine=function(){this.selection.isEmpty()||(this.session.remove(this.getSelectionRange()),this.clearSelection());var e=this.getCursorPosition();this.insert("\n"),this.moveCursorToPosition(e)},this.transposeLetters=function(){var e,t,n,i,r;!this.selection.isEmpty()||0!==(t=(e=this.getCursorPosition()).column)&&(r=t<(n=this.session.getLine(e.row)).length?(i=n.charAt(t)+n.charAt(t-1),new p(e.row,t-1,e.row,t+1)):(i=n.charAt(t-1)+n.charAt(t-2),new p(e.row,t-2,e.row,t)),this.session.replace(r,i),this.session.selection.moveToPosition(r.end))},this.toLowerCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toLowerCase()),this.selection.setSelectionRange(e)},this.toUpperCase=function(){var e=this.getSelectionRange();this.selection.isEmpty()&&this.selection.selectWord();var t=this.getSelectionRange(),n=this.session.getTextRange(t);this.session.replace(t,n.toUpperCase()),this.selection.setSelectionRange(e)},this.indent=function(){var e=this.session,t=this.getSelectionRange();if(!(t.start.row<t.end.row)){if(t.start.column<t.end.column){var n=e.getTextRange(t);if(!/^\s+$/.test(n))return h=this.$getSelectedRows(),void e.indentRows(h.first,h.last,"\t")}var i=e.getLine(t.start.row),r=t.start,s=e.getTabSize(),a=e.documentToScreenColumn(r.row,r.column);if(this.session.getUseSoftTabs())var l=s-a%s,c=o.stringRepeat(" ",l);else{for(l=a%s;" "==i[t.start.column-1]&&l;)t.start.column--,l--;this.selection.setSelectionRange(t),c="\t"}return this.insert(c)}var h=this.$getSelectedRows();e.indentRows(h.first,h.last,"\t")},this.blockIndent=function(){var e=this.$getSelectedRows();this.session.indentRows(e.first,e.last,"\t")},this.blockOutdent=function(){var e=this.session.getSelection();this.session.outdentRows(e.getRange())},this.sortLines=function(){for(var e=this.$getSelectedRows(),t=this.session,n=[],i=e.first;i<=e.last;i++)n.push(t.getLine(i));n.sort((function(e,t){return e.toLowerCase()<t.toLowerCase()?-1:e.toLowerCase()>t.toLowerCase()?1:0}));var r=new p(0,0,0,0);for(i=e.first;i<=e.last;i++){var o=t.getLine(i);r.start.row=i,r.end.row=i,r.end.column=o.length,t.replace(r,n[i-e.first])}},this.toggleCommentLines=function(){var e=this.session.getState(this.getCursorPosition().row),t=this.$getSelectedRows();this.session.getMode().toggleCommentLines(e,this.session,t.first,t.last)},this.toggleBlockComment=function(){var e=this.getCursorPosition(),t=this.session.getState(e.row),n=this.getSelectionRange();this.session.getMode().toggleBlockComment(t,this.session,n,e)},this.getNumberAt=function(e,t){var n=/[\-]?[0-9]+(?:\.[0-9]+)?/g;n.lastIndex=0;for(var i=this.session.getLine(e);n.lastIndex<t;){var r=n.exec(i);if(r.index<=t&&r.index+r[0].length>=t)return{value:r[0],start:r.index,end:r.index+r[0].length}}return null},this.modifyNumber=function(e){var t,n,i,r,o,s,a=this.selection.getCursor().row,l=this.selection.getCursor().column,c=new p(a,l-1,a,l),h=this.session.getTextRange(c);!isNaN(parseFloat(h))&&isFinite(h)?(t=this.getNumberAt(a,l))&&(n=0<=t.value.indexOf(".")?t.start+t.value.indexOf(".")+1:t.end,i=t.start+t.value.length-n,r=parseFloat(t.value),r*=Math.pow(10,i),r+=e*=n!==t.end&&l<n?Math.pow(10,t.end-l-1):Math.pow(10,t.end-l),o=(r/=Math.pow(10,i)).toFixed(i),s=new p(a,t.start,a,t.end),this.session.replace(s,o),this.moveCursorTo(a,Math.max(t.start+1,l+o.length-t.value.length))):this.toggleWord()},this.$toggleWordPairs=[["first","last"],["true","false"],["yes","no"],["width","height"],["top","bottom"],["right","left"],["on","off"],["x","y"],["get","set"],["max","min"],["horizontal","vertical"],["show","hide"],["add","remove"],["up","down"],["before","after"],["even","odd"],["in","out"],["inside","outside"],["next","previous"],["increase","decrease"],["attach","detach"],["&&","||"],["==","!="]],this.toggleWord=function(){var e=this.selection.getCursor().row,t=this.selection.getCursor().column;this.selection.selectWord();var n=this.getSelectedText(),i=this.selection.getWordRange().start.column,r=n.replace(/([a-z]+|[A-Z]+)(?=[A-Z_]|$)/g,"$1 ").split(/\s/),s=t-i-1;s<0&&(s=0);var a,l=0,c=this;n.match(/[A-Za-z0-9_]+/)&&r.forEach((function(t,r){a=l+t.length,l<=s&&s<=a&&(n=t,c.selection.clearSelection(),c.moveCursorTo(e,l+i),c.selection.selectTo(e,a+i)),l=a}));for(var h,d=this.$toggleWordPairs,u=0;u<d.length;u++)for(var p=d[u],g=0;g<=1;g++){var f=+!g,m=n.match(new RegExp("^\\s?_?("+o.escapeRegExp(p[g])+")\\s?$","i"));m&&n.match(new RegExp("([_]|^|\\s)("+o.escapeRegExp(m[1])+")($|\\s)","g"))&&(h=n.replace(new RegExp(o.escapeRegExp(p[g]),"i"),(function(e){var t=p[f];return e.toUpperCase()==e?t=t.toUpperCase():e.charAt(0).toUpperCase()==e.charAt(0)&&(t=t.substr(0,0)+p[f].charAt(0).toUpperCase()+t.substr(1)),t})),this.insert(h))}},this.removeLines=function(){var e=this.$getSelectedRows();this.session.removeFullLines(e.first,e.last),this.clearSelection()},this.duplicateSelection=function(){var e,t,n,i=this.selection,r=this.session,o=i.getRange(),s=i.isBackwards();o.isEmpty()?r.duplicateLines(e=o.start.row,e):(n=r.insert(t=s?o.start:o.end,r.getTextRange(o),!1),o.start=t,o.end=n,i.setSelectionRange(o,s))},this.moveLinesDown=function(){this.$moveLines(1,!1)},this.moveLinesUp=function(){this.$moveLines(-1,!1)},this.moveText=function(e,t,n){return this.session.moveText(e,t,n)},this.copyLinesUp=function(){this.$moveLines(-1,!0)},this.copyLinesDown=function(){this.$moveLines(1,!0)},this.$moveLines=function(e,t){var n=this.selection;if(!n.inMultiSelectMode||this.inVirtualSelectionMode){var i=n.toOrientedRange(),r=this.$getSelectedRows(i),o=this.session.$moveLines(r.first,r.last,t?0:e);t&&-1==e&&(o=0),i.moveBy(o,0),n.fromOrientedRange(i)}else{var s=n.rangeList.ranges;n.rangeList.detach(this.session),this.inVirtualSelectionMode=!0;for(var a=0,l=0,c=s.length,h=0;h<c;h++){var d=h;s[h].moveBy(a,0);for(var u=(r=this.$getSelectedRows(s[h])).first,p=r.last;++h<c;){l&&s[h].moveBy(l,0);var g=this.$getSelectedRows(s[h]);if(t&&g.first!=p)break;if(!t&&g.first>p+1)break;p=g.last}for(h--,a=this.session.$moveLines(u,p,t?0:e),t&&-1==e&&(d=h+1);d<=h;)s[d].moveBy(a,0),d++;t||(a=0),l+=a}n.fromOrientedRange(n.ranges[0]),n.rangeList.attach(this.session),this.inVirtualSelectionMode=!1}},this.$getSelectedRows=function(e){return e=(e||this.getSelectionRange()).collapseRows(),{first:this.session.getRowFoldStart(e.start.row),last:this.session.getRowFoldEnd(e.end.row)}},this.onCompositionStart=function(e){this.renderer.showComposition(e)},this.onCompositionUpdate=function(e){this.renderer.setCompositionText(e)},this.onCompositionEnd=function(){this.renderer.hideComposition()},this.getFirstVisibleRow=function(){return this.renderer.getFirstVisibleRow()},this.getLastVisibleRow=function(){return this.renderer.getLastVisibleRow()},this.isRowVisible=function(e){return e>=this.getFirstVisibleRow()&&e<=this.getLastVisibleRow()},this.isRowFullyVisible=function(e){return e>=this.renderer.getFirstFullyVisibleRow()&&e<=this.renderer.getLastFullyVisibleRow()},this.$getVisibleRowCount=function(){return this.renderer.getScrollBottomRow()-this.renderer.getScrollTopRow()+1},this.$moveByPage=function(e,t){var n=this.renderer,i=this.renderer.layerConfig,r=e*Math.floor(i.height/i.lineHeight);!0===t?this.selection.$moveSelection((function(){this.moveCursorBy(r,0)})):!1===t&&(this.selection.moveCursorBy(r,0),this.selection.clearSelection());var o=n.scrollTop;n.scrollBy(0,r*i.lineHeight),null!=t&&n.scrollCursorIntoView(null,.5),n.animateScrolling(o)},this.selectPageDown=function(){this.$moveByPage(1,!0)},this.selectPageUp=function(){this.$moveByPage(-1,!0)},this.gotoPageDown=function(){this.$moveByPage(1,!1)},this.gotoPageUp=function(){this.$moveByPage(-1,!1)},this.scrollPageDown=function(){this.$moveByPage(1)},this.scrollPageUp=function(){this.$moveByPage(-1)},this.scrollToRow=function(e){this.renderer.scrollToRow(e)},this.scrollToLine=function(e,t,n,i){this.renderer.scrollToLine(e,t,n,i)},this.centerSelection=function(){var e=this.getSelectionRange(),t={row:Math.floor(e.start.row+(e.end.row-e.start.row)/2),column:Math.floor(e.start.column+(e.end.column-e.start.column)/2)};this.renderer.alignCursor(t,.5)},this.getCursorPosition=function(){return this.selection.getCursor()},this.getCursorPositionScreen=function(){return this.session.documentToScreenPosition(this.getCursorPosition())},this.getSelectionRange=function(){return this.selection.getRange()},this.selectAll=function(){this.selection.selectAll()},this.clearSelection=function(){this.selection.clearSelection()},this.moveCursorTo=function(e,t){this.selection.moveCursorTo(e,t)},this.moveCursorToPosition=function(e){this.selection.moveCursorToPosition(e)},this.jumpToMatching=function(e,t){var n=this.getCursorPosition(),i=new y(this.session,n.row,n.column),r=i.getCurrentToken(),o=r||i.stepForward();if(o){var s,a,l,c=!1,h={},d=n.column-o.start,u={")":"(","(":"(","]":"[","[":"[","{":"{","}":"{"};do{if(o.value.match(/[{}()\[\]]/g)){for(;d<o.value.length&&!c;d++)if(u[o.value[d]])switch(a=u[o.value[d]]+"."+o.type.replace("rparen","lparen"),isNaN(h[a])&&(h[a]=0),o.value[d]){case"(":case"[":case"{":h[a]++;break;case")":case"]":case"}":h[a]--,-1===h[a]&&(s="bracket",c=!0)}}else-1!==o.type.indexOf("tag-name")&&(isNaN(h[o.value])&&(h[o.value]=0),"<"===r.value?h[o.value]++:"</"===r.value&&h[o.value]--,-1===h[o.value]&&(s="tag",c=!0));c||(r=o,o=i.stepForward(),d=0)}while(o&&!c);if(s){if("bracket"===s)(g=this.session.getBracketRange(n))||(l=(g=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1,i.getCurrentTokenRow(),i.getCurrentTokenColumn()+d-1)).start,(t||l.row===n.row&&Math.abs(l.column-n.column)<2)&&(g=this.session.getBracketRange(l)));else if("tag"===s){if(!o||-1===o.type.indexOf("tag-name"))return;var g,f=o.value;if(0===(g=new p(i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2,i.getCurrentTokenRow(),i.getCurrentTokenColumn()-2)).compare(n.row,n.column))for(c=!1;o=r,(r=i.stepBackward())&&(-1!==r.type.indexOf("tag-close")&&g.setEnd(i.getCurrentTokenRow(),i.getCurrentTokenColumn()+1),o.value===f&&-1!==o.type.indexOf("tag-name")&&("<"===r.value?h[f]++:"</"===r.value&&h[f]--,0===h[f]&&(c=!0))),r&&!c;);o&&o.type.indexOf("tag-name")&&(l=g.start).row==n.row&&Math.abs(l.column-n.column)<2&&(l=g.end)}(l=g&&g.cursor||l)&&(e?g&&t?this.selection.setRange(g):g&&g.isEqual(this.getSelectionRange())?this.clearSelection():this.selection.selectTo(l.row,l.column):this.selection.moveTo(l.row,l.column))}}},this.gotoLine=function(e,t,n){this.selection.clearSelection(),this.session.unfold({row:e-1,column:t||0}),this.exitMultiSelectMode&&this.exitMultiSelectMode(),this.moveCursorTo(e-1,t||0),this.isRowFullyVisible(e-1)||this.scrollToLine(e-1,!0,n)},this.navigateTo=function(e,t){this.selection.moveTo(e,t)},this.navigateUp=function(e){if(this.selection.isMultiLine()&&!this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(-e||-1,0)},this.navigateDown=function(e){if(this.selection.isMultiLine()&&this.selection.isBackwards()){var t=this.selection.anchor.getPosition();return this.moveCursorToPosition(t)}this.selection.clearSelection(),this.selection.moveCursorBy(e||1,0)},this.navigateLeft=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorLeft();else{var t=this.getSelectionRange().start;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateRight=function(e){if(this.selection.isEmpty())for(e=e||1;e--;)this.selection.moveCursorRight();else{var t=this.getSelectionRange().end;this.moveCursorToPosition(t)}this.clearSelection()},this.navigateLineStart=function(){this.selection.moveCursorLineStart(),this.clearSelection()},this.navigateLineEnd=function(){this.selection.moveCursorLineEnd(),this.clearSelection()},this.navigateFileEnd=function(){this.selection.moveCursorFileEnd(),this.clearSelection()},this.navigateFileStart=function(){this.selection.moveCursorFileStart(),this.clearSelection()},this.navigateWordRight=function(){this.selection.moveCursorWordRight(),this.clearSelection()},this.navigateWordLeft=function(){this.selection.moveCursorWordLeft(),this.clearSelection()},this.replace=function(e,t){t&&this.$search.set(t);var n=this.$search.find(this.session),i=0;return n&&(this.$tryReplace(n,e)&&(i=1),this.selection.setSelectionRange(n),this.renderer.scrollSelectionIntoView(n.start,n.end)),i},this.replaceAll=function(e,t){t&&this.$search.set(t);var n=this.$search.findAll(this.session),i=0;if(!n.length)return i;var r=this.getSelectionRange();this.selection.moveTo(0,0);for(var o=n.length-1;0<=o;--o)this.$tryReplace(n[o],e)&&i++;return this.selection.setSelectionRange(r),i},this.$tryReplace=function(e,t){var n=this.session.getTextRange(e);return null!==(t=this.$search.replace(n,t))?(e.end=this.session.replace(e,t),e):null},this.getLastSearchOptions=function(){return this.$search.getOptions()},this.find=function(e,t,n){t=t||{},"string"==typeof e||e instanceof RegExp?t.needle=e:"object"==typeof e&&i.mixin(t,e);var r=this.selection.getRange();null==t.needle&&((e=this.session.getTextRange(r)||this.$search.$options.needle)||(r=this.session.getWordRange(r.start.row,r.start.column),e=this.session.getTextRange(r)),this.$search.set({needle:e})),this.$search.set(t),t.start||this.$search.set({start:r});var o=this.$search.find(this.session);return t.preventScroll?o:o?(this.revealRange(o,n),o):(t.backwards?r.start=r.end:r.end=r.start,void this.selection.setRange(r))},this.findNext=function(e,t){this.find({skipCurrent:!0,backwards:!1},e,t)},this.findPrevious=function(e,t){this.find(e,{skipCurrent:!0,backwards:!0},t)},this.revealRange=function(e,t){this.session.unfold(e),this.selection.setSelectionRange(e);var n=this.renderer.scrollTop;this.renderer.scrollSelectionIntoView(e.start,e.end,.5),!1!==t&&this.renderer.animateScrolling(n)},this.undo=function(){this.session.getUndoManager().undo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.redo=function(){this.session.getUndoManager().redo(this.session),this.renderer.scrollCursorIntoView(null,.5)},this.destroy=function(){this.$toDestroy&&(this.$toDestroy.forEach((function(e){e.destroy()})),this.$toDestroy=null),this.$mouseHandler&&this.$mouseHandler.destroy(),this.renderer.destroy(),this._signal("destroy",this),this.session&&this.session.destroy(),this._$emitInputEvent&&this._$emitInputEvent.cancel(),this.removeAllListeners()},this.setAutoScrollEditorIntoView=function(e){var t,n,i,r,o,s,a;e&&(i=!1,(n=this).$scrollAnchor||(this.$scrollAnchor=document.createElement("div")),(r=this.$scrollAnchor).style.cssText="position:absolute",this.container.insertBefore(r,this.container.firstChild),o=this.on("changeSelection",(function(){i=!0})),s=this.renderer.on("beforeRender",(function(){i&&(t=n.renderer.container.getBoundingClientRect())})),a=this.renderer.on("afterRender",(function(){var e,o,s,a;i&&t&&(n.isFocused()||n.searchBox&&n.searchBox.isFocused())&&(a=(o=(e=n.renderer).$cursorLayer.$pixelPos).top-(s=e.layerConfig).offset,null!=(i=0<=o.top&&a+t.top<0||!(o.top<s.height&&o.top+t.top+s.lineHeight>window.innerHeight)&&null)&&(r.style.top=a+"px",r.style.left=o.left+"px",r.style.height=s.lineHeight+"px",r.scrollIntoView(i)),i=t=null)})),this.setAutoScrollEditorIntoView=function(e){e||(delete this.setAutoScrollEditorIntoView,this.off("changeSelection",o),this.renderer.off("afterRender",a),this.renderer.off("beforeRender",s))})},this.$resetCursorStyle=function(){var e=this.$cursorStyle||"ace",t=this.renderer.$cursorLayer;t&&(t.setSmoothBlinking(/smooth/.test(e)),t.isBlinking=!this.$readOnly&&"wide"!=e,r.setCssClass(t.element,"ace_slim-cursors",/slim/.test(e)))},this.prompt=function(e,t,n){var i=this;v.loadModule("./ext/prompt",(function(r){r.prompt(i,e,t,n)}))}}).call(C.prototype),v.defineOptions(C.prototype,"editor",{selectionStyle:{set:function(e){this.onSelectionChange(),this._signal("changeSelectionStyle",{data:e})},initialValue:"line"},highlightActiveLine:{set:function(){this.$updateHighlightActiveLine()},initialValue:!0},highlightSelectedWord:{set:function(e){this.$onSelectionChange()},initialValue:!0},readOnly:{set:function(e){this.textInput.setReadOnly(e),this.$resetCursorStyle()},initialValue:!1},copyWithEmptySelection:{set:function(e){this.textInput.setCopyWithEmptySelection(e)},initialValue:!1},cursorStyle:{set:function(e){this.$resetCursorStyle()},values:["ace","slim","smooth","wide"],initialValue:"ace"},mergeUndoDeltas:{values:[!1,!0,"always"],initialValue:!0},behavioursEnabled:{initialValue:!0},wrapBehavioursEnabled:{initialValue:!0},enableAutoIndent:{initialValue:!0},autoScrollEditorIntoView:{set:function(e){this.setAutoScrollEditorIntoView(e)}},keyboardHandler:{set:function(e){this.setKeyboardHandler(e)},get:function(){return this.$keybindingId},handlesSet:!0},value:{set:function(e){this.session.setValue(e)},get:function(){return this.getValue()},handlesSet:!0,hidden:!0},session:{set:function(e){this.setSession(e)},get:function(){return this.session},handlesSet:!0,hidden:!0},showLineNumbers:{set:function(e){this.renderer.$gutterLayer.setShowLineNumbers(e),this.renderer.$loop.schedule(this.renderer.CHANGE_GUTTER),e&&this.$relativeLineNumbers?w.attach(this):w.detach(this)},initialValue:!0},relativeLineNumbers:{set:function(e){this.$showLineNumbers&&e?w.attach(this):w.detach(this)}},placeholder:{set:function(e){this.$updatePlaceholder||(this.$updatePlaceholder=(function(){var e,t=this.session&&(this.renderer.$composition||this.getValue());t&&this.renderer.placeholderNode?(this.renderer.off("afterRender",this.$updatePlaceholder),r.removeCssClass(this.container,"ace_hasPlaceholder"),this.renderer.placeholderNode.remove(),this.renderer.placeholderNode=null):t||this.renderer.placeholderNode?!t&&this.renderer.placeholderNode&&(this.renderer.placeholderNode.textContent=this.$placeholder||""):(this.renderer.on("afterRender",this.$updatePlaceholder),r.addCssClass(this.container,"ace_hasPlaceholder"),(e=r.createElement("div")).className="ace_placeholder",e.textContent=this.$placeholder||"",this.renderer.placeholderNode=e,this.renderer.content.appendChild(this.renderer.placeholderNode))}).bind(this),this.on("input",this.$updatePlaceholder)),this.$updatePlaceholder()}},hScrollBarAlwaysVisible:"renderer",vScrollBarAlwaysVisible:"renderer",highlightGutterLine:"renderer",animatedScroll:"renderer",showInvisibles:"renderer",showPrintMargin:"renderer",printMarginColumn:"renderer",printMargin:"renderer",fadeFoldWidgets:"renderer",showFoldWidgets:"renderer",displayIndentGuides:"renderer",showGutter:"renderer",fontSize:"renderer",fontFamily:"renderer",maxLines:"renderer",minLines:"renderer",scrollPastEnd:"renderer",fixedWidthGutter:"renderer",theme:"renderer",hasCssTransforms:"renderer",maxPixelHeight:"renderer",useTextareaForIME:"renderer",scrollSpeed:"$mouseHandler",dragDelay:"$mouseHandler",dragEnabled:"$mouseHandler",focusTimeout:"$mouseHandler",tooltipFollowsMouse:"$mouseHandler",firstLineNumber:"session",overwrite:"session",newLineMode:"session",useWorker:"session",useSoftTabs:"session",navigateWithinSoftTabs:"session",tabSize:"session",wrap:"session",indentedSoftWrap:"session",foldStyle:"session",mode:"session"});var w={getText:function(e,t){return(Math.abs(e.selection.lead.row-t)||t+1+(t<9?"\xb7":""))+""},getWidth:function(e,t,n){return Math.max(t.toString().length,(n.lastRow+1).toString().length,2)*n.characterWidth},update:function(e,t){t.renderer.$loop.schedule(t.renderer.CHANGE_GUTTER)},attach:function(e){e.renderer.$gutterLayer.$renderer=this,e.on("changeSelection",this.update),this.update(null,e)},detach:function(e){e.renderer.$gutterLayer.$renderer==this&&(e.renderer.$gutterLayer.$renderer=null),e.off("changeSelection",this.update),this.update(null,e)}};t.Editor=C})),ace.define("ace/undomanager",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(){this.$maxRev=0,this.$fromUndo=!1,this.reset()}(function(){this.addSession=function(e){this.$session=e},this.add=function(e,t,n){this.$fromUndo||e!=this.$lastDelta&&(this.$keepRedoStack||(this.$redoStack.length=0),!1!==t&&this.lastDeltas||(this.lastDeltas=[],this.$undoStack.push(this.lastDeltas),e.id=this.$rev=++this.$maxRev),"remove"!=e.action&&"insert"!=e.action||(this.$lastDelta=e),this.lastDeltas.push(e))},this.addSelection=function(e,t){this.selections.push({value:e,rev:t||this.$rev})},this.startNewGroup=function(){return this.lastDeltas=null,this.$rev},this.markIgnored=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=n.length;i--;){var r=n[i][0];if(r.id<=e)break;r.id<t&&(r.ignore=!0)}this.lastDeltas=null},this.getSelection=function(e,t){for(var n=this.selections,i=n.length;i--;){var r=n[i];if(r.rev<e)return t&&(r=n[i+1]),r}},this.getRevision=function(){return this.$rev},this.getDeltas=function(e,t){null==t&&(t=this.$rev+1);for(var n=this.$undoStack,i=null,r=0,o=n.length;o--;){var s=n[o][0];if(s.id<t&&!i&&(i=o+1),s.id<=e){r=o+1;break}}return n.slice(r,i)},this.getChangedRanges=function(e,t){null==t&&(t=this.$rev+1)},this.getChangedLines=function(e,t){null==t&&(t=this.$rev+1)},this.undo=function(e,t){this.lastDeltas=null;var n=this.$undoStack;if(function(e,t){for(var n=t;n--;){var i=e[n];if(i&&!i[0].ignore){for(;n<t-1;){var r=function(e,t){for(var n=e.length;n--;)for(var i=0;i<t.length;i++)if(!c(e[n],t[i])){for(;n<e.length;){for(;i--;)c(t[i],e[n]);i=t.length,n++}return[e,t]}return e.selectionBefore=t.selectionBefore=e.selectionAfter=t.selectionAfter=null,[t,e]}(e[n],e[n+1]);e[n]=r[0],e[n+1]=r[1],n++}return!0}}}(n,n.length)){e=e||this.$session,this.$redoStackBaseRev!==this.$rev&&this.$redoStack.length&&(this.$redoStack=[]),this.$fromUndo=!0;var i=n.pop(),r=null;return i&&(r=e.undoChanges(i,t),this.$redoStack.push(i),this.$syncRev()),this.$fromUndo=!1,r}},this.redo=function(e,t){var n;this.lastDeltas=null,e=e||this.$session,this.$fromUndo=!0,this.$redoStackBaseRev!=this.$rev&&(n=this.getDeltas(this.$redoStackBaseRev,this.$rev+1),function(e,t){for(var n=0;n<t.length;n++)for(var i=t[n],a=0;a<i.length;a++)!function(e,t){t=function(e){return{start:s(e.start),end:s(e.end),action:e.action,lines:e.lines.slice()}}(t);for(var n=e.length;n--;){for(var i=e[n],a=0;a<i.length;a++){var l=function(e,t){var n,i,s="insert"==e.action,a="insert"==t.action;if(s&&a)o(e.start,t.start)<0?h(t,e,1):h(e,t,1);else if(s&&!a)0<=o(e.start,t.end)?h(e,t,-1):(o(e.start,t.start)<=0||h(e,r.fromPoints(t.start,e.start),-1),h(t,e,1));else if(!s&&a)0<=o(t.start,e.end)?h(t,e,-1):(o(t.start,e.start)<=0||h(t,r.fromPoints(e.start,t.start),-1),h(e,t,1));else if(!s&&!a)if(0<=o(t.start,e.end))h(t,e,-1);else{if(!(o(t.end,e.start)<=0))return o(e.start,t.start)<0&&(e=u(n=e,t.start)),0<o(e.end,t.end)&&(i=u(e,t.end)),d(t.end,e.start,e.end,-1),i&&!n&&(e.lines=i.lines,e.start=i.start,e.end=i.end,i=e),[t,n,i].filter(Boolean);h(e,t,-1)}return[t,e]}(i[a],t);t=l[0],2!=l.length&&(l[2]?(i.splice(a+1,1,l[1],l[2]),a++):l[1]||(i.splice(a,1),a--))}i.length||e.splice(n,1)}}(e,i[a])}(this.$redoStack,n),this.$redoStackBaseRev=this.$rev,this.$redoStack.forEach((function(e){e[0].id=++this.$maxRev}),this));var i=this.$redoStack.pop(),a=null;return i&&(a=e.redoChanges(i,t),this.$undoStack.push(i),this.$syncRev()),this.$fromUndo=!1,a},this.$syncRev=function(){var e=this.$undoStack,t=e[e.length-1],n=t&&t[0].id||0;this.$redoStackBaseRev=n,this.$rev=n},this.reset=function(){this.lastDeltas=null,this.$lastDelta=null,this.$undoStack=[],this.$redoStack=[],this.$rev=0,this.mark=0,this.$redoStackBaseRev=this.$rev,this.selections=[]},this.canUndo=function(){return 0<this.$undoStack.length},this.canRedo=function(){return 0<this.$redoStack.length},this.bookmark=function(e){null==e&&(e=this.$rev),this.mark=e},this.isAtBookmark=function(){return this.$rev===this.mark},this.toJSON=function(){},this.fromJSON=function(){},this.hasUndo=this.canUndo,this.hasRedo=this.canRedo,this.isClean=this.isAtBookmark,this.markClean=this.bookmark,this.$prettyPrint=function(e){return e?a(e):a(this.$undoStack)+"\n---\n"+a(this.$redoStack)}}).call(i.prototype);var r=e("./range").Range,o=r.comparePoints;function s(e){return{row:e.row,column:e.column}}function a(e){if(e=e||this,Array.isArray(e))return e.map(a).join("\n");var t="";return e.action?(t="insert"==e.action?"+":"-",t+="["+e.lines+"]"):e.value&&(t=Array.isArray(e.value)?e.value.map(l).join("\n"):l(e.value)),e.start&&(t+=l(e)),(e.id||e.rev)&&(t+="\t("+(e.id||e.rev)+")"),t}function l(e){return e.start.row+":"+e.start.column+"=>"+e.end.row+":"+e.end.column}function c(e,t){var n="insert"==e.action,i="insert"==t.action;if(n&&i)if(0<=o(t.start,e.end))h(t,e,-1);else{if(!(o(t.start,e.start)<=0))return;h(e,t,1)}else if(n&&!i)if(0<=o(t.start,e.end))h(t,e,-1);else{if(!(o(t.end,e.start)<=0))return;h(e,t,-1)}else if(!n&&i)if(0<=o(t.start,e.start))h(t,e,1);else{if(!(o(t.start,e.start)<=0))return;h(e,t,1)}else if(!n&&!i)if(0<=o(t.start,e.start))h(t,e,1);else{if(!(o(t.end,e.start)<=0))return;h(e,t,-1)}return 1}function h(e,t,n){d(e.start,t.start,t.end,n),d(e.end,t.start,t.end,n)}function d(e,t,n,i){e.row==(1==i?t:n).row&&(e.column+=i*(n.column-t.column)),e.row+=i*(n.row-t.row)}function u(e,t){var n=e.lines,i=e.end;e.end=s(t);var r=e.end.row-e.start.row,o=n.splice(r,n.length),a=r?t.column:t.column-e.start.column;return n.push(o[0].substring(0,a)),o[0]=o[0].substr(a),{start:s(t),end:i,lines:o,action:e.action}}t.UndoManager=i})),ace.define("ace/layer/lines",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";function i(e,t){this.element=e,this.canvasHeight=t||5e5,this.element.style.height=2*this.canvasHeight+"px",this.cells=[],this.cellCache=[],this.$offsetCoefficient=0}var r=e("../lib/dom");(function(){this.moveContainer=function(e){r.translate(this.element,0,-e.firstRowScreen*e.lineHeight%this.canvasHeight-e.offset*this.$offsetCoefficient)},this.pageChanged=function(e,t){return Math.floor(e.firstRowScreen*e.lineHeight/this.canvasHeight)!==Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight)},this.computeLineTop=function(e,t,n){var i=Math.floor(t.firstRowScreen*t.lineHeight/this.canvasHeight);return n.documentToScreenRow(e,0)*t.lineHeight-i*this.canvasHeight},this.computeLineHeight=function(e,t,n){return t.lineHeight*n.getRowLineCount(e)},this.getLength=function(){return this.cells.length},this.get=function(e){return this.cells[e]},this.shift=function(){this.$cacheCell(this.cells.shift())},this.pop=function(){this.$cacheCell(this.cells.pop())},this.push=function(e){if(Array.isArray(e)){this.cells.push.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.appendChild(t)}else this.cells.push(e),this.element.appendChild(e.element)},this.unshift=function(e){if(Array.isArray(e)){this.cells.unshift.apply(this.cells,e);for(var t=r.createFragment(this.element),n=0;n<e.length;n++)t.appendChild(e[n].element);this.element.firstChild?this.element.insertBefore(t,this.element.firstChild):this.element.appendChild(t)}else this.cells.unshift(e),this.element.insertAdjacentElement("afterbegin",e.element)},this.last=function(){return this.cells.length?this.cells[this.cells.length-1]:null},this.$cacheCell=function(e){e&&(e.element.remove(),this.cellCache.push(e))},this.createCell=function(e,t,n,i){var o,s=this.cellCache.pop();return s||(o=r.createElement("div"),i&&i(o),this.element.appendChild(o),s={element:o,text:"",row:e}),s.row=e,s}}).call(i.prototype),t.Lines=i})),ace.define("ace/layer/gutter",["require","exports","module","ace/lib/dom","ace/lib/oop","ace/lib/lang","ace/lib/event_emitter","ace/layer/lines"],(function(e,t,n){"use strict";function i(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_gutter-layer",e.appendChild(this.element),this.setShowFoldWidgets(this.$showFoldWidgets),this.gutterWidth=0,this.$annotations=[],this.$updateAnnotations=this.$updateAnnotations.bind(this),this.$lines=new l(this.element),this.$lines.$offsetCoefficient=1}var r=e("../lib/dom"),o=e("../lib/oop"),s=e("../lib/lang"),a=e("../lib/event_emitter").EventEmitter,l=e("./lines").Lines;function c(e){var t=document.createTextNode("");e.appendChild(t);var n=r.createElement("span");return e.appendChild(n),e}(function(){o.implement(this,a),this.setSession=function(e){this.session&&this.session.off("change",this.$updateAnnotations),(this.session=e)&&e.on("change",this.$updateAnnotations)},this.addGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.addGutterDecoration"),this.session.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){window.console&&console.warn&&console.warn("deprecated use session.removeGutterDecoration"),this.session.removeGutterDecoration(e,t)},this.setAnnotations=function(e){this.$annotations=[];for(var t=0;t<e.length;t++){var n=e[t],i=n.row,r=(r=this.$annotations[i])||(this.$annotations[i]={text:[]}),o=(o=n.text)?s.escapeHTML(o):n.html||"";-1===r.text.indexOf(o)&&r.text.push(o);var a=n.type;"error"==a?r.className=" ace_error":"warning"==a&&" ace_error"!=r.className?r.className=" ace_warning":"info"!=a||r.className||(r.className=" ace_info")}},this.$updateAnnotations=function(e){var t,n,i;this.$annotations.length&&(0==(n=e.end.row-(t=e.start.row))||("remove"==e.action?this.$annotations.splice(t,1+n,null):((i=new Array(1+n)).unshift(t,1),this.$annotations.splice.apply(this.$annotations,i))))},this.update=function(e){this.config=e;var t=this.session,n=e.firstRow,i=Math.min(e.lastRow+e.gutterOffset,t.getLength()-1);this.oldLastRow=i,this.config=e,this.$lines.moveContainer(e),this.$updateCursorRow();for(var r=t.getNextFoldLine(n),o=r?r.start.row:1/0,s=null,a=-1,l=n;;){if(o<l&&(o=(r=t.getNextFoldLine(l=r.end.row+1,r))?r.start.row:1/0),i<l){for(;this.$lines.getLength()>a+1;)this.$lines.pop();break}(s=this.$lines.get(++a))?s.row=l:(s=this.$lines.createCell(l,e,this.session,c),this.$lines.push(s)),this.$renderCell(s,e,r,l),l++}this._signal("afterRender"),this.$updateGutterWidth(e)},this.$updateGutterWidth=function(e){var t=this.session,n=t.gutterRenderer||this.$renderer,i=t.$firstLineNumber,r=this.$lines.last()?this.$lines.last().text:"";(this.$fixedWidth||t.$useWrapMode)&&(r=t.getLength()+i-1);var o=n?n.getWidth(t,r,e):r.toString().length*e.characterWidth,s=this.$padding||this.$computePadding();(o+=s.left+s.right)===this.gutterWidth||isNaN(o)||(this.gutterWidth=o,this.element.parentNode.style.width=this.element.style.width=Math.ceil(this.gutterWidth)+"px",this._signal("changeGutterWidth",o))},this.$updateCursorRow=function(){var e;this.$highlightGutterLine&&(e=this.session.selection.getCursor(),this.$cursorRow!==e.row&&(this.$cursorRow=e.row))},this.updateLineHighlight=function(){if(this.$highlightGutterLine){var e=this.session.selection.cursor.row;if(this.$cursorRow=e,!this.$cursorCell||this.$cursorCell.row!=e){this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ",""));var t=this.$lines.cells;this.$cursorCell=null;for(var n=0;n<t.length;n++){var i=t[n];if(i.row>=this.$cursorRow){if(i.row>this.$cursorRow){var r=this.session.getFoldLine(this.$cursorRow);if(!(0<n&&r&&r.start.row==t[n-1].row))break;i=t[n-1]}i.element.className="ace_gutter-active-line "+i.element.className,this.$cursorCell=i;break}}}}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$updateCursorRow(),this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=Math.min(e.lastRow+e.gutterOffset,this.session.getLength()-1),i=this.oldLastRow;if(this.oldLastRow=n,!t||i<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var r=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<r;r--)this.$lines.shift();if(n<i)for(r=this.session.getFoldedRowCount(n+1,i);0<r;r--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLines(e,e.firstRow,t.firstRow-1)),i<n&&this.$lines.push(this.$renderLines(e,i+1,n)),this.updateLineHighlight(),this._signal("afterRender"),this.$updateGutterWidth(e)},this.$renderLines=function(e,t,n){for(var i=[],r=t,o=this.session.getNextFoldLine(r),s=o?o.start.row:1/0;s<r&&(s=(o=this.session.getNextFoldLine(r=o.end.row+1,o))?o.start.row:1/0),!(n<r);){var a=this.$lines.createCell(r,e,this.session,c);this.$renderCell(a,e,o,r),i.push(a),r++}return i},this.$renderCell=function(e,t,n,i){var o,s=e.element,a=this.session,l=s.childNodes[0],c=s.childNodes[1],h=a.$firstLineNumber,d=a.$breakpoints,u=a.$decorations,p=a.gutterRenderer||this.$renderer,g=this.$showFoldWidgets&&a.foldWidgets,f=n?n.start.row:Number.MAX_VALUE,m="ace_gutter-cell ";this.$highlightGutterLine&&(i==this.$cursorRow||n&&i<this.$cursorRow&&f<=i&&this.$cursorRow<=n.end.row)&&(m+="ace_gutter-active-line ",this.$cursorCell!=e&&(this.$cursorCell&&(this.$cursorCell.element.className=this.$cursorCell.element.className.replace("ace_gutter-active-line ","")),this.$cursorCell=e)),d[i]&&(m+=d[i]),u[i]&&(m+=u[i]),this.$annotations[i]&&(m+=this.$annotations[i].className),s.className!=m&&(s.className=m),!g||null==(o=g[i])&&(o=g[i]=a.getFoldWidget(i)),o?(m="ace_fold-widget ace_"+o,c.className!=(m+="start"==o&&i==f&&i<n.end.row?" ace_closed":" ace_open")&&(c.className=m),r.setStyle(c.style,"height",t.lineHeight+"px"),r.setStyle(c.style,"display","inline-block")):c&&r.setStyle(c.style,"display","none");var v=(p?p.getText(a,i):i+h).toString();return v!==l.data&&(l.data=v),r.setStyle(e.element.style,"height",this.$lines.computeLineHeight(i,t,a)+"px"),r.setStyle(e.element.style,"top",this.$lines.computeLineTop(i,t,a)+"px"),e.text=v,e},this.$fixedWidth=!1,this.$highlightGutterLine=!0,this.$renderer="",this.setHighlightGutterLine=function(e){this.$highlightGutterLine=e},this.$showLineNumbers=!0,this.$renderer="",this.setShowLineNumbers=function(e){this.$renderer=!e&&{getWidth:function(){return 0},getText:function(){return""}}},this.getShowLineNumbers=function(){return this.$showLineNumbers},this.$showFoldWidgets=!0,this.setShowFoldWidgets=function(e){e?r.addCssClass(this.element,"ace_folding-enabled"):r.removeCssClass(this.element,"ace_folding-enabled"),this.$showFoldWidgets=e,this.$padding=null},this.getShowFoldWidgets=function(){return this.$showFoldWidgets},this.$computePadding=function(){if(!this.element.firstChild)return{left:0,right:0};var e=r.computedStyle(this.element.firstChild);return this.$padding={},this.$padding.left=(parseInt(e.borderLeftWidth)||0)+(parseInt(e.paddingLeft)||0)+1,this.$padding.right=(parseInt(e.borderRightWidth)||0)+(parseInt(e.paddingRight)||0),this.$padding},this.getRegion=function(e){var t=this.$padding||this.$computePadding(),n=this.element.getBoundingClientRect();return e.x<t.left+n.left?"markers":this.$showFoldWidgets&&e.x>n.right-t.right?"foldWidgets":void 0}}).call(i.prototype),t.Gutter=i})),ace.define("ace/layer/marker",["require","exports","module","ace/range","ace/lib/dom"],(function(e,t,n){"use strict";function i(e){this.element=o.createElement("div"),this.element.className="ace_layer ace_marker-layer",e.appendChild(this.element)}var r=e("../range").Range,o=e("../lib/dom");(function(){this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setMarkers=function(e){this.markers=e},this.elt=function(e,t){var n=-1!=this.i&&this.element.childNodes[this.i];n?this.i++:(n=document.createElement("div"),this.element.appendChild(n),this.i=-1),n.style.cssText=t,n.className=e},this.update=function(e){if(e){var t,n;for(n in this.config=e,this.i=0,this.markers){var i,r,o=this.markers[n];o.range?(r=o.range.clipRows(e.firstRow,e.lastRow)).isEmpty()||(r=r.toScreenRange(this.session),o.renderer?(i=this.$getTop(r.start.row,e),o.renderer(t,r,this.$padding+r.start.column*e.characterWidth,i,e)):"fullLine"==o.type?this.drawFullLineMarker(t,r,o.clazz,e):"screenLine"==o.type?this.drawScreenLineMarker(t,r,o.clazz,e):r.isMultiLine()?"text"==o.type?this.drawTextMarker(t,r,o.clazz,e):this.drawMultiLineMarker(t,r,o.clazz,e):this.drawSingleLineMarker(t,r,o.clazz+" ace_start ace_br15",e)):o.update(t,this,this.session,e)}if(-1!=this.i)for(;this.i<this.element.childElementCount;)this.element.removeChild(this.element.lastChild)}},this.$getTop=function(e,t){return(e-t.firstRowScreen)*t.lineHeight},this.drawTextMarker=function(e,t,n,i,o){for(var s,a=this.session,l=t.start.row,c=t.end.row,h=l,d=0,u=a.getScreenLastRowColumn(h),p=new r(h,t.start.column,h,d);h<=c;h++)p.start.row=p.end.row=h,p.start.column=h==l?t.start.column:a.getRowWrapIndent(h),s=d,d=p.end.column=u,u=h+1<c?a.getScreenLastRowColumn(h+1):h==c?0:t.end.column,this.drawSingleLineMarker(e,p,n+(h==l?" ace_start":"")+" ace_br"+((h==l||h==l+1&&t.start.column?1:0)|(s<d?2:0)|(u<d?4:0)|(h==c?8:0)),i,h==c?0:1,o)},this.drawMultiLineMarker=function(e,t,n,i,r){var o,s,a=this.$padding,l=i.lineHeight,c=this.$getTop(t.start.row,i),h=a+t.start.column*i.characterWidth;r=r||"",this.session.$bidiHandler.isBidiRow(t.start.row)?((o=t.clone()).end.row=o.start.row,o.end.column=this.session.getLine(o.start.row).length,this.drawBidiSingleLineMarker(e,o,n+" ace_br1 ace_start",i,null,r)):this.elt(n+" ace_br1 ace_start","height:"+l+"px;right:0;top:"+c+"px;left:"+h+"px;"+(r||"")),this.session.$bidiHandler.isBidiRow(t.end.row)?((o=t.clone()).start.row=o.end.row,o.start.column=0,this.drawBidiSingleLineMarker(e,o,n+" ace_br12",i,null,r)):(c=this.$getTop(t.end.row,i),this.elt(n+" ace_br12","height:"+l+"px;width:"+t.end.column*i.characterWidth+"px;top:"+c+"px;left:"+a+"px;"+(r||""))),(l=(t.end.row-t.start.row-1)*i.lineHeight)<=0||(c=this.$getTop(t.start.row+1,i),this.elt(n+((s=(t.start.column?1:0)|(t.end.column?0:8))?" ace_br"+s:""),"height:"+l+"px;right:0;top:"+c+"px;left:"+a+"px;"+(r||"")))},this.drawSingleLineMarker=function(e,t,n,i,r,o){if(this.session.$bidiHandler.isBidiRow(t.start.row))return this.drawBidiSingleLineMarker(e,t,n,i,r,o);var s=i.lineHeight,a=(t.end.column+(r||0)-t.start.column)*i.characterWidth,l=this.$getTop(t.start.row,i);this.elt(n,"height:"+s+"px;width:"+a+"px;top:"+l+"px;left:"+(this.$padding+t.start.column*i.characterWidth)+"px;"+(o||""))},this.drawBidiSingleLineMarker=function(e,t,n,i,r,o){var s=i.lineHeight,a=this.$getTop(t.start.row,i),l=this.$padding;this.session.$bidiHandler.getSelections(t.start.column,t.end.column).forEach((function(e){this.elt(n,"height:"+s+"px;width:"+e.width+(r||0)+"px;top:"+a+"px;left:"+(l+e.left)+"px;"+(o||""))}),this)},this.drawFullLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i),s=i.lineHeight;t.start.row!=t.end.row&&(s+=this.$getTop(t.end.row,i)-o),this.elt(n,"height:"+s+"px;top:"+o+"px;left:0;right:0;"+(r||""))},this.drawScreenLineMarker=function(e,t,n,i,r){var o=this.$getTop(t.start.row,i);this.elt(n,"height:"+i.lineHeight+"px;top:"+o+"px;left:0;right:0;"+(r||""))}}).call(i.prototype),t.Marker=i})),ace.define("ace/layer/text",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/layer/lines","ace/lib/event_emitter"],(function(e,t,n){"use strict";function i(e){this.dom=o,this.element=this.dom.createElement("div"),this.element.className="ace_layer ace_text-layer",e.appendChild(this.element),this.$updateEolChar=this.$updateEolChar.bind(this),this.$lines=new a(this.element)}var r=e("../lib/oop"),o=e("../lib/dom"),s=e("../lib/lang"),a=e("./lines").Lines,l=e("../lib/event_emitter").EventEmitter;(function(){r.implement(this,l),this.EOF_CHAR="\xb6",this.EOL_CHAR_LF="\xac",this.EOL_CHAR_CRLF="\xa4",this.EOL_CHAR=this.EOL_CHAR_LF,this.TAB_CHAR="\u2014",this.SPACE_CHAR="\xb7",this.$padding=0,this.MAX_LINE_LENGTH=1e4,this.$updateEolChar=function(){var e=this.session.doc,t="\n"==e.getNewLineCharacter()&&"windows"!=e.getNewLineMode()?this.EOL_CHAR_LF:this.EOL_CHAR_CRLF;if(this.EOL_CHAR!=t)return this.EOL_CHAR=t,!0},this.setPadding=function(e){this.$padding=e,this.element.style.margin="0 "+e+"px"},this.getLineHeight=function(){return this.$fontMetrics.$characterSize.height||0},this.getCharacterWidth=function(){return this.$fontMetrics.$characterSize.width||0},this.$setFontMetrics=function(e){this.$fontMetrics=e,this.$fontMetrics.on("changeCharacterSize",(function(e){this._signal("changeCharacterSize",e)}).bind(this)),this.$pollSizeChanges()},this.checkForSizeChanges=function(){this.$fontMetrics.checkForSizeChanges()},this.$pollSizeChanges=function(){return this.$pollSizeChangesTimer=this.$fontMetrics.$pollSizeChanges()},this.setSession=function(e){(this.session=e)&&this.$computeTabString()},this.showInvisibles=!1,this.showSpaces=!1,this.showTabs=!1,this.showEOL=!1,this.setShowInvisibles=function(e){return this.showInvisibles!=e&&("string"==typeof(this.showInvisibles=e)?(this.showSpaces=/tab/i.test(e),this.showTabs=/space/i.test(e),this.showEOL=/eol/i.test(e)):this.showSpaces=this.showTabs=this.showEOL=e,this.$computeTabString(),!0)},this.displayIndentGuides=!0,this.setDisplayIndentGuides=function(e){return this.displayIndentGuides!=e&&(this.displayIndentGuides=e,this.$computeTabString(),!0)},this.$tabStrings=[],this.onChangeTabSize=this.$computeTabString=function(){var e=this.session.getTabSize();this.tabSize=e;for(var t,n,i,r,o,a,l=this.$tabStrings=[0],c=1;c<e+1;c++)this.showTabs?((a=this.dom.createElement("span")).className="ace_invisible ace_invisible_tab",a.textContent=s.stringRepeat(this.TAB_CHAR,c),l.push(a)):l.push(this.dom.createTextNode(s.stringRepeat(" ",c),this.element));this.displayIndentGuides&&(this.$indentGuideRe=/\s\S| \t|\t |\s$/,t="ace_indent-guide",n=this.showSpaces?" ace_invisible ace_invisible_space":"",i=s.stringRepeat(this.showSpaces?this.SPACE_CHAR:" ",this.tabSize),r=this.showTabs?" ace_invisible ace_invisible_tab":"",o=this.showTabs?s.stringRepeat(this.TAB_CHAR,this.tabSize):i,(a=this.dom.createElement("span")).className=t+n,a.textContent=i,this.$tabStrings[" "]=a,(a=this.dom.createElement("span")).className=t+r,a.textContent=o,this.$tabStrings["\t"]=a)},this.updateLines=function(e,t,n){if(this.config.lastRow!=e.lastRow||this.config.firstRow!=e.firstRow)return this.update(e);this.config=e;for(var i=Math.max(t,e.firstRow),r=Math.min(n,e.lastRow),o=this.element.childNodes,s=0,a=e.firstRow;a<i;a++){if(l=this.session.getFoldLine(a)){if(l.containsRow(i)){i=l.start.row;break}a=l.end.row}s++}for(var l,c=!1,h=(l=this.session.getNextFoldLine(a=i))?l.start.row:1/0;h<a&&(h=(l=this.session.getNextFoldLine(a=l.end.row+1,l))?l.start.row:1/0),!(r<a);){var d,u=o[s++];u&&(this.dom.removeChildren(u),this.$renderLine(u,a,a==h&&l),c&&(u.style.top=this.$lines.computeLineTop(a,e,this.session)+"px"),d=e.lineHeight*this.session.getRowLength(a)+"px",u.style.height!=d&&(c=!0,u.style.height=d)),a++}if(c)for(;s<this.$lines.cells.length;){var p=this.$lines.cells[s++];p.element.style.top=this.$lines.computeLineTop(p.row,e,this.session)+"px"}},this.scrollLines=function(e){var t=this.config;if(this.config=e,this.$lines.pageChanged(t,e))return this.update(e);this.$lines.moveContainer(e);var n=e.lastRow;if(!t||(t?t.lastRow:-1)<e.firstRow)return this.update(e);if(n<t.firstRow)return this.update(e);if(!t||t.lastRow<e.firstRow)return this.update(e);if(e.lastRow<t.firstRow)return this.update(e);if(t.firstRow<e.firstRow)for(var i=this.session.getFoldedRowCount(t.firstRow,e.firstRow-1);0<i;i--)this.$lines.shift();if(t.lastRow>e.lastRow)for(i=this.session.getFoldedRowCount(e.lastRow+1,t.lastRow);0<i;i--)this.$lines.pop();e.firstRow<t.firstRow&&this.$lines.unshift(this.$renderLinesFragment(e,e.firstRow,t.firstRow-1)),e.lastRow>t.lastRow&&this.$lines.push(this.$renderLinesFragment(e,t.lastRow+1,e.lastRow))},this.$renderLinesFragment=function(e,t,n){for(var i=[],r=t,s=this.session.getNextFoldLine(r),a=s?s.start.row:1/0;a<r&&(a=(s=this.session.getNextFoldLine(r=s.end.row+1,s))?s.start.row:1/0),!(n<r);){var l=this.$lines.createCell(r,e,this.session),c=l.element;this.dom.removeChildren(c),o.setStyle(c.style,"height",this.$lines.computeLineHeight(r,e,this.session)+"px"),o.setStyle(c.style,"top",this.$lines.computeLineTop(r,e,this.session)+"px"),this.$renderLine(c,r,r==a&&s),c.className=this.$useLineGroups()?"ace_line_group":"ace_line",i.push(l),r++}return i},this.update=function(e){this.$lines.moveContainer(e);for(var t=(this.config=e).firstRow,n=e.lastRow,i=this.$lines;i.getLength();)i.pop();i.push(this.$renderLinesFragment(e,t,n))},this.$textToken={text:!0,rparen:!0,lparen:!0},this.$renderToken=function(e,t,n,i){for(var r,o,a=this,l=/(\t)|( +)|([\x00-\x1f\x80-\xa0\xad\u1680\u180E\u2000-\u200f\u2028\u2029\u202F\u205F\uFEFF\uFFF9-\uFFFC]+)|(\u3000)|([\u1100-\u115F\u11A3-\u11A7\u11FA-\u11FF\u2329-\u232A\u2E80-\u2E99\u2E9B-\u2EF3\u2F00-\u2FD5\u2FF0-\u2FFB\u3001-\u303E\u3041-\u3096\u3099-\u30FF\u3105-\u312D\u3131-\u318E\u3190-\u31BA\u31C0-\u31E3\u31F0-\u321E\u3220-\u3247\u3250-\u32FE\u3300-\u4DBF\u4E00-\uA48C\uA490-\uA4C6\uA960-\uA97C\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFAFF\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE66\uFE68-\uFE6B\uFF01-\uFF60\uFFE0-\uFFE6]|[\uD800-\uDBFF][\uDC00-\uDFFF])/g,c=this.dom.createFragment(this.element),h=0;r=l.exec(i);){var d,u,p,g=r[1],f=r[2],m=r[3],v=r[4],y=r[5];!a.showSpaces&&f||(d=h!=r.index?i.slice(h,r.index):"",h=r.index+r[0].length,d&&c.appendChild(this.dom.createTextNode(d,this.element)),g?(u=a.session.getScreenTabSize(t+r.index),c.appendChild(a.$tabStrings[u].cloneNode(!0)),t+=u-1):f?a.showSpaces?((p=this.dom.createElement("span")).className="ace_invisible ace_invisible_space",p.textContent=s.stringRepeat(a.SPACE_CHAR,f.length),c.appendChild(p)):c.appendChild(this.com.createTextNode(f,this.element)):m?((p=this.dom.createElement("span")).className="ace_invisible ace_invisible_space ace_invalid",p.textContent=s.stringRepeat(a.SPACE_CHAR,m.length),c.appendChild(p)):v?(t+=1,(p=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",p.className=a.showSpaces?"ace_cjk ace_invisible ace_invisible_space":"ace_cjk",p.textContent=a.showSpaces?a.SPACE_CHAR:v,c.appendChild(p)):y&&(t+=1,(p=this.dom.createElement("span")).style.width=2*a.config.characterWidth+"px",p.className="ace_cjk",p.textContent=y,c.appendChild(p)))}return c.appendChild(this.dom.createTextNode(h?i.slice(h):i,this.element)),this.$textToken[n.type]?e.appendChild(c):(o="ace_"+n.type.replace(/\./g," ace_"),p=this.dom.createElement("span"),"fold"==n.type&&(p.style.width=n.value.length*this.config.characterWidth+"px"),p.className=o,p.appendChild(c),e.appendChild(p)),t+i.length},this.renderIndentGuide=function(e,t,n){var i=t.search(this.$indentGuideRe);if(i<=0||n<=i)return t;if(" "==t[0]){for(var r=(i-=i%this.tabSize)/this.tabSize,o=0;o<r;o++)e.appendChild(this.$tabStrings[" "].cloneNode(!0));return t.substr(i)}if("\t"!=t[0])return t;for(o=0;o<i;o++)e.appendChild(this.$tabStrings["\t"].cloneNode(!0));return t.substr(i)},this.$createLineElement=function(e){var t=this.dom.createElement("div");return t.className="ace_line",t.style.height=this.config.lineHeight+"px",t},this.$renderWrappedLine=function(e,t,n){var i=0,r=0,o=n[0],a=0,l=this.$createLineElement();e.appendChild(l);for(var c=0;c<t.length;c++){var h=t[c],d=h.value;if(0==c&&this.displayIndentGuides){if(i=d.length,!(d=this.renderIndentGuide(l,d,o)))continue;i-=d.length}if(i+d.length<o)a=this.$renderToken(l,a,h,d),i+=d.length;else{for(;i+d.length>=o;)a=this.$renderToken(l,a,h,d.substring(0,o-i)),d=d.substring(o-i),i=o,l=this.$createLineElement(),e.appendChild(l),l.appendChild(this.dom.createTextNode(s.stringRepeat("\xa0",n.indent),this.element)),a=0,o=n[++r]||Number.MAX_VALUE;0!=d.length&&(i+=d.length,a=this.$renderToken(l,a,h,d))}}n[n.length-1]>this.MAX_LINE_LENGTH&&this.$renderOverflowMessage(l,a,null,"",!0)},this.$renderSimpleLine=function(e,t){var n=0,i=t[0],r=i.value;this.displayIndentGuides&&(r=this.renderIndentGuide(e,r)),r&&(n=this.$renderToken(e,n,i,r));for(var o=1;o<t.length;o++){if(n+(r=(i=t[o]).value).length>this.MAX_LINE_LENGTH)return this.$renderOverflowMessage(e,n,i,r);n=this.$renderToken(e,n,i,r)}},this.$renderOverflowMessage=function(e,t,n,i,r){n&&this.$renderToken(e,t,n,i.slice(0,this.MAX_LINE_LENGTH-t));var o=this.dom.createElement("span");o.className="ace_inline_button ace_keyword ace_toggle_wrap",o.textContent=r?"<hide>":"<click to see more...>",e.appendChild(o)},this.$renderLine=function(e,t,n){var i;n||0==n||(n=this.session.getFoldLine(t));var r,o,s=e;(i=n?this.$getFoldLineTokens(t,n):this.session.getTokens(t)).length?(r=this.session.getRowSplitData(t))&&r.length?(this.$renderWrappedLine(e,i,r),s=e.lastChild):(s=e,this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.$renderSimpleLine(s,i)):this.$useLineGroups()&&(s=this.$createLineElement(),e.appendChild(s)),this.showEOL&&s&&(n&&(t=n.end.row),(o=this.dom.createElement("span")).className="ace_invisible ace_invisible_eol",o.textContent=t==this.session.getLength()-1?this.EOF_CHAR:this.EOL_CHAR,s.appendChild(o))},this.$getFoldLineTokens=function(e,t){var n=this.session,i=[],r=n.getTokens(e);return t.walk((function(e,t,o,s,a){null!=e?i.push({type:"fold",value:e}):(a&&(r=n.getTokens(t)),r.length&&function(e,t,n){for(var r,o=0,s=0;s+e[o].value.length<t;)if(s+=e[o].value.length,++o==e.length)return;for(s!=t&&((r=e[o].value.substring(t-s)).length>n-t&&(r=r.substring(0,n-t)),i.push({type:e[o].type,value:r}),s=t+r.length,o+=1);s<n&&o<e.length;)(r=e[o].value).length+s>n?i.push({type:e[o].type,value:r.substring(0,n-s)}):i.push(e[o]),s+=r.length,o+=1}(r,s,o))}),t.end.row,this.session.getLine(t.end.row).length),i},this.$useLineGroups=function(){return this.session.getUseWrapMode()},this.destroy=function(){}}).call(i.prototype),t.Text=i})),ace.define("ace/layer/cursor",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";function i(e){this.element=r.createElement("div"),this.element.className="ace_layer ace_cursor-layer",e.appendChild(this.element),this.isVisible=!1,this.isBlinking=!0,this.blinkInterval=1e3,this.smoothBlinking=!1,this.cursors=[],this.cursor=this.addCursor(),r.addCssClass(this.element,"ace_hidden-cursors"),this.$updateCursors=this.$updateOpacity.bind(this)}var r=e("../lib/dom");(function(){this.$updateOpacity=function(e){for(var t=this.cursors,n=t.length;n--;)r.setStyle(t[n].style,"opacity",e?"":"0")},this.$startCssAnimation=function(){for(var e=this.cursors,t=e.length;t--;)e[t].style.animationDuration=this.blinkInterval+"ms";setTimeout((function(){r.addCssClass(this.element,"ace_animate-blinking")}).bind(this))},this.$stopCssAnimation=function(){r.removeCssClass(this.element,"ace_animate-blinking")},this.$padding=0,this.setPadding=function(e){this.$padding=e},this.setSession=function(e){this.session=e},this.setBlinking=function(e){e!=this.isBlinking&&(this.isBlinking=e,this.restartTimer())},this.setBlinkInterval=function(e){e!=this.blinkInterval&&(this.blinkInterval=e,this.restartTimer())},this.setSmoothBlinking=function(e){e!=this.smoothBlinking&&(this.smoothBlinking=e,r.setCssClass(this.element,"ace_smooth-blinking",e),this.$updateCursors(!0),this.restartTimer())},this.addCursor=function(){var e=r.createElement("div");return e.className="ace_cursor",this.element.appendChild(e),this.cursors.push(e),e},this.removeCursor=function(){if(1<this.cursors.length){var e=this.cursors.pop();return e.parentNode.removeChild(e),e}},this.hideCursor=function(){this.isVisible=!1,r.addCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.showCursor=function(){this.isVisible=!0,r.removeCssClass(this.element,"ace_hidden-cursors"),this.restartTimer()},this.restartTimer=function(){var e,t=this.$updateCursors;clearInterval(this.intervalId),clearTimeout(this.timeoutId),this.$stopCssAnimation(),this.smoothBlinking&&r.removeCssClass(this.element,"ace_smooth-blinking"),t(!0),this.isBlinking&&this.blinkInterval&&this.isVisible?(this.smoothBlinking&&setTimeout((function(){r.addCssClass(this.element,"ace_smooth-blinking")}).bind(this)),r.HAS_CSS_ANIMATION?this.$startCssAnimation():(e=(function(){this.timeoutId=setTimeout((function(){t(!1)}),.6*this.blinkInterval)}).bind(this),this.intervalId=setInterval((function(){t(!0),e()}),this.blinkInterval),e())):this.$stopCssAnimation()},this.getPixelPosition=function(e,t){if(!this.config||!this.session)return{left:0,top:0};e=e||this.session.selection.getCursor();var n=this.session.documentToScreenPosition(e);return{left:this.$padding+(this.session.$bidiHandler.isBidiRow(n.row,e.row)?this.session.$bidiHandler.getPosLeft(n.column):n.column*this.config.characterWidth),top:(n.row-(t?this.config.firstRowScreen:0))*this.config.lineHeight}},this.isCursorInView=function(e,t){return 0<=e.top&&e.top<t.maxHeight},this.update=function(e){this.config=e;var t=this.session.$selectionMarkers,n=0,i=0;void 0!==t&&0!==t.length||(t=[{cursor:null}]),n=0;for(var o=t.length;n<o;n++){var s,a,l=this.getPixelPosition(t[n].cursor,!0);(l.top>e.height+e.offset||l.top<0)&&1<n||(a=(s=this.cursors[i++]||this.addCursor()).style,this.drawCursor?this.drawCursor(s,l,e,t[n],this.session):this.isCursorInView(l,e)?(r.setStyle(a,"display","block"),r.translate(s,l.left,l.top),r.setStyle(a,"width",Math.round(e.characterWidth)+"px"),r.setStyle(a,"height",e.lineHeight+"px")):r.setStyle(a,"display","none"))}for(;this.cursors.length>i;)this.removeCursor();var c=this.session.getOverwrite();this.$setOverwrite(c),this.$pixelPos=l,this.restartTimer()},this.drawCursor=null,this.$setOverwrite=function(e){e!=this.overwrite&&((this.overwrite=e)?r.addCssClass(this.element,"ace_overwrite-cursors"):r.removeCssClass(this.element,"ace_overwrite-cursors"))},this.destroy=function(){clearInterval(this.intervalId),clearTimeout(this.timeoutId)}}).call(i.prototype),t.Cursor=i})),ace.define("ace/scrollbar",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/event","ace/lib/event_emitter"],(function(e,t,n){"use strict";function i(e){this.element=o.createElement("div"),this.element.className="ace_scrollbar ace_scrollbar"+this.classSuffix,this.inner=o.createElement("div"),this.inner.className="ace_scrollbar-inner",this.inner.textContent="\xa0",this.element.appendChild(this.inner),e.appendChild(this.element),this.setVisible(!1),this.skipEvent=!1,s.addListener(this.element,"scroll",this.onScroll.bind(this)),s.addListener(this.element,"mousedown",s.preventDefault)}var r=e("./lib/oop"),o=e("./lib/dom"),s=e("./lib/event"),a=e("./lib/event_emitter").EventEmitter;function l(e,t){i.call(this,e),this.scrollTop=0,this.scrollHeight=0,t.$scrollbarWidth=this.width=o.scrollbarWidth(e.ownerDocument),this.inner.style.width=this.element.style.width=(this.width||15)+5+"px",this.$minWidth=0}function c(e,t){i.call(this,e),this.scrollLeft=0,this.height=t.$scrollbarWidth,this.inner.style.height=this.element.style.height=(this.height||15)+5+"px"}(function(){r.implement(this,a),this.setVisible=function(e){this.element.style.display=e?"":"none",this.isVisible=e,this.coeff=1}}).call(i.prototype),r.inherits(l,i),(function(){this.classSuffix="-v",this.onScroll=function(){var e;this.skipEvent||(this.scrollTop=this.element.scrollTop,1!=this.coeff&&(this.scrollTop=this.scrollTop*(1-(e=this.element.clientHeight/this.scrollHeight))/(this.coeff-e)),this._emit("scroll",{data:this.scrollTop})),this.skipEvent=!1},this.getWidth=function(){return Math.max(this.isVisible?this.width:0,this.$minWidth||0)},this.setHeight=function(e){this.element.style.height=e+"px"},this.setInnerHeight=this.setScrollHeight=function(e){32768<(this.scrollHeight=e)?(this.coeff=32768/e,e=32768):1!=this.coeff&&(this.coeff=1),this.inner.style.height=e+"px"},this.setScrollTop=function(e){this.scrollTop!=e&&(this.skipEvent=!0,this.scrollTop=e,this.element.scrollTop=e*this.coeff)}}).call(l.prototype),r.inherits(c,i),(function(){this.classSuffix="-h",this.onScroll=function(){this.skipEvent||(this.scrollLeft=this.element.scrollLeft,this._emit("scroll",{data:this.scrollLeft})),this.skipEvent=!1},this.getHeight=function(){return this.isVisible?this.height:0},this.setWidth=function(e){this.element.style.width=e+"px"},this.setInnerWidth=function(e){this.inner.style.width=e+"px"},this.setScrollWidth=function(e){this.inner.style.width=e+"px"},this.setScrollLeft=function(e){this.scrollLeft!=e&&(this.skipEvent=!0,this.scrollLeft=this.element.scrollLeft=e)}}).call(c.prototype),t.ScrollBar=l,t.ScrollBarV=l,t.ScrollBarH=c,t.VScrollBar=l,t.HScrollBar=c})),ace.define("ace/renderloop",["require","exports","module","ace/lib/event"],(function(e,t,n){"use strict";function i(e,t){this.onRender=e,this.pending=!1,this.changes=0,this.$recursionLimit=2,this.window=t||window;var n=this;this._flush=function(e){n.pending=!1;var t=n.changes;if(t&&(r.blockIdle(100),n.changes=0,n.onRender(t)),n.changes){if(n.$recursionLimit--<0)return;n.schedule()}else n.$recursionLimit=2}}var r=e("./lib/event");(function(){this.schedule=function(e){this.changes=this.changes|e,this.changes&&!this.pending&&(r.nextFrame(this._flush),this.pending=!0)},this.clear=function(e){var t=this.changes;return this.changes=0,t}}).call(i.prototype),t.RenderLoop=i})),ace.define("ace/layer/font_metrics",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/lib/useragent","ace/lib/event_emitter"],(function(e,t,n){var i=e("../lib/oop"),r=e("../lib/dom"),o=e("../lib/lang"),s=e("../lib/event"),a=e("../lib/useragent"),l=e("../lib/event_emitter").EventEmitter,c="function"==typeof ResizeObserver,h=t.FontMetrics=function(e){this.el=r.createElement("div"),this.$setMeasureNodeStyles(this.el.style,!0),this.$main=r.createElement("div"),this.$setMeasureNodeStyles(this.$main.style),this.$measureNode=r.createElement("div"),this.$setMeasureNodeStyles(this.$measureNode.style),this.el.appendChild(this.$main),this.el.appendChild(this.$measureNode),e.appendChild(this.el),this.$measureNode.textContent=o.stringRepeat("X",256),this.$characterSize={width:0,height:0},c?this.$addObserver():this.checkForSizeChanges()};(function(){i.implement(this,l),this.$characterSize={width:0,height:0},this.$setMeasureNodeStyles=function(e,t){e.width=e.height="auto",e.left=e.top="0px",e.visibility="hidden",e.position="absolute",e.whiteSpace="pre",a.isIE<8?e["font-family"]="inherit":e.font="inherit",e.overflow=t?"hidden":"visible"},this.checkForSizeChanges=function(e){var t;void 0===e&&(e=this.$measureSizes()),!e||this.$characterSize.width===e.width&&this.$characterSize.height===e.height||(this.$measureNode.style.fontWeight="bold",t=this.$measureSizes(),this.$measureNode.style.fontWeight="",this.$characterSize=e,this.charSizes=Object.create(null),this.allowBoldFonts=t&&t.width===e.width&&t.height===e.height,this._emit("changeCharacterSize",{data:e}))},this.$addObserver=function(){var e=this;this.$observer=new window.ResizeObserver((function(t){e.checkForSizeChanges()})),this.$observer.observe(this.$measureNode)},this.$pollSizeChanges=function(){if(this.$pollSizeChangesTimer||this.$observer)return this.$pollSizeChangesTimer;var e=this;return this.$pollSizeChangesTimer=s.onIdle((function t(){e.checkForSizeChanges(),s.onIdle(t,500)}),500)},this.setPolling=function(e){e?this.$pollSizeChanges():this.$pollSizeChangesTimer&&(clearInterval(this.$pollSizeChangesTimer),this.$pollSizeChangesTimer=0)},this.$measureSizes=function(e){var t={height:(e||this.$measureNode).clientHeight,width:(e||this.$measureNode).clientWidth/256};return 0===t.width||0===t.height?null:t},this.$measureCharWidth=function(e){return this.$main.textContent=o.stringRepeat(e,256),this.$main.getBoundingClientRect().width/256},this.getCharacterWidth=function(e){var t=this.charSizes[e];return void 0===t&&(t=this.charSizes[e]=this.$measureCharWidth(e)/this.$characterSize.width),t},this.destroy=function(){clearInterval(this.$pollSizeChangesTimer),this.$observer&&this.$observer.disconnect(),this.el&&this.el.parentNode&&this.el.parentNode.removeChild(this.el)},this.$getZoom=function e(t){return t&&t.parentElement?(window.getComputedStyle(t).zoom||1)*e(t.parentElement):1},this.$initTransformMeasureNodes=function(){function e(e,t){return["div",{style:"position: absolute;top:"+e+"px;left:"+t+"px;"}]}this.els=r.buildDom([e(0,0),e(200,0),e(0,200),e(200,200)],this.el)},this.transformCoordinates=function(e,t){function n(e,t,n){var i=e[1]*t[0]-e[0]*t[1];return[(-t[1]*n[0]+t[0]*n[1])/i,(e[1]*n[0]-e[0]*n[1])/i]}function i(e,t){return[e[0]-t[0],e[1]-t[1]]}function r(e,t){return[e[0]+t[0],e[1]+t[1]]}function o(e,t){return[e*t[0],e*t[1]]}function s(e){var t=e.getBoundingClientRect();return[t.left,t.top]}e=e&&o(1/this.$getZoom(this.el),e),this.els||this.$initTransformMeasureNodes();var a=s(this.els[0]),l=s(this.els[1]),c=s(this.els[2]),h=s(this.els[3]),d=n(i(h,l),i(h,c),i(r(l,c),r(h,a))),u=o(1+d[0],i(l,a)),p=o(1+d[1],i(c,a));if(t){var g=d[0]*t[0]/200+d[1]*t[1]/200+1,f=r(o(t[0],u),o(t[1],p));return r(o(1/g/200,f),a)}var m=i(e,a),v=n(i(u,o(d[0],m)),i(p,o(d[1],m)),m);return o(200,v)}}).call(h.prototype)})),ace.define("ace/virtual_renderer",["require","exports","module","ace/lib/oop","ace/lib/dom","ace/config","ace/layer/gutter","ace/layer/marker","ace/layer/text","ace/layer/cursor","ace/scrollbar","ace/scrollbar","ace/renderloop","ace/layer/font_metrics","ace/lib/event_emitter","ace/lib/useragent"],(function(e,t,n){"use strict";var i=e("./lib/oop"),r=e("./lib/dom"),o=e("./config"),s=e("./layer/gutter").Gutter,a=e("./layer/marker").Marker,l=e("./layer/text").Text,c=e("./layer/cursor").Cursor,h=e("./scrollbar").HScrollBar,d=e("./scrollbar").VScrollBar,u=e("./renderloop").RenderLoop,p=e("./layer/font_metrics").FontMetrics,g=e("./lib/event_emitter").EventEmitter,f='.ace_br1 {border-top-left-radius    : 3px;}.ace_br2 {border-top-right-radius   : 3px;}.ace_br3 {border-top-left-radius    : 3px; border-top-right-radius:    3px;}.ace_br4 {border-bottom-right-radius: 3px;}.ace_br5 {border-top-left-radius    : 3px; border-bottom-right-radius: 3px;}.ace_br6 {border-top-right-radius   : 3px; border-bottom-right-radius: 3px;}.ace_br7 {border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px;}.ace_br8 {border-bottom-left-radius : 3px;}.ace_br9 {border-top-left-radius    : 3px; border-bottom-left-radius:  3px;}.ace_br10{border-top-right-radius   : 3px; border-bottom-left-radius:  3px;}.ace_br11{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-left-radius:  3px;}.ace_br12{border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br13{border-top-left-radius    : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br14{border-top-right-radius   : 3px; border-bottom-right-radius: 3px; border-bottom-left-radius:  3px;}.ace_br15{border-top-left-radius    : 3px; border-top-right-radius:    3px; border-bottom-right-radius: 3px; border-bottom-left-radius: 3px;}.ace_editor {position: relative;overflow: hidden;padding: 0;font: 12px/normal \'Monaco\', \'Menlo\', \'Ubuntu Mono\', \'Consolas\', \'source-code-pro\', monospace;direction: ltr;text-align: left;-webkit-tap-highlight-color: rgba(0, 0, 0, 0);}.ace_scroller {position: absolute;overflow: hidden;top: 0;bottom: 0;background-color: inherit;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;cursor: text;}.ace_content {position: absolute;box-sizing: border-box;min-width: 100%;contain: style size layout;font-variant-ligatures: no-common-ligatures;}.ace_dragging .ace_scroller:before{position: absolute;top: 0;left: 0;right: 0;bottom: 0;content: \'\';background: rgba(250, 250, 250, 0.01);z-index: 1000;}.ace_dragging.ace_dark .ace_scroller:before{background: rgba(0, 0, 0, 0.01);}.ace_selecting, .ace_selecting * {cursor: text !important;}.ace_gutter {position: absolute;overflow : hidden;width: auto;top: 0;bottom: 0;left: 0;cursor: default;z-index: 4;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;contain: style size layout;}.ace_gutter-active-line {position: absolute;left: 0;right: 0;}.ace_scroller.ace_scroll-left {box-shadow: 17px 0 16px -16px rgba(0, 0, 0, 0.4) inset;}.ace_gutter-cell {position: absolute;top: 0;left: 0;right: 0;padding-left: 19px;padding-right: 6px;background-repeat: no-repeat;}.ace_gutter-cell.ace_error {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAABOFBMVEX/////////QRswFAb/Ui4wFAYwFAYwFAaWGAfDRymzOSH/PxswFAb/SiUwFAYwFAbUPRvjQiDllog5HhHdRybsTi3/Tyv9Tir+Syj/UC3////XurebMBIwFAb/RSHbPx/gUzfdwL3kzMivKBAwFAbbvbnhPx66NhowFAYwFAaZJg8wFAaxKBDZurf/RB6mMxb/SCMwFAYwFAbxQB3+RB4wFAb/Qhy4Oh+4QifbNRcwFAYwFAYwFAb/QRzdNhgwFAYwFAbav7v/Uy7oaE68MBK5LxLewr/r2NXewLswFAaxJw4wFAbkPRy2PyYwFAaxKhLm1tMwFAazPiQwFAaUGAb/QBrfOx3bvrv/VC/maE4wFAbRPBq6MRO8Qynew8Dp2tjfwb0wFAbx6eju5+by6uns4uH9/f36+vr/GkHjAAAAYnRSTlMAGt+64rnWu/bo8eAA4InH3+DwoN7j4eLi4xP99Nfg4+b+/u9B/eDs1MD1mO7+4PHg2MXa347g7vDizMLN4eG+Pv7i5evs/v79yu7S3/DV7/498Yv24eH+4ufQ3Ozu/v7+y13sRqwAAADLSURBVHjaZc/XDsFgGIBhtDrshlitmk2IrbHFqL2pvXf/+78DPokj7+Fz9qpU/9UXJIlhmPaTaQ6QPaz0mm+5gwkgovcV6GZzd5JtCQwgsxoHOvJO15kleRLAnMgHFIESUEPmawB9ngmelTtipwwfASilxOLyiV5UVUyVAfbG0cCPHig+GBkzAENHS0AstVF6bacZIOzgLmxsHbt2OecNgJC83JERmePUYq8ARGkJx6XtFsdddBQgZE2nPR6CICZhawjA4Fb/chv+399kfR+MMMDGOQAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: 2px center;}.ace_gutter-cell.ace_warning {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAMAAAAoLQ9TAAAAmVBMVEX///8AAAD///8AAAAAAABPSzb/5sAAAAB/blH/73z/ulkAAAAAAAD85pkAAAAAAAACAgP/vGz/rkDerGbGrV7/pkQICAf////e0IsAAAD/oED/qTvhrnUAAAD/yHD/njcAAADuv2r/nz//oTj/p064oGf/zHAAAAA9Nir/tFIAAAD/tlTiuWf/tkIAAACynXEAAAAAAAAtIRW7zBpBAAAAM3RSTlMAABR1m7RXO8Ln31Z36zT+neXe5OzooRDfn+TZ4p3h2hTf4t3k3ucyrN1K5+Xaks52Sfs9CXgrAAAAjklEQVR42o3PbQ+CIBQFYEwboPhSYgoYunIqqLn6/z8uYdH8Vmdnu9vz4WwXgN/xTPRD2+sgOcZjsge/whXZgUaYYvT8QnuJaUrjrHUQreGczuEafQCO/SJTufTbroWsPgsllVhq3wJEk2jUSzX3CUEDJC84707djRc5MTAQxoLgupWRwW6UB5fS++NV8AbOZgnsC7BpEAAAAABJRU5ErkJggg==");background-position: 2px center;}.ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAAAAAA6mKC9AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAAJ0Uk5TAAB2k804AAAAPklEQVQY02NgIB68QuO3tiLznjAwpKTgNyDbMegwisCHZUETUZV0ZqOquBpXj2rtnpSJT1AEnnRmL2OgGgAAIKkRQap2htgAAAAASUVORK5CYII=");background-position: 2px center;}.ace_dark .ace_gutter-cell.ace_info {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQBAMAAADt3eJSAAAAJFBMVEUAAAChoaGAgIAqKiq+vr6tra1ZWVmUlJSbm5s8PDxubm56enrdgzg3AAAAAXRSTlMAQObYZgAAAClJREFUeNpjYMAPdsMYHegyJZFQBlsUlMFVCWUYKkAZMxZAGdxlDMQBAG+TBP4B6RyJAAAAAElFTkSuQmCC");}.ace_scrollbar {contain: strict;position: absolute;right: 0;bottom: 0;z-index: 6;}.ace_scrollbar-inner {position: absolute;cursor: text;left: 0;top: 0;}.ace_scrollbar-v{overflow-x: hidden;overflow-y: scroll;top: 0;}.ace_scrollbar-h {overflow-x: scroll;overflow-y: hidden;left: 0;}.ace_print-margin {position: absolute;height: 100%;}.ace_text-input {position: absolute;z-index: 0;width: 0.5em;height: 1em;opacity: 0;background: transparent;-moz-appearance: none;appearance: none;border: none;resize: none;outline: none;overflow: hidden;font: inherit;padding: 0 1px;margin: 0 -1px;contain: strict;-ms-user-select: text;-moz-user-select: text;-webkit-user-select: text;user-select: text;white-space: pre!important;}.ace_text-input.ace_composition {background: transparent;color: inherit;z-index: 1000;opacity: 1;}.ace_composition_placeholder { color: transparent }.ace_composition_marker { border-bottom: 1px solid;position: absolute;border-radius: 0;margin-top: 1px;}[ace_nocontext=true] {transform: none!important;filter: none!important;clip-path: none!important;mask : none!important;contain: none!important;perspective: none!important;mix-blend-mode: initial!important;z-index: auto;}.ace_layer {z-index: 1;position: absolute;overflow: hidden;word-wrap: normal;white-space: pre;height: 100%;width: 100%;box-sizing: border-box;pointer-events: none;}.ace_gutter-layer {position: relative;width: auto;text-align: right;pointer-events: auto;height: 1000000px;contain: style size layout;}.ace_text-layer {font: inherit !important;position: absolute;height: 1000000px;width: 1000000px;contain: style size layout;}.ace_text-layer > .ace_line, .ace_text-layer > .ace_line_group {contain: style size layout;position: absolute;top: 0;left: 0;right: 0;}.ace_hidpi .ace_text-layer,.ace_hidpi .ace_gutter-layer,.ace_hidpi .ace_content,.ace_hidpi .ace_gutter {contain: strict;will-change: transform;}.ace_hidpi .ace_text-layer > .ace_line, .ace_hidpi .ace_text-layer > .ace_line_group {contain: strict;}.ace_cjk {display: inline-block;text-align: center;}.ace_cursor-layer {z-index: 4;}.ace_cursor {z-index: 4;position: absolute;box-sizing: border-box;border-left: 2px solid;transform: translatez(0);}.ace_multiselect .ace_cursor {border-left-width: 1px;}.ace_slim-cursors .ace_cursor {border-left-width: 1px;}.ace_overwrite-cursors .ace_cursor {border-left-width: 0;border-bottom: 1px solid;}.ace_hidden-cursors .ace_cursor {opacity: 0.2;}.ace_hasPlaceholder .ace_hidden-cursors .ace_cursor {opacity: 0;}.ace_smooth-blinking .ace_cursor {transition: opacity 0.18s;}.ace_animate-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: step-end;animation-name: blink-ace-animate;animation-iteration-count: infinite;}.ace_animate-blinking.ace_smooth-blinking .ace_cursor {animation-duration: 1000ms;animation-timing-function: ease-in-out;animation-name: blink-ace-animate-smooth;}@keyframes blink-ace-animate {from, to { opacity: 1; }60% { opacity: 0; }}@keyframes blink-ace-animate-smooth {from, to { opacity: 1; }45% { opacity: 1; }60% { opacity: 0; }85% { opacity: 0; }}.ace_marker-layer .ace_step, .ace_marker-layer .ace_stack {position: absolute;z-index: 3;}.ace_marker-layer .ace_selection {position: absolute;z-index: 5;}.ace_marker-layer .ace_bracket {position: absolute;z-index: 6;}.ace_marker-layer .ace_error_bracket {position: absolute;border-bottom: 1px solid #DE5555;border-radius: 0;}.ace_marker-layer .ace_active-line {position: absolute;z-index: 2;}.ace_marker-layer .ace_selected-word {position: absolute;z-index: 4;box-sizing: border-box;}.ace_line .ace_fold {box-sizing: border-box;display: inline-block;height: 11px;margin-top: -2px;vertical-align: middle;background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACJJREFUeNpi+P//fxgTAwPDBxDxD078RSX+YeEyDFMCIMAAI3INmXiwf2YAAAAASUVORK5CYII=");background-repeat: no-repeat, repeat-x;background-position: center center, top left;color: transparent;border: 1px solid black;border-radius: 2px;cursor: pointer;pointer-events: auto;}.ace_dark .ace_fold {}.ace_fold:hover{background-image:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAJCAYAAADU6McMAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAJpJREFUeNpi/P//PwOlgAXGYGRklAVSokD8GmjwY1wasKljQpYACtpCFeADcHVQfQyMQAwzwAZI3wJKvCLkfKBaMSClBlR7BOQikCFGQEErIH0VqkabiGCAqwUadAzZJRxQr/0gwiXIal8zQQPnNVTgJ1TdawL0T5gBIP1MUJNhBv2HKoQHHjqNrA4WO4zY0glyNKLT2KIfIMAAQsdgGiXvgnYAAAAASUVORK5CYII="),url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAA3CAYAAADNNiA5AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAACBJREFUeNpi+P//fz4TAwPDZxDxD5X4i5fLMEwJgAADAEPVDbjNw87ZAAAAAElFTkSuQmCC");}.ace_tooltip {background-color: #FFF;background-image: linear-gradient(to bottom, transparent, rgba(0, 0, 0, 0.1));border: 1px solid gray;border-radius: 1px;box-shadow: 0 1px 2px rgba(0, 0, 0, 0.3);color: black;max-width: 100%;padding: 3px 4px;position: fixed;z-index: 999999;box-sizing: border-box;cursor: default;white-space: pre;word-wrap: break-word;line-height: normal;font-style: normal;font-weight: normal;letter-spacing: normal;pointer-events: none;}.ace_folding-enabled > .ace_gutter-cell {padding-right: 13px;}.ace_fold-widget {box-sizing: border-box;margin: 0 -12px 0 1px;display: none;width: 11px;vertical-align: top;background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42mWKsQ0AMAzC8ixLlrzQjzmBiEjp0A6WwBCSPgKAXoLkqSot7nN3yMwR7pZ32NzpKkVoDBUxKAAAAABJRU5ErkJggg==");background-repeat: no-repeat;background-position: center;border-radius: 3px;border: 1px solid transparent;cursor: pointer;}.ace_folding-enabled .ace_fold-widget {display: inline-block;   }.ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAANElEQVR42m3HwQkAMAhD0YzsRchFKI7sAikeWkrxwScEB0nh5e7KTPWimZki4tYfVbX+MNl4pyZXejUO1QAAAABJRU5ErkJggg==");}.ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAGCAYAAAAG5SQMAAAAOUlEQVR42jXKwQkAMAgDwKwqKD4EwQ26sSOkVWjgIIHAzPiCgaqiqnJHZnKICBERHN194O5b9vbLuAVRL+l0YWnZAAAAAElFTkSuQmCCXA==");}.ace_fold-widget:hover {border: 1px solid rgba(0, 0, 0, 0.3);background-color: rgba(255, 255, 255, 0.2);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.7);}.ace_fold-widget:active {border: 1px solid rgba(0, 0, 0, 0.4);background-color: rgba(0, 0, 0, 0.05);box-shadow: 0 1px 1px rgba(255, 255, 255, 0.8);}.ace_dark .ace_fold-widget {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAHklEQVQIW2P4//8/AzoGEQ7oGCaLLAhWiSwB146BAQCSTPYocqT0AAAAAElFTkSuQmCC");}.ace_dark .ace_fold-widget.ace_end {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAUAAAAFCAYAAACNbyblAAAAH0lEQVQIW2P4//8/AxQ7wNjIAjDMgC4AxjCVKBirIAAF0kz2rlhxpAAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget.ace_closed {background-image: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAMAAAAFCAYAAACAcVaiAAAAHElEQVQIW2P4//+/AxAzgDADlOOAznHAKgPWAwARji8UIDTfQQAAAABJRU5ErkJggg==");}.ace_dark .ace_fold-widget:hover {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);background-color: rgba(255, 255, 255, 0.1);}.ace_dark .ace_fold-widget:active {box-shadow: 0 1px 1px rgba(255, 255, 255, 0.2);}.ace_inline_button {border: 1px solid lightgray;display: inline-block;margin: -1px 8px;padding: 0 5px;pointer-events: auto;cursor: pointer;}.ace_inline_button:hover {border-color: gray;background: rgba(200,200,200,0.2);display: inline-block;pointer-events: auto;}.ace_fold-widget.ace_invalid {background-color: #FFB4B4;border-color: #DE5555;}.ace_fade-fold-widgets .ace_fold-widget {transition: opacity 0.4s ease 0.05s;opacity: 0;}.ace_fade-fold-widgets:hover .ace_fold-widget {transition: opacity 0.05s ease 0.05s;opacity:1;}.ace_underline {text-decoration: underline;}.ace_bold {font-weight: bold;}.ace_nobold .ace_bold {font-weight: normal;}.ace_italic {font-style: italic;}.ace_error-marker {background-color: rgba(255, 0, 0,0.2);position: absolute;z-index: 9;}.ace_highlight-marker {background-color: rgba(255, 255, 0,0.2);position: absolute;z-index: 8;}.ace_mobile-menu {position: absolute;line-height: 1.5;border-radius: 4px;-ms-user-select: none;-moz-user-select: none;-webkit-user-select: none;user-select: none;background: white;box-shadow: 1px 3px 2px grey;border: 1px solid #dcdcdc;color: black;}.ace_dark > .ace_mobile-menu {background: #333;color: #ccc;box-shadow: 1px 3px 2px grey;border: 1px solid #444;}.ace_mobile-button {padding: 2px;cursor: pointer;overflow: hidden;}.ace_mobile-button:hover {background-color: #eee;opacity:1;}.ace_mobile-button:active {background-color: #ddd;}.ace_placeholder {font-family: arial;transform: scale(0.9);transform-origin: left;white-space: pre;opacity: 0.7;margin: 0 10px;}',m=e("./lib/useragent"),v=m.isIE;function y(e,t){var n=this;this.container=e||r.createElement("div"),r.addCssClass(this.container,"ace_editor"),r.HI_DPI&&r.addCssClass(this.container,"ace_hidpi"),this.setTheme(t),this.$gutter=r.createElement("div"),this.$gutter.className="ace_gutter",this.container.appendChild(this.$gutter),this.$gutter.setAttribute("aria-hidden",!0),this.scroller=r.createElement("div"),this.scroller.className="ace_scroller",this.container.appendChild(this.scroller),this.content=r.createElement("div"),this.content.className="ace_content",this.scroller.appendChild(this.content),this.$gutterLayer=new s(this.$gutter),this.$gutterLayer.on("changeGutterWidth",this.onGutterResize.bind(this)),this.$markerBack=new a(this.content);var i=this.$textLayer=new l(this.content);this.canvas=i.element,this.$markerFront=new a(this.content),this.$cursorLayer=new c(this.content),this.$horizScroll=!1,this.$vScroll=!1,this.scrollBar=this.scrollBarV=new d(this.container,this),this.scrollBarH=new h(this.container,this),this.scrollBarV.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollTop(e.data-n.scrollMargin.top)})),this.scrollBarH.on("scroll",(function(e){n.$scrollAnimation||n.session.setScrollLeft(e.data-n.scrollMargin.left)})),this.scrollTop=0,this.scrollLeft=0,this.cursorPos={row:0,column:0},this.$fontMetrics=new p(this.container),this.$textLayer.$setFontMetrics(this.$fontMetrics),this.$textLayer.on("changeCharacterSize",(function(e){n.updateCharacterSize(),n.onResize(!0,n.gutterWidth,n.$size.width,n.$size.height),n._signal("changeCharacterSize",e)})),this.$size={width:0,height:0,scrollerHeight:0,scrollerWidth:0,$dirty:!0},this.layerConfig={width:1,padding:0,firstRow:0,firstRowScreen:0,lastRow:0,lineHeight:0,characterWidth:0,minHeight:1,maxHeight:1,offset:0,height:1,gutterOffset:1},this.scrollMargin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.margin={left:0,right:0,top:0,bottom:0,v:0,h:0},this.$keepTextAreaAtCursor=!m.isIOS,this.$loop=new u(this.$renderChanges.bind(this),this.container.ownerDocument.defaultView),this.$loop.schedule(this.CHANGE_FULL),this.updateCharacterSize(),this.setPadding(4),o.resetOptions(this),o._signal("renderer",this)}r.importCssString(f,"ace_editor.css"),(function(){this.CHANGE_CURSOR=1,this.CHANGE_MARKER=2,this.CHANGE_GUTTER=4,this.CHANGE_SCROLL=8,this.CHANGE_LINES=16,this.CHANGE_TEXT=32,this.CHANGE_SIZE=64,this.CHANGE_MARKER_BACK=128,this.CHANGE_MARKER_FRONT=256,this.CHANGE_FULL=512,this.CHANGE_H_SCROLL=1024,i.implement(this,g),this.updateCharacterSize=function(){this.$textLayer.allowBoldFonts!=this.$allowBoldFonts&&(this.$allowBoldFonts=this.$textLayer.allowBoldFonts,this.setStyle("ace_nobold",!this.$allowBoldFonts)),this.layerConfig.characterWidth=this.characterWidth=this.$textLayer.getCharacterWidth(),this.layerConfig.lineHeight=this.lineHeight=this.$textLayer.getLineHeight(),this.$updatePrintMargin(),r.setStyle(this.scroller.style,"line-height",this.lineHeight+"px")},this.setSession=function(e){this.session&&this.session.doc.off("changeNewLineMode",this.onChangeNewLineMode),(this.session=e)&&this.scrollMargin.top&&e.getScrollTop()<=0&&e.setScrollTop(-this.scrollMargin.top),this.$cursorLayer.setSession(e),this.$markerBack.setSession(e),this.$markerFront.setSession(e),this.$gutterLayer.setSession(e),this.$textLayer.setSession(e),e&&(this.$loop.schedule(this.CHANGE_FULL),this.session.$setFontMetrics(this.$fontMetrics),this.scrollBarH.scrollLeft=this.scrollBarV.scrollTop=null,this.onChangeNewLineMode=this.onChangeNewLineMode.bind(this),this.onChangeNewLineMode(),this.session.doc.on("changeNewLineMode",this.onChangeNewLineMode))},this.updateLines=function(e,t,n){if(void 0===t&&(t=1/0),this.$changedLines?(this.$changedLines.firstRow>e&&(this.$changedLines.firstRow=e),this.$changedLines.lastRow<t&&(this.$changedLines.lastRow=t)):this.$changedLines={firstRow:e,lastRow:t},this.$changedLines.lastRow<this.layerConfig.firstRow){if(!n)return;this.$changedLines.lastRow=this.layerConfig.lastRow}this.$changedLines.firstRow>this.layerConfig.lastRow||this.$loop.schedule(this.CHANGE_LINES)},this.onChangeNewLineMode=function(){this.$loop.schedule(this.CHANGE_TEXT),this.$textLayer.$updateEolChar(),this.session.$bidiHandler.setEolChar(this.$textLayer.EOL_CHAR)},this.onChangeTabSize=function(){this.$loop.schedule(this.CHANGE_TEXT|this.CHANGE_MARKER),this.$textLayer.onChangeTabSize()},this.updateText=function(){this.$loop.schedule(this.CHANGE_TEXT)},this.updateFull=function(e){e?this.$renderChanges(this.CHANGE_FULL,!0):this.$loop.schedule(this.CHANGE_FULL)},this.updateFontSize=function(){this.$textLayer.checkForSizeChanges()},this.$changes=0,this.$updateSizeAsync=function(){this.$loop.pending?this.$size.$dirty=!0:this.onResize()},this.onResize=function(e,t,n,i){if(!(2<this.resizing)){0<this.resizing?this.resizing++:this.resizing=e?1:0;var r=this.container,o=this.$updateCachedSize(e,t,n=n||r.clientWidth||r.scrollWidth,i=i||r.clientHeight||r.scrollHeight);if(!this.$size.scrollerHeight||!n&&!i)return this.resizing=0;e&&(this.$gutterLayer.$padding=null),e?this.$renderChanges(o|this.$changes,!0):this.$loop.schedule(o|this.$changes),this.resizing&&(this.resizing=0),this.scrollBarV.scrollLeft=this.scrollBarV.scrollTop=null}},this.$updateCachedSize=function(e,t,n,i){var o,s=0,a=this.$size,l={width:a.width,height:a.height,scrollerHeight:a.scrollerHeight,scrollerWidth:a.scrollerWidth};return(i-=this.$extraHeight||0)&&(e||a.height!=i)&&(a.height=i,s|=this.CHANGE_SIZE,a.scrollerHeight=a.height,this.$horizScroll&&(a.scrollerHeight-=this.scrollBarH.getHeight()),this.scrollBarV.element.style.bottom=this.scrollBarH.getHeight()+"px",s|=this.CHANGE_SCROLL),n&&(e||a.width!=n)&&(s|=this.CHANGE_SIZE,a.width=n,null==t&&(t=this.$showGutter?this.$gutter.offsetWidth:0),this.gutterWidth=t,r.setStyle(this.scrollBarH.element.style,"left",t+"px"),r.setStyle(this.scroller.style,"left",t+this.margin.left+"px"),a.scrollerWidth=Math.max(0,n-t-this.scrollBarV.getWidth()-this.margin.h),r.setStyle(this.$gutter.style,"left",this.margin.left+"px"),o=this.scrollBarV.getWidth()+"px",r.setStyle(this.scrollBarH.element.style,"right",o),r.setStyle(this.scroller.style,"right",o),r.setStyle(this.scroller.style,"bottom",this.scrollBarH.getHeight()),(this.session&&this.session.getUseWrapMode()&&this.adjustWrapLimit()||e)&&(s|=this.CHANGE_FULL)),a.$dirty=!n||!i,s&&this._signal("resize",l),s},this.onGutterResize=function(e){var t=this.$showGutter?e:0;t!=this.gutterWidth&&(this.$changes|=this.$updateCachedSize(!0,t,this.$size.width,this.$size.height)),this.session.getUseWrapMode()&&this.adjustWrapLimit()||this.$size.$dirty?this.$loop.schedule(this.CHANGE_FULL):this.$computeLayerConfig()},this.adjustWrapLimit=function(){var e=Math.floor((this.$size.scrollerWidth-2*this.$padding)/this.characterWidth);return this.session.adjustWrapLimit(e,this.$showPrintMargin&&this.$printMarginColumn)},this.setAnimatedScroll=function(e){this.setOption("animatedScroll",e)},this.getAnimatedScroll=function(){return this.$animatedScroll},this.setShowInvisibles=function(e){this.setOption("showInvisibles",e),this.session.$bidiHandler.setShowInvisibles(e)},this.getShowInvisibles=function(){return this.getOption("showInvisibles")},this.getDisplayIndentGuides=function(){return this.getOption("displayIndentGuides")},this.setDisplayIndentGuides=function(e){this.setOption("displayIndentGuides",e)},this.setShowPrintMargin=function(e){this.setOption("showPrintMargin",e)},this.getShowPrintMargin=function(){return this.getOption("showPrintMargin")},this.setPrintMarginColumn=function(e){this.setOption("printMarginColumn",e)},this.getPrintMarginColumn=function(){return this.getOption("printMarginColumn")},this.getShowGutter=function(){return this.getOption("showGutter")},this.setShowGutter=function(e){return this.setOption("showGutter",e)},this.getFadeFoldWidgets=function(){return this.getOption("fadeFoldWidgets")},this.setFadeFoldWidgets=function(e){this.setOption("fadeFoldWidgets",e)},this.setHighlightGutterLine=function(e){this.setOption("highlightGutterLine",e)},this.getHighlightGutterLine=function(){return this.getOption("highlightGutterLine")},this.$updatePrintMargin=function(){var e,t;(this.$showPrintMargin||this.$printMarginEl)&&(this.$printMarginEl||((e=r.createElement("div")).className="ace_layer ace_print-margin-layer",this.$printMarginEl=r.createElement("div"),this.$printMarginEl.className="ace_print-margin",e.appendChild(this.$printMarginEl),this.content.insertBefore(e,this.content.firstChild)),(t=this.$printMarginEl.style).left=Math.round(this.characterWidth*this.$printMarginColumn+this.$padding)+"px",t.visibility=this.$showPrintMargin?"visible":"hidden",this.session&&-1==this.session.$wrap&&this.adjustWrapLimit())},this.getContainerElement=function(){return this.container},this.getMouseEventTarget=function(){return this.scroller},this.getTextAreaContainer=function(){return this.container},this.$moveTextAreaToCursor=function(){var e,t,n,i,o,s,a,l,c;this.$isMousePressed||(e=this.textarea.style,t=this.$composition,this.$keepTextAreaAtCursor||t?(n=this.$cursorLayer.$pixelPos)&&(t&&t.markerRange&&(n=this.$cursorLayer.getPixelPosition(t.markerRange.start,!0)),o=n.top,s=n.left,a=t&&t.useTextareaForIME?this.lineHeight:v?0:1,(o-=(i=this.layerConfig).offset)<0||o>i.height-a?r.translate(this.textarea,0,0):(c=1,l=this.$size.height-a,t?t.useTextareaForIME?c=this.characterWidth*this.session.$getStringScreenWidth(this.textarea.value)[0]:o+=this.lineHeight+2:o+=this.lineHeight,(s-=this.scrollLeft)>this.$size.scrollerWidth-c&&(s=this.$size.scrollerWidth-c),s+=this.gutterWidth+this.margin.left,r.setStyle(e,"height",a+"px"),r.setStyle(e,"width",c+"px"),r.translate(this.textarea,Math.min(s,this.$size.scrollerWidth-c),Math.min(o,l)))):r.translate(this.textarea,-100,0))},this.getFirstVisibleRow=function(){return this.layerConfig.firstRow},this.getFirstFullyVisibleRow=function(){return this.layerConfig.firstRow+(0===this.layerConfig.offset?0:1)},this.getLastFullyVisibleRow=function(){var e=this.layerConfig,t=e.lastRow;return this.session.documentToScreenRow(t,0)*e.lineHeight-this.session.getScrollTop()>e.height-e.lineHeight?t-1:t},this.getLastVisibleRow=function(){return this.layerConfig.lastRow},this.$padding=null,this.setPadding=function(e){this.$padding=e,this.$textLayer.setPadding(e),this.$cursorLayer.setPadding(e),this.$markerFront.setPadding(e),this.$markerBack.setPadding(e),this.$loop.schedule(this.CHANGE_FULL),this.$updatePrintMargin()},this.setScrollMargin=function(e,t,n,i){var r=this.scrollMargin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,r.top&&this.scrollTop<=0&&this.session&&this.session.setScrollTop(-r.top),this.updateFull()},this.setMargin=function(e,t,n,i){var r=this.margin;r.top=0|e,r.bottom=0|t,r.right=0|i,r.left=0|n,r.v=r.top+r.bottom,r.h=r.left+r.right,this.$updateCachedSize(!0,this.gutterWidth,this.$size.width,this.$size.height),this.updateFull()},this.getHScrollBarAlwaysVisible=function(){return this.$hScrollBarAlwaysVisible},this.setHScrollBarAlwaysVisible=function(e){this.setOption("hScrollBarAlwaysVisible",e)},this.getVScrollBarAlwaysVisible=function(){return this.$vScrollBarAlwaysVisible},this.setVScrollBarAlwaysVisible=function(e){this.setOption("vScrollBarAlwaysVisible",e)},this.$updateScrollBarV=function(){var e=this.layerConfig.maxHeight,t=this.$size.scrollerHeight;!this.$maxLines&&this.$scrollPastEnd&&this.scrollTop>(e-=(t-this.lineHeight)*this.$scrollPastEnd)-t&&(e=this.scrollTop+t,this.scrollBarV.scrollTop=null),this.scrollBarV.setScrollHeight(e+this.scrollMargin.v),this.scrollBarV.setScrollTop(this.scrollTop+this.scrollMargin.top)},this.$updateScrollBarH=function(){this.scrollBarH.setScrollWidth(this.layerConfig.width+2*this.$padding+this.scrollMargin.h),this.scrollBarH.setScrollLeft(this.scrollLeft+this.scrollMargin.left)},this.$frozen=!1,this.freeze=function(){this.$frozen=!0},this.unfreeze=function(){this.$frozen=!1},this.$renderChanges=function(e,t){if(this.$changes&&(e|=this.$changes,this.$changes=0),this.session&&this.container.offsetWidth&&!this.$frozen&&(e||t)){if(this.$size.$dirty)return this.$changes|=e,this.onResize(!0);this.lineHeight||this.$textLayer.checkForSizeChanges(),this._signal("beforeRender",e),this.session&&this.session.$bidiHandler&&this.session.$bidiHandler.updateCharacterWidths(this.$fontMetrics);var n,i,o=this.layerConfig;if((e&this.CHANGE_FULL||e&this.CHANGE_SIZE||e&this.CHANGE_TEXT||e&this.CHANGE_LINES||e&this.CHANGE_SCROLL||e&this.CHANGE_H_SCROLL)&&(e|=this.$computeLayerConfig()|this.$loop.clear(),o.firstRow==this.layerConfig.firstRow||o.firstRowScreen!=this.layerConfig.firstRowScreen||0<(n=this.scrollTop+(o.firstRow-this.layerConfig.firstRow)*this.lineHeight)&&(this.scrollTop=n,e|=this.CHANGE_SCROLL,e|=this.$computeLayerConfig()|this.$loop.clear()),o=this.layerConfig,this.$updateScrollBarV(),e&this.CHANGE_H_SCROLL&&this.$updateScrollBarH(),r.translate(this.content,-this.scrollLeft,-o.offset),i=o.minHeight+"px",r.setStyle(this.content.style,"width",o.width+2*this.$padding+"px"),r.setStyle(this.content.style,"height",i)),e&this.CHANGE_H_SCROLL&&(r.translate(this.content,-this.scrollLeft,-o.offset),this.scroller.className=this.scrollLeft<=0?"ace_scroller":"ace_scroller ace_scroll-left"),e&this.CHANGE_FULL)return this.$changedLines=null,this.$textLayer.update(o),this.$showGutter&&this.$gutterLayer.update(o),this.$markerBack.update(o),this.$markerFront.update(o),this.$cursorLayer.update(o),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);if(e&this.CHANGE_SCROLL)return this.$changedLines=null,e&this.CHANGE_TEXT||e&this.CHANGE_LINES?this.$textLayer.update(o):this.$textLayer.scrollLines(o),this.$showGutter&&(e&this.CHANGE_GUTTER||e&this.CHANGE_LINES?this.$gutterLayer.update(o):this.$gutterLayer.scrollLines(o)),this.$markerBack.update(o),this.$markerFront.update(o),this.$cursorLayer.update(o),this.$moveTextAreaToCursor(),void this._signal("afterRender",e);e&this.CHANGE_TEXT?(this.$changedLines=null,this.$textLayer.update(o),this.$showGutter&&this.$gutterLayer.update(o)):e&this.CHANGE_LINES?(this.$updateLines()||e&this.CHANGE_GUTTER&&this.$showGutter)&&this.$gutterLayer.update(o):e&this.CHANGE_TEXT||e&this.CHANGE_GUTTER?this.$showGutter&&this.$gutterLayer.update(o):e&this.CHANGE_CURSOR&&this.$highlightGutterLine&&this.$gutterLayer.updateLineHighlight(o),e&this.CHANGE_CURSOR&&(this.$cursorLayer.update(o),this.$moveTextAreaToCursor()),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_FRONT)&&this.$markerFront.update(o),e&(this.CHANGE_MARKER|this.CHANGE_MARKER_BACK)&&this.$markerBack.update(o),this._signal("afterRender",e)}else this.$changes|=e},this.$autosize=function(){var e=this.session.getScreenLength()*this.lineHeight,t=this.$maxLines*this.lineHeight,n=Math.min(t,Math.max((this.$minLines||1)*this.lineHeight,e))+this.scrollMargin.v+(this.$extraHeight||0);this.$horizScroll&&(n+=this.scrollBarH.getHeight()),this.$maxPixelHeight&&n>this.$maxPixelHeight&&(n=this.$maxPixelHeight);var i,r=!(n<=2*this.lineHeight)&&t<e;n==this.desiredHeight&&this.$size.height==this.desiredHeight&&r==this.$vScroll||(r!=this.$vScroll&&(this.$vScroll=r,this.scrollBarV.setVisible(r)),i=this.container.clientWidth,this.container.style.height=n+"px",this.$updateCachedSize(!0,this.$gutterWidth,i,n),this.desiredHeight=n,this._signal("autosize"))},this.$computeLayerConfig=function(){var e=this.session,t=this.$size,n=t.height<=2*this.lineHeight,i=this.session.getScreenLength()*this.lineHeight,r=this.$getLongestLine(),o=!n&&(this.$hScrollBarAlwaysVisible||t.scrollerWidth-r-2*this.$padding<0),s=this.$horizScroll!==o;s&&(this.$horizScroll=o,this.scrollBarH.setVisible(o));var a=this.$vScroll;this.$maxLines&&1<this.lineHeight&&this.$autosize();var l=t.scrollerHeight+this.lineHeight,c=!this.$maxLines&&this.$scrollPastEnd?(t.scrollerHeight-this.lineHeight)*this.$scrollPastEnd:0;i+=c;var h=this.scrollMargin;this.session.setScrollTop(Math.max(-h.top,Math.min(this.scrollTop,i-t.scrollerHeight+h.bottom))),this.session.setScrollLeft(Math.max(-h.left,Math.min(this.scrollLeft,r+2*this.$padding-t.scrollerWidth+h.right)));var d=!n&&(this.$vScrollBarAlwaysVisible||t.scrollerHeight-i+c<0||this.scrollTop>h.top),u=a!==d;u&&(this.$vScroll=d,this.scrollBarV.setVisible(d));var p,g,f=this.scrollTop%this.lineHeight,m=Math.ceil(l/this.lineHeight)-1,v=(b=Math.max(0,Math.round((this.scrollTop-f)/this.lineHeight)))+m,y=this.lineHeight,b=e.screenToDocumentRow(b,0),C=e.getFoldLine(b);C&&(b=C.start.row),p=e.documentToScreenRow(b,0),g=e.getRowLength(b)*y,v=Math.min(e.screenToDocumentRow(v,0),e.getLength()-1),l=t.scrollerHeight+e.getRowLength(v)*y+g,f=this.scrollTop-p*y;var w=0;return this.layerConfig.width==r&&!s||(w=this.CHANGE_H_SCROLL),(s||u)&&(w|=this.$updateCachedSize(!0,this.gutterWidth,t.width,t.height),this._signal("scrollbarVisibilityChanged"),u&&(r=this.$getLongestLine())),this.layerConfig={width:r,padding:this.$padding,firstRow:b,firstRowScreen:p,lastRow:v,lineHeight:y,characterWidth:this.characterWidth,minHeight:l,maxHeight:i,offset:f,gutterOffset:y?Math.max(0,Math.ceil((f+t.height-t.scrollerHeight)/y)):0,height:this.$size.scrollerHeight},this.session.$bidiHandler&&this.session.$bidiHandler.setContentWidth(r-this.$padding),w},this.$updateLines=function(){if(this.$changedLines){var e=this.$changedLines.firstRow,t=this.$changedLines.lastRow;this.$changedLines=null;var n=this.layerConfig;if(!(e>n.lastRow+1||t<n.firstRow))return t===1/0?(this.$showGutter&&this.$gutterLayer.update(n),void this.$textLayer.update(n)):(this.$textLayer.updateLines(n,e,t),!0)}},this.$getLongestLine=function(){var e=this.session.getScreenWidth();return this.showInvisibles&&!this.session.$useWrapMode&&(e+=1),this.$textLayer&&e>this.$textLayer.MAX_LINE_LENGTH&&(e=this.$textLayer.MAX_LINE_LENGTH+30),Math.max(this.$size.scrollerWidth-2*this.$padding,Math.round(e*this.characterWidth))},this.updateFrontMarkers=function(){this.$markerFront.setMarkers(this.session.getMarkers(!0)),this.$loop.schedule(this.CHANGE_MARKER_FRONT)},this.updateBackMarkers=function(){this.$markerBack.setMarkers(this.session.getMarkers()),this.$loop.schedule(this.CHANGE_MARKER_BACK)},this.addGutterDecoration=function(e,t){this.$gutterLayer.addGutterDecoration(e,t)},this.removeGutterDecoration=function(e,t){this.$gutterLayer.removeGutterDecoration(e,t)},this.updateBreakpoints=function(e){this.$loop.schedule(this.CHANGE_GUTTER)},this.setAnnotations=function(e){this.$gutterLayer.setAnnotations(e),this.$loop.schedule(this.CHANGE_GUTTER)},this.updateCursor=function(){this.$loop.schedule(this.CHANGE_CURSOR)},this.hideCursor=function(){this.$cursorLayer.hideCursor()},this.showCursor=function(){this.$cursorLayer.showCursor()},this.scrollSelectionIntoView=function(e,t,n){this.scrollCursorIntoView(e,n),this.scrollCursorIntoView(t,n)},this.scrollCursorIntoView=function(e,t,n){var i,r,o,s,a,l,c;0!==this.$size.scrollerHeight&&(r=(i=this.$cursorLayer.getPixelPosition(e)).left,s=n&&n.top||0,a=n&&n.bottom||0,(o=i.top)<(l=this.$scrollAnimation?this.session.getScrollTop():this.scrollTop)+s?(t&&l+s>o+this.lineHeight&&(o-=t*this.$size.scrollerHeight),0===o&&(o=-this.scrollMargin.top),this.session.setScrollTop(o)):l+this.$size.scrollerHeight-a<o+this.lineHeight&&(t&&l+this.$size.scrollerHeight-a<o-this.lineHeight&&(o+=t*this.$size.scrollerHeight),this.session.setScrollTop(o+this.lineHeight+a-this.$size.scrollerHeight)),r<(c=this.scrollLeft)?(r<this.$padding+2*this.layerConfig.characterWidth&&(r=-this.scrollMargin.left),this.session.setScrollLeft(r)):c+this.$size.scrollerWidth<r+this.characterWidth?this.session.setScrollLeft(Math.round(r+this.characterWidth-this.$size.scrollerWidth)):c<=this.$padding&&r-c<this.characterWidth&&this.session.setScrollLeft(0))},this.getScrollTop=function(){return this.session.getScrollTop()},this.getScrollLeft=function(){return this.session.getScrollLeft()},this.getScrollTopRow=function(){return this.scrollTop/this.lineHeight},this.getScrollBottomRow=function(){return Math.max(0,Math.floor((this.scrollTop+this.$size.scrollerHeight)/this.lineHeight)-1)},this.scrollToRow=function(e){this.session.setScrollTop(e*this.lineHeight)},this.alignCursor=function(e,t){"number"==typeof e&&(e={row:e,column:0});var n=this.$cursorLayer.getPixelPosition(e).top-(this.$size.scrollerHeight-this.lineHeight)*(t||0);return this.session.setScrollTop(n),n},this.STEPS=8,this.$calcSteps=function(e,t){var n,i=0,r=this.STEPS,o=[];for(i=0;i<r;++i)o.push((t-(n=e))*(Math.pow(i/this.STEPS-1,3)+1)+n);return o},this.scrollToLine=function(e,t,n,i){var r=this.$cursorLayer.getPixelPosition({row:e,column:0}).top;t&&(r-=this.$size.scrollerHeight/2);var o=this.scrollTop;this.session.setScrollTop(r),!1!==n&&this.animateScrolling(o,i)},this.animateScrolling=function(e,t){var n=this.scrollTop;if(this.$animatedScroll){var i=this;if(e!=n){if(this.$scrollAnimation){var r=this.$scrollAnimation.steps;if(r.length&&(e=r[0])==n)return}var o=i.$calcSteps(e,n);this.$scrollAnimation={from:e,to:n,steps:o},clearInterval(this.$timer),i.session.setScrollTop(o.shift()),i.session.$scrollTop=n,this.$timer=setInterval((function(){return i.session?void(o.length?(i.session.setScrollTop(o.shift()),i.session.$scrollTop=n):null!=n?(i.session.$scrollTop=-1,i.session.setScrollTop(n),n=null):(i.$timer=clearInterval(i.$timer),i.$scrollAnimation=null,t&&t())):clearInterval(i.$timer)}),10)}}},this.scrollToY=function(e){this.scrollTop!==e&&(this.$loop.schedule(this.CHANGE_SCROLL),this.scrollTop=e)},this.scrollToX=function(e){this.scrollLeft!==e&&(this.scrollLeft=e),this.$loop.schedule(this.CHANGE_H_SCROLL)},this.scrollTo=function(e,t){this.session.setScrollTop(t),this.session.setScrollLeft(t)},this.scrollBy=function(e,t){t&&this.session.setScrollTop(this.session.getScrollTop()+t),e&&this.session.setScrollLeft(this.session.getScrollLeft()+e)},this.isScrollableBy=function(e,t){return t<0&&this.session.getScrollTop()>=1-this.scrollMargin.top||0<t&&this.session.getScrollTop()+this.$size.scrollerHeight-this.layerConfig.maxHeight<-1+this.scrollMargin.bottom||e<0&&this.session.getScrollLeft()>=1-this.scrollMargin.left||0<e&&this.session.getScrollLeft()+this.$size.scrollerWidth-this.layerConfig.width<-1+this.scrollMargin.right||void 0},this.pixelToScreenCoordinates=function(e,t){var n,i;this.$hasCssTransforms?(n={top:0,left:0},e=(i=this.$fontMetrics.transformCoordinates([e,t]))[1]-this.gutterWidth-this.margin.left,t=i[0]):n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=Math.floor((t+this.scrollTop-n.top)/this.lineHeight),a=this.$blockCursor?Math.floor(o):Math.round(o);return{row:s,column:a,side:0<o-a?1:-1,offsetX:r}},this.screenToTextCoordinates=function(e,t){var n,i;this.$hasCssTransforms?(n={top:0,left:0},e=(i=this.$fontMetrics.transformCoordinates([e,t]))[1]-this.gutterWidth-this.margin.left,t=i[0]):n=this.scroller.getBoundingClientRect();var r=e+this.scrollLeft-n.left-this.$padding,o=r/this.characterWidth,s=this.$blockCursor?Math.floor(o):Math.round(o),a=Math.floor((t+this.scrollTop-n.top)/this.lineHeight);return this.session.screenToDocumentPosition(a,Math.max(s,0),r)},this.textToScreenCoordinates=function(e,t){var n=this.scroller.getBoundingClientRect(),i=this.session.documentToScreenPosition(e,t),r=this.$padding+(this.session.$bidiHandler.isBidiRow(i.row,e)?this.session.$bidiHandler.getPosLeft(i.column):Math.round(i.column*this.characterWidth));return{pageX:n.left+r-this.scrollLeft,pageY:n.top+i.row*this.lineHeight-this.scrollTop}},this.visualizeFocus=function(){r.addCssClass(this.container,"ace_focus")},this.visualizeBlur=function(){r.removeCssClass(this.container,"ace_focus")},this.showComposition=function(e){(this.$composition=e).cssText||(e.cssText=this.textarea.style.cssText),null==e.useTextareaForIME&&(e.useTextareaForIME=this.$useTextareaForIME),this.$useTextareaForIME?(r.addCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText="",this.$moveTextAreaToCursor(),this.$cursorLayer.element.style.display="none"):e.markerId=this.session.addMarker(e.markerRange,"ace_composition_marker","text")},this.setCompositionText=function(e){var t=this.session.selection.cursor;this.addToken(e,"composition_placeholder",t.row,t.column),this.$moveTextAreaToCursor()},this.hideComposition=function(){var e;this.$composition&&(this.$composition.markerId&&this.session.removeMarker(this.$composition.markerId),r.removeCssClass(this.textarea,"ace_composition"),this.textarea.style.cssText=this.$composition.cssText,this.removeExtraToken((e=this.session.selection.cursor).row,e.column),this.$composition=null,this.$cursorLayer.element.style.display="")},this.addToken=function(e,t,n,i){var r=this.session;r.bgTokenizer.lines[n]=null;var o={type:t,value:e},s=r.getTokens(n);if(null==i)s.push(o);else for(var a=0,l=0;l<s.length;l++){var c=s[l];if(i<=(a+=c.value.length)){var h=c.value.length-(a-i),d=c.value.slice(0,h),u=c.value.slice(h);s.splice(l,1,{type:c.type,value:d},o,{type:c.type,value:u});break}}this.updateLines(n,n)},this.removeExtraToken=function(e,t){this.updateLines(e,e)},this.setTheme=function(e,t){var n=this;function i(i){if(n.$themeId!=e)return t&&t();if(!i||!i.cssClass)throw new Error("couldn't load module "+e+" or it didn't call define");i.$id&&(n.$themeId=i.$id),r.importCssString(i.cssText,i.cssClass,n.container),n.theme&&r.removeCssClass(n.container,n.theme.cssClass);var o="padding"in i?i.padding:"padding"in(n.theme||{})?4:n.$padding;n.$padding&&o!=n.$padding&&n.setPadding(o),n.$theme=i.cssClass,n.theme=i,r.addCssClass(n.container,i.cssClass),r.setCssClass(n.container,"ace_dark",i.isDark),n.$size&&(n.$size.width=0,n.$updateSizeAsync()),n._dispatchEvent("themeLoaded",{theme:i}),t&&t()}this.$themeId=e,n._dispatchEvent("themeChange",{theme:e}),e&&"string"!=typeof e?i(e):o.loadModule(["theme",e||this.$options.theme.initialValue],i)},this.getTheme=function(){return this.$themeId},this.setStyle=function(e,t){r.setCssClass(this.container,e,!1!==t)},this.unsetStyle=function(e){r.removeCssClass(this.container,e)},this.setCursorStyle=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.setMouseCursor=function(e){r.setStyle(this.scroller.style,"cursor",e)},this.attachToShadowRoot=function(){r.importCssString(f,"ace_editor.css",this.container)},this.destroy=function(){this.freeze(),this.$fontMetrics.destroy(),this.$cursorLayer.destroy(),this.removeAllListeners(),this.container.textContent=""}}).call(y.prototype),o.defineOptions(y.prototype,"renderer",{animatedScroll:{initialValue:!1},showInvisibles:{set:function(e){this.$textLayer.setShowInvisibles(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!1},showPrintMargin:{set:function(){this.$updatePrintMargin()},initialValue:!0},printMarginColumn:{set:function(){this.$updatePrintMargin()},initialValue:80},printMargin:{set:function(e){"number"==typeof e&&(this.$printMarginColumn=e),this.$showPrintMargin=!!e,this.$updatePrintMargin()},get:function(){return this.$showPrintMargin&&this.$printMarginColumn}},showGutter:{set:function(e){this.$gutter.style.display=e?"block":"none",this.$loop.schedule(this.CHANGE_FULL),this.onGutterResize()},initialValue:!0},fadeFoldWidgets:{set:function(e){r.setCssClass(this.$gutter,"ace_fade-fold-widgets",e)},initialValue:!1},showFoldWidgets:{set:function(e){this.$gutterLayer.setShowFoldWidgets(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},displayIndentGuides:{set:function(e){this.$textLayer.setDisplayIndentGuides(e)&&this.$loop.schedule(this.CHANGE_TEXT)},initialValue:!0},highlightGutterLine:{set:function(e){this.$gutterLayer.setHighlightGutterLine(e),this.$loop.schedule(this.CHANGE_GUTTER)},initialValue:!0},hScrollBarAlwaysVisible:{set:function(e){this.$hScrollBarAlwaysVisible&&this.$horizScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},vScrollBarAlwaysVisible:{set:function(e){this.$vScrollBarAlwaysVisible&&this.$vScroll||this.$loop.schedule(this.CHANGE_SCROLL)},initialValue:!1},fontSize:{set:function(e){"number"==typeof e&&(e+="px"),this.container.style.fontSize=e,this.updateFontSize()},initialValue:12},fontFamily:{set:function(e){this.container.style.fontFamily=e,this.updateFontSize()}},maxLines:{set:function(e){this.updateFull()}},minLines:{set:function(e){this.$minLines<562949953421311||(this.$minLines=0),this.updateFull()}},maxPixelHeight:{set:function(e){this.updateFull()},initialValue:0},scrollPastEnd:{set:function(e){this.$scrollPastEnd!=(e=+e||0)&&(this.$scrollPastEnd=e,this.$loop.schedule(this.CHANGE_SCROLL))},initialValue:0,handlesSet:!0},fixedWidthGutter:{set:function(e){this.$gutterLayer.$fixedWidth=!!e,this.$loop.schedule(this.CHANGE_GUTTER)}},theme:{set:function(e){this.setTheme(e)},get:function(){return this.$themeId||this.theme},initialValue:"./theme/textmate",handlesSet:!0},hasCssTransforms:{},useTextareaForIME:{initialValue:!m.isMobile&&!m.isIE}}),t.VirtualRenderer=y})),ace.define("ace/worker/worker_client",["require","exports","module","ace/lib/oop","ace/lib/net","ace/lib/event_emitter","ace/config"],(function(e,t,n){"use strict";var i=e("../lib/oop"),r=e("../lib/net"),o=e("../lib/event_emitter").EventEmitter,s=e("../config");function a(e){if("undefined"==typeof Worker)return{postMessage:function(){},terminate:function(){}};if(s.get("loadWorkerFromBlob")){var t=function(e){var t="importScripts('"+r.qualifyURL(e)+"');";try{return new Blob([t],{type:"application/javascript"})}catch(e){var n=new(window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder);return n.append(t),n.getBlob("application/javascript")}}(e),n=(window.URL||window.webkitURL).createObjectURL(t);return new Worker(n)}return new Worker(e)}function l(e){e.postMessage||(e=this.$createWorkerFromOldConfig.apply(this,arguments)),this.$worker=e,this.$sendDeltaQueue=this.$sendDeltaQueue.bind(this),this.changeListener=this.changeListener.bind(this),this.onMessage=this.onMessage.bind(this),this.callbackId=1,this.callbacks={},this.$worker.onmessage=this.onMessage}(function(){i.implement(this,o),this.$createWorkerFromOldConfig=function(t,n,i,r,o){var l,c;return e.nameToUrl&&!e.toUrl&&(e.toUrl=e.nameToUrl),s.get("packaged")||!e.toUrl?r=r||s.moduleUrl(n,"worker"):(l=this.$normalizePath,r=r||l(e.toUrl("ace/worker/worker.js",null,"_")),c={},t.forEach((function(t){c[t]=l(e.toUrl(t,null,"_").replace(/(\.js)?(\?.*)?$/,""))}))),this.$worker=a(r),o&&this.send("importScripts",o),this.$worker.postMessage({init:!0,tlns:c,module:n,classname:i}),this.$worker},this.onMessage=function(e){var t=e.data;switch(t.type){case"event":this._signal(t.name,{data:t.data});break;case"call":var n=this.callbacks[t.id];n&&(n(t.data),delete this.callbacks[t.id]);break;case"error":this.reportError(t.data);break;case"log":window.console&&console.log&&console.log.apply(console,t.data)}},this.reportError=function(e){window.console&&console.error&&console.error(e)},this.$normalizePath=function(e){return r.qualifyURL(e)},this.terminate=function(){this._signal("terminate",{}),this.deltaQueue=null,this.$worker.terminate(),this.$worker=null,this.$doc&&this.$doc.off("change",this.changeListener),this.$doc=null},this.send=function(e,t){this.$worker.postMessage({command:e,args:t})},this.call=function(e,t,n){var i;n&&(i=this.callbackId++,this.callbacks[i]=n,t.push(i)),this.send(e,t)},this.emit=function(e,t){try{t.data&&t.data.err&&(t.data.err={message:t.data.err.message,stack:t.data.err.stack,code:t.data.err.code}),this.$worker.postMessage({event:e,data:{data:t.data}})}catch(e){console.error(e.stack)}},this.attachToDocument=function(e){this.$doc&&this.terminate(),this.$doc=e,this.call("setValue",[e.getValue()]),e.on("change",this.changeListener)},this.changeListener=function(e){this.deltaQueue||(this.deltaQueue=[],setTimeout(this.$sendDeltaQueue,0)),this.deltaQueue.push(e.start,"insert"==e.action?e.lines:e.end)},this.$sendDeltaQueue=function(){var e=this.deltaQueue;e&&(this.deltaQueue=null,50<e.length&&e.length>this.$doc.getLength()>>1?this.call("setValue",[this.$doc.getValue()]):this.emit("change",{data:e}))}}).call(l.prototype),t.UIWorkerClient=function(e,t,n){var i=null,r=!1,a=Object.create(o),c=[],h=new l({messageBuffer:c,terminate:function(){},postMessage:function(e){c.push(e),i&&(r?setTimeout(d):d())}});h.setEmitSync=function(e){r=e};var d=function(){var e=c.shift();e.command?i[e.command].apply(i,e.args):e.event&&a._signal(e.event,e.data)};return a.postMessage=function(e){h.onMessage({data:e})},a.callback=function(e,t){this.postMessage({type:"call",id:t,data:e})},a.emit=function(e,t){this.postMessage({type:"event",name:e,data:t})},s.loadModule(["worker",t],(function(e){for(i=new e[n](a);c.length;)d()})),h},t.WorkerClient=l,t.createWorker=a})),ace.define("ace/placeholder",["require","exports","module","ace/range","ace/lib/event_emitter","ace/lib/oop"],(function(e,t,n){"use strict";function i(e,t,n,i,r,o){var s=this;this.length=t,this.session=e,this.doc=e.getDocument(),this.mainClass=r,this.othersClass=o,this.$onUpdate=this.onUpdate.bind(this),this.doc.on("change",this.$onUpdate),this.$others=i,this.$onCursorChange=function(){setTimeout((function(){s.onCursorChange()}))},this.$pos=n;var a=e.getUndoManager().$undoStack||e.getUndoManager().$undostack||{length:-1};this.$undoStackDepth=a.length,this.setup(),e.selection.on("changeCursor",this.$onCursorChange)}var r=e("./range").Range,o=e("./lib/event_emitter").EventEmitter,s=e("./lib/oop");(function(){s.implement(this,o),this.setup=function(){var e=this,t=this.doc,n=this.session;this.selectionBefore=n.selection.toJSON(),n.selection.inMultiSelectMode&&n.selection.toSingleRange(),this.pos=t.createAnchor(this.$pos.row,this.$pos.column);var i=this.pos;i.$insertRight=!0,i.detach(),i.markerId=n.addMarker(new r(i.row,i.column,i.row,i.column+this.length),this.mainClass,null,!1),this.others=[],this.$others.forEach((function(n){var i=t.createAnchor(n.row,n.column);i.$insertRight=!0,i.detach(),e.others.push(i)})),n.setUndoSelect(!1)},this.showOtherMarkers=function(){var e,t;this.othersActive||(e=this.session,(t=this).othersActive=!0,this.others.forEach((function(n){n.markerId=e.addMarker(new r(n.row,n.column,n.row,n.column+t.length),t.othersClass,null,!1)})))},this.hideOtherMarkers=function(){if(this.othersActive){this.othersActive=!1;for(var e=0;e<this.others.length;e++)this.session.removeMarker(this.others[e].markerId)}},this.onUpdate=function(e){if(this.$updating)return this.updateAnchors(e);var t=e;if(t.start.row===t.end.row&&t.start.row===this.pos.row){this.$updating=!0;var n="insert"===e.action?t.end.column-t.start.column:t.start.column-t.end.column,i=t.start.column>=this.pos.column&&t.start.column<=this.pos.column+this.length+1,o=t.start.column-this.pos.column;if(this.updateAnchors(e),i&&(this.length+=n),i&&!this.session.$fromUndo)if("insert"===e.action)for(var s=this.others.length-1;0<=s;s--){var a={row:(l=this.others[s]).row,column:l.column+o};this.doc.insertMergedLines(a,e.lines)}else if("remove"===e.action)for(s=this.others.length-1;0<=s;s--){var l;a={row:(l=this.others[s]).row,column:l.column+o},this.doc.remove(new r(a.row,a.column,a.row,a.column-n))}this.$updating=!1,this.updateMarkers()}},this.updateAnchors=function(e){this.pos.onChange(e);for(var t=this.others.length;t--;)this.others[t].onChange(e);this.updateMarkers()},this.updateMarkers=function(){if(!this.$updating){var e=this,t=this.session,n=function(n,i){t.removeMarker(n.markerId),n.markerId=t.addMarker(new r(n.row,n.column,n.row,n.column+e.length),i,null,!1)};n(this.pos,this.mainClass);for(var i=this.others.length;i--;)n(this.others[i],this.othersClass)}},this.onCursorChange=function(e){var t;!this.$updating&&this.session&&((t=this.session.selection.getCursor()).row===this.pos.row&&t.column>=this.pos.column&&t.column<=this.pos.column+this.length?(this.showOtherMarkers(),this._emit("cursorEnter",e)):(this.hideOtherMarkers(),this._emit("cursorLeave",e)))},this.detach=function(){this.session.removeMarker(this.pos&&this.pos.markerId),this.hideOtherMarkers(),this.doc.off("change",this.$onUpdate),this.session.selection.off("changeCursor",this.$onCursorChange),this.session.setUndoSelect(!0),this.session=null},this.cancel=function(){if(-1!==this.$undoStackDepth){for(var e=this.session.getUndoManager(),t=(e.$undoStack||e.$undostack).length-this.$undoStackDepth,n=0;n<t;n++)e.undo(this.session,!0);this.selectionBefore&&this.session.selection.fromJSON(this.selectionBefore)}}}).call(i.prototype),t.PlaceHolder=i})),ace.define("ace/mouse/multi_select_handler",["require","exports","module","ace/lib/event","ace/lib/useragent"],(function(e,t,n){var i=e("../lib/event"),r=e("../lib/useragent");function o(e,t){return e.row==t.row&&e.column==t.column}t.onMouseDown=function(e){var t=e.domEvent,n=t.altKey,s=t.shiftKey,a=t.ctrlKey,l=e.getAccelKey(),c=e.getButton();if(a&&r.isMac&&(c=t.button),e.editor.inMultiSelectMode&&2==c)e.editor.textInput.onContextMenu(e.domEvent);else if(a||n||l){if(0===c){var h,d,u,p=e.editor,g=p.selection,f=p.inMultiSelectMode,m=e.getDocumentPosition(),v=g.getCursor(),y=e.inSelection()||g.isEmpty()&&o(m,v),b=e.x,C=e.y,w=p.session,_=p.renderer.pixelToScreenCoordinates(b,C),x=_;if(p.$mouseHandler.$enableJumpToDef)a&&n||l&&n?h=s?"block":"add":n&&p.$blockSelectEnabled&&(h="block");else if(l&&!n){if(h="add",!f&&s)return}else n&&p.$blockSelectEnabled&&(h="block");if(h&&r.isMac&&t.ctrlKey&&p.$mouseHandler.cancelContextMenu(),"add"==h){if(!f&&y)return;f||(d=g.toOrientedRange(),p.addSelectionMarker(d));var I=g.rangeList.rangeAtPoint(m);p.inVirtualSelectionMode=!0,s&&(I=null,p.removeSelectionMarker(d=g.ranges[0]||d)),p.once("mouseup",(function(){var e=g.toOrientedRange();I&&e.isEmpty()&&o(I.cursor,e.cursor)?g.substractPoint(e.cursor):(s?g.substractPoint(d.cursor):d&&(p.removeSelectionMarker(d),g.addRange(d)),g.addRange(e)),p.inVirtualSelectionMode=!1}))}else if("block"==h){function A(){var e=p.renderer.pixelToScreenCoordinates(b,C),t=w.screenToDocumentPosition(e.row,e.column,e.offsetX);o(x,e)&&o(t,g.lead)||(x=e,p.selection.moveToPosition(t),p.renderer.scrollCursorIntoView(),p.removeSelectionMarkers(k),k=g.rectangularRangeBlock(x,_),p.$mouseHandler.$clickSelection&&1==k.length&&k[0].isEmpty()&&(k[0]=p.$mouseHandler.$clickSelection.clone()),k.forEach(p.addSelectionMarker,p),p.updateSelectionMarkers())}e.stop(),p.inVirtualSelectionMode=!0;var k=[];f&&!l?g.toSingleRange():!f&&l&&(u=g.toOrientedRange(),p.addSelectionMarker(u)),s?_=w.documentToScreenPosition(g.lead):g.moveToPosition(m),x={row:-1,column:-1};var S=A;i.capture(p.container,(function(e){b=e.clientX,C=e.clientY}),(function(e){A(),clearInterval(E),p.removeSelectionMarkers(k),k.length||(k=[g.toOrientedRange()]),u&&(p.removeSelectionMarker(u),g.toSingleRange(u));for(var t=0;t<k.length;t++)g.addRange(k[t]);p.inVirtualSelectionMode=!1,p.$mouseHandler.$clickSelection=null}));var E=setInterval((function(){S()}),20);return e.preventDefault()}}}else 0===c&&e.editor.inMultiSelectMode&&e.editor.exitMultiSelectMode()}})),ace.define("ace/commands/multi_select_commands",["require","exports","module","ace/keyboard/hash_handler"],(function(e,t,n){t.defaultCommands=[{name:"addCursorAbove",description:"Add cursor above",exec:function(e){e.selectMoreLines(-1)},bindKey:{win:"Ctrl-Alt-Up",mac:"Ctrl-Alt-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelow",description:"Add cursor below",exec:function(e){e.selectMoreLines(1)},bindKey:{win:"Ctrl-Alt-Down",mac:"Ctrl-Alt-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorAboveSkipCurrent",description:"Add cursor above (skip current)",exec:function(e){e.selectMoreLines(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Up",mac:"Ctrl-Alt-Shift-Up"},scrollIntoView:"cursor",readOnly:!0},{name:"addCursorBelowSkipCurrent",description:"Add cursor below (skip current)",exec:function(e){e.selectMoreLines(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Down",mac:"Ctrl-Alt-Shift-Down"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreBefore",description:"Select more before",exec:function(e){e.selectMore(-1)},bindKey:{win:"Ctrl-Alt-Left",mac:"Ctrl-Alt-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectMoreAfter",description:"Select more after",exec:function(e){e.selectMore(1)},bindKey:{win:"Ctrl-Alt-Right",mac:"Ctrl-Alt-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextBefore",description:"Select next before",exec:function(e){e.selectMore(-1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Left",mac:"Ctrl-Alt-Shift-Left"},scrollIntoView:"cursor",readOnly:!0},{name:"selectNextAfter",description:"Select next after",exec:function(e){e.selectMore(1,!0)},bindKey:{win:"Ctrl-Alt-Shift-Right",mac:"Ctrl-Alt-Shift-Right"},scrollIntoView:"cursor",readOnly:!0},{name:"toggleSplitSelectionIntoLines",description:"Split into lines",exec:function(e){1<e.multiSelect.rangeCount?e.multiSelect.joinSelections():e.multiSelect.splitIntoLines()},bindKey:{win:"Ctrl-Alt-L",mac:"Ctrl-Alt-L"},readOnly:!0},{name:"splitSelectionIntoLines",description:"Split into lines",exec:function(e){e.multiSelect.splitIntoLines()},readOnly:!0},{name:"alignCursors",description:"Align cursors",exec:function(e){e.alignCursors()},bindKey:{win:"Ctrl-Alt-A",mac:"Ctrl-Alt-A"},scrollIntoView:"cursor"},{name:"findAll",description:"Find all",exec:function(e){e.findAll()},bindKey:{win:"Ctrl-Alt-K",mac:"Ctrl-Alt-G"},scrollIntoView:"cursor",readOnly:!0}],t.multiSelectCommands=[{name:"singleSelection",description:"Single selection",bindKey:"esc",exec:function(e){e.exitMultiSelectMode()},scrollIntoView:"cursor",readOnly:!0,isAvailable:function(e){return e&&e.inMultiSelectMode}}];var i=e("../keyboard/hash_handler").HashHandler;t.keyboardHandler=new i(t.multiSelectCommands)})),ace.define("ace/multi_select",["require","exports","module","ace/range_list","ace/range","ace/selection","ace/mouse/multi_select_handler","ace/lib/event","ace/lib/lang","ace/commands/multi_select_commands","ace/search","ace/edit_session","ace/editor","ace/config"],(function(e,t,n){var i=e("./range_list").RangeList,r=e("./range").Range,o=e("./selection").Selection,s=e("./mouse/multi_select_handler").onMouseDown,a=e("./lib/event"),l=e("./lib/lang"),c=e("./commands/multi_select_commands");t.commands=c.defaultCommands.concat(c.multiSelectCommands);var h=new(e("./search").Search),d=e("./edit_session").EditSession;(function(){this.getSelectionMarkers=function(){return this.$selectionMarkers}}).call(d.prototype),(function(){this.ranges=null,this.rangeList=null,this.addRange=function(e,t){if(e){if(!this.inMultiSelectMode&&0===this.rangeCount){var n=this.toOrientedRange();if(this.rangeList.add(n),this.rangeList.add(e),2!=this.rangeList.ranges.length)return this.rangeList.removeAll(),t||this.fromOrientedRange(e);this.rangeList.removeAll(),this.rangeList.add(n),this.$onAddRange(n)}e.cursor||(e.cursor=e.end);var i=this.rangeList.add(e);return this.$onAddRange(e),i.length&&this.$onRemoveRange(i),1<this.rangeCount&&!this.inMultiSelectMode&&(this._signal("multiSelect"),this.inMultiSelectMode=!0,this.session.$undoSelect=!1,this.rangeList.attach(this.session)),t||this.fromOrientedRange(e)}},this.toSingleRange=function(e){e=e||this.ranges[0];var t=this.rangeList.removeAll();t.length&&this.$onRemoveRange(t),e&&this.fromOrientedRange(e)},this.substractPoint=function(e){var t=this.rangeList.substractPoint(e);if(t)return this.$onRemoveRange(t),t[0]},this.mergeOverlappingRanges=function(){var e=this.rangeList.merge();e.length&&this.$onRemoveRange(e)},this.$onAddRange=function(e){this.rangeCount=this.rangeList.ranges.length,this.ranges.unshift(e),this._signal("addRange",{range:e})},this.$onRemoveRange=function(e){var t;this.rangeCount=this.rangeList.ranges.length,1==this.rangeCount&&this.inMultiSelectMode&&(t=this.rangeList.ranges.pop(),e.push(t),this.rangeCount=0);for(var n=e.length;n--;){var i=this.ranges.indexOf(e[n]);this.ranges.splice(i,1)}this._signal("removeRange",{ranges:e}),0===this.rangeCount&&this.inMultiSelectMode&&(this.inMultiSelectMode=!1,this._signal("singleSelect"),this.session.$undoSelect=!0,this.rangeList.detach(this.session)),(t=t||this.ranges[0])&&!t.isEqual(this.getRange())&&this.fromOrientedRange(t)},this.$initRangeList=function(){this.rangeList||(this.rangeList=new i,this.ranges=[],this.rangeCount=0)},this.getAllRanges=function(){return this.rangeCount?this.rangeList.ranges.concat():[this.getRange()]},this.splitIntoLines=function(){for(var e=this.ranges.length?this.ranges:[this.getRange()],t=[],n=0;n<e.length;n++){var i=e[n],o=i.start.row,s=i.end.row;if(o===s)t.push(i.clone());else{for(t.push(new r(o,i.start.column,o,this.session.getLine(o).length));++o<s;)t.push(this.getLineRange(o,!0));t.push(new r(s,0,s,i.end.column))}0!=n||this.isBackwards()||(t=t.reverse())}for(this.toSingleRange(),n=t.length;n--;)this.addRange(t[n])},this.joinSelections=function(){var e=this.rangeList.ranges,t=e[e.length-1],n=r.fromPoints(e[0].start,t.end);this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)},this.toggleBlockSelection=function(){var e,t,n,i,o;1<this.rangeCount?(t=(e=this.rangeList.ranges)[e.length-1],n=r.fromPoints(e[0].start,t.end),this.toSingleRange(),this.setSelectionRange(n,t.cursor==t.start)):(i=this.session.documentToScreenPosition(this.cursor),o=this.session.documentToScreenPosition(this.anchor),this.rectangularRangeBlock(i,o).forEach(this.addRange,this))},this.rectangularRangeBlock=function(e,t,n){var i,o,s,a,l=[],c=e.column<t.column;a=c?(i=e.column,o=t.column,s=e.offsetX,t.offsetX):(i=t.column,o=e.column,s=t.offsetX,e.offsetX);var h,d,u,p=e.row<t.row;d=p?(h=e.row,t.row):(h=t.row,e.row),i<0&&(i=0),h<0&&(h=0),h==d&&(n=!0);for(var g,f,m=h;m<=d;m++){var v=r.fromPoints(this.session.screenToDocumentPosition(m,i,s),this.session.screenToDocumentPosition(m,o,a));if(v.isEmpty()){if(u&&(g=v.end).row==(f=u).row&&g.column==f.column)break;u=v.end}v.cursor=c?v.start:v.end,l.push(v)}if(p&&l.reverse(),!n){for(var y=l.length-1;l[y].isEmpty()&&0<y;)y--;if(0<y)for(var b=0;l[b].isEmpty();)b++;for(var C=y;b<=C;C--)l[C].isEmpty()&&l.splice(C,1)}return l}}).call(o.prototype);var u=e("./editor").Editor;function p(e){e.$multiselectOnSessionChange||(e.$onAddRange=e.$onAddRange.bind(e),e.$onRemoveRange=e.$onRemoveRange.bind(e),e.$onMultiSelect=e.$onMultiSelect.bind(e),e.$onSingleSelect=e.$onSingleSelect.bind(e),e.$multiselectOnSessionChange=t.onSessionChange.bind(e),e.$checkMultiselectChange=e.$checkMultiselectChange.bind(e),e.$multiselectOnSessionChange(e),e.on("changeSession",e.$multiselectOnSessionChange),e.on("mousedown",s),e.commands.addCommands(c.defaultCommands),function(e){if(e.textInput){var t=e.textInput.getElement(),n=!1;a.addListener(t,"keydown",(function(t){e.$blockSelectEnabled&&18==t.keyCode&&!(t.ctrlKey||t.shiftKey||t.metaKey)?n||(e.renderer.setMouseCursor("crosshair"),n=!0):n&&i()}),e),a.addListener(t,"keyup",i,e),a.addListener(t,"blur",i,e)}function i(t){n&&(e.renderer.setMouseCursor(""),n=!1)}}(e))}(function(){this.updateSelectionMarkers=function(){this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.addSelectionMarker=function(e){e.cursor||(e.cursor=e.end);var t=this.getSelectionStyle();return e.marker=this.session.addMarker(e,"ace_selection",t),this.session.$selectionMarkers.push(e),this.session.selectionMarkerCount=this.session.$selectionMarkers.length,e},this.removeSelectionMarker=function(e){var t;e.marker&&(this.session.removeMarker(e.marker),-1!=(t=this.session.$selectionMarkers.indexOf(e))&&this.session.$selectionMarkers.splice(t,1),this.session.selectionMarkerCount=this.session.$selectionMarkers.length)},this.removeSelectionMarkers=function(e){for(var t=this.session.$selectionMarkers,n=e.length;n--;){var i,r=e[n];r.marker&&(this.session.removeMarker(r.marker),-1!=(i=t.indexOf(r))&&t.splice(i,1))}this.session.selectionMarkerCount=t.length},this.$onAddRange=function(e){this.addSelectionMarker(e.range),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onRemoveRange=function(e){this.removeSelectionMarkers(e.ranges),this.renderer.updateCursor(),this.renderer.updateBackMarkers()},this.$onMultiSelect=function(e){this.inMultiSelectMode||(this.inMultiSelectMode=!0,this.setStyle("ace_multiselect"),this.keyBinding.addKeyboardHandler(c.keyboardHandler),this.commands.setDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers())},this.$onSingleSelect=function(e){this.session.multiSelect.inVirtualMode||(this.inMultiSelectMode=!1,this.unsetStyle("ace_multiselect"),this.keyBinding.removeKeyboardHandler(c.keyboardHandler),this.commands.removeDefaultHandler("exec",this.$onMultiSelectExec),this.renderer.updateCursor(),this.renderer.updateBackMarkers(),this._emit("changeSelection"))},this.$onMultiSelectExec=function(e){var t,n=e.command,i=e.editor;if(i.multiSelect)return n.multiSelectAction?t="forEach"==n.multiSelectAction?i.forEachSelection(n,e.args):"forEachLine"==n.multiSelectAction?i.forEachSelection(n,e.args,!0):"single"==n.multiSelectAction?(i.exitMultiSelectMode(),n.exec(i,e.args||{})):n.multiSelectAction(i,e.args||{}):(t=n.exec(i,e.args||{}),i.multiSelect.addRange(i.multiSelect.toOrientedRange()),i.multiSelect.mergeOverlappingRanges()),t},this.forEachSelection=function(e,t,n){if(!this.inVirtualSelectionMode){var i,r=1==n||n&&n.$byLines,s=this.session,a=this.selection,l=(n&&n.keepOrder?a:a.rangeList).ranges;if(!l.length)return e.exec?e.exec(this,t||{}):e(this,t||{});var c=a._eventRegistry;a._eventRegistry={};var h=new o(s);this.inVirtualSelectionMode=!0;for(var d=l.length;d--;){if(r)for(;0<d&&l[d].start.row==l[d-1].end.row;)d--;h.fromOrientedRange(l[d]),h.index=d,this.selection=s.selection=h;var u=e.exec?e.exec(this,t||{}):e(this,t||{});i||void 0===u||(i=u),h.toOrientedRange(l[d])}h.detach(),this.selection=s.selection=a,this.inVirtualSelectionMode=!1,a._eventRegistry=c,a.mergeOverlappingRanges(),a.ranges[0]&&a.fromOrientedRange(a.ranges[0]);var p=this.renderer.$scrollAnimation;return this.onCursorChange(),this.onSelectionChange(),p&&p.from==p.to&&this.renderer.animateScrolling(p.from),i}},this.exitMultiSelectMode=function(){this.inMultiSelectMode&&!this.inVirtualSelectionMode&&this.multiSelect.toSingleRange()},this.getSelectedText=function(){var e="";if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){for(var t=this.multiSelect.rangeList.ranges,n=[],i=0;i<t.length;i++)n.push(this.session.getTextRange(t[i]));var r=this.session.getDocument().getNewLineCharacter();(e=n.join(r)).length==(n.length-1)*r.length&&(e="")}else this.selection.isEmpty()||(e=this.session.getTextRange(this.getSelectionRange()));return e},this.$checkMultiselectChange=function(e,t){if(this.inMultiSelectMode&&!this.inVirtualSelectionMode){var n=this.multiSelect.ranges[0];if(this.multiSelect.isEmpty()&&t==this.multiSelect.anchor)return;var i=t==this.multiSelect.anchor?n.cursor==n.start?n.end:n.start:n.cursor;i.row!=t.row||this.session.$clipPositionToDocument(i.row,i.column).column!=t.column?this.multiSelect.toSingleRange(this.multiSelect.toOrientedRange()):this.multiSelect.mergeOverlappingRanges()}},this.findAll=function(e,t,n){var i;(t=t||{}).needle=e||t.needle,null==t.needle&&(i=this.selection.isEmpty()?this.selection.getWordRange():this.selection.getRange(),t.needle=this.session.getTextRange(i)),this.$search.set(t);var r=this.$search.findAll(this.session);if(!r.length)return 0;var o=this.multiSelect;n||o.toSingleRange(r[0]);for(var s=r.length;s--;)o.addRange(r[s],!0);return i&&o.rangeList.rangeAtPoint(i.start)&&o.addRange(i,!0),r.length},this.selectMoreLines=function(e,t){var n=this.selection.toOrientedRange(),i=n.cursor==n.end,o=this.session.documentToScreenPosition(n.cursor);this.selection.$desiredColumn&&(o.column=this.selection.$desiredColumn);var s,a,l,c,h=this.session.screenToDocumentPosition(o.row+e,o.column);a=n.isEmpty()?h:(s=this.session.documentToScreenPosition(i?n.end:n.start),this.session.screenToDocumentPosition(s.row+e,s.column)),i?(l=r.fromPoints(h,a)).cursor=l.start:(l=r.fromPoints(a,h)).cursor=l.end,l.desiredColumn=o.column,this.selection.inMultiSelectMode?t&&(c=n.cursor):this.selection.addRange(n),this.selection.addRange(l),c&&this.selection.substractPoint(c)},this.transposeSelections=function(e){for(var t=this.session,n=t.multiSelect,i=n.ranges,r=i.length;r--;)(s=i[r]).isEmpty()&&(a=t.getWordRange(s.start.row,s.start.column),s.start.row=a.start.row,s.start.column=a.start.column,s.end.row=a.end.row,s.end.column=a.end.column);n.mergeOverlappingRanges();var o=[];for(r=i.length;r--;){var s=i[r];o.unshift(t.getTextRange(s))}for(e<0?o.unshift(o.pop()):o.push(o.shift()),r=i.length;r--;){var a=(s=i[r]).clone();t.replace(s,o[r]),s.start.row=a.start.row,s.start.column=a.start.column}n.fromOrientedRange(n.ranges[0])},this.selectMore=function(e,t,n){var i,r,o,s,a,l=this.session,c=l.multiSelect.toOrientedRange();c.isEmpty()&&((c=l.getWordRange(c.start.row,c.start.column)).cursor=-1==e?c.start:c.end,this.multiSelect.addRange(c),n)||(i=l.getTextRange(c),o=l,s=i,a=e,h.$options.wrap=!0,h.$options.needle=s,h.$options.backwards=-1==a,(r=h.find(o))&&(r.cursor=-1==e?r.start:r.end,this.session.unfold(r),this.multiSelect.addRange(r),this.renderer.scrollCursorIntoView(null,.5)),t&&this.multiSelect.substractPoint(c.cursor))},this.alignCursors=function(){var e=this.session,t=e.multiSelect,n=t.ranges,i=-1,o=n.filter((function(e){return e.cursor.row==i||void(i=e.cursor.row)}));if(n.length&&o.length!=n.length-1){o.forEach((function(e){t.substractPoint(e.cursor)}));var s=0,a=1/0,c=n.map((function(t){var n=t.cursor,i=e.getLine(n.row).substr(n.column).search(/\S/g);return-1==i&&(i=0),n.column>s&&(s=n.column),i<a&&(a=i),i}));n.forEach((function(t,n){var i=t.cursor,o=s-i.column,h=c[n]-a;h<o?e.insert(i,l.stringRepeat(" ",o-h)):e.remove(new r(i.row,i.column,i.row,i.column-o+h)),t.start.column=t.end.column=s,t.start.row=t.end.row=i.row,t.cursor=t.end})),t.fromOrientedRange(n[0]),this.renderer.updateCursor(),this.renderer.updateBackMarkers()}else{var h=this.selection.getRange(),d=h.start.row,u=h.end.row,p=d==u;if(p){for(var g,f=this.session.getLength();g=this.session.getLine(u),/[=:]/.test(g)&&++u<f;);for(;g=this.session.getLine(d),/[=:]/.test(g)&&0<--d;);d<0&&(d=0),f<=u&&(u=f-1)}var m=this.session.removeFullLines(d,u);m=this.$reAlignText(m,p),this.session.insert({row:d,column:0},m.join("\n")+"\n"),p||(h.start.column=0,h.end.column=m[m.length-1].length),this.selection.setRange(h)}},this.$reAlignText=function(e,t){var n,i,r,o=!0,s=!0;return e.map((function(e){var t=e.match(/(\s*)(.*?)(\s*)([=:].*)/);return t?(null==n?(n=t[1].length,i=t[2].length,r=t[3].length):(n+i+r!=t[1].length+t[2].length+t[3].length&&(s=!1),n!=t[1].length&&(o=!1),n>t[1].length&&(n=t[1].length),i<t[2].length&&(i=t[2].length),r>t[3].length&&(r=t[3].length)),t):[e]})).map(t?c:o?s?function(e){return e[2]?a(n+i-e[2].length)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}:c:function(e){return e[2]?a(n)+e[2]+a(r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]});function a(e){return l.stringRepeat(" ",e)}function c(e){return e[2]?a(n)+e[2]+a(i-e[2].length+r)+e[4].replace(/^([=:])\s+/,"$1 "):e[0]}}}).call(u.prototype),t.onSessionChange=function(e){var t=e.session;t&&!t.multiSelect&&(t.$selectionMarkers=[],t.selection.$initRangeList(),t.multiSelect=t.selection),this.multiSelect=t&&t.multiSelect;var n=e.oldSession;n&&(n.multiSelect.off("addRange",this.$onAddRange),n.multiSelect.off("removeRange",this.$onRemoveRange),n.multiSelect.off("multiSelect",this.$onMultiSelect),n.multiSelect.off("singleSelect",this.$onSingleSelect),n.multiSelect.lead.off("change",this.$checkMultiselectChange),n.multiSelect.anchor.off("change",this.$checkMultiselectChange)),t&&(t.multiSelect.on("addRange",this.$onAddRange),t.multiSelect.on("removeRange",this.$onRemoveRange),t.multiSelect.on("multiSelect",this.$onMultiSelect),t.multiSelect.on("singleSelect",this.$onSingleSelect),t.multiSelect.lead.on("change",this.$checkMultiselectChange),t.multiSelect.anchor.on("change",this.$checkMultiselectChange)),t&&this.inMultiSelectMode!=t.selection.inMultiSelectMode&&(t.selection.inMultiSelectMode?this.$onMultiSelect():this.$onSingleSelect())},t.MultiSelect=p,e("./config").defineOptions(u.prototype,"editor",{enableMultiselect:{set:function(e){p(this),e?(this.on("changeSession",this.$multiselectOnSessionChange),this.on("mousedown",s)):(this.off("changeSession",this.$multiselectOnSessionChange),this.off("mousedown",s))},value:!0},enableBlockSelect:{set:function(e){this.$blockSelectEnabled=e},value:!0}})})),ace.define("ace/mode/folding/fold_mode",["require","exports","module","ace/range"],(function(e,t,n){"use strict";var i=e("../../range").Range,r=t.FoldMode=function(){};(function(){this.foldingStartMarker=null,this.foldingStopMarker=null,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);return this.foldingStartMarker.test(i)?"start":"markbeginend"==t&&this.foldingStopMarker&&this.foldingStopMarker.test(i)?"end":""},this.getFoldWidgetRange=function(e,t,n){return null},this.indentationBlock=function(e,t,n){var r=/\S/,o=e.getLine(t),s=o.search(r);if(-1!=s){for(var a=n||o.length,l=e.getLength(),c=t,h=t;++t<l;){var d=e.getLine(t).search(r);if(-1!=d){if(d<=s){var u=e.getTokenAt(t,0);if(!u||"string"!==u.type)break}h=t}}if(c<h){var p=e.getLine(h).length;return new i(c,a,h,p)}}},this.openingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r+1},a=e.$findClosingBracket(t,s,o);if(a){var l=e.foldWidgets[a.row];return null==l&&(l=e.getFoldWidget(a.row)),"start"==l&&a.row>s.row&&(a.row--,a.column=e.getLine(a.row).length),i.fromPoints(s,a)}},this.closingBracketBlock=function(e,t,n,r,o){var s={row:n,column:r},a=e.$findOpeningBracket(t,s);if(a)return a.column++,s.column--,i.fromPoints(a,s)}}).call(r.prototype)})),ace.define("ace/theme/textmate",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";t.isDark=!1,t.cssClass="ace-tm",t.cssText='.ace-tm .ace_gutter {background: #f0f0f0;color: #333;}.ace-tm .ace_print-margin {width: 1px;background: #e8e8e8;}.ace-tm .ace_fold {background-color: #6B72E6;}.ace-tm {background-color: #FFFFFF;color: black;}.ace-tm .ace_cursor {color: black;}.ace-tm .ace_invisible {color: rgb(191, 191, 191);}.ace-tm .ace_storage,.ace-tm .ace_keyword {color: blue;}.ace-tm .ace_constant {color: rgb(197, 6, 11);}.ace-tm .ace_constant.ace_buildin {color: rgb(88, 72, 246);}.ace-tm .ace_constant.ace_language {color: rgb(88, 92, 246);}.ace-tm .ace_constant.ace_library {color: rgb(6, 150, 14);}.ace-tm .ace_invalid {background-color: rgba(255, 0, 0, 0.1);color: red;}.ace-tm .ace_support.ace_function {color: rgb(60, 76, 114);}.ace-tm .ace_support.ace_constant {color: rgb(6, 150, 14);}.ace-tm .ace_support.ace_type,.ace-tm .ace_support.ace_class {color: rgb(109, 121, 222);}.ace-tm .ace_keyword.ace_operator {color: rgb(104, 118, 135);}.ace-tm .ace_string {color: rgb(3, 106, 7);}.ace-tm .ace_comment {color: rgb(76, 136, 107);}.ace-tm .ace_comment.ace_doc {color: rgb(0, 102, 255);}.ace-tm .ace_comment.ace_doc.ace_tag {color: rgb(128, 159, 191);}.ace-tm .ace_constant.ace_numeric {color: rgb(0, 0, 205);}.ace-tm .ace_variable {color: rgb(49, 132, 149);}.ace-tm .ace_xml-pe {color: rgb(104, 104, 91);}.ace-tm .ace_entity.ace_name.ace_function {color: #0000A2;}.ace-tm .ace_heading {color: rgb(12, 7, 255);}.ace-tm .ace_list {color:rgb(185, 6, 144);}.ace-tm .ace_meta.ace_tag {color:rgb(0, 22, 142);}.ace-tm .ace_string.ace_regex {color: rgb(255, 0, 0)}.ace-tm .ace_marker-layer .ace_selection {background: rgb(181, 213, 255);}.ace-tm.ace_multiselect .ace_selection.ace_start {box-shadow: 0 0 3px 0px white;}.ace-tm .ace_marker-layer .ace_step {background: rgb(252, 255, 0);}.ace-tm .ace_marker-layer .ace_stack {background: rgb(164, 229, 101);}.ace-tm .ace_marker-layer .ace_bracket {margin: -1px 0 0 -1px;border: 1px solid rgb(192, 192, 192);}.ace-tm .ace_marker-layer .ace_active-line {background: rgba(0, 0, 0, 0.07);}.ace-tm .ace_gutter-active-line {background-color : #dcdcdc;}.ace-tm .ace_marker-layer .ace_selected-word {background: rgb(250, 250, 255);border: 1px solid rgb(200, 200, 250);}.ace-tm .ace_indent-guide {background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y;}',t.$id="ace/theme/textmate",e("../lib/dom").importCssString(t.cssText,t.cssClass)})),ace.define("ace/line_widgets",["require","exports","module","ace/lib/dom"],(function(e,t,n){"use strict";var i=e("./lib/dom");function r(e){this.session=e,(this.session.widgetManager=this).session.getRowLength=this.getRowLength,this.session.$getWidgetScreenLength=this.$getWidgetScreenLength,this.updateOnChange=this.updateOnChange.bind(this),this.renderWidgets=this.renderWidgets.bind(this),this.measureWidgets=this.measureWidgets.bind(this),this.session._changedWidgets=[],this.$onChangeEditor=this.$onChangeEditor.bind(this),this.session.on("change",this.updateOnChange),this.session.on("changeFold",this.updateOnFold),this.session.on("changeEditor",this.$onChangeEditor)}(function(){this.getRowLength=function(e){var t=this.lineWidgets&&this.lineWidgets[e]&&this.lineWidgets[e].rowCount||0;return this.$useWrapMode&&this.$wrapData[e]?this.$wrapData[e].length+1+t:1+t},this.$getWidgetScreenLength=function(){var e=0;return this.lineWidgets.forEach((function(t){t&&t.rowCount&&!t.hidden&&(e+=t.rowCount)})),e},this.$onChangeEditor=function(e){this.attach(e.editor)},this.attach=function(e){e&&e.widgetManager&&e.widgetManager!=this&&e.widgetManager.detach(),this.editor!=e&&(this.detach(),(this.editor=e)&&(e.widgetManager=this,e.renderer.on("beforeRender",this.measureWidgets),e.renderer.on("afterRender",this.renderWidgets)))},this.detach=function(e){var t,n=this.editor;n&&(this.editor=null,n.widgetManager=null,n.renderer.off("beforeRender",this.measureWidgets),n.renderer.off("afterRender",this.renderWidgets),(t=this.session.lineWidgets)&&t.forEach((function(e){e&&e.el&&e.el.parentNode&&(e._inDocument=!1,e.el.parentNode.removeChild(e.el))})))},this.updateOnFold=function(e,t){var n=t.lineWidgets;if(n&&e.action){for(var i=e.data,r=i.start.row,o=i.end.row,s="add"==e.action,a=r+1;a<o;a++)n[a]&&(n[a].hidden=s);n[o]&&(s?n[r]?n[o].hidden=s:n[r]=n[o]:(n[r]==n[o]&&(n[r]=void 0),n[o].hidden=s))}},this.updateOnChange=function(e){var t,n,i,r,o=this.session.lineWidgets;o&&(0==(n=e.end.row-(t=e.start.row))||("remove"==e.action?(i=o.splice(t+1,n),!o[t]&&i[i.length-1]&&(o[t]=i.pop()),i.forEach((function(e){e&&this.removeLineWidget(e)}),this)):(r=new Array(n),o[t]&&null!=o[t].column&&e.start.column>o[t].column&&t++,r.unshift(t,0),o.splice.apply(o,r)),this.$updateRows()))},this.$updateRows=function(){var e,t=this.session.lineWidgets;t&&(e=!0,t.forEach((function(t,n){if(t)for(e=!1,t.row=n;t.$oldWidget;)t.$oldWidget.row=n,t=t.$oldWidget})),e&&(this.session.lineWidgets=null))},this.$registerLineWidget=function(e){this.session.lineWidgets||(this.session.lineWidgets=new Array(this.session.getLength()));var t=this.session.lineWidgets[e.row];return t&&(e.$oldWidget=t).el&&t.el.parentNode&&(t.el.parentNode.removeChild(t.el),t._inDocument=!1),this.session.lineWidgets[e.row]=e},this.addLineWidget=function(e){if(this.$registerLineWidget(e),e.session=this.session,!this.editor)return e;var t=this.editor.renderer;e.html&&!e.el&&(e.el=i.createElement("div"),e.el.innerHTML=e.html),e.el&&(i.addCssClass(e.el,"ace_lineWidgetContainer"),e.el.style.position="absolute",e.el.style.zIndex=5,t.container.appendChild(e.el),e._inDocument=!0,e.coverGutter||(e.el.style.zIndex=3),null==e.pixelHeight&&(e.pixelHeight=e.el.offsetHeight)),null==e.rowCount&&(e.rowCount=e.pixelHeight/t.layerConfig.lineHeight);var n,r=this.session.getFoldAt(e.row,0);return(e.$fold=r)&&(n=this.session.lineWidgets,e.row!=r.end.row||n[r.start.row]?e.hidden=!0:n[r.start.row]=e),this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows(),this.renderWidgets(null,t),this.onWidgetChanged(e),e},this.removeLineWidget=function(e){if(e._inDocument=!1,e.session=null,e.el&&e.el.parentNode&&e.el.parentNode.removeChild(e.el),e.editor&&e.editor.destroy)try{e.editor.destroy()}catch(e){}if(this.session.lineWidgets){var t=this.session.lineWidgets[e.row];if(t==e)this.session.lineWidgets[e.row]=e.$oldWidget,e.$oldWidget&&this.onWidgetChanged(e.$oldWidget);else for(;t;){if(t.$oldWidget==e){t.$oldWidget=e.$oldWidget;break}t=t.$oldWidget}}this.session._emit("changeFold",{data:{start:{row:e.row}}}),this.$updateRows()},this.getWidgetsAtRow=function(e){for(var t=this.session.lineWidgets,n=t&&t[e],i=[];n;)i.push(n),n=n.$oldWidget;return i},this.onWidgetChanged=function(e){this.session._changedWidgets.push(e),this.editor&&this.editor.renderer.updateFull()},this.measureWidgets=function(e,t){var n=this.session._changedWidgets,i=t.layerConfig;if(n&&n.length){for(var r=1/0,o=0;o<n.length;o++){var s=n[o];if(s&&s.el&&s.session==this.session){if(!s._inDocument){if(this.session.lineWidgets[s.row]!=s)continue;s._inDocument=!0,t.container.appendChild(s.el)}s.h=s.el.offsetHeight,s.fixedWidth||(s.w=s.el.offsetWidth,s.screenWidth=Math.ceil(s.w/i.characterWidth));var a=s.h/i.lineHeight;s.coverLine&&(a-=this.session.getRowLineCount(s.row))<0&&(a=0),s.rowCount!=a&&(s.rowCount=a,s.row<r&&(r=s.row))}}r!=1/0&&(this.session._emit("changeFold",{data:{start:{row:r}}}),this.session.lineWidgetWidth=null),this.session._changedWidgets=[]}},this.renderWidgets=function(e,t){var n=t.layerConfig,i=this.session.lineWidgets;if(i){for(var r=Math.min(this.firstRow,n.firstRow),o=Math.max(this.lastRow,n.lastRow,i.length);0<r&&!i[r];)r--;this.firstRow=n.firstRow,this.lastRow=n.lastRow,t.$cursorLayer.config=n;for(var s=r;s<=o;s++){var a,l,c=i[s];c&&c.el&&(c.hidden?c.el.style.top=-100-(c.pixelHeight||0)+"px":(c._inDocument||(c._inDocument=!0,t.container.appendChild(c.el)),a=t.$cursorLayer.getPixelPosition({row:s,column:0},!0).top,c.coverLine||(a+=n.lineHeight*this.session.getRowLineCount(c.row)),c.el.style.top=a-n.offset+"px",l=c.coverGutter?0:t.gutterWidth,c.fixedWidth||(l-=t.scrollLeft),c.el.style.left=l+"px",c.fullWidth&&c.screenWidth&&(c.el.style.minWidth=n.width+2*n.padding+"px"),c.el.style.right=c.fixedWidth?t.scrollBar.getWidth()+"px":""))}}}}).call(r.prototype),t.LineWidgets=r})),ace.define("ace/ext/error_marker",["require","exports","module","ace/line_widgets","ace/lib/dom","ace/range"],(function(e,t,n){"use strict";var i=e("../line_widgets").LineWidgets,r=e("../lib/dom"),o=e("../range").Range;function s(e,t,n){var i=e.getAnnotations().sort(o.comparePoints);if(i.length){var r=function(e,t,n){for(var i=0,r=e.length-1;i<=r;){var o=i+r>>1,s=n(t,e[o]);if(0<s)i=1+o;else{if(!(s<0))return o;r=o-1}}return-(i+1)}(i,{row:t,column:-1},o.comparePoints);r<0&&(r=-r-1),r>=i.length?r=0<n?0:i.length-1:0===r&&n<0&&(r=i.length-1);var s=i[r];if(s&&n){if(s.row===t){for(;(s=i[r+=n])&&s.row===t;);if(!s)return i.slice()}var a=[];for(t=s.row;a[n<0?"unshift":"push"](s),(s=i[r+=n])&&s.row==t;);return a.length&&a}}}t.showErrorMarker=function(e,t){var n=e.session;n.widgetManager||(n.widgetManager=new i(n),n.widgetManager.attach(e));var o=e.getCursorPosition(),a=o.row,l=n.widgetManager.getWidgetsAtRow(a).filter((function(e){return"errorMarker"==e.type}))[0];l?l.destroy():a-=t;var c,h=s(n,a,t);if(h){var d=h[0];o.column=(d.pos&&"number"!=typeof d.column?d.pos.sc:d.column)||0,o.row=d.row,c=e.renderer.$gutterLayer.$annotations[o.row]}else{if(l)return;c={text:["Looks good!"],className:"ace_ok"}}e.session.unfold(o.row),e.selection.moveToPosition(o);var u={row:o.row,fixedWidth:!0,coverGutter:!0,el:r.createElement("div"),type:"errorMarker"},p=u.el.appendChild(r.createElement("div")),g=u.el.appendChild(r.createElement("div"));g.className="error_widget_arrow "+c.className;var f=e.renderer.$cursorLayer.getPixelPosition(o).left;function m(e,t,n){if(0===t&&("esc"===n||"return"===n))return u.destroy(),{command:"null"}}g.style.left=f+e.renderer.gutterWidth-5+"px",u.el.className="error_widget_wrapper",p.className="error_widget "+c.className,p.innerHTML=c.text.join("<br>"),p.appendChild(r.createElement("div")),u.destroy=function(){e.$mouseHandler.isMousePressed||(e.keyBinding.removeKeyboardHandler(m),n.widgetManager.removeLineWidget(u),e.off("changeSelection",u.destroy),e.off("changeSession",u.destroy),e.off("mouseup",u.destroy),e.off("change",u.destroy))},e.keyBinding.addKeyboardHandler(m),e.on("changeSelection",u.destroy),e.on("changeSession",u.destroy),e.on("mouseup",u.destroy),e.on("change",u.destroy),e.session.widgetManager.addLineWidget(u),u.el.onmousedown=e.focus.bind(e),e.renderer.scrollCursorIntoView(null,.5,{bottom:u.el.offsetHeight})},r.importCssString("    .error_widget_wrapper {        background: inherit;        color: inherit;        border:none    }    .error_widget {        border-top: solid 2px;        border-bottom: solid 2px;        margin: 5px 0;        padding: 10px 40px;        white-space: pre-wrap;    }    .error_widget.ace_error, .error_widget_arrow.ace_error{        border-color: #ff5a5a    }    .error_widget.ace_warning, .error_widget_arrow.ace_warning{        border-color: #F1D817    }    .error_widget.ace_info, .error_widget_arrow.ace_info{        border-color: #5a5a5a    }    .error_widget.ace_ok, .error_widget_arrow.ace_ok{        border-color: #5aaa5a    }    .error_widget_arrow {        position: absolute;        border: solid 5px;        border-top-color: transparent!important;        border-right-color: transparent!important;        border-left-color: transparent!important;        top: -5px;    }","")})),ace.define("ace/ace",["require","exports","module","ace/lib/fixoldbrowsers","ace/lib/dom","ace/lib/event","ace/range","ace/editor","ace/edit_session","ace/undomanager","ace/virtual_renderer","ace/worker/worker_client","ace/keyboard/hash_handler","ace/placeholder","ace/multi_select","ace/mode/folding/fold_mode","ace/theme/textmate","ace/ext/error_marker","ace/config"],(function(e,t,i){"use strict";e("./lib/fixoldbrowsers");var r=e("./lib/dom"),o=e("./lib/event"),s=e("./range").Range,a=e("./editor").Editor,l=e("./edit_session").EditSession,c=e("./undomanager").UndoManager,h=e("./virtual_renderer").VirtualRenderer;e("./worker/worker_client"),e("./keyboard/hash_handler"),e("./placeholder"),e("./multi_select"),e("./mode/folding/fold_mode"),e("./theme/textmate"),e("./ext/error_marker"),t.config=e("./config"),t.require=e,t.define=n(23),t.edit=function(e,n){if("string"==typeof e){var i=e;if(!(e=document.getElementById(i)))throw new Error("ace.edit can't find div #"+i)}if(e&&e.env&&e.env.editor instanceof a)return e.env.editor;var s,l="";e&&/input|textarea/i.test(e.tagName)?(l=(s=e).value,e=r.createElement("pre"),s.parentNode.replaceChild(e,s)):e&&(l=e.textContent,e.innerHTML="");var c=t.createEditSession(l),d=new a(new h(e),c,n),u={document:c,editor:d,onResize:d.resize.bind(d,null)};return s&&(u.textarea=s),o.addListener(window,"resize",u.onResize),d.on("destroy",(function(){o.removeListener(window,"resize",u.onResize),u.editor.container.env=null})),d.container.env=d.env=u,d},t.createEditSession=function(e,t){var n=new l(e,t);return n.setUndoManager(new c),n},t.Range=s,t.Editor=a,t.EditSession=l,t.UndoManager=c,t.VirtualRenderer=h,t.version=t.config.version})),ace.require(["ace/ace"],(function(t){for(var n in t&&(t.config.init(!0),t.define=ace.define),window.ace||(window.ace=t),t)t.hasOwnProperty(n)&&(window.ace[n]=t[n]);window.ace.default=window.ace,e&&(e.exports=window.ace)}))}).call(this,n(16)(e))},function(e,t,n){(function(e){ace.define("ace/mode/json_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";function i(){this.$rules={start:[{token:"variable",regex:'["](?:(?:\\\\.)|(?:[^"\\\\]))*?["]\\s*(?=:)'},{token:"string",regex:'"',next:"string"},{token:"constant.numeric",regex:"0[xX][0-9a-fA-F]+\\b"},{token:"constant.numeric",regex:"[+-]?\\d+(?:(?:\\.\\d*)?(?:[eE][+-]?\\d+)?)?\\b"},{token:"constant.language.boolean",regex:"(?:true|false)\\b"},{token:"text",regex:"['](?:(?:\\\\.)|(?:[^'\\\\]))*?[']"},{token:"comment",regex:"\\/\\/.*$"},{token:"comment.start",regex:"\\/\\*",next:"comment"},{token:"paren.lparen",regex:"[[({]"},{token:"paren.rparen",regex:"[\\])}]"},{token:"text",regex:"\\s+"}],string:[{token:"constant.language.escape",regex:/\\(?:x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4}|["\\\/bfnrt])/},{token:"string",regex:'"|$',next:"start"},{defaultToken:"string"}],comment:[{token:"comment.end",regex:"\\*\\/",next:"start"},{defaultToken:"comment"}]}}var r=e("../lib/oop"),o=e("./text_highlight_rules").TextHighlightRules;r.inherits(i,o),t.JsonHighlightRules=i})),ace.define("ace/mode/matching_brace_outdent",["require","exports","module","ace/range"],(function(e,t,n){"use strict";function i(){}var r=e("../range").Range;(function(){this.checkOutdent=function(e,t){return!!/^\s+$/.test(e)&&/^\s*\}/.test(t)},this.autoOutdent=function(e,t){var n=e.getLine(t).match(/^(\s*\})/);if(!n)return 0;var i=n[1].length,o=e.findMatchingBracket({row:t,column:i});if(!o||o.row==t)return 0;var s=this.$getIndent(e.getLine(o.row));e.replace(new r(t,0,t,i-1),s)},this.$getIndent=function(e){return e.match(/^\s*/)[0]}}).call(i.prototype),t.MatchingBraceOutdent=i})),ace.define("ace/mode/folding/cstyle",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var i=e("../../lib/oop"),r=e("../../range").Range,o=e("./fold_mode").FoldMode,s=t.FoldMode=function(e){e&&(this.foldingStartMarker=new RegExp(this.foldingStartMarker.source.replace(/\|[^|]*?$/,"|"+e.start)),this.foldingStopMarker=new RegExp(this.foldingStopMarker.source.replace(/\|[^|]*?$/,"|"+e.end)))};i.inherits(s,o),(function(){this.foldingStartMarker=/([\{\[\(])[^\}\]\)]*$|^\s*(\/\*)/,this.foldingStopMarker=/^[^\[\{\(]*([\}\]\)])|^[\s\*]*(\*\/)/,this.singleLineBlockCommentRe=/^\s*(\/\*).*\*\/\s*$/,this.tripleStarBlockCommentRe=/^\s*(\/\*\*\*).*\*\/\s*$/,this.startRegionRe=/^\s*(\/\*|\/\/)#?region\b/,this._getFoldWidgetBase=this.getFoldWidget,this.getFoldWidget=function(e,t,n){var i=e.getLine(n);if(this.singleLineBlockCommentRe.test(i)&&!this.startRegionRe.test(i)&&!this.tripleStarBlockCommentRe.test(i))return"";var r=this._getFoldWidgetBase(e,t,n);return!r&&this.startRegionRe.test(i)?"start":r},this.getFoldWidgetRange=function(e,t,n,i){var r=e.getLine(n);if(this.startRegionRe.test(r))return this.getCommentRegionBlock(e,r,n);var o=r.match(this.foldingStartMarker);if(o){var s=o.index;if(o[1])return this.openingBracketBlock(e,o[1],n,s);var a=e.getCommentFoldRange(n,s+o[0].length,1);return a&&!a.isMultiLine()&&(i?a=this.getSectionRange(e,n):"all"!=t&&(a=null)),a}return"markbegin"!==t&&(o=r.match(this.foldingStopMarker))?(s=o.index+o[0].length,o[1]?this.closingBracketBlock(e,o[1],n,s):e.getCommentFoldRange(n,s,-1)):void 0},this.getSectionRange=function(e,t){for(var n=e.getLine(t),i=n.search(/\S/),o=t,s=n.length,a=t+=1,l=e.getLength();++t<l;){var c=(n=e.getLine(t)).search(/\S/);if(-1!==c){if(c<i)break;var h=this.getFoldWidgetRange(e,"all",t);if(h){if(h.start.row<=o)break;if(h.isMultiLine())t=h.end.row;else if(i==c)break}a=t}}return new r(o,s,a,e.getLine(a).length)},this.getCommentRegionBlock=function(e,t,n){for(var i=t.search(/\s*$/),o=e.getLength(),s=n,a=/^\s*(?:\/\*|\/\/|--)#?(end)?region\b/,l=1;++n<o;){t=e.getLine(n);var c=a.exec(t);if(c&&(c[1]?l--:l++,!l))break}if(s<n)return new r(s,i,n,t.length)}}).call(s.prototype)})),ace.define("ace/mode/json",["require","exports","module","ace/lib/oop","ace/mode/text","ace/mode/json_highlight_rules","ace/mode/matching_brace_outdent","ace/mode/behaviour/cstyle","ace/mode/folding/cstyle","ace/worker/worker_client"],(function(e,t,n){"use strict";function i(){this.HighlightRules=s,this.$outdent=new a,this.$behaviour=new l,this.foldingRules=new c}var r=e("../lib/oop"),o=e("./text").Mode,s=e("./json_highlight_rules").JsonHighlightRules,a=e("./matching_brace_outdent").MatchingBraceOutdent,l=e("./behaviour/cstyle").CstyleBehaviour,c=e("./folding/cstyle").FoldMode,h=e("../worker/worker_client").WorkerClient;r.inherits(i,o),(function(){this.lineCommentStart="//",this.blockComment={start:"/*",end:"*/"},this.getNextLineIndent=function(e,t,n){var i=this.$getIndent(t);return"start"==e&&t.match(/^.*[\{\(\[]\s*$/)&&(i+=n),i},this.checkOutdent=function(e,t,n){return this.$outdent.checkOutdent(t,n)},this.autoOutdent=function(e,t,n){this.$outdent.autoOutdent(t,n)},this.createWorker=function(e){var t=new h(["ace"],"ace/mode/json_worker","JsonWorker");return t.attachToDocument(e.getDocument()),t.on("annotate",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/json"}).call(i.prototype),t.Mode=i})),ace.require(["ace/mode/json"],(function(t){e&&(e.exports=t)}))}).call(this,n(16)(e))},function(e,t,n){(function(e){ace.define("ace/ext/searchbox",["require","exports","module","ace/lib/dom","ace/lib/lang","ace/lib/event","ace/keyboard/hash_handler","ace/lib/keys"],(function(e,t,n){"use strict";var i=e("../lib/dom"),r=e("../lib/lang"),o=e("../lib/event"),s='.ace_search {background-color: #ddd;color: #666;border: 1px solid #cbcbcb;border-top: 0 none;overflow: hidden;margin: 0;padding: 4px 6px 0 4px;position: absolute;top: 0;z-index: 99;white-space: normal;}.ace_search.left {border-left: 0 none;border-radius: 0px 0px 5px 0px;left: 0;}.ace_search.right {border-radius: 0px 0px 0px 5px;border-right: 0 none;right: 0;}.ace_search_form, .ace_replace_form {margin: 0 20px 4px 0;overflow: hidden;line-height: 1.9;}.ace_replace_form {margin-right: 0;}.ace_search_form.ace_nomatch {outline: 1px solid red;}.ace_search_field {border-radius: 3px 0 0 3px;background-color: white;color: black;border: 1px solid #cbcbcb;border-right: 0 none;outline: 0;padding: 0;font-size: inherit;margin: 0;line-height: inherit;padding: 0 6px;min-width: 17em;vertical-align: top;min-height: 1.8em;box-sizing: content-box;}.ace_searchbtn {border: 1px solid #cbcbcb;line-height: inherit;display: inline-block;padding: 0 6px;background: #fff;border-right: 0 none;border-left: 1px solid #dcdcdc;cursor: pointer;margin: 0;position: relative;color: #666;}.ace_searchbtn:last-child {border-radius: 0 3px 3px 0;border-right: 1px solid #cbcbcb;}.ace_searchbtn:disabled {background: none;cursor: default;}.ace_searchbtn:hover {background-color: #eef1f6;}.ace_searchbtn.prev, .ace_searchbtn.next {padding: 0px 0.7em}.ace_searchbtn.prev:after, .ace_searchbtn.next:after {content: "";border: solid 2px #888;width: 0.5em;height: 0.5em;border-width:  2px 0 0 2px;display:inline-block;transform: rotate(-45deg);}.ace_searchbtn.next:after {border-width: 0 2px 2px 0 ;}.ace_searchbtn_close {background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAA4AAAAcCAYAAABRVo5BAAAAZ0lEQVR42u2SUQrAMAhDvazn8OjZBilCkYVVxiis8H4CT0VrAJb4WHT3C5xU2a2IQZXJjiQIRMdkEoJ5Q2yMqpfDIo+XY4k6h+YXOyKqTIj5REaxloNAd0xiKmAtsTHqW8sR2W5f7gCu5nWFUpVjZwAAAABJRU5ErkJggg==) no-repeat 50% 0;border-radius: 50%;border: 0 none;color: #656565;cursor: pointer;font: 16px/16px Arial;padding: 0;height: 14px;width: 14px;top: 9px;right: 7px;position: absolute;}.ace_searchbtn_close:hover {background-color: #656565;background-position: 50% 100%;color: white;}.ace_button {margin-left: 2px;cursor: pointer;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;overflow: hidden;opacity: 0.7;border: 1px solid rgba(100,100,100,0.23);padding: 1px;box-sizing:    border-box!important;color: black;}.ace_button:hover {background-color: #eee;opacity:1;}.ace_button:active {background-color: #ddd;}.ace_button.checked {border-color: #3399ff;opacity:1;}.ace_search_options{margin-bottom: 3px;text-align: right;-webkit-user-select: none;-moz-user-select: none;-o-user-select: none;-ms-user-select: none;user-select: none;clear: both;}.ace_search_counter {float: left;font-family: arial;padding: 0 8px;}',a=e("../keyboard/hash_handler").HashHandler,l=e("../lib/keys");function c(e,t,n){var r=i.createElement("div");i.buildDom(["div",{class:"ace_search right"},["span",{action:"hide",class:"ace_searchbtn_close"}],["div",{class:"ace_search_form"},["input",{class:"ace_search_field",placeholder:"Search for",spellcheck:"false"}],["span",{action:"findPrev",class:"ace_searchbtn prev"},"\u200b"],["span",{action:"findNext",class:"ace_searchbtn next"},"\u200b"],["span",{action:"findAll",class:"ace_searchbtn",title:"Alt-Enter"},"All"]],["div",{class:"ace_replace_form"},["input",{class:"ace_search_field",placeholder:"Replace with",spellcheck:"false"}],["span",{action:"replaceAndFindNext",class:"ace_searchbtn"},"Replace"],["span",{action:"replaceAll",class:"ace_searchbtn"},"All"]],["div",{class:"ace_search_options"},["span",{action:"toggleReplace",class:"ace_button",title:"Toggle Replace mode",style:"float:left;margin-top:-2px;padding:0 5px;"},"+"],["span",{class:"ace_search_counter"}],["span",{action:"toggleRegexpMode",class:"ace_button",title:"RegExp Search"},".*"],["span",{action:"toggleCaseSensitive",class:"ace_button",title:"CaseSensitive Search"},"Aa"],["span",{action:"toggleWholeWords",class:"ace_button",title:"Whole Word Search"},"\\b"],["span",{action:"searchInSelection",class:"ace_button",title:"Search In Selection"},"S"]]],r),this.element=r.firstChild,this.setSession=this.setSession.bind(this),this.$init(),this.setEditor(e),i.importCssString(s,"ace_searchbox",e.container)}i.importCssString(s,"ace_searchbox"),(function(){this.setEditor=function(e){e.searchBox=this,e.renderer.scroller.appendChild(this.element),this.editor=e},this.setSession=function(e){this.searchRange=null,this.$syncOptions(!0)},this.$initElements=function(e){this.searchBox=e.querySelector(".ace_search_form"),this.replaceBox=e.querySelector(".ace_replace_form"),this.searchOption=e.querySelector("[action=searchInSelection]"),this.replaceOption=e.querySelector("[action=toggleReplace]"),this.regExpOption=e.querySelector("[action=toggleRegexpMode]"),this.caseSensitiveOption=e.querySelector("[action=toggleCaseSensitive]"),this.wholeWordOption=e.querySelector("[action=toggleWholeWords]"),this.searchInput=this.searchBox.querySelector(".ace_search_field"),this.replaceInput=this.replaceBox.querySelector(".ace_search_field"),this.searchCounter=e.querySelector(".ace_search_counter")},this.$init=function(){var e=this.element;this.$initElements(e);var t=this;o.addListener(e,"mousedown",(function(e){setTimeout((function(){t.activeInput.focus()}),0),o.stopPropagation(e)})),o.addListener(e,"click",(function(e){var n=(e.target||e.srcElement).getAttribute("action");n&&t[n]?t[n]():t.$searchBarKb.commands[n]&&t.$searchBarKb.commands[n].exec(t),o.stopPropagation(e)})),o.addCommandKeyListener(e,(function(e,n,i){var r=l.keyCodeToString(i),s=t.$searchBarKb.findKeyCommand(n,r);s&&s.exec&&(s.exec(t),o.stopEvent(e))})),this.$onChange=r.delayedCall((function(){t.find(!1,!1)})),o.addListener(this.searchInput,"input",(function(){t.$onChange.schedule(20)})),o.addListener(this.searchInput,"focus",(function(){t.activeInput=t.searchInput,t.searchInput.value&&t.highlight()})),o.addListener(this.replaceInput,"focus",(function(){t.activeInput=t.replaceInput,t.searchInput.value&&t.highlight()}))},this.$closeSearchBarKb=new a([{bindKey:"Esc",name:"closeSearchBar",exec:function(e){e.searchBox.hide()}}]),this.$searchBarKb=new a,this.$searchBarKb.bindKeys({"Ctrl-f|Command-f":function(e){var t=e.isReplace=!e.isReplace;e.replaceBox.style.display=t?"":"none",e.replaceOption.checked=!1,e.$syncOptions(),e.searchInput.focus()},"Ctrl-H|Command-Option-F":function(e){e.editor.getReadOnly()||(e.replaceOption.checked=!0,e.$syncOptions(),e.replaceInput.focus())},"Ctrl-G|Command-G":function(e){e.findNext()},"Ctrl-Shift-G|Command-Shift-G":function(e){e.findPrev()},esc:function(e){setTimeout((function(){e.hide()}))},Return:function(e){e.activeInput==e.replaceInput&&e.replace(),e.findNext()},"Shift-Return":function(e){e.activeInput==e.replaceInput&&e.replace(),e.findPrev()},"Alt-Return":function(e){e.activeInput==e.replaceInput&&e.replaceAll(),e.findAll()},Tab:function(e){(e.activeInput==e.replaceInput?e.searchInput:e.replaceInput).focus()}}),this.$searchBarKb.addCommands([{name:"toggleRegexpMode",bindKey:{win:"Alt-R|Alt-/",mac:"Ctrl-Alt-R|Ctrl-Alt-/"},exec:function(e){e.regExpOption.checked=!e.regExpOption.checked,e.$syncOptions()}},{name:"toggleCaseSensitive",bindKey:{win:"Alt-C|Alt-I",mac:"Ctrl-Alt-R|Ctrl-Alt-I"},exec:function(e){e.caseSensitiveOption.checked=!e.caseSensitiveOption.checked,e.$syncOptions()}},{name:"toggleWholeWords",bindKey:{win:"Alt-B|Alt-W",mac:"Ctrl-Alt-B|Ctrl-Alt-W"},exec:function(e){e.wholeWordOption.checked=!e.wholeWordOption.checked,e.$syncOptions()}},{name:"toggleReplace",exec:function(e){e.replaceOption.checked=!e.replaceOption.checked,e.$syncOptions()}},{name:"searchInSelection",exec:function(e){e.searchOption.checked=!e.searchRange,e.setSearchRange(e.searchOption.checked&&e.editor.getSelectionRange()),e.$syncOptions()}}]),this.setSearchRange=function(e){(this.searchRange=e)?this.searchRangeMarker=this.editor.session.addMarker(e,"ace_active-line"):this.searchRangeMarker&&(this.editor.session.removeMarker(this.searchRangeMarker),this.searchRangeMarker=null)},this.$syncOptions=function(e){i.setCssClass(this.replaceOption,"checked",this.searchRange),i.setCssClass(this.searchOption,"checked",this.searchOption.checked),this.replaceOption.textContent=this.replaceOption.checked?"-":"+",i.setCssClass(this.regExpOption,"checked",this.regExpOption.checked),i.setCssClass(this.wholeWordOption,"checked",this.wholeWordOption.checked),i.setCssClass(this.caseSensitiveOption,"checked",this.caseSensitiveOption.checked);var t=this.editor.getReadOnly();this.replaceOption.style.display=t?"none":"",this.replaceBox.style.display=this.replaceOption.checked&&!t?"":"none",this.find(!1,!1,e)},this.highlight=function(e){this.editor.session.highlight(e||this.editor.$search.$options.re),this.editor.renderer.updateBackMarkers()},this.find=function(e,t,n){var r=!this.editor.find(this.searchInput.value,{skipCurrent:e,backwards:t,wrap:!0,regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked,preventScroll:n,range:this.searchRange})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",r),this.editor._emit("findSearchBox",{match:!r}),this.highlight(),this.updateCounter()},this.updateCounter=function(){var e=this.editor,t=e.$search.$options.re,n=0,i=0;if(t){var r=this.searchRange?e.session.getTextRange(this.searchRange):e.getValue(),o=e.session.doc.positionToIndex(e.selection.anchor);this.searchRange&&(o-=e.session.doc.positionToIndex(this.searchRange.start));for(var s,a=t.lastIndex=0;(s=t.exec(r))&&(n++,(a=s.index)<=o&&i++,!(999<n))&&(s[0]||(t.lastIndex=a+=1,!(a>=r.length))););}this.searchCounter.textContent=i+" of "+(999<n?"999+":n)},this.findNext=function(){this.find(!0,!1)},this.findPrev=function(){this.find(!0,!0)},this.findAll=function(){var e=!this.editor.findAll(this.searchInput.value,{regExp:this.regExpOption.checked,caseSensitive:this.caseSensitiveOption.checked,wholeWord:this.wholeWordOption.checked})&&this.searchInput.value;i.setCssClass(this.searchBox,"ace_nomatch",e),this.editor._emit("findSearchBox",{match:!e}),this.highlight(),this.hide()},this.replace=function(){this.editor.getReadOnly()||this.editor.replace(this.replaceInput.value)},this.replaceAndFindNext=function(){this.editor.getReadOnly()||(this.editor.replace(this.replaceInput.value),this.findNext())},this.replaceAll=function(){this.editor.getReadOnly()||this.editor.replaceAll(this.replaceInput.value)},this.hide=function(){this.active=!1,this.setSearchRange(null),this.editor.off("changeSession",this.setSession),this.element.style.display="none",this.editor.keyBinding.removeKeyboardHandler(this.$closeSearchBarKb),this.editor.focus()},this.show=function(e,t){this.active=!0,this.editor.on("changeSession",this.setSession),this.element.style.display="",this.replaceOption.checked=t,e&&(this.searchInput.value=e),this.searchInput.focus(),this.searchInput.select(),this.editor.keyBinding.addKeyboardHandler(this.$closeSearchBarKb),this.$syncOptions(!0)},this.isFocused=function(){var e=document.activeElement;return e==this.searchInput||e==this.replaceInput}}).call(c.prototype),t.SearchBox=c,t.Search=function(e,t){(e.searchBox||new c(e)).show(e.session.getTextRange(),t)}})),ace.require(["ace/ext/searchbox"],(function(t){e&&(e.exports=t)}))}).call(this,n(16)(e))},function(e,t){e.exports="data:application/javascript;base64,Im5vIHVzZSBzdHJpY3QiOwohKGZ1bmN0aW9uKHdpbmRvdykgewppZiAodHlwZW9mIHdpbmRvdy53aW5kb3cgIT0gInVuZGVmaW5lZCIgJiYgd2luZG93LmRvY3VtZW50KQogICAgcmV0dXJuOwppZiAod2luZG93LnJlcXVpcmUgJiYgd2luZG93LmRlZmluZSkKICAgIHJldHVybjsKCmlmICghd2luZG93LmNvbnNvbGUpIHsKICAgIHdpbmRvdy5jb25zb2xlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdmFyIG1zZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDApOwogICAgICAgIHBvc3RNZXNzYWdlKHt0eXBlOiAibG9nIiwgZGF0YTogbXNnc30pOwogICAgfTsKICAgIHdpbmRvdy5jb25zb2xlLmVycm9yID0KICAgIHdpbmRvdy5jb25zb2xlLndhcm4gPSAKICAgIHdpbmRvdy5jb25zb2xlLmxvZyA9CiAgICB3aW5kb3cuY29uc29sZS50cmFjZSA9IHdpbmRvdy5jb25zb2xlOwp9CndpbmRvdy53aW5kb3cgPSB3aW5kb3c7CndpbmRvdy5hY2UgPSB3aW5kb3c7Cgp3aW5kb3cub25lcnJvciA9IGZ1bmN0aW9uKG1lc3NhZ2UsIGZpbGUsIGxpbmUsIGNvbCwgZXJyKSB7CiAgICBwb3N0TWVzc2FnZSh7dHlwZTogImVycm9yIiwgZGF0YTogewogICAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgICAgZGF0YTogZXJyLmRhdGEsCiAgICAgICAgZmlsZTogZmlsZSwKICAgICAgICBsaW5lOiBsaW5lLCAKICAgICAgICBjb2w6IGNvbCwKICAgICAgICBzdGFjazogZXJyLnN0YWNrCiAgICB9fSk7Cn07Cgp3aW5kb3cubm9ybWFsaXplTW9kdWxlID0gZnVuY3Rpb24ocGFyZW50SWQsIG1vZHVsZU5hbWUpIHsKICAgIC8vIG5vcm1hbGl6ZSBwbHVnaW4gcmVxdWlyZXMKICAgIGlmIChtb2R1bGVOYW1lLmluZGV4T2YoIiEiKSAhPT0gLTEpIHsKICAgICAgICB2YXIgY2h1bmtzID0gbW9kdWxlTmFtZS5zcGxpdCgiISIpOwogICAgICAgIHJldHVybiB3aW5kb3cubm9ybWFsaXplTW9kdWxlKHBhcmVudElkLCBjaHVua3NbMF0pICsgIiEiICsgd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgY2h1bmtzWzFdKTsKICAgIH0KICAgIC8vIG5vcm1hbGl6ZSByZWxhdGl2ZSByZXF1aXJlcwogICAgaWYgKG1vZHVsZU5hbWUuY2hhckF0KDApID09ICIuIikgewogICAgICAgIHZhciBiYXNlID0gcGFyZW50SWQuc3BsaXQoIi8iKS5zbGljZSgwLCAtMSkuam9pbigiLyIpOwogICAgICAgIG1vZHVsZU5hbWUgPSAoYmFzZSA/IGJhc2UgKyAiLyIgOiAiIikgKyBtb2R1bGVOYW1lOwogICAgICAgIAogICAgICAgIHdoaWxlIChtb2R1bGVOYW1lLmluZGV4T2YoIi4iKSAhPT0gLTEgJiYgcHJldmlvdXMgIT0gbW9kdWxlTmFtZSkgewogICAgICAgICAgICB2YXIgcHJldmlvdXMgPSBtb2R1bGVOYW1lOwogICAgICAgICAgICBtb2R1bGVOYW1lID0gbW9kdWxlTmFtZS5yZXBsYWNlKC9eXC5cLy8sICIiKS5yZXBsYWNlKC9cL1wuXC8vLCAiLyIpLnJlcGxhY2UoL1teXC9dK1wvXC5cLlwvLywgIiIpOwogICAgICAgIH0KICAgIH0KICAgIAogICAgcmV0dXJuIG1vZHVsZU5hbWU7Cn07Cgp3aW5kb3cucmVxdWlyZSA9IGZ1bmN0aW9uIHJlcXVpcmUocGFyZW50SWQsIGlkKSB7CiAgICBpZiAoIWlkKSB7CiAgICAgICAgaWQgPSBwYXJlbnRJZDsKICAgICAgICBwYXJlbnRJZCA9IG51bGw7CiAgICB9CiAgICBpZiAoIWlkLmNoYXJBdCkKICAgICAgICB0aHJvdyBuZXcgRXJyb3IoIndvcmtlci5qcyByZXF1aXJlKCkgYWNjZXB0cyBvbmx5IChwYXJlbnRJZCwgaWQpIGFzIGFyZ3VtZW50cyIpOwoKICAgIGlkID0gd2luZG93Lm5vcm1hbGl6ZU1vZHVsZShwYXJlbnRJZCwgaWQpOwoKICAgIHZhciBtb2R1bGUgPSB3aW5kb3cucmVxdWlyZS5tb2R1bGVzW2lkXTsKICAgIGlmIChtb2R1bGUpIHsKICAgICAgICBpZiAoIW1vZHVsZS5pbml0aWFsaXplZCkgewogICAgICAgICAgICBtb2R1bGUuaW5pdGlhbGl6ZWQgPSB0cnVlOwogICAgICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IG1vZHVsZS5mYWN0b3J5KCkuZXhwb3J0czsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIG1vZHVsZS5leHBvcnRzOwogICAgfQogICAKICAgIGlmICghd2luZG93LnJlcXVpcmUudGxucykKICAgICAgICByZXR1cm4gY29uc29sZS5sb2coInVuYWJsZSB0byBsb2FkICIgKyBpZCk7CiAgICAKICAgIHZhciBwYXRoID0gcmVzb2x2ZU1vZHVsZUlkKGlkLCB3aW5kb3cucmVxdWlyZS50bG5zKTsKICAgIGlmIChwYXRoLnNsaWNlKC0zKSAhPSAiLmpzIikgcGF0aCArPSAiLmpzIjsKICAgIAogICAgd2luZG93LnJlcXVpcmUuaWQgPSBpZDsKICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0ge307IC8vIHByZXZlbnQgaW5maW5pdGUgbG9vcCBvbiBicm9rZW4gbW9kdWxlcwogICAgaW1wb3J0U2NyaXB0cyhwYXRoKTsKICAgIHJldHVybiB3aW5kb3cucmVxdWlyZShwYXJlbnRJZCwgaWQpOwp9OwpmdW5jdGlvbiByZXNvbHZlTW9kdWxlSWQoaWQsIHBhdGhzKSB7CiAgICB2YXIgdGVzdFBhdGggPSBpZCwgdGFpbCA9ICIiOwogICAgd2hpbGUgKHRlc3RQYXRoKSB7CiAgICAgICAgdmFyIGFsaWFzID0gcGF0aHNbdGVzdFBhdGhdOwogICAgICAgIGlmICh0eXBlb2YgYWxpYXMgPT0gInN0cmluZyIpIHsKICAgICAgICAgICAgcmV0dXJuIGFsaWFzICsgdGFpbDsKICAgICAgICB9IGVsc2UgaWYgKGFsaWFzKSB7CiAgICAgICAgICAgIHJldHVybiAgYWxpYXMubG9jYXRpb24ucmVwbGFjZSgvXC8qJC8sICIvIikgKyAodGFpbCB8fCBhbGlhcy5tYWluIHx8IGFsaWFzLm5hbWUpOwogICAgICAgIH0gZWxzZSBpZiAoYWxpYXMgPT09IGZhbHNlKSB7CiAgICAgICAgICAgIHJldHVybiAiIjsKICAgICAgICB9CiAgICAgICAgdmFyIGkgPSB0ZXN0UGF0aC5sYXN0SW5kZXhPZigiLyIpOwogICAgICAgIGlmIChpID09PSAtMSkgYnJlYWs7CiAgICAgICAgdGFpbCA9IHRlc3RQYXRoLnN1YnN0cihpKSArIHRhaWw7CiAgICAgICAgdGVzdFBhdGggPSB0ZXN0UGF0aC5zbGljZSgwLCBpKTsKICAgIH0KICAgIHJldHVybiBpZDsKfQp3aW5kb3cucmVxdWlyZS5tb2R1bGVzID0ge307CndpbmRvdy5yZXF1aXJlLnRsbnMgPSB7fTsKCndpbmRvdy5kZWZpbmUgPSBmdW5jdGlvbihpZCwgZGVwcywgZmFjdG9yeSkgewogICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPT0gMikgewogICAgICAgIGZhY3RvcnkgPSBkZXBzOwogICAgICAgIGlmICh0eXBlb2YgaWQgIT0gInN0cmluZyIpIHsKICAgICAgICAgICAgZGVwcyA9IGlkOwogICAgICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgICAgIH0KICAgIH0gZWxzZSBpZiAoYXJndW1lbnRzLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgZmFjdG9yeSA9IGlkOwogICAgICAgIGRlcHMgPSBbXTsKICAgICAgICBpZCA9IHdpbmRvdy5yZXF1aXJlLmlkOwogICAgfQogICAgCiAgICBpZiAodHlwZW9mIGZhY3RvcnkgIT0gImZ1bmN0aW9uIikgewogICAgICAgIHdpbmRvdy5yZXF1aXJlLm1vZHVsZXNbaWRdID0gewogICAgICAgICAgICBleHBvcnRzOiBmYWN0b3J5LAogICAgICAgICAgICBpbml0aWFsaXplZDogdHJ1ZQogICAgICAgIH07CiAgICAgICAgcmV0dXJuOwogICAgfQoKICAgIGlmICghZGVwcy5sZW5ndGgpCiAgICAgICAgLy8gSWYgdGhlcmUgaXMgbm8gZGVwZW5kZW5jaWVzLCB3ZSBpbmplY3QgInJlcXVpcmUiLCAiZXhwb3J0cyIgYW5kCiAgICAgICAgLy8gIm1vZHVsZSIgYXMgZGVwZW5kZW5jaWVzLCB0byBwcm92aWRlIENvbW1vbkpTIGNvbXBhdGliaWxpdHkuCiAgICAgICAgZGVwcyA9IFsicmVxdWlyZSIsICJleHBvcnRzIiwgIm1vZHVsZSJdOwoKICAgIHZhciByZXEgPSBmdW5jdGlvbihjaGlsZElkKSB7CiAgICAgICAgcmV0dXJuIHdpbmRvdy5yZXF1aXJlKGlkLCBjaGlsZElkKTsKICAgIH07CgogICAgd2luZG93LnJlcXVpcmUubW9kdWxlc1tpZF0gPSB7CiAgICAgICAgZXhwb3J0czoge30sCiAgICAgICAgZmFjdG9yeTogZnVuY3Rpb24oKSB7CiAgICAgICAgICAgIHZhciBtb2R1bGUgPSB0aGlzOwogICAgICAgICAgICB2YXIgcmV0dXJuRXhwb3J0cyA9IGZhY3RvcnkuYXBwbHkodGhpcywgZGVwcy5zbGljZSgwLCBmYWN0b3J5Lmxlbmd0aCkubWFwKGZ1bmN0aW9uKGRlcCkgewogICAgICAgICAgICAgICAgc3dpdGNoIChkZXApIHsKICAgICAgICAgICAgICAgICAgICAvLyBCZWNhdXNlICJyZXF1aXJlIiwgImV4cG9ydHMiIGFuZCAibW9kdWxlIiBhcmVuJ3QgYWN0dWFsCiAgICAgICAgICAgICAgICAgICAgLy8gZGVwZW5kZW5jaWVzLCB3ZSBtdXN0IGhhbmRsZSB0aGVtIHNlcGVyYXRlbHkuCiAgICAgICAgICAgICAgICAgICAgY2FzZSAicmVxdWlyZSI6IHJldHVybiByZXE7CiAgICAgICAgICAgICAgICAgICAgY2FzZSAiZXhwb3J0cyI6IHJldHVybiBtb2R1bGUuZXhwb3J0czsKICAgICAgICAgICAgICAgICAgICBjYXNlICJtb2R1bGUiOiAgcmV0dXJuIG1vZHVsZTsKICAgICAgICAgICAgICAgICAgICAvLyBCdXQgZm9yIGFsbCBvdGhlciBkZXBlbmRlbmNpZXMsIHdlIGNhbiBqdXN0IGdvIGFoZWFkIGFuZAogICAgICAgICAgICAgICAgICAgIC8vIHJlcXVpcmUgdGhlbS4KICAgICAgICAgICAgICAgICAgICBkZWZhdWx0OiAgICAgICAgcmV0dXJuIHJlcShkZXApOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KSk7CiAgICAgICAgICAgIGlmIChyZXR1cm5FeHBvcnRzKQogICAgICAgICAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSByZXR1cm5FeHBvcnRzOwogICAgICAgICAgICByZXR1cm4gbW9kdWxlOwogICAgICAgIH0KICAgIH07Cn07CndpbmRvdy5kZWZpbmUuYW1kID0ge307CnJlcXVpcmUudGxucyA9IHt9Owp3aW5kb3cuaW5pdEJhc2VVcmxzICA9IGZ1bmN0aW9uIGluaXRCYXNlVXJscyh0b3BMZXZlbE5hbWVzcGFjZXMpIHsKICAgIGZvciAodmFyIGkgaW4gdG9wTGV2ZWxOYW1lc3BhY2VzKQogICAgICAgIHJlcXVpcmUudGxuc1tpXSA9IHRvcExldmVsTmFtZXNwYWNlc1tpXTsKfTsKCndpbmRvdy5pbml0U2VuZGVyID0gZnVuY3Rpb24gaW5pdFNlbmRlcigpIHsKCiAgICB2YXIgRXZlbnRFbWl0dGVyID0gd2luZG93LnJlcXVpcmUoImFjZS9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKICAgIHZhciBvb3AgPSB3aW5kb3cucmVxdWlyZSgiYWNlL2xpYi9vb3AiKTsKICAgIAogICAgdmFyIFNlbmRlciA9IGZ1bmN0aW9uKCkge307CiAgICAKICAgIChmdW5jdGlvbigpIHsKICAgICAgICAKICAgICAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICAgICAgICAgICAgICAKICAgICAgICB0aGlzLmNhbGxiYWNrID0gZnVuY3Rpb24oZGF0YSwgY2FsbGJhY2tJZCkgewogICAgICAgICAgICBwb3N0TWVzc2FnZSh7CiAgICAgICAgICAgICAgICB0eXBlOiAiY2FsbCIsCiAgICAgICAgICAgICAgICBpZDogY2FsbGJhY2tJZCwKICAgICAgICAgICAgICAgIGRhdGE6IGRhdGEKICAgICAgICAgICAgfSk7CiAgICAgICAgfTsKICAgIAogICAgICAgIHRoaXMuZW1pdCA9IGZ1bmN0aW9uKG5hbWUsIGRhdGEpIHsKICAgICAgICAgICAgcG9zdE1lc3NhZ2UoewogICAgICAgICAgICAgICAgdHlwZTogImV2ZW50IiwKICAgICAgICAgICAgICAgIG5hbWU6IG5hbWUsCiAgICAgICAgICAgICAgICBkYXRhOiBkYXRhCiAgICAgICAgICAgIH0pOwogICAgICAgIH07CiAgICAgICAgCiAgICB9KS5jYWxsKFNlbmRlci5wcm90b3R5cGUpOwogICAgCiAgICByZXR1cm4gbmV3IFNlbmRlcigpOwp9OwoKdmFyIG1haW4gPSB3aW5kb3cubWFpbiA9IG51bGw7CnZhciBzZW5kZXIgPSB3aW5kb3cuc2VuZGVyID0gbnVsbDsKCndpbmRvdy5vbm1lc3NhZ2UgPSBmdW5jdGlvbihlKSB7CiAgICB2YXIgbXNnID0gZS5kYXRhOwogICAgaWYgKG1zZy5ldmVudCAmJiBzZW5kZXIpIHsKICAgICAgICBzZW5kZXIuX3NpZ25hbChtc2cuZXZlbnQsIG1zZy5kYXRhKTsKICAgIH0KICAgIGVsc2UgaWYgKG1zZy5jb21tYW5kKSB7CiAgICAgICAgaWYgKG1haW5bbXNnLmNvbW1hbmRdKQogICAgICAgICAgICBtYWluW21zZy5jb21tYW5kXS5hcHBseShtYWluLCBtc2cuYXJncyk7CiAgICAgICAgZWxzZSBpZiAod2luZG93W21zZy5jb21tYW5kXSkKICAgICAgICAgICAgd2luZG93W21zZy5jb21tYW5kXS5hcHBseSh3aW5kb3csIG1zZy5hcmdzKTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcigiVW5rbm93biBjb21tYW5kOiIgKyBtc2cuY29tbWFuZCk7CiAgICB9CiAgICBlbHNlIGlmIChtc2cuaW5pdCkgewogICAgICAgIHdpbmRvdy5pbml0QmFzZVVybHMobXNnLnRsbnMpOwogICAgICAgIHNlbmRlciA9IHdpbmRvdy5zZW5kZXIgPSB3aW5kb3cuaW5pdFNlbmRlcigpOwogICAgICAgIHZhciBjbGF6eiA9IHJlcXVpcmUobXNnLm1vZHVsZSlbbXNnLmNsYXNzbmFtZV07CiAgICAgICAgbWFpbiA9IHdpbmRvdy5tYWluID0gbmV3IGNsYXp6KHNlbmRlcik7CiAgICB9Cn07Cn0pKHRoaXMpOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9vb3AiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKZXhwb3J0cy5pbmhlcml0cyA9IGZ1bmN0aW9uKGN0b3IsIHN1cGVyQ3RvcikgewogICAgY3Rvci5zdXBlcl8gPSBzdXBlckN0b3I7CiAgICBjdG9yLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSwgewogICAgICAgIGNvbnN0cnVjdG9yOiB7CiAgICAgICAgICAgIHZhbHVlOiBjdG9yLAogICAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZSwKICAgICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICAgIGNvbmZpZ3VyYWJsZTogdHJ1ZQogICAgICAgIH0KICAgIH0pOwp9OwoKZXhwb3J0cy5taXhpbiA9IGZ1bmN0aW9uKG9iaiwgbWl4aW4pIHsKICAgIGZvciAodmFyIGtleSBpbiBtaXhpbikgewogICAgICAgIG9ialtrZXldID0gbWl4aW5ba2V5XTsKICAgIH0KICAgIHJldHVybiBvYmo7Cn07CgpleHBvcnRzLmltcGxlbWVudCA9IGZ1bmN0aW9uKHByb3RvLCBtaXhpbikgewogICAgZXhwb3J0cy5taXhpbihwcm90bywgbWl4aW4pOwp9OwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvcmFuZ2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwp2YXIgY29tcGFyZVBvaW50cyA9IGZ1bmN0aW9uKHAxLCBwMikgewogICAgcmV0dXJuIHAxLnJvdyAtIHAyLnJvdyB8fCBwMS5jb2x1bW4gLSBwMi5jb2x1bW47Cn07CnZhciBSYW5nZSA9IGZ1bmN0aW9uKHN0YXJ0Um93LCBzdGFydENvbHVtbiwgZW5kUm93LCBlbmRDb2x1bW4pIHsKICAgIHRoaXMuc3RhcnQgPSB7CiAgICAgICAgcm93OiBzdGFydFJvdywKICAgICAgICBjb2x1bW46IHN0YXJ0Q29sdW1uCiAgICB9OwoKICAgIHRoaXMuZW5kID0gewogICAgICAgIHJvdzogZW5kUm93LAogICAgICAgIGNvbHVtbjogZW5kQ29sdW1uCiAgICB9Owp9OwoKKGZ1bmN0aW9uKCkgewogICAgdGhpcy5pc0VxdWFsID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT09IHJhbmdlLnN0YXJ0LnJvdyAmJgogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPT09IHJhbmdlLmVuZC5yb3cgJiYKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPT09IHJhbmdlLnN0YXJ0LmNvbHVtbiAmJgogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPT09IHJhbmdlLmVuZC5jb2x1bW47CiAgICB9OwogICAgdGhpcy50b1N0cmluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiAoIlJhbmdlOiBbIiArIHRoaXMuc3RhcnQucm93ICsgIi8iICsgdGhpcy5zdGFydC5jb2x1bW4gKwogICAgICAgICAgICAiXSAtPiBbIiArIHRoaXMuZW5kLnJvdyArICIvIiArIHRoaXMuZW5kLmNvbHVtbiArICJdIik7CiAgICB9OwoKICAgIHRoaXMuY29udGFpbnMgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDA7CiAgICB9OwogICAgdGhpcy5jb21wYXJlUmFuZ2UgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBjbXAsCiAgICAgICAgICAgIGVuZCA9IHJhbmdlLmVuZCwKICAgICAgICAgICAgc3RhcnQgPSByYW5nZS5zdGFydDsKCiAgICAgICAgY21wID0gdGhpcy5jb21wYXJlKGVuZC5yb3csIGVuZC5jb2x1bW4pOwogICAgICAgIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICBjbXAgPSB0aGlzLmNvbXBhcmUoc3RhcnQucm93LCBzdGFydC5jb2x1bW4pOwogICAgICAgICAgICBpZiAoY21wID09IDEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAyOwogICAgICAgICAgICB9IGVsc2UgaWYgKGNtcCA9PSAwKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gMTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiAwOwogICAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgcmV0dXJuIC0yOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIGNtcCA9IHRoaXMuY29tcGFyZShzdGFydC5yb3csIHN0YXJ0LmNvbHVtbik7CiAgICAgICAgICAgIGlmIChjbXAgPT0gLTEpIHsKICAgICAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICAgICAgfSBlbHNlIGlmIChjbXAgPT0gMSkgewogICAgICAgICAgICAgICAgcmV0dXJuIDQyOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIDA7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlUG9pbnQgPSBmdW5jdGlvbihwKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZShwLnJvdywgcC5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuY29udGFpbnNSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLnN0YXJ0KSA9PSAwICYmIHRoaXMuY29tcGFyZVBvaW50KHJhbmdlLmVuZCkgPT0gMDsKICAgIH07CiAgICB0aGlzLmludGVyc2VjdHMgPSBmdW5jdGlvbihyYW5nZSkgewogICAgICAgIHZhciBjbXAgPSB0aGlzLmNvbXBhcmVSYW5nZShyYW5nZSk7CiAgICAgICAgcmV0dXJuIChjbXAgPT0gLTEgfHwgY21wID09IDAgfHwgY21wID09IDEpOwogICAgfTsKICAgIHRoaXMuaXNFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHJldHVybiB0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW47CiAgICB9OwogICAgdGhpcy5pc1N0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4gdGhpcy5zdGFydC5yb3cgPT0gcm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09IGNvbHVtbjsKICAgIH07CiAgICB0aGlzLnNldFN0YXJ0ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLnN0YXJ0LmNvbHVtbiA9IHJvdy5jb2x1bW47CiAgICAgICAgICAgIHRoaXMuc3RhcnQucm93ID0gcm93LnJvdzsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLnN0YXJ0LnJvdyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gPSBjb2x1bW47CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuc2V0RW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodHlwZW9mIHJvdyA9PSAib2JqZWN0IikgewogICAgICAgICAgICB0aGlzLmVuZC5jb2x1bW4gPSByb3cuY29sdW1uOwogICAgICAgICAgICB0aGlzLmVuZC5yb3cgPSByb3cucm93OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMuZW5kLnJvdyA9IHJvdzsKICAgICAgICAgICAgdGhpcy5lbmQuY29sdW1uID0gY29sdW1uOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmluc2lkZSA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgaWYgKHRoaXMuY29tcGFyZShyb3csIGNvbHVtbikgPT0gMCkgewogICAgICAgICAgICBpZiAodGhpcy5pc0VuZChyb3csIGNvbHVtbikgfHwgdGhpcy5pc1N0YXJ0KHJvdywgY29sdW1uKSkgewogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgfTsKICAgIHRoaXMuaW5zaWRlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNFbmQocm93LCBjb2x1bW4pKSB7CiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICByZXR1cm4gZmFsc2U7CiAgICB9OwogICAgdGhpcy5pbnNpZGVFbmQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pID09IDApIHsKICAgICAgICAgICAgaWYgKHRoaXMuaXNTdGFydChyb3csIGNvbHVtbikpIHsKICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiB0cnVlOwogICAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIHJldHVybiBmYWxzZTsKICAgIH07CiAgICB0aGlzLmNvbXBhcmUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICghdGhpcy5pc011bHRpTGluZSgpKSB7CiAgICAgICAgICAgIGlmIChyb3cgPT09IHRoaXMuc3RhcnQucm93KSB7CiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uIDwgdGhpcy5zdGFydC5jb2x1bW4gPyAtMSA6IChjb2x1bW4gPiB0aGlzLmVuZC5jb2x1bW4gPyAxIDogMCk7CiAgICAgICAgICAgIH0KICAgICAgICB9CgogICAgICAgIGlmIChyb3cgPCB0aGlzLnN0YXJ0LnJvdykKICAgICAgICAgICAgcmV0dXJuIC0xOwoKICAgICAgICBpZiAocm93ID4gdGhpcy5lbmQucm93KQogICAgICAgICAgICByZXR1cm4gMTsKCiAgICAgICAgaWYgKHRoaXMuc3RhcnQucm93ID09PSByb3cpCiAgICAgICAgICAgIHJldHVybiBjb2x1bW4gPj0gdGhpcy5zdGFydC5jb2x1bW4gPyAwIDogLTE7CgogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT09IHJvdykKICAgICAgICAgICAgcmV0dXJuIGNvbHVtbiA8PSB0aGlzLmVuZC5jb2x1bW4gPyAwIDogMTsKCiAgICAgICAgcmV0dXJuIDA7CiAgICB9OwogICAgdGhpcy5jb21wYXJlU3RhcnQgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jb21wYXJlRW5kID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICBpZiAodGhpcy5lbmQucm93ID09IHJvdyAmJiB0aGlzLmVuZC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAxOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLmNvbXBhcmUocm93LCBjb2x1bW4pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLmNvbXBhcmVJbnNpZGUgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIGlmICh0aGlzLmVuZC5yb3cgPT0gcm93ICYmIHRoaXMuZW5kLmNvbHVtbiA9PSBjb2x1bW4pIHsKICAgICAgICAgICAgcmV0dXJuIDE7CiAgICAgICAgfSBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA9PSByb3cgJiYgdGhpcy5zdGFydC5jb2x1bW4gPT0gY29sdW1uKSB7CiAgICAgICAgICAgIHJldHVybiAtMTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5jb21wYXJlKHJvdywgY29sdW1uKTsKICAgICAgICB9CiAgICB9OwogICAgdGhpcy5jbGlwUm93cyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgaWYgKHRoaXMuZW5kLnJvdyA+IGxhc3RSb3cpCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTsKICAgICAgICBlbHNlIGlmICh0aGlzLmVuZC5yb3cgPCBmaXJzdFJvdykKICAgICAgICAgICAgdmFyIGVuZCA9IHtyb3c6IGZpcnN0Um93LCBjb2x1bW46IDB9OwoKICAgICAgICBpZiAodGhpcy5zdGFydC5yb3cgPiBsYXN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBsYXN0Um93ICsgMSwgY29sdW1uOiAwfTsKICAgICAgICBlbHNlIGlmICh0aGlzLnN0YXJ0LnJvdyA8IGZpcnN0Um93KQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiBmaXJzdFJvdywgY29sdW1uOiAwfTsKCiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CiAgICB0aGlzLmV4dGVuZCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIGNtcCA9IHRoaXMuY29tcGFyZShyb3csIGNvbHVtbik7CgogICAgICAgIGlmIChjbXAgPT0gMCkKICAgICAgICAgICAgcmV0dXJuIHRoaXM7CiAgICAgICAgZWxzZSBpZiAoY21wID09IC0xKQogICAgICAgICAgICB2YXIgc3RhcnQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgICAgICBlbHNlCiAgICAgICAgICAgIHZhciBlbmQgPSB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKCiAgICAgICAgcmV0dXJuIFJhbmdlLmZyb21Qb2ludHMoc3RhcnQgfHwgdGhpcy5zdGFydCwgZW5kIHx8IHRoaXMuZW5kKTsKICAgIH07CgogICAgdGhpcy5pc0VtcHR5ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuICh0aGlzLnN0YXJ0LnJvdyA9PT0gdGhpcy5lbmQucm93ICYmIHRoaXMuc3RhcnQuY29sdW1uID09PSB0aGlzLmVuZC5jb2x1bW4pOwogICAgfTsKICAgIHRoaXMuaXNNdWx0aUxpbmUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gKHRoaXMuc3RhcnQucm93ICE9PSB0aGlzLmVuZC5yb3cpOwogICAgfTsKICAgIHRoaXMuY2xvbmUgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gUmFuZ2UuZnJvbVBvaW50cyh0aGlzLnN0YXJ0LCB0aGlzLmVuZCk7CiAgICB9OwogICAgdGhpcy5jb2xsYXBzZVJvd3MgPSBmdW5jdGlvbigpIHsKICAgICAgICBpZiAodGhpcy5lbmQuY29sdW1uID09IDApCiAgICAgICAgICAgIHJldHVybiBuZXcgUmFuZ2UodGhpcy5zdGFydC5yb3csIDAsIE1hdGgubWF4KHRoaXMuc3RhcnQucm93LCB0aGlzLmVuZC5yb3ctMSksIDApOwogICAgICAgIGVsc2UKICAgICAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSh0aGlzLnN0YXJ0LnJvdywgMCwgdGhpcy5lbmQucm93LCAwKTsKICAgIH07CiAgICB0aGlzLnRvU2NyZWVuUmFuZ2UgPSBmdW5jdGlvbihzZXNzaW9uKSB7CiAgICAgICAgdmFyIHNjcmVlblBvc1N0YXJ0ID0gc2Vzc2lvbi5kb2N1bWVudFRvU2NyZWVuUG9zaXRpb24odGhpcy5zdGFydCk7CiAgICAgICAgdmFyIHNjcmVlblBvc0VuZCA9IHNlc3Npb24uZG9jdW1lbnRUb1NjcmVlblBvc2l0aW9uKHRoaXMuZW5kKTsKCiAgICAgICAgcmV0dXJuIG5ldyBSYW5nZSgKICAgICAgICAgICAgc2NyZWVuUG9zU3RhcnQucm93LCBzY3JlZW5Qb3NTdGFydC5jb2x1bW4sCiAgICAgICAgICAgIHNjcmVlblBvc0VuZC5yb3csIHNjcmVlblBvc0VuZC5jb2x1bW4KICAgICAgICApOwogICAgfTsKICAgIHRoaXMubW92ZUJ5ID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICB0aGlzLnN0YXJ0LnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5zdGFydC5jb2x1bW4gKz0gY29sdW1uOwogICAgICAgIHRoaXMuZW5kLnJvdyArPSByb3c7CiAgICAgICAgdGhpcy5lbmQuY29sdW1uICs9IGNvbHVtbjsKICAgIH07Cgp9KS5jYWxsKFJhbmdlLnByb3RvdHlwZSk7ClJhbmdlLmZyb21Qb2ludHMgPSBmdW5jdGlvbihzdGFydCwgZW5kKSB7CiAgICByZXR1cm4gbmV3IFJhbmdlKHN0YXJ0LnJvdywgc3RhcnQuY29sdW1uLCBlbmQucm93LCBlbmQuY29sdW1uKTsKfTsKUmFuZ2UuY29tcGFyZVBvaW50cyA9IGNvbXBhcmVQb2ludHM7CgpSYW5nZS5jb21wYXJlUG9pbnRzID0gZnVuY3Rpb24ocDEsIHAyKSB7CiAgICByZXR1cm4gcDEucm93IC0gcDIucm93IHx8IHAxLmNvbHVtbiAtIHAyLmNvbHVtbjsKfTsKCgpleHBvcnRzLlJhbmdlID0gUmFuZ2U7Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2FwcGx5X2RlbHRhIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmZ1bmN0aW9uIHRocm93RGVsdGFFcnJvcihkZWx0YSwgZXJyb3JUZXh0KXsKICAgIGNvbnNvbGUubG9nKCJJbnZhbGlkIERlbHRhOiIsIGRlbHRhKTsKICAgIHRocm93ICJJbnZhbGlkIERlbHRhOiAiICsgZXJyb3JUZXh0Owp9CgpmdW5jdGlvbiBwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIHBvc2l0aW9uKSB7CiAgICByZXR1cm4gcG9zaXRpb24ucm93ICAgID49IDAgJiYgcG9zaXRpb24ucm93ICAgIDwgIGRvY0xpbmVzLmxlbmd0aCAmJgogICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA+PSAwICYmIHBvc2l0aW9uLmNvbHVtbiA8PSBkb2NMaW5lc1twb3NpdGlvbi5yb3ddLmxlbmd0aDsKfQoKZnVuY3Rpb24gdmFsaWRhdGVEZWx0YShkb2NMaW5lcywgZGVsdGEpIHsKICAgIGlmIChkZWx0YS5hY3Rpb24gIT0gImluc2VydCIgJiYgZGVsdGEuYWN0aW9uICE9ICJyZW1vdmUiKQogICAgICAgIHRocm93RGVsdGFFcnJvcihkZWx0YSwgImRlbHRhLmFjdGlvbiBtdXN0IGJlICdpbnNlcnQnIG9yICdyZW1vdmUnIik7CiAgICBpZiAoIShkZWx0YS5saW5lcyBpbnN0YW5jZW9mIEFycmF5KSkKICAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5saW5lcyBtdXN0IGJlIGFuIEFycmF5Iik7CiAgICBpZiAoIWRlbHRhLnN0YXJ0IHx8ICFkZWx0YS5lbmQpCiAgICAgICB0aHJvd0RlbHRhRXJyb3IoZGVsdGEsICJkZWx0YS5zdGFydC9lbmQgbXVzdCBiZSBhbiBwcmVzZW50Iik7CiAgICB2YXIgc3RhcnQgPSBkZWx0YS5zdGFydDsKICAgIGlmICghcG9zaXRpb25JbkRvY3VtZW50KGRvY0xpbmVzLCBkZWx0YS5zdGFydCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuc3RhcnQgbXVzdCBiZSBjb250YWluZWQgaW4gZG9jdW1lbnQiKTsKICAgIHZhciBlbmQgPSBkZWx0YS5lbmQ7CiAgICBpZiAoZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmICFwb3NpdGlvbkluRG9jdW1lbnQoZG9jTGluZXMsIGVuZCkpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEuZW5kIG11c3QgY29udGFpbmVkIGluIGRvY3VtZW50IGZvciAncmVtb3ZlJyBhY3Rpb25zIik7CiAgICB2YXIgbnVtUmFuZ2VSb3dzID0gZW5kLnJvdyAtIHN0YXJ0LnJvdzsKICAgIHZhciBudW1SYW5nZUxhc3RMaW5lQ2hhcnMgPSAoZW5kLmNvbHVtbiAtIChudW1SYW5nZVJvd3MgPT0gMCA/IHN0YXJ0LmNvbHVtbiA6IDApKTsKICAgIGlmIChudW1SYW5nZVJvd3MgIT0gZGVsdGEubGluZXMubGVuZ3RoIC0gMSB8fCBkZWx0YS5saW5lc1tudW1SYW5nZVJvd3NdLmxlbmd0aCAhPSBudW1SYW5nZUxhc3RMaW5lQ2hhcnMpCiAgICAgICAgdGhyb3dEZWx0YUVycm9yKGRlbHRhLCAiZGVsdGEucmFuZ2UgbXVzdCBtYXRjaCBkZWx0YSBsaW5lcyIpOwp9CgpleHBvcnRzLmFwcGx5RGVsdGEgPSBmdW5jdGlvbihkb2NMaW5lcywgZGVsdGEsIGRvTm90VmFsaWRhdGUpIHsKICAgIAogICAgdmFyIHJvdyA9IGRlbHRhLnN0YXJ0LnJvdzsKICAgIHZhciBzdGFydENvbHVtbiA9IGRlbHRhLnN0YXJ0LmNvbHVtbjsKICAgIHZhciBsaW5lID0gZG9jTGluZXNbcm93XSB8fCAiIjsKICAgIHN3aXRjaCAoZGVsdGEuYWN0aW9uKSB7CiAgICAgICAgY2FzZSAiaW5zZXJ0IjoKICAgICAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgICAgIGlmIChsaW5lcy5sZW5ndGggPT09IDEpIHsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3Jvd10gPSBsaW5lLnN1YnN0cmluZygwLCBzdGFydENvbHVtbikgKyBkZWx0YS5saW5lc1swXSArIGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHZhciBhcmdzID0gW3JvdywgMV0uY29uY2F0KGRlbHRhLmxpbmVzKTsKICAgICAgICAgICAgICAgIGRvY0xpbmVzLnNwbGljZS5hcHBseShkb2NMaW5lcywgYXJncyk7CiAgICAgICAgICAgICAgICBkb2NMaW5lc1tyb3ddID0gbGluZS5zdWJzdHJpbmcoMCwgc3RhcnRDb2x1bW4pICsgZG9jTGluZXNbcm93XTsKICAgICAgICAgICAgICAgIGRvY0xpbmVzW3JvdyArIGRlbHRhLmxpbmVzLmxlbmd0aCAtIDFdICs9IGxpbmUuc3Vic3RyaW5nKHN0YXJ0Q29sdW1uKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBicmVhazsKICAgICAgICBjYXNlICJyZW1vdmUiOgogICAgICAgICAgICB2YXIgZW5kQ29sdW1uID0gZGVsdGEuZW5kLmNvbHVtbjsKICAgICAgICAgICAgdmFyIGVuZFJvdyA9IGRlbHRhLmVuZC5yb3c7CiAgICAgICAgICAgIGlmIChyb3cgPT09IGVuZFJvdykgewogICAgICAgICAgICAgICAgZG9jTGluZXNbcm93XSA9IGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGxpbmUuc3Vic3RyaW5nKGVuZENvbHVtbik7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBkb2NMaW5lcy5zcGxpY2UoCiAgICAgICAgICAgICAgICAgICAgcm93LCBlbmRSb3cgLSByb3cgKyAxLAogICAgICAgICAgICAgICAgICAgIGxpbmUuc3Vic3RyaW5nKDAsIHN0YXJ0Q29sdW1uKSArIGRvY0xpbmVzW2VuZFJvd10uc3Vic3RyaW5nKGVuZENvbHVtbikKICAgICAgICAgICAgICAgICk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgYnJlYWs7CiAgICB9Cn07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9ldmVudF9lbWl0dGVyIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBFdmVudEVtaXR0ZXIgPSB7fTsKdmFyIHN0b3BQcm9wYWdhdGlvbiA9IGZ1bmN0aW9uKCkgeyB0aGlzLnByb3BhZ2F0aW9uU3RvcHBlZCA9IHRydWU7IH07CnZhciBwcmV2ZW50RGVmYXVsdCA9IGZ1bmN0aW9uKCkgeyB0aGlzLmRlZmF1bHRQcmV2ZW50ZWQgPSB0cnVlOyB9OwoKRXZlbnRFbWl0dGVyLl9lbWl0ID0KRXZlbnRFbWl0dGVyLl9kaXNwYXRjaEV2ZW50ID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7CiAgICB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8ICh0aGlzLl9ldmVudFJlZ2lzdHJ5ID0ge30pOwogICAgdGhpcy5fZGVmYXVsdEhhbmRsZXJzIHx8ICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7fSk7CgogICAgdmFyIGxpc3RlbmVycyA9IHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSB8fCBbXTsKICAgIHZhciBkZWZhdWx0SGFuZGxlciA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdOwogICAgaWYgKCFsaXN0ZW5lcnMubGVuZ3RoICYmICFkZWZhdWx0SGFuZGxlcikKICAgICAgICByZXR1cm47CgogICAgaWYgKHR5cGVvZiBlICE9ICJvYmplY3QiIHx8ICFlKQogICAgICAgIGUgPSB7fTsKCiAgICBpZiAoIWUudHlwZSkKICAgICAgICBlLnR5cGUgPSBldmVudE5hbWU7CiAgICBpZiAoIWUuc3RvcFByb3BhZ2F0aW9uKQogICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uID0gc3RvcFByb3BhZ2F0aW9uOwogICAgaWYgKCFlLnByZXZlbnREZWZhdWx0KQogICAgICAgIGUucHJldmVudERlZmF1bHQgPSBwcmV2ZW50RGVmYXVsdDsKCiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspIHsKICAgICAgICBsaXN0ZW5lcnNbaV0oZSwgdGhpcyk7CiAgICAgICAgaWYgKGUucHJvcGFnYXRpb25TdG9wcGVkKQogICAgICAgICAgICBicmVhazsKICAgIH0KICAgIAogICAgaWYgKGRlZmF1bHRIYW5kbGVyICYmICFlLmRlZmF1bHRQcmV2ZW50ZWQpCiAgICAgICAgcmV0dXJuIGRlZmF1bHRIYW5kbGVyKGUsIHRoaXMpOwp9OwoKCkV2ZW50RW1pdHRlci5fc2lnbmFsID0gZnVuY3Rpb24oZXZlbnROYW1lLCBlKSB7CiAgICB2YXIgbGlzdGVuZXJzID0gKHRoaXMuX2V2ZW50UmVnaXN0cnkgfHwge30pW2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CiAgICBsaXN0ZW5lcnMgPSBsaXN0ZW5lcnMuc2xpY2UoKTsKICAgIGZvciAodmFyIGk9MDsgaTxsaXN0ZW5lcnMubGVuZ3RoOyBpKyspCiAgICAgICAgbGlzdGVuZXJzW2ldKGUsIHRoaXMpOwp9OwoKRXZlbnRFbWl0dGVyLm9uY2UgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgX3NlbGYgPSB0aGlzOwogICAgdGhpcy5vbihldmVudE5hbWUsIGZ1bmN0aW9uIG5ld0NhbGxiYWNrKCkgewogICAgICAgIF9zZWxmLm9mZihldmVudE5hbWUsIG5ld0NhbGxiYWNrKTsKICAgICAgICBjYWxsYmFjay5hcHBseShudWxsLCBhcmd1bWVudHMpOwogICAgfSk7CiAgICBpZiAoIWNhbGxiYWNrKSB7CiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpIHsKICAgICAgICAgICAgY2FsbGJhY2sgPSByZXNvbHZlOwogICAgICAgIH0pOwogICAgfQp9OwoKCkV2ZW50RW1pdHRlci5zZXREZWZhdWx0SGFuZGxlciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIHZhciBoYW5kbGVycyA9IHRoaXMuX2RlZmF1bHRIYW5kbGVyczsKICAgIGlmICghaGFuZGxlcnMpCiAgICAgICAgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnMgPSB7X2Rpc2FibGVkXzoge319OwogICAgCiAgICBpZiAoaGFuZGxlcnNbZXZlbnROYW1lXSkgewogICAgICAgIHZhciBvbGQgPSBoYW5kbGVyc1tldmVudE5hbWVdOwogICAgICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTsKICAgICAgICBpZiAoIWRpc2FibGVkKQogICAgICAgICAgICBoYW5kbGVycy5fZGlzYWJsZWRfW2V2ZW50TmFtZV0gPSBkaXNhYmxlZCA9IFtdOwogICAgICAgIGRpc2FibGVkLnB1c2gob2xkKTsKICAgICAgICB2YXIgaSA9IGRpc2FibGVkLmluZGV4T2YoY2FsbGJhY2spOwogICAgICAgIGlmIChpICE9IC0xKSAKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQogICAgaGFuZGxlcnNbZXZlbnROYW1lXSA9IGNhbGxiYWNrOwp9OwpFdmVudEVtaXR0ZXIucmVtb3ZlRGVmYXVsdEhhbmRsZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrKSB7CiAgICB2YXIgaGFuZGxlcnMgPSB0aGlzLl9kZWZhdWx0SGFuZGxlcnM7CiAgICBpZiAoIWhhbmRsZXJzKQogICAgICAgIHJldHVybjsKICAgIHZhciBkaXNhYmxlZCA9IGhhbmRsZXJzLl9kaXNhYmxlZF9bZXZlbnROYW1lXTsKICAgIAogICAgaWYgKGhhbmRsZXJzW2V2ZW50TmFtZV0gPT0gY2FsbGJhY2spIHsKICAgICAgICBpZiAoZGlzYWJsZWQpCiAgICAgICAgICAgIHRoaXMuc2V0RGVmYXVsdEhhbmRsZXIoZXZlbnROYW1lLCBkaXNhYmxlZC5wb3AoKSk7CiAgICB9IGVsc2UgaWYgKGRpc2FibGVkKSB7CiAgICAgICAgdmFyIGkgPSBkaXNhYmxlZC5pbmRleE9mKGNhbGxiYWNrKTsKICAgICAgICBpZiAoaSAhPSAtMSkKICAgICAgICAgICAgZGlzYWJsZWQuc3BsaWNlKGksIDEpOwogICAgfQp9OwoKRXZlbnRFbWl0dGVyLm9uID0KRXZlbnRFbWl0dGVyLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudE5hbWUsIGNhbGxiYWNrLCBjYXB0dXJpbmcpIHsKICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV0gPSBbXTsKCiAgICBpZiAobGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spID09IC0xKQogICAgICAgIGxpc3RlbmVyc1tjYXB0dXJpbmcgPyAidW5zaGlmdCIgOiAicHVzaCJdKGNhbGxiYWNrKTsKICAgIHJldHVybiBjYWxsYmFjazsKfTsKCkV2ZW50RW1pdHRlci5vZmYgPQpFdmVudEVtaXR0ZXIucmVtb3ZlTGlzdGVuZXIgPQpFdmVudEVtaXR0ZXIucmVtb3ZlRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50TmFtZSwgY2FsbGJhY2spIHsKICAgIHRoaXMuX2V2ZW50UmVnaXN0cnkgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5IHx8IHt9OwoKICAgIHZhciBsaXN0ZW5lcnMgPSB0aGlzLl9ldmVudFJlZ2lzdHJ5W2V2ZW50TmFtZV07CiAgICBpZiAoIWxpc3RlbmVycykKICAgICAgICByZXR1cm47CgogICAgdmFyIGluZGV4ID0gbGlzdGVuZXJzLmluZGV4T2YoY2FsbGJhY2spOwogICAgaWYgKGluZGV4ICE9PSAtMSkKICAgICAgICBsaXN0ZW5lcnMuc3BsaWNlKGluZGV4LCAxKTsKfTsKCkV2ZW50RW1pdHRlci5yZW1vdmVBbGxMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudE5hbWUpIHsKICAgIGlmICghZXZlbnROYW1lKSB0aGlzLl9ldmVudFJlZ2lzdHJ5ID0gdGhpcy5fZGVmYXVsdEhhbmRsZXJzID0gdW5kZWZpbmVkOwogICAgaWYgKHRoaXMuX2V2ZW50UmVnaXN0cnkpIHRoaXMuX2V2ZW50UmVnaXN0cnlbZXZlbnROYW1lXSA9IHVuZGVmaW5lZDsKICAgIGlmICh0aGlzLl9kZWZhdWx0SGFuZGxlcnMpIHRoaXMuX2RlZmF1bHRIYW5kbGVyc1tldmVudE5hbWVdID0gdW5kZWZpbmVkOwp9OwoKZXhwb3J0cy5FdmVudEVtaXR0ZXIgPSBFdmVudEVtaXR0ZXI7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9hbmNob3IiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4vbGliL29vcCIpOwp2YXIgRXZlbnRFbWl0dGVyID0gcmVxdWlyZSgiLi9saWIvZXZlbnRfZW1pdHRlciIpLkV2ZW50RW1pdHRlcjsKCnZhciBBbmNob3IgPSBleHBvcnRzLkFuY2hvciA9IGZ1bmN0aW9uKGRvYywgcm93LCBjb2x1bW4pIHsKICAgIHRoaXMuJG9uQ2hhbmdlID0gdGhpcy5vbkNoYW5nZS5iaW5kKHRoaXMpOwogICAgdGhpcy5hdHRhY2goZG9jKTsKICAgIAogICAgaWYgKHR5cGVvZiBjb2x1bW4gPT0gInVuZGVmaW5lZCIpCiAgICAgICAgdGhpcy5zZXRQb3NpdGlvbihyb3cucm93LCByb3cuY29sdW1uKTsKICAgIGVsc2UKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHJvdywgY29sdW1uKTsKfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLmdldFBvc2l0aW9uID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGNsaXBQb3NpdGlvblRvRG9jdW1lbnQodGhpcy5yb3csIHRoaXMuY29sdW1uKTsKICAgIH07CiAgICB0aGlzLmdldERvY3VtZW50ID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZG9jdW1lbnQ7CiAgICB9OwogICAgdGhpcy4kaW5zZXJ0UmlnaHQgPSBmYWxzZTsKICAgIHRoaXMub25DaGFuZ2UgPSBmdW5jdGlvbihkZWx0YSkgewogICAgICAgIGlmIChkZWx0YS5zdGFydC5yb3cgPT0gZGVsdGEuZW5kLnJvdyAmJiBkZWx0YS5zdGFydC5yb3cgIT0gdGhpcy5yb3cpCiAgICAgICAgICAgIHJldHVybjsKCiAgICAgICAgaWYgKGRlbHRhLnN0YXJ0LnJvdyA+IHRoaXMucm93KQogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIAogICAgICAgIHZhciBwb2ludCA9ICRnZXRUcmFuc2Zvcm1lZFBvaW50KGRlbHRhLCB7cm93OiB0aGlzLnJvdywgY29sdW1uOiB0aGlzLmNvbHVtbn0sIHRoaXMuJGluc2VydFJpZ2h0KTsKICAgICAgICB0aGlzLnNldFBvc2l0aW9uKHBvaW50LnJvdywgcG9pbnQuY29sdW1uLCB0cnVlKTsKICAgIH07CiAgICAKICAgIGZ1bmN0aW9uICRwb2ludHNJbk9yZGVyKHBvaW50MSwgcG9pbnQyLCBlcXVhbFBvaW50c0luT3JkZXIpIHsKICAgICAgICB2YXIgYkNvbElzQWZ0ZXIgPSBlcXVhbFBvaW50c0luT3JkZXIgPyBwb2ludDEuY29sdW1uIDw9IHBvaW50Mi5jb2x1bW4gOiBwb2ludDEuY29sdW1uIDwgcG9pbnQyLmNvbHVtbjsKICAgICAgICByZXR1cm4gKHBvaW50MS5yb3cgPCBwb2ludDIucm93KSB8fCAocG9pbnQxLnJvdyA9PSBwb2ludDIucm93ICYmIGJDb2xJc0FmdGVyKTsKICAgIH0KICAgICAgICAgICAgCiAgICBmdW5jdGlvbiAkZ2V0VHJhbnNmb3JtZWRQb2ludChkZWx0YSwgcG9pbnQsIG1vdmVJZkVxdWFsKSB7CiAgICAgICAgdmFyIGRlbHRhSXNJbnNlcnQgPSBkZWx0YS5hY3Rpb24gPT0gImluc2VydCI7CiAgICAgICAgdmFyIGRlbHRhUm93U2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLnJvdyAgICAtIGRlbHRhLnN0YXJ0LnJvdyk7CiAgICAgICAgdmFyIGRlbHRhQ29sU2hpZnQgPSAoZGVsdGFJc0luc2VydCA/IDEgOiAtMSkgKiAoZGVsdGEuZW5kLmNvbHVtbiAtIGRlbHRhLnN0YXJ0LmNvbHVtbik7CiAgICAgICAgdmFyIGRlbHRhU3RhcnQgPSBkZWx0YS5zdGFydDsKICAgICAgICB2YXIgZGVsdGFFbmQgPSBkZWx0YUlzSW5zZXJ0ID8gZGVsdGFTdGFydCA6IGRlbHRhLmVuZDsgLy8gQ29sbGFwc2UgaW5zZXJ0IHJhbmdlLgogICAgICAgIGlmICgkcG9pbnRzSW5PcmRlcihwb2ludCwgZGVsdGFTdGFydCwgbW92ZUlmRXF1YWwpKSB7CiAgICAgICAgICAgIHJldHVybiB7CiAgICAgICAgICAgICAgICByb3c6IHBvaW50LnJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uCiAgICAgICAgICAgIH07CiAgICAgICAgfQogICAgICAgIGlmICgkcG9pbnRzSW5PcmRlcihkZWx0YUVuZCwgcG9pbnQsICFtb3ZlSWZFcXVhbCkpIHsKICAgICAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgICAgIHJvdzogcG9pbnQucm93ICsgZGVsdGFSb3dTaGlmdCwKICAgICAgICAgICAgICAgIGNvbHVtbjogcG9pbnQuY29sdW1uICsgKHBvaW50LnJvdyA9PSBkZWx0YUVuZC5yb3cgPyBkZWx0YUNvbFNoaWZ0IDogMCkKICAgICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHsKICAgICAgICAgICAgcm93OiBkZWx0YVN0YXJ0LnJvdywKICAgICAgICAgICAgY29sdW1uOiBkZWx0YVN0YXJ0LmNvbHVtbgogICAgICAgIH07CiAgICB9CiAgICB0aGlzLnNldFBvc2l0aW9uID0gZnVuY3Rpb24ocm93LCBjb2x1bW4sIG5vQ2xpcCkgewogICAgICAgIHZhciBwb3M7CiAgICAgICAgaWYgKG5vQ2xpcCkgewogICAgICAgICAgICBwb3MgPSB7CiAgICAgICAgICAgICAgICByb3c6IHJvdywKICAgICAgICAgICAgICAgIGNvbHVtbjogY29sdW1uCiAgICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcG9zID0gdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudChyb3csIGNvbHVtbik7CiAgICAgICAgfQoKICAgICAgICBpZiAodGhpcy5yb3cgPT0gcG9zLnJvdyAmJiB0aGlzLmNvbHVtbiA9PSBwb3MuY29sdW1uKQogICAgICAgICAgICByZXR1cm47CgogICAgICAgIHZhciBvbGQgPSB7CiAgICAgICAgICAgIHJvdzogdGhpcy5yb3csCiAgICAgICAgICAgIGNvbHVtbjogdGhpcy5jb2x1bW4KICAgICAgICB9OwoKICAgICAgICB0aGlzLnJvdyA9IHBvcy5yb3c7CiAgICAgICAgdGhpcy5jb2x1bW4gPSBwb3MuY29sdW1uOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgewogICAgICAgICAgICBvbGQ6IG9sZCwKICAgICAgICAgICAgdmFsdWU6IHBvcwogICAgICAgIH0pOwogICAgfTsKICAgIHRoaXMuZGV0YWNoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5kb2N1bWVudC5vZmYoImNoYW5nZSIsIHRoaXMuJG9uQ2hhbmdlKTsKICAgIH07CiAgICB0aGlzLmF0dGFjaCA9IGZ1bmN0aW9uKGRvYykgewogICAgICAgIHRoaXMuZG9jdW1lbnQgPSBkb2MgfHwgdGhpcy5kb2N1bWVudDsKICAgICAgICB0aGlzLmRvY3VtZW50Lm9uKCJjaGFuZ2UiLCB0aGlzLiRvbkNoYW5nZSk7CiAgICB9OwogICAgdGhpcy4kY2xpcFBvc2l0aW9uVG9Eb2N1bWVudCA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgdmFyIHBvcyA9IHt9OwoKICAgICAgICBpZiAocm93ID49IHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkpIHsKICAgICAgICAgICAgcG9zLnJvdyA9IE1hdGgubWF4KDAsIHRoaXMuZG9jdW1lbnQuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGg7CiAgICAgICAgfQogICAgICAgIGVsc2UgaWYgKHJvdyA8IDApIHsKICAgICAgICAgICAgcG9zLnJvdyA9IDA7CiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgcG9zLnJvdyA9IHJvdzsKICAgICAgICAgICAgcG9zLmNvbHVtbiA9IE1hdGgubWluKHRoaXMuZG9jdW1lbnQuZ2V0TGluZShwb3Mucm93KS5sZW5ndGgsIE1hdGgubWF4KDAsIGNvbHVtbikpOwogICAgICAgIH0KCiAgICAgICAgaWYgKGNvbHVtbiA8IDApCiAgICAgICAgICAgIHBvcy5jb2x1bW4gPSAwOwoKICAgICAgICByZXR1cm4gcG9zOwogICAgfTsKCn0pLmNhbGwoQW5jaG9yLnByb3RvdHlwZSk7Cgp9KTsKCmFjZS5kZWZpbmUoImFjZS9kb2N1bWVudCIsW10sIGZ1bmN0aW9uKHJlcXVpcmUsIGV4cG9ydHMsIG1vZHVsZSkgewoidXNlIHN0cmljdCI7Cgp2YXIgb29wID0gcmVxdWlyZSgiLi9saWIvb29wIik7CnZhciBhcHBseURlbHRhID0gcmVxdWlyZSgiLi9hcHBseV9kZWx0YSIpLmFwcGx5RGVsdGE7CnZhciBFdmVudEVtaXR0ZXIgPSByZXF1aXJlKCIuL2xpYi9ldmVudF9lbWl0dGVyIikuRXZlbnRFbWl0dGVyOwp2YXIgUmFuZ2UgPSByZXF1aXJlKCIuL3JhbmdlIikuUmFuZ2U7CnZhciBBbmNob3IgPSByZXF1aXJlKCIuL2FuY2hvciIpLkFuY2hvcjsKCnZhciBEb2N1bWVudCA9IGZ1bmN0aW9uKHRleHRPckxpbmVzKSB7CiAgICB0aGlzLiRsaW5lcyA9IFsiIl07CiAgICBpZiAodGV4dE9yTGluZXMubGVuZ3RoID09PSAwKSB7CiAgICAgICAgdGhpcy4kbGluZXMgPSBbIiJdOwogICAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KHRleHRPckxpbmVzKSkgewogICAgICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMoe3JvdzogMCwgY29sdW1uOiAwfSwgdGV4dE9yTGluZXMpOwogICAgfSBlbHNlIHsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46MH0sIHRleHRPckxpbmVzKTsKICAgIH0KfTsKCihmdW5jdGlvbigpIHsKCiAgICBvb3AuaW1wbGVtZW50KHRoaXMsIEV2ZW50RW1pdHRlcik7CiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHZhciBsZW4gPSB0aGlzLmdldExlbmd0aCgpIC0gMTsKICAgICAgICB0aGlzLnJlbW92ZShuZXcgUmFuZ2UoMCwgMCwgbGVuLCB0aGlzLmdldExpbmUobGVuKS5sZW5ndGgpKTsKICAgICAgICB0aGlzLmluc2VydCh7cm93OiAwLCBjb2x1bW46IDB9LCB0ZXh0KTsKICAgIH07CiAgICB0aGlzLmdldFZhbHVlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0QWxsTGluZXMoKS5qb2luKHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpKTsKICAgIH07CiAgICB0aGlzLmNyZWF0ZUFuY2hvciA9IGZ1bmN0aW9uKHJvdywgY29sdW1uKSB7CiAgICAgICAgcmV0dXJuIG5ldyBBbmNob3IodGhpcywgcm93LCBjb2x1bW4pOwogICAgfTsKICAgIGlmICgiYWFhIi5zcGxpdCgvYS8pLmxlbmd0aCA9PT0gMCkgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5yZXBsYWNlKC9cclxufFxyL2csICJcbiIpLnNwbGl0KCJcbiIpOwogICAgICAgIH07CiAgICB9IGVsc2UgewogICAgICAgIHRoaXMuJHNwbGl0ID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgICAgICByZXR1cm4gdGV4dC5zcGxpdCgvXHJcbnxccnxcbi8pOwogICAgICAgIH07CiAgICB9CgoKICAgIHRoaXMuJGRldGVjdE5ld0xpbmUgPSBmdW5jdGlvbih0ZXh0KSB7CiAgICAgICAgdmFyIG1hdGNoID0gdGV4dC5tYXRjaCgvXi4qPyhcclxufFxyfFxuKS9tKTsKICAgICAgICB0aGlzLiRhdXRvTmV3TGluZSA9IG1hdGNoID8gbWF0Y2hbMV0gOiAiXG4iOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIgPSBmdW5jdGlvbigpIHsKICAgICAgICBzd2l0Y2ggKHRoaXMuJG5ld0xpbmVNb2RlKSB7CiAgICAgICAgICBjYXNlICJ3aW5kb3dzIjoKICAgICAgICAgICAgcmV0dXJuICJcclxuIjsKICAgICAgICAgIGNhc2UgInVuaXgiOgogICAgICAgICAgICByZXR1cm4gIlxuIjsKICAgICAgICAgIGRlZmF1bHQ6CiAgICAgICAgICAgIHJldHVybiB0aGlzLiRhdXRvTmV3TGluZSB8fCAiXG4iOwogICAgICAgIH0KICAgIH07CgogICAgdGhpcy4kYXV0b05ld0xpbmUgPSAiIjsKICAgIHRoaXMuJG5ld0xpbmVNb2RlID0gImF1dG8iOwogICAgdGhpcy5zZXROZXdMaW5lTW9kZSA9IGZ1bmN0aW9uKG5ld0xpbmVNb2RlKSB7CiAgICAgICAgaWYgKHRoaXMuJG5ld0xpbmVNb2RlID09PSBuZXdMaW5lTW9kZSkKICAgICAgICAgICAgcmV0dXJuOwoKICAgICAgICB0aGlzLiRuZXdMaW5lTW9kZSA9IG5ld0xpbmVNb2RlOwogICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlTmV3TGluZU1vZGUiKTsKICAgIH07CiAgICB0aGlzLmdldE5ld0xpbmVNb2RlID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJG5ld0xpbmVNb2RlOwogICAgfTsKICAgIHRoaXMuaXNOZXdMaW5lID0gZnVuY3Rpb24odGV4dCkgewogICAgICAgIHJldHVybiAodGV4dCA9PSAiXHJcbiIgfHwgdGV4dCA9PSAiXHIiIHx8IHRleHQgPT0gIlxuIik7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lID0gZnVuY3Rpb24ocm93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzW3Jvd10gfHwgIiI7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lcyA9IGZ1bmN0aW9uKGZpcnN0Um93LCBsYXN0Um93KSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICB9OwogICAgdGhpcy5nZXRBbGxMaW5lcyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmdldExpbmVzKDAsIHRoaXMuZ2V0TGVuZ3RoKCkpOwogICAgfTsKICAgIHRoaXMuZ2V0TGVuZ3RoID0gZnVuY3Rpb24oKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuJGxpbmVzLmxlbmd0aDsKICAgIH07CiAgICB0aGlzLmdldFRleHRSYW5nZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgcmV0dXJuIHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkuam9pbih0aGlzLmdldE5ld0xpbmVDaGFyYWN0ZXIoKSk7CiAgICB9OwogICAgdGhpcy5nZXRMaW5lc0ZvclJhbmdlID0gZnVuY3Rpb24ocmFuZ2UpIHsKICAgICAgICB2YXIgbGluZXM7CiAgICAgICAgaWYgKHJhbmdlLnN0YXJ0LnJvdyA9PT0gcmFuZ2UuZW5kLnJvdykgewogICAgICAgICAgICBsaW5lcyA9IFt0aGlzLmdldExpbmUocmFuZ2Uuc3RhcnQucm93KS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uLCByYW5nZS5lbmQuY29sdW1uKV07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgbGluZXMgPSB0aGlzLmdldExpbmVzKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2UuZW5kLnJvdyk7CiAgICAgICAgICAgIGxpbmVzWzBdID0gKGxpbmVzWzBdIHx8ICIiKS5zdWJzdHJpbmcocmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSAxOwogICAgICAgICAgICBpZiAocmFuZ2UuZW5kLnJvdyAtIHJhbmdlLnN0YXJ0LnJvdyA9PSBsKQogICAgICAgICAgICAgICAgbGluZXNbbF0gPSBsaW5lc1tsXS5zdWJzdHJpbmcoMCwgcmFuZ2UuZW5kLmNvbHVtbik7CiAgICAgICAgfQogICAgICAgIHJldHVybiBsaW5lczsKICAgIH07CiAgICB0aGlzLmluc2VydExpbmVzID0gZnVuY3Rpb24ocm93LCBsaW5lcykgewogICAgICAgIGNvbnNvbGUud2FybigiVXNlIG9mIGRvY3VtZW50Lmluc2VydExpbmVzIGlzIGRlcHJlY2F0ZWQuIFVzZSB0aGUgaW5zZXJ0RnVsbExpbmVzIG1ldGhvZCBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydEZ1bGxMaW5lcyhyb3csIGxpbmVzKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUxpbmVzID0gZnVuY3Rpb24oZmlyc3RSb3csIGxhc3RSb3cpIHsKICAgICAgICBjb25zb2xlLndhcm4oIlVzZSBvZiBkb2N1bWVudC5yZW1vdmVMaW5lcyBpcyBkZXByZWNhdGVkLiBVc2UgdGhlIHJlbW92ZUZ1bGxMaW5lcyBtZXRob2QgaW5zdGVhZC4iKTsKICAgICAgICByZXR1cm4gdGhpcy5yZW1vdmVGdWxsTGluZXMoZmlyc3RSb3csIGxhc3RSb3cpOwogICAgfTsKICAgIHRoaXMuaW5zZXJ0TmV3TGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uKSB7CiAgICAgICAgY29uc29sZS53YXJuKCJVc2Ugb2YgZG9jdW1lbnQuaW5zZXJ0TmV3TGluZSBpcyBkZXByZWNhdGVkLiBVc2UgaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIFsnJywgJyddKSBpbnN0ZWFkLiIpOwogICAgICAgIHJldHVybiB0aGlzLmluc2VydE1lcmdlZExpbmVzKHBvc2l0aW9uLCBbIiIsICIiXSk7CiAgICB9OwogICAgdGhpcy5pbnNlcnQgPSBmdW5jdGlvbihwb3NpdGlvbiwgdGV4dCkgewogICAgICAgIGlmICh0aGlzLmdldExlbmd0aCgpIDw9IDEpCiAgICAgICAgICAgIHRoaXMuJGRldGVjdE5ld0xpbmUodGV4dCk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMocG9zaXRpb24sIHRoaXMuJHNwbGl0KHRleHQpKTsKICAgIH07CiAgICB0aGlzLmluc2VydEluTGluZSA9IGZ1bmN0aW9uKHBvc2l0aW9uLCB0ZXh0KSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHBvc2l0aW9uLnJvdywgcG9zaXRpb24uY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5wb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4gKyB0ZXh0Lmxlbmd0aCk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IFt0ZXh0XQogICAgICAgIH0sIHRydWUpOwogICAgICAgIAogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKGVuZCk7CiAgICB9OwogICAgCiAgICB0aGlzLmNsaXBwZWRQb3MgPSBmdW5jdGlvbihyb3csIGNvbHVtbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChyb3cgPT09IHVuZGVmaW5lZCkgewogICAgICAgICAgICByb3cgPSBsZW5ndGg7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPCAwKSB7CiAgICAgICAgICAgIHJvdyA9IDA7CiAgICAgICAgfSBlbHNlIGlmIChyb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHJvdyA9IGxlbmd0aCAtIDE7CiAgICAgICAgICAgIGNvbHVtbiA9IHVuZGVmaW5lZDsKICAgICAgICB9CiAgICAgICAgdmFyIGxpbmUgPSB0aGlzLmdldExpbmUocm93KTsKICAgICAgICBpZiAoY29sdW1uID09IHVuZGVmaW5lZCkKICAgICAgICAgICAgY29sdW1uID0gbGluZS5sZW5ndGg7CiAgICAgICAgY29sdW1uID0gTWF0aC5taW4oTWF0aC5tYXgoY29sdW1uLCAwKSwgbGluZS5sZW5ndGgpOwogICAgICAgIHJldHVybiB7cm93OiByb3csIGNvbHVtbjogY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMuY2xvbmVQb3MgPSBmdW5jdGlvbihwb3MpIHsKICAgICAgICByZXR1cm4ge3JvdzogcG9zLnJvdywgY29sdW1uOiBwb3MuY29sdW1ufTsKICAgIH07CiAgICAKICAgIHRoaXMucG9zID0gZnVuY3Rpb24ocm93LCBjb2x1bW4pIHsKICAgICAgICByZXR1cm4ge3Jvdzogcm93LCBjb2x1bW46IGNvbHVtbn07CiAgICB9OwogICAgCiAgICB0aGlzLiRjbGlwUG9zaXRpb24gPSBmdW5jdGlvbihwb3NpdGlvbikgewogICAgICAgIHZhciBsZW5ndGggPSB0aGlzLmdldExlbmd0aCgpOwogICAgICAgIGlmIChwb3NpdGlvbi5yb3cgPj0gbGVuZ3RoKSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIGxlbmd0aCAtIDEpOwogICAgICAgICAgICBwb3NpdGlvbi5jb2x1bW4gPSB0aGlzLmdldExpbmUobGVuZ3RoIC0gMSkubGVuZ3RoOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHBvc2l0aW9uLnJvdyA9IE1hdGgubWF4KDAsIHBvc2l0aW9uLnJvdyk7CiAgICAgICAgICAgIHBvc2l0aW9uLmNvbHVtbiA9IE1hdGgubWluKE1hdGgubWF4KHBvc2l0aW9uLmNvbHVtbiwgMCksIHRoaXMuZ2V0TGluZShwb3NpdGlvbi5yb3cpLmxlbmd0aCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiBwb3NpdGlvbjsKICAgIH07CiAgICB0aGlzLmluc2VydEZ1bGxMaW5lcyA9IGZ1bmN0aW9uKHJvdywgbGluZXMpIHsKICAgICAgICByb3cgPSBNYXRoLm1pbihNYXRoLm1heChyb3csIDApLCB0aGlzLmdldExlbmd0aCgpKTsKICAgICAgICB2YXIgY29sdW1uID0gMDsKICAgICAgICBpZiAocm93IDwgdGhpcy5nZXRMZW5ndGgoKSkgewogICAgICAgICAgICBsaW5lcyA9IGxpbmVzLmNvbmNhdChbIiJdKTsKICAgICAgICAgICAgY29sdW1uID0gMDsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBsaW5lcyA9IFsiIl0uY29uY2F0KGxpbmVzKTsKICAgICAgICAgICAgcm93LS07CiAgICAgICAgICAgIGNvbHVtbiA9IHRoaXMuJGxpbmVzW3Jvd10ubGVuZ3RoOwogICAgICAgIH0KICAgICAgICB0aGlzLmluc2VydE1lcmdlZExpbmVzKHtyb3c6IHJvdywgY29sdW1uOiBjb2x1bW59LCBsaW5lcyk7CiAgICB9OyAgICAKICAgIHRoaXMuaW5zZXJ0TWVyZ2VkTGluZXMgPSBmdW5jdGlvbihwb3NpdGlvbiwgbGluZXMpIHsKICAgICAgICB2YXIgc3RhcnQgPSB0aGlzLmNsaXBwZWRQb3MocG9zaXRpb24ucm93LCBwb3NpdGlvbi5jb2x1bW4pOwogICAgICAgIHZhciBlbmQgPSB7CiAgICAgICAgICAgIHJvdzogc3RhcnQucm93ICsgbGluZXMubGVuZ3RoIC0gMSwKICAgICAgICAgICAgY29sdW1uOiAobGluZXMubGVuZ3RoID09IDEgPyBzdGFydC5jb2x1bW4gOiAwKSArIGxpbmVzW2xpbmVzLmxlbmd0aCAtIDFdLmxlbmd0aAogICAgICAgIH07CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHN0YXJ0LAogICAgICAgICAgICBlbmQ6IGVuZCwKICAgICAgICAgICAgYWN0aW9uOiAiaW5zZXJ0IiwKICAgICAgICAgICAgbGluZXM6IGxpbmVzCiAgICAgICAgfSk7CiAgICAgICAgCiAgICAgICAgcmV0dXJuIHRoaXMuY2xvbmVQb3MoZW5kKTsKICAgIH07CiAgICB0aGlzLnJlbW92ZSA9IGZ1bmN0aW9uKHJhbmdlKSB7CiAgICAgICAgdmFyIHN0YXJ0ID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLnN0YXJ0LnJvdywgcmFuZ2Uuc3RhcnQuY29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJhbmdlLmVuZC5yb3csIHJhbmdlLmVuZC5jb2x1bW4pOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YSh7CiAgICAgICAgICAgIHN0YXJ0OiBzdGFydCwKICAgICAgICAgICAgZW5kOiBlbmQsCiAgICAgICAgICAgIGFjdGlvbjogInJlbW92ZSIsCiAgICAgICAgICAgIGxpbmVzOiB0aGlzLmdldExpbmVzRm9yUmFuZ2Uoe3N0YXJ0OiBzdGFydCwgZW5kOiBlbmR9KQogICAgICAgIH0pOwogICAgICAgIHJldHVybiB0aGlzLmNsb25lUG9zKHN0YXJ0KTsKICAgIH07CiAgICB0aGlzLnJlbW92ZUluTGluZSA9IGZ1bmN0aW9uKHJvdywgc3RhcnRDb2x1bW4sIGVuZENvbHVtbikgewogICAgICAgIHZhciBzdGFydCA9IHRoaXMuY2xpcHBlZFBvcyhyb3csIHN0YXJ0Q29sdW1uKTsKICAgICAgICB2YXIgZW5kID0gdGhpcy5jbGlwcGVkUG9zKHJvdywgZW5kQ29sdW1uKTsKICAgICAgICAKICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogc3RhcnQsCiAgICAgICAgICAgIGVuZDogZW5kLAogICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICBsaW5lczogdGhpcy5nZXRMaW5lc0ZvclJhbmdlKHtzdGFydDogc3RhcnQsIGVuZDogZW5kfSkKICAgICAgICB9LCB0cnVlKTsKICAgICAgICAKICAgICAgICByZXR1cm4gdGhpcy5jbG9uZVBvcyhzdGFydCk7CiAgICB9OwogICAgdGhpcy5yZW1vdmVGdWxsTGluZXMgPSBmdW5jdGlvbihmaXJzdFJvdywgbGFzdFJvdykgewogICAgICAgIGZpcnN0Um93ID0gTWF0aC5taW4oTWF0aC5tYXgoMCwgZmlyc3RSb3cpLCB0aGlzLmdldExlbmd0aCgpIC0gMSk7CiAgICAgICAgbGFzdFJvdyAgPSBNYXRoLm1pbihNYXRoLm1heCgwLCBsYXN0Um93ICksIHRoaXMuZ2V0TGVuZ3RoKCkgLSAxKTsKICAgICAgICB2YXIgZGVsZXRlRmlyc3ROZXdMaW5lID0gbGFzdFJvdyA9PSB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiBmaXJzdFJvdyA+IDA7CiAgICAgICAgdmFyIGRlbGV0ZUxhc3ROZXdMaW5lICA9IGxhc3RSb3cgIDwgdGhpcy5nZXRMZW5ndGgoKSAtIDE7CiAgICAgICAgdmFyIHN0YXJ0Um93ID0gKCBkZWxldGVGaXJzdE5ld0xpbmUgPyBmaXJzdFJvdyAtIDEgICAgICAgICAgICAgICAgICA6IGZpcnN0Um93ICAgICAgICAgICAgICAgICAgICApOwogICAgICAgIHZhciBzdGFydENvbCA9ICggZGVsZXRlRmlyc3ROZXdMaW5lID8gdGhpcy5nZXRMaW5lKHN0YXJ0Um93KS5sZW5ndGggOiAwICAgICAgICAgICAgICAgICAgICAgICAgICAgKTsKICAgICAgICB2YXIgZW5kUm93ICAgPSAoIGRlbGV0ZUxhc3ROZXdMaW5lICA/IGxhc3RSb3cgKyAxICAgICAgICAgICAgICAgICAgIDogbGFzdFJvdyAgICAgICAgICAgICAgICAgICAgICk7CiAgICAgICAgdmFyIGVuZENvbCAgID0gKCBkZWxldGVMYXN0TmV3TGluZSAgPyAwICAgICAgICAgICAgICAgICAgICAgICAgICAgICA6IHRoaXMuZ2V0TGluZShlbmRSb3cpLmxlbmd0aCApOyAKICAgICAgICB2YXIgcmFuZ2UgPSBuZXcgUmFuZ2Uoc3RhcnRSb3csIHN0YXJ0Q29sLCBlbmRSb3csIGVuZENvbCk7CiAgICAgICAgdmFyIGRlbGV0ZWRMaW5lcyA9IHRoaXMuJGxpbmVzLnNsaWNlKGZpcnN0Um93LCBsYXN0Um93ICsgMSk7CiAgICAgICAgCiAgICAgICAgdGhpcy5hcHBseURlbHRhKHsKICAgICAgICAgICAgc3RhcnQ6IHJhbmdlLnN0YXJ0LAogICAgICAgICAgICBlbmQ6IHJhbmdlLmVuZCwKICAgICAgICAgICAgYWN0aW9uOiAicmVtb3ZlIiwKICAgICAgICAgICAgbGluZXM6IHRoaXMuZ2V0TGluZXNGb3JSYW5nZShyYW5nZSkKICAgICAgICB9KTsKICAgICAgICByZXR1cm4gZGVsZXRlZExpbmVzOwogICAgfTsKICAgIHRoaXMucmVtb3ZlTmV3TGluZSA9IGZ1bmN0aW9uKHJvdykgewogICAgICAgIGlmIChyb3cgPCB0aGlzLmdldExlbmd0aCgpIC0gMSAmJiByb3cgPj0gMCkgewogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdywgdGhpcy5nZXRMaW5lKHJvdykubGVuZ3RoKSwKICAgICAgICAgICAgICAgIGVuZDogdGhpcy5wb3Mocm93ICsgMSwgMCksCiAgICAgICAgICAgICAgICBhY3Rpb246ICJyZW1vdmUiLAogICAgICAgICAgICAgICAgbGluZXM6IFsiIiwgIiJdCiAgICAgICAgICAgIH0pOwogICAgICAgIH0KICAgIH07CiAgICB0aGlzLnJlcGxhY2UgPSBmdW5jdGlvbihyYW5nZSwgdGV4dCkgewogICAgICAgIGlmICghKHJhbmdlIGluc3RhbmNlb2YgUmFuZ2UpKQogICAgICAgICAgICByYW5nZSA9IFJhbmdlLmZyb21Qb2ludHMocmFuZ2Uuc3RhcnQsIHJhbmdlLmVuZCk7CiAgICAgICAgaWYgKHRleHQubGVuZ3RoID09PSAwICYmIHJhbmdlLmlzRW1wdHkoKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLnN0YXJ0OwogICAgICAgIGlmICh0ZXh0ID09IHRoaXMuZ2V0VGV4dFJhbmdlKHJhbmdlKSkKICAgICAgICAgICAgcmV0dXJuIHJhbmdlLmVuZDsKCiAgICAgICAgdGhpcy5yZW1vdmUocmFuZ2UpOwogICAgICAgIHZhciBlbmQ7CiAgICAgICAgaWYgKHRleHQpIHsKICAgICAgICAgICAgZW5kID0gdGhpcy5pbnNlcnQocmFuZ2Uuc3RhcnQsIHRleHQpOwogICAgICAgIH0KICAgICAgICBlbHNlIHsKICAgICAgICAgICAgZW5kID0gcmFuZ2Uuc3RhcnQ7CiAgICAgICAgfQogICAgICAgIAogICAgICAgIHJldHVybiBlbmQ7CiAgICB9OwogICAgdGhpcy5hcHBseURlbHRhcyA9IGZ1bmN0aW9uKGRlbHRhcykgewogICAgICAgIGZvciAodmFyIGk9MDsgaTxkZWx0YXMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgICAgdGhpcy5hcHBseURlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMucmV2ZXJ0RGVsdGFzID0gZnVuY3Rpb24oZGVsdGFzKSB7CiAgICAgICAgZm9yICh2YXIgaT1kZWx0YXMubGVuZ3RoLTE7IGk+PTA7IGktLSkgewogICAgICAgICAgICB0aGlzLnJldmVydERlbHRhKGRlbHRhc1tpXSk7CiAgICAgICAgfQogICAgfTsKICAgIHRoaXMuYXBwbHlEZWx0YSA9IGZ1bmN0aW9uKGRlbHRhLCBkb05vdFZhbGlkYXRlKSB7CiAgICAgICAgdmFyIGlzSW5zZXJ0ID0gZGVsdGEuYWN0aW9uID09ICJpbnNlcnQiOwogICAgICAgIGlmIChpc0luc2VydCA/IGRlbHRhLmxpbmVzLmxlbmd0aCA8PSAxICYmICFkZWx0YS5saW5lc1swXQogICAgICAgICAgICA6ICFSYW5nZS5jb21wYXJlUG9pbnRzKGRlbHRhLnN0YXJ0LCBkZWx0YS5lbmQpKSB7CiAgICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgCiAgICAgICAgaWYgKGlzSW5zZXJ0ICYmIGRlbHRhLmxpbmVzLmxlbmd0aCA+IDIwMDAwKSB7CiAgICAgICAgICAgIHRoaXMuJHNwbGl0QW5kYXBwbHlMYXJnZURlbHRhKGRlbHRhLCAyMDAwMCk7CiAgICAgICAgfQogICAgICAgIGVsc2UgewogICAgICAgICAgICBhcHBseURlbHRhKHRoaXMuJGxpbmVzLCBkZWx0YSwgZG9Ob3RWYWxpZGF0ZSk7CiAgICAgICAgICAgIHRoaXMuX3NpZ25hbCgiY2hhbmdlIiwgZGVsdGEpOwogICAgICAgIH0KICAgIH07CiAgICAKICAgIHRoaXMuJHNhZmVBcHBseURlbHRhID0gZnVuY3Rpb24oZGVsdGEpIHsKICAgICAgICB2YXIgZG9jTGVuZ3RoID0gdGhpcy4kbGluZXMubGVuZ3RoOwogICAgICAgIGlmICgKICAgICAgICAgICAgZGVsdGEuYWN0aW9uID09ICJyZW1vdmUiICYmIGRlbHRhLnN0YXJ0LnJvdyA8IGRvY0xlbmd0aCAmJiBkZWx0YS5lbmQucm93IDwgZG9jTGVuZ3RoCiAgICAgICAgICAgIHx8IGRlbHRhLmFjdGlvbiA9PSAiaW5zZXJ0IiAmJiBkZWx0YS5zdGFydC5yb3cgPD0gZG9jTGVuZ3RoCiAgICAgICAgKSB7CiAgICAgICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSk7CiAgICAgICAgfQogICAgfTsKICAgIAogICAgdGhpcy4kc3BsaXRBbmRhcHBseUxhcmdlRGVsdGEgPSBmdW5jdGlvbihkZWx0YSwgTUFYKSB7CiAgICAgICAgdmFyIGxpbmVzID0gZGVsdGEubGluZXM7CiAgICAgICAgdmFyIGwgPSBsaW5lcy5sZW5ndGggLSBNQVggKyAxOwogICAgICAgIHZhciByb3cgPSBkZWx0YS5zdGFydC5yb3c7IAogICAgICAgIHZhciBjb2x1bW4gPSBkZWx0YS5zdGFydC5jb2x1bW47CiAgICAgICAgZm9yICh2YXIgZnJvbSA9IDAsIHRvID0gMDsgZnJvbSA8IGw7IGZyb20gPSB0bykgewogICAgICAgICAgICB0byArPSBNQVggLSAxOwogICAgICAgICAgICB2YXIgY2h1bmsgPSBsaW5lcy5zbGljZShmcm9tLCB0byk7CiAgICAgICAgICAgIGNodW5rLnB1c2goIiIpOwogICAgICAgICAgICB0aGlzLmFwcGx5RGVsdGEoewogICAgICAgICAgICAgICAgc3RhcnQ6IHRoaXMucG9zKHJvdyArIGZyb20sIGNvbHVtbiksCiAgICAgICAgICAgICAgICBlbmQ6IHRoaXMucG9zKHJvdyArIHRvLCBjb2x1bW4gPSAwKSwKICAgICAgICAgICAgICAgIGFjdGlvbjogZGVsdGEuYWN0aW9uLAogICAgICAgICAgICAgICAgbGluZXM6IGNodW5rCiAgICAgICAgICAgIH0sIHRydWUpOwogICAgICAgIH0KICAgICAgICBkZWx0YS5saW5lcyA9IGxpbmVzLnNsaWNlKGZyb20pOwogICAgICAgIGRlbHRhLnN0YXJ0LnJvdyA9IHJvdyArIGZyb207CiAgICAgICAgZGVsdGEuc3RhcnQuY29sdW1uID0gY29sdW1uOwogICAgICAgIHRoaXMuYXBwbHlEZWx0YShkZWx0YSwgdHJ1ZSk7CiAgICB9OwogICAgdGhpcy5yZXZlcnREZWx0YSA9IGZ1bmN0aW9uKGRlbHRhKSB7CiAgICAgICAgdGhpcy4kc2FmZUFwcGx5RGVsdGEoewogICAgICAgICAgICBzdGFydDogdGhpcy5jbG9uZVBvcyhkZWx0YS5zdGFydCksCiAgICAgICAgICAgIGVuZDogdGhpcy5jbG9uZVBvcyhkZWx0YS5lbmQpLAogICAgICAgICAgICBhY3Rpb246IChkZWx0YS5hY3Rpb24gPT0gImluc2VydCIgPyAicmVtb3ZlIiA6ICJpbnNlcnQiKSwKICAgICAgICAgICAgbGluZXM6IGRlbHRhLmxpbmVzLnNsaWNlKCkKICAgICAgICB9KTsKICAgIH07CiAgICB0aGlzLmluZGV4VG9Qb3NpdGlvbiA9IGZ1bmN0aW9uKGluZGV4LCBzdGFydFJvdykgewogICAgICAgIHZhciBsaW5lcyA9IHRoaXMuJGxpbmVzIHx8IHRoaXMuZ2V0QWxsTGluZXMoKTsKICAgICAgICB2YXIgbmV3bGluZUxlbmd0aCA9IHRoaXMuZ2V0TmV3TGluZUNoYXJhY3RlcigpLmxlbmd0aDsKICAgICAgICBmb3IgKHZhciBpID0gc3RhcnRSb3cgfHwgMCwgbCA9IGxpbmVzLmxlbmd0aDsgaSA8IGw7IGkrKykgewogICAgICAgICAgICBpbmRleCAtPSBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RoOwogICAgICAgICAgICBpZiAoaW5kZXggPCAwKQogICAgICAgICAgICAgICAgcmV0dXJuIHtyb3c6IGksIGNvbHVtbjogaW5kZXggKyBsaW5lc1tpXS5sZW5ndGggKyBuZXdsaW5lTGVuZ3RofTsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHtyb3c6IGwtMSwgY29sdW1uOiBpbmRleCArIGxpbmVzW2wtMV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aH07CiAgICB9OwogICAgdGhpcy5wb3NpdGlvblRvSW5kZXggPSBmdW5jdGlvbihwb3MsIHN0YXJ0Um93KSB7CiAgICAgICAgdmFyIGxpbmVzID0gdGhpcy4kbGluZXMgfHwgdGhpcy5nZXRBbGxMaW5lcygpOwogICAgICAgIHZhciBuZXdsaW5lTGVuZ3RoID0gdGhpcy5nZXROZXdMaW5lQ2hhcmFjdGVyKCkubGVuZ3RoOwogICAgICAgIHZhciBpbmRleCA9IDA7CiAgICAgICAgdmFyIHJvdyA9IE1hdGgubWluKHBvcy5yb3csIGxpbmVzLmxlbmd0aCk7CiAgICAgICAgZm9yICh2YXIgaSA9IHN0YXJ0Um93IHx8IDA7IGkgPCByb3c7ICsraSkKICAgICAgICAgICAgaW5kZXggKz0gbGluZXNbaV0ubGVuZ3RoICsgbmV3bGluZUxlbmd0aDsKCiAgICAgICAgcmV0dXJuIGluZGV4ICsgcG9zLmNvbHVtbjsKICAgIH07Cgp9KS5jYWxsKERvY3VtZW50LnByb3RvdHlwZSk7CgpleHBvcnRzLkRvY3VtZW50ID0gRG9jdW1lbnQ7Cn0pOwoKYWNlLmRlZmluZSgiYWNlL2xpYi9sYW5nIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCmV4cG9ydHMubGFzdCA9IGZ1bmN0aW9uKGEpIHsKICAgIHJldHVybiBhW2EubGVuZ3RoIC0gMV07Cn07CgpleHBvcnRzLnN0cmluZ1JldmVyc2UgPSBmdW5jdGlvbihzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcuc3BsaXQoIiIpLnJldmVyc2UoKS5qb2luKCIiKTsKfTsKCmV4cG9ydHMuc3RyaW5nUmVwZWF0ID0gZnVuY3Rpb24gKHN0cmluZywgY291bnQpIHsKICAgIHZhciByZXN1bHQgPSAnJzsKICAgIHdoaWxlIChjb3VudCA+IDApIHsKICAgICAgICBpZiAoY291bnQgJiAxKQogICAgICAgICAgICByZXN1bHQgKz0gc3RyaW5nOwoKICAgICAgICBpZiAoY291bnQgPj49IDEpCiAgICAgICAgICAgIHN0cmluZyArPSBzdHJpbmc7CiAgICB9CiAgICByZXR1cm4gcmVzdWx0Owp9OwoKdmFyIHRyaW1CZWdpblJlZ2V4cCA9IC9eXHNccyovOwp2YXIgdHJpbUVuZFJlZ2V4cCA9IC9cc1xzKiQvOwoKZXhwb3J0cy5zdHJpbmdUcmltTGVmdCA9IGZ1bmN0aW9uIChzdHJpbmcpIHsKICAgIHJldHVybiBzdHJpbmcucmVwbGFjZSh0cmltQmVnaW5SZWdleHAsICcnKTsKfTsKCmV4cG9ydHMuc3RyaW5nVHJpbVJpZ2h0ID0gZnVuY3Rpb24gKHN0cmluZykgewogICAgcmV0dXJuIHN0cmluZy5yZXBsYWNlKHRyaW1FbmRSZWdleHAsICcnKTsKfTsKCmV4cG9ydHMuY29weU9iamVjdCA9IGZ1bmN0aW9uKG9iaikgewogICAgdmFyIGNvcHkgPSB7fTsKICAgIGZvciAodmFyIGtleSBpbiBvYmopIHsKICAgICAgICBjb3B5W2tleV0gPSBvYmpba2V5XTsKICAgIH0KICAgIHJldHVybiBjb3B5Owp9OwoKZXhwb3J0cy5jb3B5QXJyYXkgPSBmdW5jdGlvbihhcnJheSl7CiAgICB2YXIgY29weSA9IFtdOwogICAgZm9yICh2YXIgaT0wLCBsPWFycmF5Lmxlbmd0aDsgaTxsOyBpKyspIHsKICAgICAgICBpZiAoYXJyYXlbaV0gJiYgdHlwZW9mIGFycmF5W2ldID09ICJvYmplY3QiKQogICAgICAgICAgICBjb3B5W2ldID0gdGhpcy5jb3B5T2JqZWN0KGFycmF5W2ldKTsKICAgICAgICBlbHNlIAogICAgICAgICAgICBjb3B5W2ldID0gYXJyYXlbaV07CiAgICB9CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuZGVlcENvcHkgPSBmdW5jdGlvbiBkZWVwQ29weShvYmopIHsKICAgIGlmICh0eXBlb2Ygb2JqICE9PSAib2JqZWN0IiB8fCAhb2JqKQogICAgICAgIHJldHVybiBvYmo7CiAgICB2YXIgY29weTsKICAgIGlmIChBcnJheS5pc0FycmF5KG9iaikpIHsKICAgICAgICBjb3B5ID0gW107CiAgICAgICAgZm9yICh2YXIga2V5ID0gMDsga2V5IDwgb2JqLmxlbmd0aDsga2V5KyspIHsKICAgICAgICAgICAgY29weVtrZXldID0gZGVlcENvcHkob2JqW2tleV0pOwogICAgICAgIH0KICAgICAgICByZXR1cm4gY29weTsKICAgIH0KICAgIGlmIChPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSAhPT0gIltvYmplY3QgT2JqZWN0XSIpCiAgICAgICAgcmV0dXJuIG9iajsKICAgIAogICAgY29weSA9IHt9OwogICAgZm9yICh2YXIga2V5IGluIG9iaikKICAgICAgICBjb3B5W2tleV0gPSBkZWVwQ29weShvYmpba2V5XSk7CiAgICByZXR1cm4gY29weTsKfTsKCmV4cG9ydHMuYXJyYXlUb01hcCA9IGZ1bmN0aW9uKGFycikgewogICAgdmFyIG1hcCA9IHt9OwogICAgZm9yICh2YXIgaT0wOyBpPGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIG1hcFthcnJbaV1dID0gMTsKICAgIH0KICAgIHJldHVybiBtYXA7Cgp9OwoKZXhwb3J0cy5jcmVhdGVNYXAgPSBmdW5jdGlvbihwcm9wcykgewogICAgdmFyIG1hcCA9IE9iamVjdC5jcmVhdGUobnVsbCk7CiAgICBmb3IgKHZhciBpIGluIHByb3BzKSB7CiAgICAgICAgbWFwW2ldID0gcHJvcHNbaV07CiAgICB9CiAgICByZXR1cm4gbWFwOwp9OwpleHBvcnRzLmFycmF5UmVtb3ZlID0gZnVuY3Rpb24oYXJyYXksIHZhbHVlKSB7CiAgZm9yICh2YXIgaSA9IDA7IGkgPD0gYXJyYXkubGVuZ3RoOyBpKyspIHsKICAgIGlmICh2YWx1ZSA9PT0gYXJyYXlbaV0pIHsKICAgICAgYXJyYXkuc3BsaWNlKGksIDEpOwogICAgfQogIH0KfTsKCmV4cG9ydHMuZXNjYXBlUmVnRXhwID0gZnVuY3Rpb24oc3RyKSB7CiAgICByZXR1cm4gc3RyLnJlcGxhY2UoLyhbLiorP14ke30oKXxbXF1cL1xcXSkvZywgJ1xcJDEnKTsKfTsKCmV4cG9ydHMuZXNjYXBlSFRNTCA9IGZ1bmN0aW9uKHN0cikgewogICAgcmV0dXJuICgiIiArIHN0cikucmVwbGFjZSgvJi9nLCAiJiMzODsiKS5yZXBsYWNlKC8iL2csICImIzM0OyIpLnJlcGxhY2UoLycvZywgIiYjMzk7IikucmVwbGFjZSgvPC9nLCAiJiM2MDsiKTsKfTsKCmV4cG9ydHMuZ2V0TWF0Y2hPZmZzZXRzID0gZnVuY3Rpb24oc3RyaW5nLCByZWdFeHApIHsKICAgIHZhciBtYXRjaGVzID0gW107CgogICAgc3RyaW5nLnJlcGxhY2UocmVnRXhwLCBmdW5jdGlvbihzdHIpIHsKICAgICAgICBtYXRjaGVzLnB1c2goewogICAgICAgICAgICBvZmZzZXQ6IGFyZ3VtZW50c1thcmd1bWVudHMubGVuZ3RoLTJdLAogICAgICAgICAgICBsZW5ndGg6IHN0ci5sZW5ndGgKICAgICAgICB9KTsKICAgIH0pOwoKICAgIHJldHVybiBtYXRjaGVzOwp9OwpleHBvcnRzLmRlZmVycmVkQ2FsbCA9IGZ1bmN0aW9uKGZjbikgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgdmFyIGRlZmVycmVkID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIGRlZmVycmVkLmNhbmNlbCgpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCAwKTsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwoKICAgIGRlZmVycmVkLnNjaGVkdWxlID0gZGVmZXJyZWQ7CgogICAgZGVmZXJyZWQuY2FsbCA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRoaXMuY2FuY2VsKCk7CiAgICAgICAgZmNuKCk7CiAgICAgICAgcmV0dXJuIGRlZmVycmVkOwogICAgfTsKCiAgICBkZWZlcnJlZC5jYW5jZWwgPSBmdW5jdGlvbigpIHsKICAgICAgICBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICByZXR1cm4gZGVmZXJyZWQ7CiAgICB9OwogICAgCiAgICBkZWZlcnJlZC5pc1BlbmRpbmcgPSBmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gdGltZXI7CiAgICB9OwoKICAgIHJldHVybiBkZWZlcnJlZDsKfTsKCgpleHBvcnRzLmRlbGF5ZWRDYWxsID0gZnVuY3Rpb24oZmNuLCBkZWZhdWx0VGltZW91dCkgewogICAgdmFyIHRpbWVyID0gbnVsbDsKICAgIHZhciBjYWxsYmFjayA9IGZ1bmN0aW9uKCkgewogICAgICAgIHRpbWVyID0gbnVsbDsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgdmFyIF9zZWxmID0gZnVuY3Rpb24odGltZW91dCkgewogICAgICAgIGlmICh0aW1lciA9PSBudWxsKQogICAgICAgICAgICB0aW1lciA9IHNldFRpbWVvdXQoY2FsbGJhY2ssIHRpbWVvdXQgfHwgZGVmYXVsdFRpbWVvdXQpOwogICAgfTsKCiAgICBfc2VsZi5kZWxheSA9IGZ1bmN0aW9uKHRpbWVvdXQpIHsKICAgICAgICB0aW1lciAmJiBjbGVhclRpbWVvdXQodGltZXIpOwogICAgICAgIHRpbWVyID0gc2V0VGltZW91dChjYWxsYmFjaywgdGltZW91dCB8fCBkZWZhdWx0VGltZW91dCk7CiAgICB9OwogICAgX3NlbGYuc2NoZWR1bGUgPSBfc2VsZjsKCiAgICBfc2VsZi5jYWxsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGhpcy5jYW5jZWwoKTsKICAgICAgICBmY24oKTsKICAgIH07CgogICAgX3NlbGYuY2FuY2VsID0gZnVuY3Rpb24oKSB7CiAgICAgICAgdGltZXIgJiYgY2xlYXJUaW1lb3V0KHRpbWVyKTsKICAgICAgICB0aW1lciA9IG51bGw7CiAgICB9OwoKICAgIF9zZWxmLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aW1lcjsKICAgIH07CgogICAgcmV0dXJuIF9zZWxmOwp9Owp9KTsKCmFjZS5kZWZpbmUoImFjZS93b3JrZXIvbWlycm9yIixbXSwgZnVuY3Rpb24ocmVxdWlyZSwgZXhwb3J0cywgbW9kdWxlKSB7CiJ1c2Ugc3RyaWN0IjsKCnZhciBSYW5nZSA9IHJlcXVpcmUoIi4uL3JhbmdlIikuUmFuZ2U7CnZhciBEb2N1bWVudCA9IHJlcXVpcmUoIi4uL2RvY3VtZW50IikuRG9jdW1lbnQ7CnZhciBsYW5nID0gcmVxdWlyZSgiLi4vbGliL2xhbmciKTsKICAgIAp2YXIgTWlycm9yID0gZXhwb3J0cy5NaXJyb3IgPSBmdW5jdGlvbihzZW5kZXIpIHsKICAgIHRoaXMuc2VuZGVyID0gc2VuZGVyOwogICAgdmFyIGRvYyA9IHRoaXMuZG9jID0gbmV3IERvY3VtZW50KCIiKTsKICAgIAogICAgdmFyIGRlZmVycmVkVXBkYXRlID0gdGhpcy5kZWZlcnJlZFVwZGF0ZSA9IGxhbmcuZGVsYXllZENhbGwodGhpcy5vblVwZGF0ZS5iaW5kKHRoaXMpKTsKICAgIAogICAgdmFyIF9zZWxmID0gdGhpczsKICAgIHNlbmRlci5vbigiY2hhbmdlIiwgZnVuY3Rpb24oZSkgewogICAgICAgIHZhciBkYXRhID0gZS5kYXRhOwogICAgICAgIGlmIChkYXRhWzBdLnN0YXJ0KSB7CiAgICAgICAgICAgIGRvYy5hcHBseURlbHRhcyhkYXRhKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGRhdGEubGVuZ3RoOyBpICs9IDIpIHsKICAgICAgICAgICAgICAgIGlmIChBcnJheS5pc0FycmF5KGRhdGFbaSsxXSkpIHsKICAgICAgICAgICAgICAgICAgICB2YXIgZCA9IHthY3Rpb246ICJpbnNlcnQiLCBzdGFydDogZGF0YVtpXSwgbGluZXM6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgICAgIHZhciBkID0ge2FjdGlvbjogInJlbW92ZSIsIHN0YXJ0OiBkYXRhW2ldLCBlbmQ6IGRhdGFbaSsxXX07CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBkb2MuYXBwbHlEZWx0YShkLCB0cnVlKTsKICAgICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBpZiAoX3NlbGYuJHRpbWVvdXQpCiAgICAgICAgICAgIHJldHVybiBkZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZShfc2VsZi4kdGltZW91dCk7CiAgICAgICAgX3NlbGYub25VcGRhdGUoKTsKICAgIH0pOwp9OwoKKGZ1bmN0aW9uKCkgewogICAgCiAgICB0aGlzLiR0aW1lb3V0ID0gNTAwOwogICAgCiAgICB0aGlzLnNldFRpbWVvdXQgPSBmdW5jdGlvbih0aW1lb3V0KSB7CiAgICAgICAgdGhpcy4kdGltZW91dCA9IHRpbWVvdXQ7CiAgICB9OwogICAgCiAgICB0aGlzLnNldFZhbHVlID0gZnVuY3Rpb24odmFsdWUpIHsKICAgICAgICB0aGlzLmRvYy5zZXRWYWx1ZSh2YWx1ZSk7CiAgICAgICAgdGhpcy5kZWZlcnJlZFVwZGF0ZS5zY2hlZHVsZSh0aGlzLiR0aW1lb3V0KTsKICAgIH07CiAgICAKICAgIHRoaXMuZ2V0VmFsdWUgPSBmdW5jdGlvbihjYWxsYmFja0lkKSB7CiAgICAgICAgdGhpcy5zZW5kZXIuY2FsbGJhY2sodGhpcy5kb2MuZ2V0VmFsdWUoKSwgY2FsbGJhY2tJZCk7CiAgICB9OwogICAgCiAgICB0aGlzLm9uVXBkYXRlID0gZnVuY3Rpb24oKSB7CiAgICB9OwogICAgCiAgICB0aGlzLmlzUGVuZGluZyA9IGZ1bmN0aW9uKCkgewogICAgICAgIHJldHVybiB0aGlzLmRlZmVycmVkVXBkYXRlLmlzUGVuZGluZygpOwogICAgfTsKICAgIAp9KS5jYWxsKE1pcnJvci5wcm90b3R5cGUpOwoKfSk7CgphY2UuZGVmaW5lKCJhY2UvbW9kZS9qc29uL2pzb25fcGFyc2UiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKICAgIHZhciBhdCwgICAgIC8vIFRoZSBpbmRleCBvZiB0aGUgY3VycmVudCBjaGFyYWN0ZXIKICAgICAgICBjaCwgICAgIC8vIFRoZSBjdXJyZW50IGNoYXJhY3RlcgogICAgICAgIGVzY2FwZWUgPSB7CiAgICAgICAgICAgICciJzogICciJywKICAgICAgICAgICAgJ1xcJzogJ1xcJywKICAgICAgICAgICAgJy8nOiAgJy8nLAogICAgICAgICAgICBiOiAgICAnXGInLAogICAgICAgICAgICBmOiAgICAnXGYnLAogICAgICAgICAgICBuOiAgICAnXG4nLAogICAgICAgICAgICByOiAgICAnXHInLAogICAgICAgICAgICB0OiAgICAnXHQnCiAgICAgICAgfSwKICAgICAgICB0ZXh0LAoKICAgICAgICBlcnJvciA9IGZ1bmN0aW9uIChtKSB7CgogICAgICAgICAgICB0aHJvdyB7CiAgICAgICAgICAgICAgICBuYW1lOiAgICAnU3ludGF4RXJyb3InLAogICAgICAgICAgICAgICAgbWVzc2FnZTogbSwKICAgICAgICAgICAgICAgIGF0OiAgICAgIGF0LAogICAgICAgICAgICAgICAgdGV4dDogICAgdGV4dAogICAgICAgICAgICB9OwogICAgICAgIH0sCgogICAgICAgIG5leHQgPSBmdW5jdGlvbiAoYykgewoKICAgICAgICAgICAgaWYgKGMgJiYgYyAhPT0gY2gpIHsKICAgICAgICAgICAgICAgIGVycm9yKCJFeHBlY3RlZCAnIiArIGMgKyAiJyBpbnN0ZWFkIG9mICciICsgY2ggKyAiJyIpOwogICAgICAgICAgICB9CgogICAgICAgICAgICBjaCA9IHRleHQuY2hhckF0KGF0KTsKICAgICAgICAgICAgYXQgKz0gMTsKICAgICAgICAgICAgcmV0dXJuIGNoOwogICAgICAgIH0sCgogICAgICAgIG51bWJlciA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHZhciBudW1iZXIsCiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnJzsKCiAgICAgICAgICAgIGlmIChjaCA9PT0gJy0nKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgPSAnLSc7CiAgICAgICAgICAgICAgICBuZXh0KCctJyk7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgd2hpbGUgKGNoID49ICcwJyAmJiBjaCA8PSAnOScpIHsKICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICcuJykgewogICAgICAgICAgICAgICAgc3RyaW5nICs9ICcuJzsKICAgICAgICAgICAgICAgIHdoaWxlIChuZXh0KCkgJiYgY2ggPj0gJzAnICYmIGNoIDw9ICc5JykgewogICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoY2ggPT09ICdlJyB8fCBjaCA9PT0gJ0UnKSB7CiAgICAgICAgICAgICAgICBzdHJpbmcgKz0gY2g7CiAgICAgICAgICAgICAgICBuZXh0KCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICctJyB8fCBjaCA9PT0gJysnKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIHdoaWxlIChjaCA+PSAnMCcgJiYgY2ggPD0gJzknKSB7CiAgICAgICAgICAgICAgICAgICAgc3RyaW5nICs9IGNoOwogICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBudW1iZXIgPSArc3RyaW5nOwogICAgICAgICAgICBpZiAoaXNOYU4obnVtYmVyKSkgewogICAgICAgICAgICAgICAgZXJyb3IoIkJhZCBudW1iZXIiKTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIHJldHVybiBudW1iZXI7CiAgICAgICAgICAgIH0KICAgICAgICB9LAoKICAgICAgICBzdHJpbmcgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICB2YXIgaGV4LAogICAgICAgICAgICAgICAgaSwKICAgICAgICAgICAgICAgIHN0cmluZyA9ICcnLAogICAgICAgICAgICAgICAgdWZmZmY7CgogICAgICAgICAgICBpZiAoY2ggPT09ICciJykgewogICAgICAgICAgICAgICAgd2hpbGUgKG5leHQoKSkgewogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJyInKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0cmluZzsKICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGNoID09PSAnXFwnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNoID09PSAndScpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAoaSA9IDA7IGkgPCA0OyBpICs9IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoZXggPSBwYXJzZUludChuZXh0KCksIDE2KTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzRmluaXRlKGhleCkpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHVmZmZmID0gdWZmZmYgKiAxNiArIGhleDsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHVmZmZmKTsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlb2YgZXNjYXBlZVtjaF0gPT09ICdzdHJpbmcnKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHJpbmcgKz0gZXNjYXBlZVtjaF07CiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2ggPT0gIlxuIiB8fCBjaCA9PSAiXHIiKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgICAgIHN0cmluZyArPSBjaDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBzdHJpbmciKTsKICAgICAgICB9LAoKICAgICAgICB3aGl0ZSA9IGZ1bmN0aW9uICgpIHsKCiAgICAgICAgICAgIHdoaWxlIChjaCAmJiBjaCA8PSAnICcpIHsKICAgICAgICAgICAgICAgIG5leHQoKTsKICAgICAgICAgICAgfQogICAgICAgIH0sCgogICAgICAgIHdvcmQgPSBmdW5jdGlvbiAoKSB7CgogICAgICAgICAgICBzd2l0Y2ggKGNoKSB7CiAgICAgICAgICAgIGNhc2UgJ3QnOgogICAgICAgICAgICAgICAgbmV4dCgndCcpOwogICAgICAgICAgICAgICAgbmV4dCgncicpOwogICAgICAgICAgICAgICAgbmV4dCgndScpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7CiAgICAgICAgICAgIGNhc2UgJ2YnOgogICAgICAgICAgICAgICAgbmV4dCgnZicpOwogICAgICAgICAgICAgICAgbmV4dCgnYScpOwogICAgICAgICAgICAgICAgbmV4dCgnbCcpOwogICAgICAgICAgICAgICAgbmV4dCgncycpOwogICAgICAgICAgICAgICAgbmV4dCgnZScpOwogICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICAgICAgICBjYXNlICduJzoKICAgICAgICAgICAgICAgIG5leHQoJ24nKTsKICAgICAgICAgICAgICAgIG5leHQoJ3UnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIG5leHQoJ2wnKTsKICAgICAgICAgICAgICAgIHJldHVybiBudWxsOwogICAgICAgICAgICB9CiAgICAgICAgICAgIGVycm9yKCJVbmV4cGVjdGVkICciICsgY2ggKyAiJyIpOwogICAgICAgIH0sCgogICAgICAgIHZhbHVlLCAgLy8gUGxhY2UgaG9sZGVyIGZvciB0aGUgdmFsdWUgZnVuY3Rpb24uCgogICAgICAgIGFycmF5ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGFycmF5ID0gW107CgogICAgICAgICAgICBpZiAoY2ggPT09ICdbJykgewogICAgICAgICAgICAgICAgbmV4dCgnWycpOwogICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnXScpOwogICAgICAgICAgICAgICAgICAgIHJldHVybiBhcnJheTsgICAvLyBlbXB0eSBhcnJheQogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAgYXJyYXkucHVzaCh2YWx1ZSgpKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ10nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ10nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGFycmF5OwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICBuZXh0KCcsJyk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBlcnJvcigiQmFkIGFycmF5Iik7CiAgICAgICAgfSwKCiAgICAgICAgb2JqZWN0ID0gZnVuY3Rpb24gKCkgewoKICAgICAgICAgICAgdmFyIGtleSwKICAgICAgICAgICAgICAgIG9iamVjdCA9IHt9OwoKICAgICAgICAgICAgaWYgKGNoID09PSAneycpIHsKICAgICAgICAgICAgICAgIG5leHQoJ3snKTsKICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICBpZiAoY2ggPT09ICd9JykgewogICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gb2JqZWN0OyAgIC8vIGVtcHR5IG9iamVjdAogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgd2hpbGUgKGNoKSB7CiAgICAgICAgICAgICAgICAgICAga2V5ID0gc3RyaW5nKCk7CiAgICAgICAgICAgICAgICAgICAgd2hpdGUoKTsKICAgICAgICAgICAgICAgICAgICBuZXh0KCc6Jyk7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwga2V5KSkgewogICAgICAgICAgICAgICAgICAgICAgICBlcnJvcignRHVwbGljYXRlIGtleSAiJyArIGtleSArICciJyk7CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWUoKTsKICAgICAgICAgICAgICAgICAgICB3aGl0ZSgpOwogICAgICAgICAgICAgICAgICAgIGlmIChjaCA9PT0gJ30nKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIG5leHQoJ30nKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9iamVjdDsKICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgbmV4dCgnLCcpOwogICAgICAgICAgICAgICAgICAgIHdoaXRlKCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZXJyb3IoIkJhZCBvYmplY3QiKTsKICAgICAgICB9OwoKICAgIHZhbHVlID0gZnVuY3Rpb24gKCkgewoKICAgICAgICB3aGl0ZSgpOwogICAgICAgIHN3aXRjaCAoY2gpIHsKICAgICAgICBjYXNlICd7JzoKICAgICAgICAgICAgcmV0dXJuIG9iamVjdCgpOwogICAgICAgIGNhc2UgJ1snOgogICAgICAgICAgICByZXR1cm4gYXJyYXkoKTsKICAgICAgICBjYXNlICciJzoKICAgICAgICAgICAgcmV0dXJuIHN0cmluZygpOwogICAgICAgIGNhc2UgJy0nOgogICAgICAgICAgICByZXR1cm4gbnVtYmVyKCk7CiAgICAgICAgZGVmYXVsdDoKICAgICAgICAgICAgcmV0dXJuIGNoID49ICcwJyAmJiBjaCA8PSAnOScgPyBudW1iZXIoKSA6IHdvcmQoKTsKICAgICAgICB9CiAgICB9OwoKICAgIHJldHVybiBmdW5jdGlvbiAoc291cmNlLCByZXZpdmVyKSB7CiAgICAgICAgdmFyIHJlc3VsdDsKCiAgICAgICAgdGV4dCA9IHNvdXJjZTsKICAgICAgICBhdCA9IDA7CiAgICAgICAgY2ggPSAnICc7CiAgICAgICAgcmVzdWx0ID0gdmFsdWUoKTsKICAgICAgICB3aGl0ZSgpOwogICAgICAgIGlmIChjaCkgewogICAgICAgICAgICBlcnJvcigiU3ludGF4IGVycm9yIik7CiAgICAgICAgfQoKICAgICAgICByZXR1cm4gdHlwZW9mIHJldml2ZXIgPT09ICdmdW5jdGlvbicgPyBmdW5jdGlvbiB3YWxrKGhvbGRlciwga2V5KSB7CiAgICAgICAgICAgIHZhciBrLCB2LCB2YWx1ZSA9IGhvbGRlcltrZXldOwogICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mIHZhbHVlID09PSAnb2JqZWN0JykgewogICAgICAgICAgICAgICAgZm9yIChrIGluIHZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgaWYgKE9iamVjdC5oYXNPd25Qcm9wZXJ0eS5jYWxsKHZhbHVlLCBrKSkgewogICAgICAgICAgICAgICAgICAgICAgICB2ID0gd2Fsayh2YWx1ZSwgayk7CiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2ICE9PSB1bmRlZmluZWQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlW2tdID0gdjsKICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSB2YWx1ZVtrXTsKICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICByZXR1cm4gcmV2aXZlci5jYWxsKGhvbGRlciwga2V5LCB2YWx1ZSk7CiAgICAgICAgfSh7Jyc6IHJlc3VsdH0sICcnKSA6IHJlc3VsdDsKICAgIH07Cn0pOwoKYWNlLmRlZmluZSgiYWNlL21vZGUvanNvbl93b3JrZXIiLFtdLCBmdW5jdGlvbihyZXF1aXJlLCBleHBvcnRzLCBtb2R1bGUpIHsKInVzZSBzdHJpY3QiOwoKdmFyIG9vcCA9IHJlcXVpcmUoIi4uL2xpYi9vb3AiKTsKdmFyIE1pcnJvciA9IHJlcXVpcmUoIi4uL3dvcmtlci9taXJyb3IiKS5NaXJyb3I7CnZhciBwYXJzZSA9IHJlcXVpcmUoIi4vanNvbi9qc29uX3BhcnNlIik7Cgp2YXIgSnNvbldvcmtlciA9IGV4cG9ydHMuSnNvbldvcmtlciA9IGZ1bmN0aW9uKHNlbmRlcikgewogICAgTWlycm9yLmNhbGwodGhpcywgc2VuZGVyKTsKICAgIHRoaXMuc2V0VGltZW91dCgyMDApOwp9OwoKb29wLmluaGVyaXRzKEpzb25Xb3JrZXIsIE1pcnJvcik7CgooZnVuY3Rpb24oKSB7CgogICAgdGhpcy5vblVwZGF0ZSA9IGZ1bmN0aW9uKCkgewogICAgICAgIHZhciB2YWx1ZSA9IHRoaXMuZG9jLmdldFZhbHVlKCk7CiAgICAgICAgdmFyIGVycm9ycyA9IFtdOwogICAgICAgIHRyeSB7CiAgICAgICAgICAgIGlmICh2YWx1ZSkKICAgICAgICAgICAgICAgIHBhcnNlKHZhbHVlKTsKICAgICAgICB9IGNhdGNoIChlKSB7CiAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLmRvYy5pbmRleFRvUG9zaXRpb24oZS5hdC0xKTsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgICAgcm93OiBwb3Mucm93LAogICAgICAgICAgICAgICAgY29sdW1uOiBwb3MuY29sdW1uLAogICAgICAgICAgICAgICAgdGV4dDogZS5tZXNzYWdlLAogICAgICAgICAgICAgICAgdHlwZTogImVycm9yIgogICAgICAgICAgICB9KTsKICAgICAgICB9CiAgICAgICAgdGhpcy5zZW5kZXIuZW1pdCgiYW5ub3RhdGUiLCBlcnJvcnMpOwogICAgfTsKCn0pLmNhbGwoSnNvbldvcmtlci5wcm90b3R5cGUpOwoKfSk7Cg=="},function(e,t,n){e.exports=function(){"use strict";var e=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},t=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};String.prototype.startsWith=String.prototype.startsWith||function(e){return 0===this.indexOf(e)},String.prototype.padStart=String.prototype.padStart||function(e,t){for(var n=this;n.length<e;)n=t+n;return n};var i={cb:"0f8ff",tqw:"aebd7",q:"-ffff",qmrn:"7fffd4",zr:"0ffff",bg:"5f5dc",bsq:"e4c4",bck:"---",nch:"ebcd",b:"--ff",bvt:"8a2be2",brwn:"a52a2a",brw:"deb887",ctb:"5f9ea0",hrt:"7fff-",chcT:"d2691e",cr:"7f50",rnw:"6495ed",crns:"8dc",crms:"dc143c",cn:"-ffff",Db:"--8b",Dcn:"-8b8b",Dgnr:"b8860b",Dgr:"a9a9a9",Dgrn:"-64-",Dkhk:"bdb76b",Dmgn:"8b-8b",Dvgr:"556b2f",Drng:"8c-",Drch:"9932cc",Dr:"8b--",Dsmn:"e9967a",Dsgr:"8fbc8f",DsTb:"483d8b",DsTg:"2f4f4f",Dtrq:"-ced1",Dvt:"94-d3",ppnk:"1493",pskb:"-bfff",mgr:"696969",grb:"1e90ff",rbrc:"b22222",rwht:"af0",stg:"228b22",chs:"-ff",gnsb:"dcdcdc",st:"8f8ff",g:"d7-",gnr:"daa520",gr:"808080",grn:"-8-0",grnw:"adff2f",hnw:"0fff0",htpn:"69b4",nnr:"cd5c5c",ng:"4b-82",vr:"0",khk:"0e68c",vnr:"e6e6fa",nrb:"0f5",wngr:"7cfc-",mnch:"acd",Lb:"add8e6",Lcr:"08080",Lcn:"e0ffff",Lgnr:"afad2",Lgr:"d3d3d3",Lgrn:"90ee90",Lpnk:"b6c1",Lsmn:"a07a",Lsgr:"20b2aa",Lskb:"87cefa",LsTg:"778899",Lstb:"b0c4de",Lw:"e0",m:"-ff-",mgrn:"32cd32",nn:"af0e6",mgnt:"-ff",mrn:"8--0",mqm:"66cdaa",mmb:"--cd",mmrc:"ba55d3",mmpr:"9370db",msg:"3cb371",mmsT:"7b68ee","":"-fa9a",mtr:"48d1cc",mmvt:"c71585",mnLb:"191970",ntc:"5fffa",mstr:"e4e1",mccs:"e4b5",vjw:"dead",nv:"--80",c:"df5e6",v:"808-0",vrb:"6b8e23",rng:"a5-",rngr:"45-",rch:"da70d6",pgnr:"eee8aa",pgrn:"98fb98",ptrq:"afeeee",pvtr:"db7093",ppwh:"efd5",pchp:"dab9",pr:"cd853f",pnk:"c0cb",pm:"dda0dd",pwrb:"b0e0e6",prp:"8-080",cc:"663399",r:"--",sbr:"bc8f8f",rb:"4169e1",sbrw:"8b4513",smn:"a8072",nbr:"4a460",sgrn:"2e8b57",ssh:"5ee",snn:"a0522d",svr:"c0c0c0",skb:"87ceeb",sTb:"6a5acd",sTgr:"708090",snw:"afa",n:"-ff7f",stb:"4682b4",tn:"d2b48c",t:"-8080",thst:"d8bfd8",tmT:"6347",trqs:"40e0d0",vt:"ee82ee",whT:"5deb3",wht:"",hts:"5f5f5",w:"-",wgrn:"9acd32"};function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=t>0?e.toFixed(t).replace(/0+$/,"").replace(/\.$/,""):e.toString();return n||"0"}var o=function(){function o(t,i,r,s){e(this,o);var a=this;if(void 0===t);else if(Array.isArray(t))this.rgba=t;else if(void 0===r){var l=t&&""+t;l&&function(e){if(e.startsWith("hsl")){var t=e.match(/([\-\d\.e]+)/g).map(Number),i=n(t,4),r=i[0],s=i[1],l=i[2],c=i[3];void 0===c&&(c=1),a.hsla=[r/=360,s/=100,l/=100,c]}else if(e.startsWith("rgb")){var h=e.match(/([\-\d\.e]+)/g).map(Number),d=n(h,4),u=d[3];void 0===u&&(u=1),a.rgba=[d[0],d[1],d[2],u]}else a.rgba=e.startsWith("#")?o.hexToRgb(e):o.nameToRgb(e)||o.hexToRgb(e)}(l.toLowerCase())}else this.rgba=[t,i,r,void 0===s?1:s]}return t(o,[{key:"printRGB",value:function(e){var t=(e?this.rgba:this.rgba.slice(0,3)).map((function(e,t){return r(e,3===t?3:0)}));return e?"rgba("+t+")":"rgb("+t+")"}},{key:"printHSL",value:function(e){var t=[360,100,100,1],n=["","%","%",""],i=(e?this.hsla:this.hsla.slice(0,3)).map((function(e,i){return r(e*t[i],3===i?3:1)+n[i]}));return e?"hsla("+i+")":"hsl("+i+")"}},{key:"printHex",value:function(e){var t=this.hex;return e?t:t.substring(0,7)}},{key:"rgba",get:function(){if(this._rgba)return this._rgba;if(!this._hsla)throw new Error("No color is set");return this._rgba=o.hslToRgb(this._hsla)},set:function(e){3===e.length&&(e[3]=1),this._rgba=e,this._hsla=null}},{key:"rgbString",get:function(){return this.printRGB()}},{key:"rgbaString",get:function(){return this.printRGB(!0)}},{key:"hsla",get:function(){if(this._hsla)return this._hsla;if(!this._rgba)throw new Error("No color is set");return this._hsla=o.rgbToHsl(this._rgba)},set:function(e){3===e.length&&(e[3]=1),this._hsla=e,this._rgba=null}},{key:"hslString",get:function(){return this.printHSL()}},{key:"hslaString",get:function(){return this.printHSL(!0)}},{key:"hex",get:function(){return"#"+this.rgba.map((function(e,t){return t<3?e.toString(16):Math.round(255*e).toString(16)})).map((function(e){return e.padStart(2,"0")})).join("")},set:function(e){this.rgba=o.hexToRgb(e)}}],[{key:"hexToRgb",value:function(e){var t=(e.startsWith("#")?e.slice(1):e).replace(/^(\w{3})$/,"$1F").replace(/^(\w)(\w)(\w)(\w)$/,"$1$1$2$2$3$3$4$4").replace(/^(\w{6})$/,"$1FF");if(!t.match(/^([0-9a-fA-F]{8})$/))throw new Error("Unknown hex color; "+e);var n=t.match(/^(\w\w)(\w\w)(\w\w)(\w\w)$/).slice(1).map((function(e){return parseInt(e,16)}));return n[3]=n[3]/255,n}},{key:"nameToRgb",value:function(e){var t=e.toLowerCase().replace("at","T").replace(/[aeiouyldf]/g,"").replace("ght","L").replace("rk","D").slice(-5,4),n=i[t];return void 0===n?n:o.hexToRgb(n.replace(/\-/g,"00").padStart(6,"f"))}},{key:"rgbToHsl",value:function(e){var t=n(e,4),i=t[0],r=t[1],o=t[2],s=t[3];i/=255,r/=255,o/=255;var a=Math.max(i,r,o),l=Math.min(i,r,o),c=void 0,h=void 0,d=(a+l)/2;if(a===l)c=h=0;else{var u=a-l;switch(h=d>.5?u/(2-a-l):u/(a+l),a){case i:c=(r-o)/u+(r<o?6:0);break;case r:c=(o-i)/u+2;break;case o:c=(i-r)/u+4}c/=6}return[c,h,d,s]}},{key:"hslToRgb",value:function(e){var t=n(e,4),i=t[0],r=t[1],o=t[2],s=t[3],a=void 0,l=void 0,c=void 0;if(0===r)a=l=c=o;else{var h=function(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+6*(t-e)*n:n<.5?t:n<2/3?e+(t-e)*(2/3-n)*6:e},d=o<.5?o*(1+r):o+r-o*r,u=2*o-d;a=h(u,d,i+1/3),l=h(u,d,i),c=h(u,d,i-1/3)}var p=[255*a,255*l,255*c].map(Math.round);return p[3]=s,p}}]),o}(),s=function(){function n(){e(this,n),this._events=[]}return t(n,[{key:"add",value:function(e,t,n){e.addEventListener(t,n,!1),this._events.push({target:e,type:t,handler:n})}},{key:"remove",value:function(e,t,i){this._events=this._events.filter((function(r){var o=!0;return e&&e!==r.target&&(o=!1),t&&t!==r.type&&(o=!1),i&&i!==r.handler&&(o=!1),o&&n._doRemove(r.target,r.type,r.handler),!o}))}},{key:"destroy",value:function(){this._events.forEach((function(e){return n._doRemove(e.target,e.type,e.handler)})),this._events=[]}}],[{key:"_doRemove",value:function(e,t,n){e.removeEventListener(t,n,!1)}}]),n}();function a(e,t,n){var i=!1;function r(e,t,n){return Math.max(t,Math.min(e,n))}function o(e,o,s){if(s&&(i=!0),i){e.preventDefault();var a=t.getBoundingClientRect(),l=a.width,c=a.height,h=o.clientY,d=r(o.clientX-a.left,0,l),u=r(h-a.top,0,c);n(d/l,u/c)}}function s(e,t){1===(void 0===e.buttons?e.which:e.buttons)?o(e,e,t):i=!1}function a(e,t){1===e.touches.length?o(e,e.touches[0],t):i=!1}e.add(t,"mousedown",(function(e){s(e,!0)})),e.add(t,"touchstart",(function(e){a(e,!0)})),e.add(window,"mousemove",s),e.add(t,"touchmove",a),e.add(window,"mouseup",(function(e){i=!1})),e.add(t,"touchend",(function(e){i=!1})),e.add(t,"touchcancel",(function(e){i=!1}))}var l="mousedown",c="focusin";function h(e,t){return(t||document).querySelector(e)}function d(e){e.preventDefault(),e.stopPropagation()}function u(e,t,n,i,r){e.add(t,"keydown",(function(e){n.indexOf(e.key)>=0&&(r&&d(e),i(e))}))}var p=document.createElement("style");return p.textContent=".picker_wrapper.no_alpha .picker_alpha{display:none}.picker_wrapper.no_editor .picker_editor{position:absolute;z-index:-1;opacity:0}.picker_wrapper.no_cancel .picker_cancel{display:none}.layout_default.picker_wrapper{display:-webkit-box;display:flex;-webkit-box-orient:horizontal;-webkit-box-direction:normal;flex-flow:row wrap;-webkit-box-pack:justify;justify-content:space-between;-webkit-box-align:stretch;align-items:stretch;font-size:10px;width:25em;padding:.5em}.layout_default.picker_wrapper input,.layout_default.picker_wrapper button{font-size:1rem}.layout_default.picker_wrapper>*{margin:.5em}.layout_default.picker_wrapper::before{content:'';display:block;width:100%;height:0;-webkit-box-ordinal-group:2;order:1}.layout_default .picker_slider,.layout_default .picker_selector{padding:1em}.layout_default .picker_hue{width:100%}.layout_default .picker_sl{-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_sl::before{content:'';display:block;padding-bottom:100%}.layout_default .picker_editor{-webkit-box-ordinal-group:2;order:1;width:6.5rem}.layout_default .picker_editor input{width:100%;height:100%}.layout_default .picker_sample{-webkit-box-ordinal-group:2;order:1;-webkit-box-flex:1;flex:1 1 auto}.layout_default .picker_done,.layout_default .picker_cancel{-webkit-box-ordinal-group:2;order:1}.picker_wrapper{box-sizing:border-box;background:#f2f2f2;box-shadow:0 0 0 1px silver;cursor:default;font-family:sans-serif;color:#444;pointer-events:auto}.picker_wrapper:focus{outline:none}.picker_wrapper button,.picker_wrapper input{box-sizing:border-box;border:none;box-shadow:0 0 0 1px silver;outline:none}.picker_wrapper button:focus,.picker_wrapper button:active,.picker_wrapper input:focus,.picker_wrapper input:active{box-shadow:0 0 2px 1px dodgerblue}.picker_wrapper button{padding:.4em .6em;cursor:pointer;background-color:whitesmoke;background-image:-webkit-gradient(linear, left bottom, left top, from(gainsboro), to(transparent));background-image:-webkit-linear-gradient(bottom, gainsboro, transparent);background-image:linear-gradient(0deg, gainsboro, transparent)}.picker_wrapper button:active{background-image:-webkit-gradient(linear, left bottom, left top, from(transparent), to(gainsboro));background-image:-webkit-linear-gradient(bottom, transparent, gainsboro);background-image:linear-gradient(0deg, transparent, gainsboro)}.picker_wrapper button:hover{background-color:white}.picker_selector{position:absolute;z-index:1;display:block;-webkit-transform:translate(-50%, -50%);transform:translate(-50%, -50%);border:2px solid white;border-radius:100%;box-shadow:0 0 3px 1px #67b9ff;background:currentColor;cursor:pointer}.picker_slider .picker_selector{border-radius:2px}.picker_hue{position:relative;background-image:-webkit-gradient(linear, left top, right top, from(red), color-stop(yellow), color-stop(lime), color-stop(cyan), color-stop(blue), color-stop(magenta), to(red));background-image:-webkit-linear-gradient(left, red, yellow, lime, cyan, blue, magenta, red);background-image:linear-gradient(90deg, red, yellow, lime, cyan, blue, magenta, red);box-shadow:0 0 0 1px silver}.picker_sl{position:relative;box-shadow:0 0 0 1px silver;background-image:-webkit-gradient(linear, left top, left bottom, from(white), color-stop(50%, rgba(255,255,255,0))),-webkit-gradient(linear, left bottom, left top, from(black), color-stop(50%, rgba(0,0,0,0))),-webkit-gradient(linear, left top, right top, from(gray), to(rgba(128,128,128,0)));background-image:-webkit-linear-gradient(top, white, rgba(255,255,255,0) 50%),-webkit-linear-gradient(bottom, black, rgba(0,0,0,0) 50%),-webkit-linear-gradient(left, gray, rgba(128,128,128,0));background-image:linear-gradient(180deg, white, rgba(255,255,255,0) 50%),linear-gradient(0deg, black, rgba(0,0,0,0) 50%),linear-gradient(90deg, gray, rgba(128,128,128,0))}.picker_alpha,.picker_sample{position:relative;background:url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\") left top/contain white;box-shadow:0 0 0 1px silver}.picker_alpha .picker_selector,.picker_sample .picker_selector{background:none}.picker_editor input{font-family:monospace;padding:.2em .4em}.picker_sample::before{content:'';position:absolute;display:block;width:100%;height:100%;background:currentColor}.picker_arrow{position:absolute;z-index:-1}.picker_wrapper.popup{position:absolute;z-index:2;margin:1.5em}.picker_wrapper.popup,.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{background:#f2f2f2;box-shadow:0 0 10px 1px rgba(0,0,0,0.4)}.picker_wrapper.popup .picker_arrow{width:3em;height:3em;margin:0}.picker_wrapper.popup .picker_arrow::before,.picker_wrapper.popup .picker_arrow::after{content:\"\";display:block;position:absolute;top:0;left:0;z-index:-99}.picker_wrapper.popup .picker_arrow::before{width:100%;height:100%;-webkit-transform:skew(45deg);transform:skew(45deg);-webkit-transform-origin:0 100%;transform-origin:0 100%}.picker_wrapper.popup .picker_arrow::after{width:150%;height:150%;box-shadow:none}.popup.popup_top{bottom:100%;left:0}.popup.popup_top .picker_arrow{bottom:0;left:0;-webkit-transform:rotate(-90deg);transform:rotate(-90deg)}.popup.popup_bottom{top:100%;left:0}.popup.popup_bottom .picker_arrow{top:0;left:0;-webkit-transform:rotate(90deg) scale(1, -1);transform:rotate(90deg) scale(1, -1)}.popup.popup_left{top:0;right:100%}.popup.popup_left .picker_arrow{top:0;right:0;-webkit-transform:scale(-1, 1);transform:scale(-1, 1)}.popup.popup_right{top:0;left:100%}.popup.popup_right .picker_arrow{top:0;left:0}",document.documentElement.firstElementChild.appendChild(p),function(){function n(t){e(this,n),this.settings={popup:"right",layout:"default",alpha:!0,editor:!0,editorFormat:"hex",cancelButton:!1,defaultColor:"#0cf"},this._events=new s,this.onChange=null,this.onDone=null,this.onOpen=null,this.onClose=null,this.setOptions(t)}return t(n,[{key:"setOptions",value:function(e){var t,n,i,r,o=this;e&&(t=this.settings,e instanceof HTMLElement?t.parent=e:(t.parent&&e.parent&&t.parent!==e.parent&&(this._events.remove(t.parent),this._popupInited=!1),function(e,t,n){for(var i in e)t[i]=e[i]}(e,t),e.onChange&&(this.onChange=e.onChange),e.onDone&&(this.onDone=e.onDone),e.onOpen&&(this.onOpen=e.onOpen),e.onClose&&(this.onClose=e.onClose),(n=e.color||e.colour)&&this._setColor(n)),(i=t.parent)&&t.popup&&!this._popupInited?(this._events.add(i,"click",r=function(e){return o.openHandler(e)}),u(this._events,i,[" ","Spacebar","Enter"],r),this._popupInited=!0):e.parent&&!t.popup&&this.show())}},{key:"openHandler",value:function(e){var t;this.show()&&(e&&e.preventDefault(),this.settings.parent.style.pointerEvents="none",t=e&&"keydown"===e.type?this._domEdit:this.domElement,setTimeout((function(){return t.focus()}),100),this.onOpen&&this.onOpen(this.colour))}},{key:"closeHandler",value:function(e){var t=e&&e.type,n=!1;e?t===l||t===c?e.timeStamp>(this.__containedEvent||0)+100&&(n=!0):(d(e),n=!0):n=!0,n&&this.hide()&&(this.settings.parent.style.pointerEvents="",t!==l&&this.settings.parent.focus(),this.onClose&&this.onClose(this.colour))}},{key:"movePopup",value:function(e,t){this.closeHandler(),this.setOptions(e),t&&this.openHandler()}},{key:"setColor",value:function(e,t){this._setColor(e,{silent:t})}},{key:"_setColor",value:function(e,t){if("string"==typeof e&&(e=e.trim()),e){t=t||{};var n,i=void 0;try{i=new o(e)}catch(e){if(t.failSilently)return;throw e}this.settings.alpha||((n=i.hsla)[3]=1,i.hsla=n),this.colour=this.color=i,this._setHSLA(null,null,null,null,t)}}},{key:"setColour",value:function(e,t){this.setColor(e,t)}},{key:"show",value:function(){if(!this.settings.parent)return!1;if(this.domElement){var e=this._toggleDOM(!0);return this._setPosition(),e}var t,n,i=(t=this.settings.template||'<div class="picker_wrapper" tabindex="-1"><div class="picker_arrow"></div><div class="picker_hue picker_slider"><div class="picker_selector"></div></div><div class="picker_sl"><div class="picker_selector"></div></div><div class="picker_alpha picker_slider"><div class="picker_selector"></div></div><div class="picker_editor"><input aria-label="Type a color name or hex value"/></div><div class="picker_sample"></div><div class="picker_done"><button>Ok</button></div><div class="picker_cancel"><button>Cancel</button></div></div>',(n=document.createElement("div")).innerHTML=t,n.firstElementChild);return this.domElement=i,this._domH=h(".picker_hue",i),this._domSL=h(".picker_sl",i),this._domA=h(".picker_alpha",i),this._domEdit=h(".picker_editor input",i),this._domSample=h(".picker_sample",i),this._domOkay=h(".picker_done button",i),this._domCancel=h(".picker_cancel button",i),i.classList.add("layout_"+this.settings.layout),this.settings.alpha||i.classList.add("no_alpha"),this.settings.editor||i.classList.add("no_editor"),this.settings.cancelButton||i.classList.add("no_cancel"),this._ifPopup((function(){return i.classList.add("popup")})),this._setPosition(),this.colour?this._updateUI():this._setColor(this.settings.defaultColor),this._bindEvents(),!0}},{key:"hide",value:function(){return this._toggleDOM(!1)}},{key:"destroy",value:function(){this._events.destroy(),this.domElement&&this.settings.parent.removeChild(this.domElement)}},{key:"_bindEvents",value:function(){var e=this,t=this,n=this.domElement,i=this._events;function r(e,t,n){i.add(e,t,n)}r(n,"click",(function(e){return e.preventDefault()})),a(i,this._domH,(function(e,n){return t._setHSLA(e)})),a(i,this._domSL,(function(e,n){return t._setHSLA(null,e,1-n)})),this.settings.alpha&&a(i,this._domA,(function(e,n){return t._setHSLA(null,null,null,1-n)}));var o=this._domEdit;function s(t){e._ifPopup((function(){return e.closeHandler(t)})),e.onDone&&e.onDone(e.colour)}r(o,"input",(function(e){t._setColor(this.value,{fromEditor:!0,failSilently:!0})})),r(o,"focus",(function(e){this.selectionStart===this.selectionEnd&&this.select()})),this._ifPopup((function(){function t(t){return e.closeHandler(t)}function o(t){e.__containedEvent=t.timeStamp}r(window,l,t),r(window,c,t),u(i,n,["Esc","Escape"],t),r(n,l,o),r(n,c,o),r(e._domCancel,"click",t)})),r(this._domOkay,"click",s),u(i,n,["Enter"],s)}},{key:"_setPosition",value:function(){var e=this.settings.parent,t=this.domElement;e!==t.parentNode&&e.appendChild(t),this._ifPopup((function(n){"static"===getComputedStyle(e).position&&(e.style.position="relative");var i=!0===n?"popup_right":"popup_"+n;["popup_top","popup_bottom","popup_left","popup_right"].forEach((function(e){e===i?t.classList.add(e):t.classList.remove(e)})),t.classList.add(i)}))}},{key:"_setHSLA",value:function(e,t,n,i,r){r=r||{};var o=this.colour,s=o.hsla;[e,t,n,i].forEach((function(e,t){!e&&0!==e||(s[t]=e)})),o.hsla=s,this._updateUI(r),this.onChange&&!r.silent&&this.onChange(o)}},{key:"_updateUI",value:function(e){if(this.domElement){e=e||{};var t=this.colour,n=t.hsla,i="hsl("+360*n[0]+", 100%, 50%)",r=t.hslString,o=t.hslaString,s=this._domSL,a=this._domA,l=h(".picker_selector",this._domH),c=h(".picker_selector",s),d=h(".picker_selector",a);m(0,l,n[0]),this._domSL.style.backgroundColor=this._domH.style.color=i,m(0,c,n[1]),v(0,c,1-n[2]),s.style.color=r,v(0,d,1-n[3]);var u=r,p=u.replace("hsl","hsla").replace(")",", 0)");if(this._domA.style.backgroundImage="linear-gradient("+[u,p]+"), url(\"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='2' height='2'%3E%3Cpath d='M1,0H0V1H2V2H1' fill='lightgrey'/%3E%3C/svg%3E\")",!e.fromEditor){var g=this.settings.alpha,f=void 0;switch(this.settings.editorFormat){case"rgb":f=t.printRGB(g);break;case"hsl":f=t.printHSL(g);break;default:f=t.printHex(g)}this._domEdit.value=f}this._domSample.style.color=o}function m(e,t,n){t.style.left=100*n+"%"}function v(e,t,n){t.style.top=100*n+"%"}}},{key:"_ifPopup",value:function(e,t){this.settings.parent&&this.settings.popup?e&&e(this.settings.popup):t&&t()}},{key:"_toggleDOM",value:function(e){var t=this.domElement;if(!t)return!1;var n=e?"":"none",i=t.style.display!==n;return i&&(t.style.display=n),i}}],[{key:"StyleElement",get:function(){return p}}]),n}()}()},function(e,t){window.ace.define("ace/theme/jsoneditor",["require","exports","module","ace/lib/dom"],(function(e,t,n){t.isDark=!1,t.cssClass="ace-jsoneditor",t.cssText='.ace-jsoneditor .ace_gutter {\nbackground: #ebebeb;\ncolor: #333\n}\n\n.ace-jsoneditor.ace_editor {\nfont-family: "dejavu sans mono", "droid sans mono", consolas, monaco, "lucida console", "courier new", courier, monospace, sans-serif;\nline-height: 1.3;\nbackground-color: #fff;\n}\n.ace-jsoneditor .ace_print-margin {\nwidth: 1px;\nbackground: #e8e8e8\n}\n.ace-jsoneditor .ace_scroller {\nbackground-color: #FFFFFF\n}\n.ace-jsoneditor .ace_text-layer {\ncolor: gray\n}\n.ace-jsoneditor .ace_variable {\ncolor: #1a1a1a\n}\n.ace-jsoneditor .ace_cursor {\nborder-left: 2px solid #000000\n}\n.ace-jsoneditor .ace_overwrite-cursors .ace_cursor {\nborder-left: 0px;\nborder-bottom: 1px solid #000000\n}\n.ace-jsoneditor .ace_marker-layer .ace_selection {\nbackground: lightgray\n}\n.ace-jsoneditor.ace_multiselect .ace_selection.ace_start {\nbox-shadow: 0 0 3px 0px #FFFFFF;\nborder-radius: 2px\n}\n.ace-jsoneditor .ace_marker-layer .ace_step {\nbackground: rgb(255, 255, 0)\n}\n.ace-jsoneditor .ace_marker-layer .ace_bracket {\nmargin: -1px 0 0 -1px;\nborder: 1px solid #BFBFBF\n}\n.ace-jsoneditor .ace_marker-layer .ace_active-line {\nbackground: #FFFBD1\n}\n.ace-jsoneditor .ace_gutter-active-line {\nbackground-color : #dcdcdc\n}\n.ace-jsoneditor .ace_marker-layer .ace_selected-word {\nborder: 1px solid lightgray\n}\n.ace-jsoneditor .ace_invisible {\ncolor: #BFBFBF\n}\n.ace-jsoneditor .ace_keyword,\n.ace-jsoneditor .ace_meta,\n.ace-jsoneditor .ace_support.ace_constant.ace_property-value {\ncolor: #AF956F\n}\n.ace-jsoneditor .ace_keyword.ace_operator {\ncolor: #484848\n}\n.ace-jsoneditor .ace_keyword.ace_other.ace_unit {\ncolor: #96DC5F\n}\n.ace-jsoneditor .ace_constant.ace_language {\ncolor: darkorange\n}\n.ace-jsoneditor .ace_constant.ace_numeric {\ncolor: red\n}\n.ace-jsoneditor .ace_constant.ace_character.ace_entity {\ncolor: #BF78CC\n}\n.ace-jsoneditor .ace_invalid {\ncolor: #FFFFFF;\nbackground-color: #FF002A;\n}\n.ace-jsoneditor .ace_fold {\nbackground-color: #AF956F;\nborder-color: #000000\n}\n.ace-jsoneditor .ace_storage,\n.ace-jsoneditor .ace_support.ace_class,\n.ace-jsoneditor .ace_support.ace_function,\n.ace-jsoneditor .ace_support.ace_other,\n.ace-jsoneditor .ace_support.ace_type {\ncolor: #C52727\n}\n.ace-jsoneditor .ace_string {\ncolor: green\n}\n.ace-jsoneditor .ace_comment {\ncolor: #BCC8BA\n}\n.ace-jsoneditor .ace_entity.ace_name.ace_tag,\n.ace-jsoneditor .ace_entity.ace_other.ace_attribute-name {\ncolor: #606060\n}\n.ace-jsoneditor .ace_markup.ace_underline {\ntext-decoration: underline\n}\n.ace-jsoneditor .ace_indent-guide {\nbackground: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAACCAYAAACZgbYnAAAAE0lEQVQImWP4////f4bLly//BwAmVgd1/w11/gAAAABJRU5ErkJggg==") right repeat-y\n}',e("../lib/dom").importCssString(t.cssText,t.cssClass)}))},function(e,t,n){t.tryRequireAjv=function(){try{return n(44)}catch(e){}}},function(e,t,n){"use strict";var i=n(45),r=n(17),o=n(49),s=n(25),a=n(26),l=n(50),c=n(51),h=n(72),d=n(7);(e.exports=v).prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);n=i.validate||this._compile(i)}var r=n(t);return!0!==n.$async&&(this.errors=n.errors),r},v.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},v.prototype.addSchema=function(e,t,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,i);return this}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");return x(this,t=r.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,n,i,!0),this},v.prototype.addMetaSchema=function(e,t,n){return this.addSchema(e,t,n,!0),this},v.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||function(e){var t=e._opts.meta;return e._opts.defaultMeta="object"==typeof t?e._getId(t)||t:e.getSchema(g)?g:void 0,e._opts.defaultMeta}(this)))return this.logger.warn("meta-schema not available"),!(this.errors=null);var i=this.validate(n,e);if(!i&&t){var r="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(r);this.logger.error(r)}return i},v.prototype.getSchema=function(e){var t=y(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=r.schema.call(e,{schema:{}},t);if(n){var o=n.schema,a=n.root,l=n.baseId,c=i.call(e,o,a,void 0,l);return e._fragments[t]=new s({ref:t,fragment:!0,schema:o,root:a,baseId:l,validate:c}),c}}(this,e)}},v.prototype.removeSchema=function(e){if(e instanceof RegExp)return b(this,this._schemas,e),b(this,this._refs,e),this;switch(typeof e){case"undefined":return b(this,this._schemas),b(this,this._refs),this._cache.clear(),this;case"string":var t=y(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],delete this._refs[e],this;case"object":var n=this._opts.serialize,i=n?n(e):e;this._cache.del(i);var o=this._getId(e);o&&(o=r.normalizeId(o),delete this._schemas[o],delete this._refs[o])}return this},v.prototype.addFormat=function(e,t){return"string"==typeof t&&(t=new RegExp(t)),this._formats[e]=t,this},v.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,i=void 0===t.dataVar?"data":t.dataVar,r="",o=0;o<e.length;o++){var s=e[o];s&&(r+=i+s.dataPath+" "+s.message+n)}return r.slice(0,-n.length)},v.prototype._addSchema=function(e,t,n,i){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,a=o?o(e):e,l=this._cache.get(a);if(l)return l;i=i||!1!==this._opts.addUsedSchema;var c=r.normalizeId(this._getId(e));c&&i&&x(this,c);var h,d=!1!==this._opts.validateSchema&&!t;d&&!(h=c&&c==r.normalizeId(e.$schema))&&this.validateSchema(e,!0);var u=r.ids.call(this,e),p=new s({id:c,schema:e,localRefs:u,cacheKey:a,meta:n});return"#"!=c[0]&&i&&(this._refs[c]=p),this._cache.put(a,p),d&&h&&this.validateSchema(e,!0),p},v.prototype._compile=function(e,t){if(e.compiling)return(e.validate=o).schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,r;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{r=i.call(this,e.schema,t,e.localRefs)}catch(t){throw delete e.validate,t}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=r,e.refs=r.refs,e.refVal=r.refVal,e.root=r.root,r;function o(){var t=e.validate,n=t.apply(this,arguments);return o.errors=t.errors,n}},v.prototype.compileAsync=n(73);var u=n(74);v.prototype.addKeyword=u.add,v.prototype.getKeyword=u.get,v.prototype.removeKeyword=u.remove,v.prototype.validateKeyword=u.validate;var p=n(19);v.ValidationError=p.Validation,v.MissingRefError=p.MissingRef,v.$dataMetaSchema=h;var g="http://json-schema.org/draft-07/schema",f=["removeAdditional","useDefaults","coerceTypes","strictDefaults"],m=["/properties"];function v(e){if(!(this instanceof v))return new v(e);e=this._opts=d.copy(e)||{},function(e){var t=e._opts.logger;if(!1===t)e.logger={log:I,warn:I,error:I};else{if(void 0===t&&(t=console),!("object"==typeof t&&t.log&&t.warn&&t.error))throw new Error("logger must implement log, warn and error methods");e.logger=t}}(this),this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format),this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"auto":return _;case"id":return C;default:return w}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=d.copy(e._opts),n=0;n<f.length;n++)delete t[f[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats)e.addFormat(t,e._opts.formats[t])}(this),e.keywords&&function(e){for(var t in e._opts.keywords)e.addKeyword(t,e._opts.keywords[t])}(this),function(e){var t;if(e._opts.$data&&(t=n(77),e.addMetaSchema(t,t.$id,!0)),!1!==e._opts.meta){var i=n(32);e._opts.$data&&(i=h(i,m)),e.addMetaSchema(i,g,!0),e._refs["http://json-schema.org/schema"]=g}}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),e.nullable&&this.addKeyword("nullable",{metaSchema:{type:"boolean"}}),function(e){var t=e._opts.schemas;if(t)if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this)}function y(e,t){return t=r.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function b(e,t,n){for(var i in t){var r=t[i];r.meta||n&&!n.test(i)||(e._cache.del(r.cacheKey),delete t[i])}}function C(e){return e.$id&&this.logger.warn("schema $id ignored",e.$id),e.id}function w(e){return e.id&&this.logger.warn("schema id ignored",e.id),e.$id}function _(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function x(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}function I(){}},function(e,t,n){"use strict";var i=n(17),r=n(7),o=n(19),s=n(26),a=n(27),l=r.ucs2length,c=n(18),h=o.Validation;function d(e,t,n){for(var i=0;i<this._compilations.length;i++){var r=this._compilations[i];if(r.schema==e&&r.root==t&&r.baseId==n)return i}return-1}function u(e,t){return"var pattern"+e+" = new RegExp("+r.toQuotedString(t[e])+");"}function p(e){return"var default"+e+" = defaults["+e+"];"}function g(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function f(e){return"var customRule"+e+" = customRules["+e+"];"}function m(e,t){if(!e.length)return"";for(var n="",i=0;i<e.length;i++)n+=t(i,e);return n}e.exports=function e(t,n,v,y){var b=this,C=this._opts,w=[void 0],_={},x=[],I={},A=[],k={},S=[],E=(function(e,t,n){var i=d.call(this,e,t,n);return 0<=i?{index:i,compiling:!0}:(this._compilations[i=this._compilations.length]={schema:e,root:t,baseId:n},{index:i,compiling:!1})}).call(this,t,n=n||{schema:t,refVal:w,refs:_},y),O=this._compilations[E.index];if(E.compiling)return O.callValidate=function e(){var t=O.validate,n=t.apply(this,arguments);return e.errors=t.errors,n};var P=this._formats,M=this.RULES;try{var T=D(t,n,v,y);O.validate=T;var R=O.callValidate;return R&&(R.schema=T.schema,R.errors=null,R.refs=T.refs,R.refVal=T.refVal,R.root=T.root,R.$async=T.$async,C.sourceCode&&(R.source=T.source)),T}finally{(function(e,t,n){var i=d.call(this,e,t,n);0<=i&&this._compilations.splice(i,1)}).call(this,t,n,y)}function D(t,s,d,v){var y=!s||s&&s.schema==t;if(s.schema!=n.schema)return e.call(b,t,s,d,v);var I=!0===t.$async,k=a({isTop:!0,schema:t,isRoot:y,baseId:v,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:M,validate:a,util:r,resolve:i,resolveRef:N,usePattern:F,useDefault:V,useCustomRule:$,opts:C,formats:P,logger:b.logger,self:b});k=m(w,g)+m(x,u)+m(A,p)+m(S,f)+k,C.processCode&&(k=C.processCode(k,t));try{var E=new Function("self","RULES","formats","root","refVal","defaults","customRules","equal","ucs2length","ValidationError",k)(b,M,P,n,w,A,S,c,l,h);w[0]=E}catch(t){throw b.logger.error("Error compiling schema, function code:",k),t}return E.schema=t,E.errors=null,E.refs=_,E.refVal=w,E.root=y?E:s,I&&(E.$async=!0),!0===C.sourceCode&&(E.source={code:k,patterns:x,defaults:A}),E}function N(t,r,o){r=i.url(t,r);var s,a,l=_[r];if(void 0!==l)return B(s=w[l],a="refVal["+l+"]");if(!o&&n.refs){var c=n.refs[r];if(void 0!==c)return B(s=n.refVal[c],a=L(r,s))}a=L(r);var h,d=i.call(b,D,n,r);if(void 0!==d||(h=v&&v[r])&&(d=i.inlineRef(h,C.inlineRefs)?h:e.call(b,h,n,v,t)),void 0!==d)return w[_[r]]=d,B(d,a);delete _[r]}function L(e,t){var n=w.length;return w[n]=t,"refVal"+(_[e]=n)}function B(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&!!e.$async}}function F(e){var t=I[e];return void 0===t&&(t=I[e]=x.length,x[t]=e),"pattern"+t}function V(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return r.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),n=k[t];return void 0===n&&(n=k[t]=A.length,A[n]=e),"default"+n}}function $(e,t,n,i){if(!1!==b._opts.validateSchema){var r=e.definition.dependencies;if(r&&!r.every((function(e){return Object.prototype.hasOwnProperty.call(n,e)})))throw new Error("parent schema must have all required keywords: "+r.join(","));var o=e.definition.validateSchema;if(o&&!o(t)){var s="keyword schema is invalid: "+b.errorsText(o.errors);if("log"!=b._opts.validateSchema)throw new Error(s);b.logger.error(s)}}var a,l=e.definition.compile,c=e.definition.inline,h=e.definition.macro;if(l)a=l.call(b,t,n,i);else if(h)a=h.call(b,t,n,i),!1!==C.validateSchema&&b.validateSchema(a,!0);else if(c)a=c.call(b,i,e.keyword,t,n);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=S.length;return{code:"customRule"+d,validate:S[d]=a}}}},function(e,t,n){!function(e){"use strict";function t(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];if(t.length>1){t[0]=t[0].slice(0,-1);for(var i=t.length-1,r=1;r<i;++r)t[r]=t[r].slice(1,-1);return t[i]=t[i].slice(1),t.join("")}return t[0]}function n(e){return"(?:"+e+")"}function i(e){return void 0===e?"undefined":null===e?"null":Object.prototype.toString.call(e).split(" ").pop().split("]").shift().toLowerCase()}function r(e){return e.toUpperCase()}function o(e){var i="[A-Za-z]",r="[0-9]",o=t(r,"[A-Fa-f]"),s=n(n("%[EFef]"+o+"%"+o+o+"%"+o+o)+"|"+n("%[89A-Fa-f]"+o+"%"+o+o)+"|"+n("%"+o+o)),a="[\\!\\$\\&\\'\\(\\)\\*\\+\\,\\;\\=]",l=t("[\\:\\/\\?\\#\\[\\]\\@]",a),c=e?"[\\uE000-\\uF8FF]":"[]",h=t(i,r,"[\\-\\.\\_\\~]",e?"[\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]":"[]"),d=n(i+t(i,r,"[\\+\\-\\.]")+"*"),u=n(n(s+"|"+t(h,a,"[\\:]"))+"*"),p=(n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("[1-9]"+r)+"|"+r),n(n("25[0-5]")+"|"+n("2[0-4]"+r)+"|"+n("1"+r+r)+"|"+n("0?[1-9]"+r)+"|0?0?"+r)),g=n(p+"\\."+p+"\\."+p+"\\."+p),f=n(o+"{1,4}"),m=n(n(f+"\\:"+f)+"|"+g),v=n(n(f+"\\:")+"{6}"+m),y=n("\\:\\:"+n(f+"\\:")+"{5}"+m),b=n(n(f)+"?\\:\\:"+n(f+"\\:")+"{4}"+m),C=n(n(n(f+"\\:")+"{0,1}"+f)+"?\\:\\:"+n(f+"\\:")+"{3}"+m),w=n(n(n(f+"\\:")+"{0,2}"+f)+"?\\:\\:"+n(f+"\\:")+"{2}"+m),_=n(n(n(f+"\\:")+"{0,3}"+f)+"?\\:\\:"+f+"\\:"+m),x=n(n(n(f+"\\:")+"{0,4}"+f)+"?\\:\\:"+m),I=n(n(n(f+"\\:")+"{0,5}"+f)+"?\\:\\:"+f),A=n(n(n(f+"\\:")+"{0,6}"+f)+"?\\:\\:"),k=n([v,y,b,C,w,_,x,I,A].join("|")),S=n(n(h+"|"+s)+"+"),E=(n(k+"\\%25"+S),n(k+n("\\%25|\\%(?!"+o+"{2})")+S)),O=n("[vV]"+o+"+\\."+t(h,a,"[\\:]")+"+"),P=n("\\["+n(E+"|"+k+"|"+O)+"\\]"),M=n(n(s+"|"+t(h,a))+"*"),T=n(P+"|"+g+"(?!"+M+")|"+M),R=n(r+"*"),D=n(n(u+"@")+"?"+T+n("\\:"+R)+"?"),N=n(s+"|"+t(h,a,"[\\:\\@]")),L=n(N+"*"),B=n(N+"+"),F=n(n(s+"|"+t(h,a,"[\\@]"))+"+"),V=n(n("\\/"+L)+"*"),$=n("\\/"+n(B+V)+"?"),H=n(F+V),j=n(B+V),W="(?!"+N+")",z=(n(V+"|"+$+"|"+H+"|"+j+"|"+W),n(n(N+"|"+t("[\\/\\?]",c))+"*")),G=n(n(N+"|[\\/\\?]")+"*"),Z=n(n("\\/\\/"+D+V)+"|"+$+"|"+j+"|"+W),K=n(d+"\\:"+Z+n("\\?"+z)+"?"+n("\\#"+G)+"?"),X=n(n("\\/\\/"+D+V)+"|"+$+"|"+H+"|"+W),Y=n(X+n("\\?"+z)+"?"+n("\\#"+G)+"?");return n(K+"|"+Y),n(d+"\\:"+Z+n("\\?"+z)+"?"),n(n("\\/\\/("+n("("+u+")@")+"?("+T+")"+n("\\:("+R+")")+"?)")+"?("+V+"|"+$+"|"+j+"|"+W+")"),n("\\?("+z+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+u+")@")+"?("+T+")"+n("\\:("+R+")")+"?)")+"?("+V+"|"+$+"|"+H+"|"+W+")"),n("\\?("+z+")"),n("\\#("+G+")"),n(n("\\/\\/("+n("("+u+")@")+"?("+T+")"+n("\\:("+R+")")+"?)")+"?("+V+"|"+$+"|"+j+"|"+W+")"),n("\\?("+z+")"),n("\\#("+G+")"),n("("+u+")@"),n("\\:("+R+")"),{NOT_SCHEME:new RegExp(t("[^]",i,r,"[\\+\\-\\.]"),"g"),NOT_USERINFO:new RegExp(t("[^\\%\\:]",h,a),"g"),NOT_HOST:new RegExp(t("[^\\%\\[\\]\\:]",h,a),"g"),NOT_PATH:new RegExp(t("[^\\%\\/\\:\\@]",h,a),"g"),NOT_PATH_NOSCHEME:new RegExp(t("[^\\%\\/\\@]",h,a),"g"),NOT_QUERY:new RegExp(t("[^\\%]",h,a,"[\\:\\@\\/\\?]",c),"g"),NOT_FRAGMENT:new RegExp(t("[^\\%]",h,a,"[\\:\\@\\/\\?]"),"g"),ESCAPE:new RegExp(t("[^]",h,a),"g"),UNRESERVED:new RegExp(h,"g"),OTHER_CHARS:new RegExp(t("[^\\%]",h,l),"g"),PCT_ENCODED:new RegExp(s,"g"),IPV4ADDRESS:new RegExp("^("+g+")$"),IPV6ADDRESS:new RegExp("^\\[?("+k+")"+n(n("\\%25|\\%(?!"+o+"{2})")+"("+S+")")+"?\\]?$")}}var s=o(!1),a=o(!0),l=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],i=!0,r=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(n.push(s.value),!t||n.length!==t);i=!0);}catch(e){r=!0,o=e}finally{try{!i&&a.return&&a.return()}finally{if(r)throw o}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")},c=2147483647,h=36,d=/^xn--/,u=/[^\0-\x7E]/,p=/[\x2E\u3002\uFF0E\uFF61]/g,g={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},f=Math.floor,m=String.fromCharCode;function v(e){throw new RangeError(g[e])}function y(e,t){var n=e.split("@"),i="";n.length>1&&(i=n[0]+"@",e=n[1]);var r=function(e,t){for(var n=[],i=e.length;i--;)n[i]=t(e[i]);return n}((e=e.replace(p,".")).split("."),t).join(".");return i+r}var b=function(e){return e-48<10?e-22:e-65<26?e-65:e-97<26?e-97:h},C=function(e,t){return e+22+75*(e<26)-((0!=t)<<5)},w=function(e,t,n){var i=0;for(e=n?f(e/700):e>>1,e+=f(e/t);e>455;i+=h)e=f(e/35);return f(i+36*e/(e+38))},_=function(e){return y(e,(function(e){return u.test(e)?"xn--"+function e(t){var n=[],i=(t=function(e){for(var t=[],n=0,i=e.length;n<i;){var r=e.charCodeAt(n++);if(r>=55296&&r<=56319&&n<i){var o=e.charCodeAt(n++);56320==(64512&o)?t.push(((1023&r)<<10)+(1023&o)+65536):(t.push(r),n--)}else t.push(r)}return t}(t)).length,r=128,o=0,s=72,a=!0,l=!1,d=void 0;try{for(var u,p=t[Symbol.iterator]();!(a=(u=p.next()).done);a=!0){var g=u.value;g<128&&n.push(m(g))}}catch(e){l=!0,d=e}finally{try{!a&&p.return&&p.return()}finally{if(l)throw d}}var y=n.length,b=y;for(y&&n.push("-");b<i;){var _=c,x=!0,I=!1,A=void 0;try{for(var k,S=t[Symbol.iterator]();!(x=(k=S.next()).done);x=!0){var E=k.value;E>=r&&E<_&&(_=E)}}catch(e){I=!0,A=e}finally{try{!x&&S.return&&S.return()}finally{if(I)throw A}}var O=b+1;_-r>f((c-o)/O)&&v("overflow"),o+=(_-r)*O,r=_;var P=!0,M=!1,T=void 0;try{for(var R,D=t[Symbol.iterator]();!(P=(R=D.next()).done);P=!0){var N=R.value;if(N<r&&++o>c&&v("overflow"),N==r){for(var L=o,B=h;;B+=h){var F=B<=s?1:B>=s+26?26:B-s;if(L<F)break;var V=L-F,$=h-F;n.push(m(C(F+V%$,0))),L=f(V/$)}n.push(m(C(L,0))),s=w(o,O,b==y),o=0,++b}}}catch(e){M=!0,T=e}finally{try{!P&&D.return&&D.return()}finally{if(M)throw T}}++o,++r}return n.join("")}(e):e}))},x=function(e){return y(e,(function(e){return d.test(e)?function(e){var t=[],n=e.length,i=0,r=128,o=72,s=e.lastIndexOf("-");s<0&&(s=0);for(var a=0;a<s;++a)e.charCodeAt(a)>=128&&v("not-basic"),t.push(e.charCodeAt(a));for(var l=s>0?s+1:0;l<n;){for(var d=i,u=1,p=h;;p+=h){l>=n&&v("invalid-input");var g=b(e.charCodeAt(l++));(g>=h||g>f((c-i)/u))&&v("overflow"),i+=g*u;var m=p<=o?1:p>=o+26?26:p-o;if(g<m)break;var y=h-m;u>f(c/y)&&v("overflow"),u*=y}var C=t.length+1;o=w(i-d,C,0==d),f(i/C)>c-r&&v("overflow"),r+=f(i/C),i%=C,t.splice(i++,0,r)}return String.fromCodePoint.apply(String,t)}(e.slice(4).toLowerCase()):e}))},I={};function A(e){var t=e.charCodeAt(0);return t<16?"%0"+t.toString(16).toUpperCase():t<128?"%"+t.toString(16).toUpperCase():t<2048?"%"+(t>>6|192).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase():"%"+(t>>12|224).toString(16).toUpperCase()+"%"+(t>>6&63|128).toString(16).toUpperCase()+"%"+(63&t|128).toString(16).toUpperCase()}function k(e){for(var t="",n=0,i=e.length;n<i;){var r=parseInt(e.substr(n+1,2),16);if(r<128)t+=String.fromCharCode(r),n+=3;else if(r>=194&&r<224){if(i-n>=6){var o=parseInt(e.substr(n+4,2),16);t+=String.fromCharCode((31&r)<<6|63&o)}else t+=e.substr(n,6);n+=6}else if(r>=224){if(i-n>=9){var s=parseInt(e.substr(n+4,2),16),a=parseInt(e.substr(n+7,2),16);t+=String.fromCharCode((15&r)<<12|(63&s)<<6|63&a)}else t+=e.substr(n,9);n+=9}else t+=e.substr(n,3),n+=3}return t}function S(e,t){function n(e){var n=k(e);return n.match(t.UNRESERVED)?n:e}return e.scheme&&(e.scheme=String(e.scheme).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_SCHEME,"")),void 0!==e.userinfo&&(e.userinfo=String(e.userinfo).replace(t.PCT_ENCODED,n).replace(t.NOT_USERINFO,A).replace(t.PCT_ENCODED,r)),void 0!==e.host&&(e.host=String(e.host).replace(t.PCT_ENCODED,n).toLowerCase().replace(t.NOT_HOST,A).replace(t.PCT_ENCODED,r)),void 0!==e.path&&(e.path=String(e.path).replace(t.PCT_ENCODED,n).replace(e.scheme?t.NOT_PATH:t.NOT_PATH_NOSCHEME,A).replace(t.PCT_ENCODED,r)),void 0!==e.query&&(e.query=String(e.query).replace(t.PCT_ENCODED,n).replace(t.NOT_QUERY,A).replace(t.PCT_ENCODED,r)),void 0!==e.fragment&&(e.fragment=String(e.fragment).replace(t.PCT_ENCODED,n).replace(t.NOT_FRAGMENT,A).replace(t.PCT_ENCODED,r)),e}function E(e){return e.replace(/^0*(.*)/,"$1")||"0"}function O(e,t){var n=e.match(t.IPV4ADDRESS)||[],i=l(n,2)[1];return i?i.split(".").map(E).join("."):e}function P(e,t){var n=e.match(t.IPV6ADDRESS)||[],i=l(n,3),r=i[1],o=i[2];if(r){for(var s=r.toLowerCase().split("::").reverse(),a=l(s,2),c=a[0],h=a[1],d=h?h.split(":").map(E):[],u=c.split(":").map(E),p=t.IPV4ADDRESS.test(u[u.length-1]),g=p?7:8,f=u.length-g,m=Array(g),v=0;v<g;++v)m[v]=d[v]||u[f+v]||"";p&&(m[g-1]=O(m[g-1],t));var y=m.reduce((function(e,t,n){if(!t||"0"===t){var i=e[e.length-1];i&&i.index+i.length===n?i.length++:e.push({index:n,length:1})}return e}),[]).sort((function(e,t){return t.length-e.length}))[0],b=void 0;if(y&&y.length>1){var C=m.slice(0,y.index),w=m.slice(y.index+y.length);b=C.join(":")+"::"+w.join(":")}else b=m.join(":");return o&&(b+="%"+o),b}return e}var M=/^(?:([^:\/?#]+):)?(?:\/\/((?:([^\/?#@]*)@)?(\[[^\/?#\]]+\]|[^\/?#:]*)(?:\:(\d*))?))?([^?#]*)(?:\?([^#]*))?(?:#((?:.|\n|\r)*))?/i,T=void 0==="".match(/(){0}/)[1];function R(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n={},i=!1!==t.iri?a:s;"suffix"===t.reference&&(e=(t.scheme?t.scheme+":":"")+"//"+e);var r=e.match(M);if(r){T?(n.scheme=r[1],n.userinfo=r[3],n.host=r[4],n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=r[7],n.fragment=r[8],isNaN(n.port)&&(n.port=r[5])):(n.scheme=r[1]||void 0,n.userinfo=-1!==e.indexOf("@")?r[3]:void 0,n.host=-1!==e.indexOf("//")?r[4]:void 0,n.port=parseInt(r[5],10),n.path=r[6]||"",n.query=-1!==e.indexOf("?")?r[7]:void 0,n.fragment=-1!==e.indexOf("#")?r[8]:void 0,isNaN(n.port)&&(n.port=e.match(/\/\/(?:.|\n)*\:(?:\/|\?|\#|$)/)?r[4]:void 0)),n.host&&(n.host=P(O(n.host,i),i)),n.reference=void 0!==n.scheme||void 0!==n.userinfo||void 0!==n.host||void 0!==n.port||n.path||void 0!==n.query?void 0===n.scheme?"relative":void 0===n.fragment?"absolute":"uri":"same-document",t.reference&&"suffix"!==t.reference&&t.reference!==n.reference&&(n.error=n.error||"URI is not a "+t.reference+" reference.");var o=I[(t.scheme||n.scheme||"").toLowerCase()];if(t.unicodeSupport||o&&o.unicodeSupport)S(n,i);else{if(n.host&&(t.domainHost||o&&o.domainHost))try{n.host=_(n.host.replace(i.PCT_ENCODED,k).toLowerCase())}catch(e){n.error=n.error||"Host's domain name can not be converted to ASCII via punycode: "+e}S(n,s)}o&&o.parse&&o.parse(n,t)}else n.error=n.error||"URI can not be parsed.";return n}function D(e,t){var n=!1!==t.iri?a:s,i=[];return void 0!==e.userinfo&&(i.push(e.userinfo),i.push("@")),void 0!==e.host&&i.push(P(O(String(e.host),n),n).replace(n.IPV6ADDRESS,(function(e,t,n){return"["+t+(n?"%25"+n:"")+"]"}))),"number"!=typeof e.port&&"string"!=typeof e.port||(i.push(":"),i.push(String(e.port))),i.length?i.join(""):void 0}var N=/^\.\.?\//,L=/^\/\.(\/|$)/,B=/^\/\.\.(\/|$)/,F=/^\/?(?:.|\n)*?(?=\/|$)/;function V(e){for(var t=[];e.length;)if(e.match(N))e=e.replace(N,"");else if(e.match(L))e=e.replace(L,"/");else if(e.match(B))e=e.replace(B,"/"),t.pop();else if("."===e||".."===e)e="";else{var n=e.match(F);if(!n)throw new Error("Unexpected dot segment condition");var i=n[0];e=e.slice(i.length),t.push(i)}return t.join("")}function $(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.iri?a:s,i=[],r=I[(t.scheme||e.scheme||"").toLowerCase()];if(r&&r.serialize&&r.serialize(e,t),e.host)if(n.IPV6ADDRESS.test(e.host));else if(t.domainHost||r&&r.domainHost)try{e.host=t.iri?x(e.host):_(e.host.replace(n.PCT_ENCODED,k).toLowerCase())}catch(n){e.error=e.error||"Host's domain name can not be converted to "+(t.iri?"Unicode":"ASCII")+" via punycode: "+n}S(e,n),"suffix"!==t.reference&&e.scheme&&(i.push(e.scheme),i.push(":"));var o=D(e,t);if(void 0!==o&&("suffix"!==t.reference&&i.push("//"),i.push(o),e.path&&"/"!==e.path.charAt(0)&&i.push("/")),void 0!==e.path){var l=e.path;t.absolutePath||r&&r.absolutePath||(l=V(l)),void 0===o&&(l=l.replace(/^\/\//,"/%2F")),i.push(l)}return void 0!==e.query&&(i.push("?"),i.push(e.query)),void 0!==e.fragment&&(i.push("#"),i.push(e.fragment)),i.join("")}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=arguments[3],r={};return i||(e=R($(e,n),n),t=R($(t,n),n)),!(n=n||{}).tolerant&&t.scheme?(r.scheme=t.scheme,r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=V(t.path||""),r.query=t.query):(void 0!==t.userinfo||void 0!==t.host||void 0!==t.port?(r.userinfo=t.userinfo,r.host=t.host,r.port=t.port,r.path=V(t.path||""),r.query=t.query):(t.path?("/"===t.path.charAt(0)?r.path=V(t.path):(r.path=void 0===e.userinfo&&void 0===e.host&&void 0===e.port||e.path?e.path?e.path.slice(0,e.path.lastIndexOf("/")+1)+t.path:t.path:"/"+t.path,r.path=V(r.path)),r.query=t.query):(r.path=e.path,r.query=void 0!==t.query?t.query:e.query),r.userinfo=e.userinfo,r.host=e.host,r.port=e.port),r.scheme=e.scheme),r.fragment=t.fragment,r}function j(e,t){return e&&e.toString().replace(t&&t.iri?a.PCT_ENCODED:s.PCT_ENCODED,k)}var W={scheme:"http",domainHost:!0,parse:function(e,t){return e.host||(e.error=e.error||"HTTP URIs must have a host."),e},serialize:function(e,t){var n="https"===String(e.scheme).toLowerCase();return e.port!==(n?443:80)&&""!==e.port||(e.port=void 0),e.path||(e.path="/"),e}},z={scheme:"https",domainHost:W.domainHost,parse:W.parse,serialize:W.serialize};function G(e){return"boolean"==typeof e.secure?e.secure:"wss"===String(e.scheme).toLowerCase()}var Z={scheme:"ws",domainHost:!0,parse:function(e,t){var n=e;return n.secure=G(n),n.resourceName=(n.path||"/")+(n.query?"?"+n.query:""),n.path=void 0,n.query=void 0,n},serialize:function(e,t){if(e.port!==(G(e)?443:80)&&""!==e.port||(e.port=void 0),"boolean"==typeof e.secure&&(e.scheme=e.secure?"wss":"ws",e.secure=void 0),e.resourceName){var n=e.resourceName.split("?"),i=l(n,2),r=i[0],o=i[1];e.path=r&&"/"!==r?r:void 0,e.query=o,e.resourceName=void 0}return e.fragment=void 0,e}},K={scheme:"wss",domainHost:Z.domainHost,parse:Z.parse,serialize:Z.serialize},X={},Y="[A-Za-z0-9\\-\\.\\_\\~\\xA0-\\u200D\\u2010-\\u2029\\u202F-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFEF]",U="[0-9A-Fa-f]",J=n(n("%[EFef]"+U+"%"+U+U+"%"+U+U)+"|"+n("%[89A-Fa-f]"+U+"%"+U+U)+"|"+n("%"+U+U)),q=t("[\\!\\$\\%\\'\\(\\)\\*\\+\\,\\-\\.0-9\\<\\>A-Z\\x5E-\\x7E]",'[\\"\\\\]'),Q=new RegExp(Y,"g"),ee=new RegExp(J,"g"),te=new RegExp(t("[^]","[A-Za-z0-9\\!\\$\\%\\'\\*\\+\\-\\^\\_\\`\\{\\|\\}\\~]","[\\.]",'[\\"]',q),"g"),ne=new RegExp(t("[^]",Y,"[\\!\\$\\'\\(\\)\\*\\+\\,\\;\\:\\@]"),"g"),ie=ne;function re(e){var t=k(e);return t.match(Q)?t:e}var oe={scheme:"mailto",parse:function e(t,n){var i=t,r=i.to=i.path?i.path.split(","):[];if(i.path=void 0,i.query){for(var o=!1,s={},a=i.query.split("&"),l=0,c=a.length;l<c;++l){var h=a[l].split("=");switch(h[0]){case"to":for(var d=h[1].split(","),u=0,p=d.length;u<p;++u)r.push(d[u]);break;case"subject":i.subject=j(h[1],n);break;case"body":i.body=j(h[1],n);break;default:o=!0,s[j(h[0],n)]=j(h[1],n)}}o&&(i.headers=s)}i.query=void 0;for(var g=0,f=r.length;g<f;++g){var m=r[g].split("@");if(m[0]=j(m[0]),n.unicodeSupport)m[1]=j(m[1],n).toLowerCase();else try{m[1]=_(j(m[1],n).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to ASCII via punycode: "+e}r[g]=m.join("@")}return i},serialize:function e(t,n){var i=t,o=function(e){return null!=e?e instanceof Array?e:"number"!=typeof e.length||e.split||e.setInterval||e.call?[e]:Array.prototype.slice.call(e):[]}(t.to);if(o){for(var s=0,a=o.length;s<a;++s){var l=String(o[s]),c=l.lastIndexOf("@"),h=l.slice(0,c).replace(ee,re).replace(ee,r).replace(te,A),d=l.slice(c+1);try{d=n.iri?x(d):_(j(d,n).toLowerCase())}catch(e){i.error=i.error||"Email address's domain name can not be converted to "+(n.iri?"Unicode":"ASCII")+" via punycode: "+e}o[s]=h+"@"+d}i.path=o.join(",")}var u=t.headers=t.headers||{};t.subject&&(u.subject=t.subject),t.body&&(u.body=t.body);var p=[];for(var g in u)u[g]!==X[g]&&p.push(g.replace(ee,re).replace(ee,r).replace(ne,A)+"="+u[g].replace(ee,re).replace(ee,r).replace(ie,A));return p.length&&(i.query=p.join("&")),i}},se=/^([^\:]+)\:(.*)/,ae={scheme:"urn",parse:function(e,t){var n=e.path&&e.path.match(se),i=e;if(n){var r=t.scheme||i.scheme||"urn",o=n[1].toLowerCase(),s=n[2],a=I[r+":"+(t.nid||o)];i.nid=o,i.nss=s,i.path=void 0,a&&(i=a.parse(i,t))}else i.error=i.error||"URN can not be parsed.";return i},serialize:function(e,t){var n=e.nid,i=I[(t.scheme||e.scheme||"urn")+":"+(t.nid||n)];i&&(e=i.serialize(e,t));var r=e;return r.path=(n||t.nid)+":"+e.nss,r}},le=/^[0-9A-Fa-f]{8}(?:\-[0-9A-Fa-f]{4}){3}\-[0-9A-Fa-f]{12}$/,ce={scheme:"urn:uuid",parse:function(e,t){var n=e;return n.uuid=n.nss,n.nss=void 0,t.tolerant||n.uuid&&n.uuid.match(le)||(n.error=n.error||"UUID is not valid."),n},serialize:function(e,t){var n=e;return n.nss=(e.uuid||"").toLowerCase(),n}};I[W.scheme]=W,I[z.scheme]=z,I[Z.scheme]=Z,I[K.scheme]=K,I[oe.scheme]=oe,I[ae.scheme]=ae,I[ce.scheme]=ce,e.SCHEMES=I,e.pctEncChar=A,e.pctDecChars=k,e.parse=R,e.removeDotSegments=V,e.serialize=$,e.resolveComponents=H,e.resolve=function(e,t,n){var i=function(e,t){var n={scheme:"null"};if(t)for(var i in t)n[i]=t[i];return n}(0,n);return $(H(R(e,i),R(t,i),i,!0),i)},e.normalize=function(e,t){return"string"==typeof e?e=$(R(e,t),t):"object"===i(e)&&(e=R($(e,t),t)),e},e.equal=function(e,t,n){return"string"==typeof e?e=$(R(e,n),n):"object"===i(e)&&(e=$(e,n)),"string"==typeof t?t=$(R(t,n),n):"object"===i(t)&&(t=$(t,n)),e===t},e.escapeComponent=function(e,t){return e&&e.toString().replace(t&&t.iri?a.ESCAPE:s.ESCAPE,A)},e.unescapeComponent=j,Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,i=e.length,r=0;r<i;)n++,55296<=(t=e.charCodeAt(r++))&&t<=56319&&r<i&&56320==(64512&(t=e.charCodeAt(r)))&&r++;return n}},function(e,t,n){"use strict";var i=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,r,o,s,a,l,c,h,d){if(o&&"object"==typeof o&&!Array.isArray(o)){for(var u in n(o,s,a,l,c,h,d),o){var p=o[u];if(Array.isArray(p)){if(u in i.arrayKeywords)for(var g=0;g<p.length;g++)e(t,n,r,p[g],s+"/"+u+"/"+g,a,s,u,o,g)}else if(u in i.propsKeywords){if(p&&"object"==typeof p)for(var f in p)e(t,n,r,p[f],s+"/"+u+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),a,s,u,o,f)}else(u in i.keywords||t.allKeys&&!(u in i.skipKeywords))&&e(t,n,r,p,s+"/"+u,a,s,u,o)}r(o,s,a,l,c,h,d)}}(t,"function"==typeof(n=t.cb||n)?n:n.pre||function(){},n.post||function(){},e,"",e)};i.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={default:!0,enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";var i=e.exports=function(){this._cache={}};i.prototype.put=function(e,t){this._cache[e]=t},i.prototype.get=function(e){return this._cache[e]},i.prototype.del=function(e){delete this._cache[e]},i.prototype.clear=function(){this._cache={}}},function(e,t,n){"use strict";var i=n(7),r=/^(\d\d\d\d)-(\d\d)-(\d\d)$/,o=[0,31,28,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d(?::?\d\d)?)?$/i,a=/^(?=.{1,253}\.?$)[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*\.?$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#./;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?::[1-9][0-9]{0,3}|\*)?)*\})*$/i,h=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn:uuid:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,u=/^(?:\/(?:[^~/]|~0|~1)*)*$/,p=/^#(?:\/(?:[a-z0-9_\-.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,g=/^(?:0|[1-9][0-9]*)(?:#|(?:\/(?:[^~/]|~0|~1)*)*)$/;function f(e){return i.copy(f[e="full"==e?"full":"fast"])}function m(e){var t=e.match(r);if(!t)return!1;var n,i=+t[2],s=+t[3];return 1<=i&&i<=12&&1<=s&&s<=(2!=i||(n=+t[1])%4!=0||n%100==0&&n%400!=0?o[i]:29)}function v(e,t){var n=e.match(s);if(!n)return!1;var i=n[1],r=n[2],o=n[3];return(i<=23&&r<=59&&o<=59||23==i&&59==r&&60==o)&&(!t||n[5])}(e.exports=f).fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^(?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s](?:[0-2]\d:[0-5]\d:[0-5]\d|23:59:60)(?:\.\d+)?(?:z|[+-]\d\d(?::?\d\d)?)$/i,uri:/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/)?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+\-.]*:)?\/?\/)?(?:[^\\\s#][^\s#]*)?(?:#[^\\\s]*)?$/i,"uri-template":c,url:h,email:/^[a-z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:d,"json-pointer":u,"json-pointer-uri-fragment":p,"relative-json-pointer":g},f.full={date:m,time:v,"date-time":function(e){var t=e.split(y);return 2==t.length&&m(t[0])&&v(t[1],!0)},uri:function(e){return b.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?(?:#(?:[a-z0-9\-._~!$&'"()*+,;=:@/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:h,email:/^[a-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:w,uuid:d,"json-pointer":u,"json-pointer-uri-fragment":p,"relative-json-pointer":g};var y=/t|\s/i,b=/\/|:/,C=/[^\\]\\Z/;function w(e){if(C.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var i=n(52),r=n(7).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","items","contains","uniqueItems"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf","if"]}],t=["type","$comment"];return e.all=r(t),e.types=r(["number","integer","string","array","object","boolean","null"]),e.forEach((function(n){n.rules=n.rules.map((function(n){var r,o;return"object"==typeof n&&(o=n[r=Object.keys(n)[0]],n=r,o.forEach((function(n){t.push(n),e.all[n]=!0}))),t.push(n),e.all[n]={keyword:n,code:i[n],implements:o}})),e.all.$comment={keyword:"$comment",code:i.$comment},n.type&&(e.types[n.type]=n)})),e.keywords=r(t.concat(["$schema","$id","id","$data","$async","title","description","default","definitions","examples","readOnly","writeOnly","contentMediaType","contentEncoding","additionalItems","then","else"])),e.custom={},e}},function(e,t,n){"use strict";e.exports={$ref:n(53),allOf:n(54),anyOf:n(55),$comment:n(56),const:n(57),contains:n(58),dependencies:n(59),enum:n(60),format:n(61),if:n(62),items:n(63),maximum:n(28),minimum:n(28),maxItems:n(29),minItems:n(29),maxLength:n(30),minLength:n(30),maxProperties:n(31),minProperties:n(31),multipleOf:n(64),not:n(65),oneOf:n(66),pattern:n(67),properties:n(68),propertyNames:n(69),required:n(70),uniqueItems:n(71),validate:n(27)}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r=" ",o=e.dataLevel,s=e.schema[t],a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(o||""),h="valid"+e.level;if("#"==s||"#/"==s)i=e.isRoot?(n=e.async,"validate"):(n=!0===e.root.schema.$async,"root.refVal[0]");else{var d,u,p=e.resolveRef(e.baseId,s,e.isRoot);if(void 0===p){var g,f=e.MissingRefError.message(e.baseId,s);if("fail"==e.opts.missingRefs){e.logger.error(f),(g=g||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { ref: '"+e.util.escapeQuotes(s)+"' } ",!1!==e.opts.messages&&(r+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(s)+"' "),e.opts.verbose&&(r+=" , schema: "+e.util.toQuotedString(s)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),r+=" } "):r+=" {} ";var m=r;r=g.pop(),r+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+m+"]); ":" validate.errors = ["+m+"]; return false; ":" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(r+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,s,f);e.logger.warn(f),l&&(r+=" if (true) { ")}}else p.inline?((d=e.util.copy(e)).level++,u="valid"+d.level,d.schema=p.schema,d.schemaPath="",d.errSchemaPath=s,r+=" "+e.validate(d).replace(/validate\.schema/g,p.code)+" ",l&&(r+=" if ("+u+") { ")):(n=!0===p.$async||e.async&&!1!==p.$async,i=p.code)}if(i){(g=g||[]).push(r),r="",r+=e.opts.passContext?" "+i+".call(this, ":" "+i+"( ",r+=" "+c+", (dataPath || '')",'""'!=e.errorPath&&(r+=" + "+e.errorPath);var v=r+=" , "+(o?"data"+(o-1||""):"parentData")+" , "+(o?e.dataPathArr[o]:"parentDataProperty")+", rootData)  ";if(r=g.pop(),n){if(!e.async)throw new Error("async schema referenced by sync schema");l&&(r+=" var "+h+"; "),r+=" try { await "+v+"; ",l&&(r+=" "+h+" = true; "),r+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",l&&(r+=" "+h+" = false; "),r+=" } ",l&&(r+=" if ("+h+") { ")}else r+=" if (!"+v+") { if (vErrors === null) vErrors = "+i+".errors; else vErrors = vErrors.concat("+i+".errors); errors = vErrors.length; } ",l&&(r+=" else { ")}return r}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.schema[t],r=e.schemaPath+e.util.getProperty(t),o=e.errSchemaPath+"/"+t,s=!e.opts.allErrors,a=e.util.copy(e),l="";a.level++;var c="valid"+a.level,h=a.baseId,d=!0,u=i;if(u)for(var p,g=-1,f=u.length-1;g<f;)p=u[g+=1],(e.opts.strictKeywords?"object"==typeof p&&0<Object.keys(p).length||!1===p:e.util.schemaHasRules(p,e.RULES.all))&&(d=!1,a.schema=p,a.schemaPath=r+"["+g+"]",a.errSchemaPath=o+"/"+g,n+="  "+e.validate(a)+" ",a.baseId=h,s&&(n+=" if ("+c+") { ",l+="}"));return s&&(n+=d?" if (true) { ":" "+l.slice(0,-1)+" "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d="errs__"+i,u=e.util.copy(e),p="";u.level++;var g="valid"+u.level;if(o.every((function(t){return e.opts.strictKeywords?"object"==typeof t&&0<Object.keys(t).length||!1===t:e.util.schemaHasRules(t,e.RULES.all)}))){var f=u.baseId;n+=" var "+d+" = errors; var "+h+" = false;  ";var m=e.compositeRule;e.compositeRule=u.compositeRule=!0;var v=o;if(v)for(var y,b=-1,C=v.length-1;b<C;)y=v[b+=1],u.schema=y,u.schemaPath=s+"["+b+"]",u.errSchemaPath=a+"/"+b,n+="  "+e.validate(u)+" ",u.baseId=f,n+=" "+h+" = "+h+" || "+g+"; if (!"+h+") { ",p+="}";e.compositeRule=u.compositeRule=m,n+=" "+p+" if (!"+h+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(n+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),n+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")}else l&&(n+=" if (true) { ");return n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.errSchemaPath+"/"+t,r=e.util.toQuotedString(e.schema[t]);return!0===e.opts.$comment?n+=" console.log("+r+");":"function"==typeof e.opts.$comment&&(n+=" self._opts.$comment("+r+", "+e.util.toQuotedString(i)+", validate.root.schema);"),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d=e.opts.$data&&o&&o.$data;d&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; "),d||(n+=" var schema"+i+" = validate.schema"+s+";");var u=u||[];u.push(n+="var "+h+" = equal("+c+", schema"+i+"); if (!"+h+") {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { allowedValue: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to constant' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var p=n;return n=u.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d="errs__"+i,u=e.util.copy(e);u.level++;var p,g,f,m="valid"+u.level,v="i"+i,y=u.dataLevel=e.dataLevel+1,b="data"+y,C=e.baseId,w=e.opts.strictKeywords?"object"==typeof o&&0<Object.keys(o).length||!1===o:e.util.schemaHasRules(o,e.RULES.all);n+="var "+d+" = errors;var "+h+";",w?(p=e.compositeRule,e.compositeRule=u.compositeRule=!0,u.schema=o,u.schemaPath=s,u.errSchemaPath=a,n+=" var "+m+" = false; for (var "+v+" = 0; "+v+" < "+c+".length; "+v+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers,!0),g=c+"["+v+"]",u.dataPathArr[y]=v,f=e.validate(u),u.baseId=C,e.util.varOccurences(f,b)<2?n+=" "+e.util.varReplace(f,b,g)+" ":n+=" var "+b+" = "+g+"; "+f+" ",n+=" if ("+m+") break; }  ",e.compositeRule=u.compositeRule=p,n+="  if (!"+m+") {"):n+=" if ("+c+".length == 0) {";var _=_||[];_.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should contain a valid item' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var x=n;return n=_.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { ",w&&(n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } "),e.opts.allErrors&&(n+=" } "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="errs__"+i,d=e.util.copy(e),u="";d.level++;var p,g="valid"+d.level,f={},m={},v=e.opts.ownProperties;for(T in o)"__proto__"!=T&&(D=o[T],(p=Array.isArray(D)?m:f)[T]=D);n+="var "+h+" = errors;";var y=e.errorPath;for(T in n+="var missing"+i+";",m)if((p=m[T]).length){if(n+=" if ( "+c+e.util.getProperty(T)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),l){n+=" && ( ";var b=p;if(b)for(var C=-1,w=b.length-1;C<w;)S=b[C+=1],C&&(n+=" || "),n+=" ( ( "+(M=c+(P=e.util.getProperty(S)))+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?S:P)+") ) ";n+=")) {  ";var _="missing"+i,x="' + "+_+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(y,_,!0):y+" + "+_);var I=I||[];I.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { property: '"+e.util.escapeQuotes(T)+"', missingProperty: '"+x+"', depsCount: "+p.length+", deps: '"+e.util.escapeQuotes(1==p.length?p[0]:p.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",n+=1==p.length?"property "+e.util.escapeQuotes(p[0]):"properties "+e.util.escapeQuotes(p.join(", ")),n+=" when property "+e.util.escapeQuotes(T)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var A=n;n=I.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+A+"]); ":" validate.errors = ["+A+"]; return false; ":" var err = "+A+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{n+=" ) { ";var k=p;if(k)for(var S,E=-1,O=k.length-1;E<O;){S=k[E+=1];var P=e.util.getProperty(S),M=(x=e.util.escapeQuotes(S),c+P);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(y,S,e.opts.jsonPointers)),n+=" if ( "+M+" === undefined ",v&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(S)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { property: '"+e.util.escapeQuotes(T)+"', missingProperty: '"+x+"', depsCount: "+p.length+", deps: '"+e.util.escapeQuotes(1==p.length?p[0]:p.join(", "))+"' } ",!1!==e.opts.messages&&(n+=" , message: 'should have ",n+=1==p.length?"property "+e.util.escapeQuotes(p[0]):"properties "+e.util.escapeQuotes(p.join(", ")),n+=" when property "+e.util.escapeQuotes(T)+" is present' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}n+=" }   ",l&&(u+="}",n+=" else { ")}e.errorPath=y;var T,R=d.baseId;for(T in f){var D=f[T];(e.opts.strictKeywords?"object"==typeof D&&0<Object.keys(D).length||!1===D:e.util.schemaHasRules(D,e.RULES.all))&&(n+=" "+g+" = true; if ( "+c+e.util.getProperty(T)+" !== undefined ",v&&(n+=" && Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(T)+"') "),n+=") { ",d.schema=D,d.schemaPath=s+e.util.getProperty(T),d.errSchemaPath=a+"/"+e.util.escapeFragment(T),n+="  "+e.validate(d)+" ",d.baseId=R,n+=" }  ",l&&(n+=" if ("+g+") { ",u+="}"))}return l&&(n+="   "+u+" if ("+h+" == errors) {"),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,u=(d&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; "),"i"+i),p="schema"+i;d||(n+=" var "+p+" = validate.schema"+s+";"),n+="var "+h+";",d&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=h+" = false;for (var "+u+"=0; "+u+"<"+p+".length; "+u+"++) if (equal("+c+", "+p+"["+u+"])) { "+h+" = true; break; }",d&&(n+="  }  ");var g=g||[];g.push(n+=" if (!"+h+") {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { allowedValues: schema"+i+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var f=n;return n=g.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" }",l&&(n+=" else { "),n}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,h="data"+(o||"");if(!1===e.opts.format)return c&&(i+=" if (true) { "),i;var d,u=e.opts.$data&&s&&s.$data,p=u?(i+=" var schema"+r+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ","schema"+r):s,g=e.opts.unknownFormats,f=Array.isArray(g);if(u)i+=" var "+(d="format"+r)+" = formats["+p+"]; var "+(m="isObject"+r)+" = typeof "+d+" == 'object' && !("+d+" instanceof RegExp) && "+d+".validate; var "+(y="formatType"+r)+" = "+m+" && "+d+".type || 'string'; if ("+m+") { ",e.async&&(i+=" var async"+r+" = "+d+".async; "),i+=" "+d+" = "+d+".validate; } if (  ",u&&(i+=" ("+p+" !== undefined && typeof "+p+" != 'string') || "),i+=" (","ignore"!=g&&(i+=" ("+p+" && !"+d+" ",f&&(i+=" && self._opts.unknownFormats.indexOf("+p+") == -1 "),i+=") || "),i+=" ("+d+" && "+y+" == '"+n+"' && !(typeof "+d+" == 'function' ? ",i+=e.async?" (async"+r+" ? await "+d+"("+h+") : "+d+"("+h+")) ":" "+d+"("+h+") ",i+=" : "+d+".test("+h+"))))) {";else{if(!(d=e.formats[s])){if("ignore"==g)return e.logger.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(i+=" if (true) { "),i;if(f&&0<=g.indexOf(s))return c&&(i+=" if (true) { "),i;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var m,v,y=(m="object"==typeof d&&!(d instanceof RegExp)&&d.validate)&&d.type||"string";if(m&&(v=!0===d.async,d=d.validate),y!=n)return c&&(i+=" if (true) { "),i;if(v){if(!e.async)throw new Error("async format in sync schema");i+=" if (!(await "+(b="formats"+e.util.getProperty(s)+".validate")+"("+h+"))) { "}else{i+=" if (! ";var b="formats"+e.util.getProperty(s);m&&(b+=".validate"),i+="function"==typeof d?" "+b+"("+h+") ":" "+b+".test("+h+") ",i+=") { "}}var C=C||[];C.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",i+=u?""+p:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match format \"",i+=u?"' + "+p+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=u?"validate.schema"+a:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),i+=" } "):i+=" {} ";var w=i;return i=C.pop(),i+=!e.compositeRule&&c?e.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d="errs__"+i,u=e.util.copy(e);u.level++;var p,g,f="valid"+u.level,m=e.schema.then,v=e.schema.else,y=void 0!==m&&(e.opts.strictKeywords?"object"==typeof m&&0<Object.keys(m).length||!1===m:e.util.schemaHasRules(m,e.RULES.all)),b=void 0!==v&&(e.opts.strictKeywords?"object"==typeof v&&0<Object.keys(v).length||!1===v:e.util.schemaHasRules(v,e.RULES.all)),C=u.baseId;return y||b?(u.createErrors=!1,u.schema=o,u.schemaPath=s,u.errSchemaPath=a,n+=" var "+d+" = errors; var "+h+" = true;  ",g=e.compositeRule,e.compositeRule=u.compositeRule=!0,n+="  "+e.validate(u)+" ",u.baseId=C,u.createErrors=!0,n+="  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }  ",e.compositeRule=u.compositeRule=g,y?(n+=" if ("+f+") {  ",u.schema=e.schema.then,u.schemaPath=e.schemaPath+".then",u.errSchemaPath=e.errSchemaPath+"/then",n+="  "+e.validate(u)+" ",u.baseId=C,n+=" "+h+" = "+f+"; ",y&&b?n+=" var "+(p="ifClause"+i)+" = 'then'; ":p="'then'",n+=" } ",b&&(n+=" else { ")):n+=" if (!"+f+") { ",b&&(u.schema=e.schema.else,u.schemaPath=e.schemaPath+".else",u.errSchemaPath=e.errSchemaPath+"/else",n+="  "+e.validate(u)+" ",u.baseId=C,n+=" "+h+" = "+f+"; ",y&&b?n+=" var "+(p="ifClause"+i)+" = 'else'; ":p="'else'",n+=" } "),n+=" if (!"+h+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'if' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { failingKeyword: "+p+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match \"' + "+p+" + '\" schema' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(n+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),n+=" }   ",l&&(n+=" else { ")):l&&(n+=" if (true) { "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d="errs__"+i,u=e.util.copy(e),p="";u.level++;var g="valid"+u.level,f="i"+i,m=u.dataLevel=e.dataLevel+1,v="data"+m,y=e.baseId;if(n+="var "+d+" = errors;var "+h+";",Array.isArray(o)){var b,C,w,_=e.schema.additionalItems;!1===_&&(n+=" "+h+" = "+c+".length <= "+o.length+"; ",b=a,a=e.errSchemaPath+"/additionalItems",(C=C||[]).push(n+="  if (!"+h+") {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { limit: "+o.length+" } ",!1!==e.opts.messages&&(n+=" , message: 'should NOT have more than "+o.length+" items' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",w=n,n=C.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+w+"]); ":" validate.errors = ["+w+"]; return false; ":" var err = "+w+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } ",a=b,l&&(p+="}",n+=" else { "));var x=o;if(x)for(var I=-1,A=x.length-1;I<A;){var k,S,E=x[I+=1];(e.opts.strictKeywords?"object"==typeof E&&0<Object.keys(E).length||!1===E:e.util.schemaHasRules(E,e.RULES.all))&&(n+=" "+g+" = true; if ("+c+".length > "+I+") { ",k=c+"["+I+"]",u.schema=E,u.schemaPath=s+"["+I+"]",u.errSchemaPath=a+"/"+I,u.errorPath=e.util.getPathExpr(e.errorPath,I,e.opts.jsonPointers,!0),u.dataPathArr[m]=I,S=e.validate(u),u.baseId=y,e.util.varOccurences(S,v)<2?n+=" "+e.util.varReplace(S,v,k)+" ":n+=" var "+v+" = "+k+"; "+S+" ",n+=" }  ",l&&(n+=" if ("+g+") { ",p+="}"))}"object"==typeof _&&(e.opts.strictKeywords?"object"==typeof _&&0<Object.keys(_).length||!1===_:e.util.schemaHasRules(_,e.RULES.all))&&(u.schema=_,u.schemaPath=e.schemaPath+".additionalItems",u.errSchemaPath=e.errSchemaPath+"/additionalItems",n+=" "+g+" = true; if ("+c+".length > "+o.length+") {  for (var "+f+" = "+o.length+"; "+f+" < "+c+".length; "+f+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0),k=c+"["+f+"]",u.dataPathArr[m]=f,S=e.validate(u),u.baseId=y,e.util.varOccurences(S,v)<2?n+=" "+e.util.varReplace(S,v,k)+" ":n+=" var "+v+" = "+k+"; "+S+" ",l&&(n+=" if (!"+g+") break; "),n+=" } }  ",l&&(n+=" if ("+g+") { ",p+="}"))}else(e.opts.strictKeywords?"object"==typeof o&&0<Object.keys(o).length||!1===o:e.util.schemaHasRules(o,e.RULES.all))&&(u.schema=o,u.schemaPath=s,u.errSchemaPath=a,n+="  for (var "+f+" = 0; "+f+" < "+c+".length; "+f+"++) { ",u.errorPath=e.util.getPathExpr(e.errorPath,f,e.opts.jsonPointers,!0),k=c+"["+f+"]",u.dataPathArr[m]=f,S=e.validate(u),u.baseId=y,e.util.varOccurences(S,v)<2?n+=" "+e.util.varReplace(S,v,k)+" ":n+=" var "+v+" = "+k+"; "+S+" ",l&&(n+=" if (!"+g+") break; "),n+=" }");return l&&(n+=" "+p+" if ("+d+" == errors) {"),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h=e.opts.$data&&o&&o.$data,d=h?(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; ","schema"+i):o;if(!h&&"number"!=typeof o)throw new Error(t+" must be number");n+="var division"+i+";if (",h&&(n+=" "+d+" !== undefined && ( typeof "+d+" != 'number' || "),n+=" (division"+i+" = "+c+" / "+d+", ",n+=e.opts.multipleOfPrecision?" Math.abs(Math.round(division"+i+") - division"+i+") > 1e-"+e.opts.multipleOfPrecision+" ":" division"+i+" !== parseInt(division"+i+") ",n+=" ) ",h&&(n+="  )  ");var u=u||[];u.push(n+=" ) {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { multipleOf: "+d+" } ",!1!==e.opts.messages&&(n+=" , message: 'should be multiple of ",n+=h?"' + "+d:d+"'"),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+o,n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var p=n;return n=u.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="errs__"+i,d=e.util.copy(e);d.level++;var u,p,g,f,m="valid"+d.level;return(e.opts.strictKeywords?"object"==typeof o&&0<Object.keys(o).length||!1===o:e.util.schemaHasRules(o,e.RULES.all))?(d.schema=o,d.schemaPath=s,d.errSchemaPath=a,n+=" var "+h+" = errors;  ",u=e.compositeRule,e.compositeRule=d.compositeRule=!0,d.createErrors=!1,d.opts.allErrors&&(p=d.opts.allErrors,d.opts.allErrors=!1),n+=" "+e.validate(d)+" ",d.createErrors=!0,p&&(d.opts.allErrors=p),e.compositeRule=d.compositeRule=u,(g=g||[]).push(n+=" if ("+m+") {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",f=n,n=g.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+f+"]); ":" validate.errors = ["+f+"]; return false; ":" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(n+=" } ")):(n+="  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: {} ",!1!==e.opts.messages&&(n+=" , message: 'should NOT be valid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l&&(n+=" if (false) { ")),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d="errs__"+i,u=e.util.copy(e),p="";u.level++;var g="valid"+u.level,f=u.baseId,m="prevValid"+i,v="passingSchemas"+i;n+="var "+d+" = errors , "+m+" = false , "+h+" = false , "+v+" = null; ";var y=e.compositeRule;e.compositeRule=u.compositeRule=!0;var b=o;if(b)for(var C,w=-1,_=b.length-1;w<_;)C=b[w+=1],(e.opts.strictKeywords?"object"==typeof C&&0<Object.keys(C).length||!1===C:e.util.schemaHasRules(C,e.RULES.all))?(u.schema=C,u.schemaPath=s+"["+w+"]",u.errSchemaPath=a+"/"+w,n+="  "+e.validate(u)+" ",u.baseId=f):n+=" var "+g+" = true; ",w&&(n+=" if ("+g+" && "+m+") { "+h+" = false; "+v+" = ["+v+", "+w+"]; } else { ",p+="}"),n+=" if ("+g+") { "+h+" = "+m+" = true; "+v+" = "+w+"; }";return e.compositeRule=u.compositeRule=y,n+=p+"if (!"+h+") {   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { passingSchemas: "+v+" } ",!1!==e.opts.messages&&(n+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(n+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),n+="} else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; }",e.opts.allErrors&&(n+=" } "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h=e.opts.$data&&o&&o.$data,d=h?(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; ","schema"+i):o;n+="if ( ",h&&(n+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),n+=" !"+(h?"(new RegExp("+d+"))":e.usePattern(o))+".test("+c+") ) {   ";var u=u||[];u.push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { pattern:  ",n+=h?""+d:""+e.util.toQuotedString(o),n+="  } ",!1!==e.opts.messages&&(n+=" , message: 'should match pattern \"",n+=h?"' + "+d+" + '":""+e.util.escapeQuotes(o),n+="\"' "),e.opts.verbose&&(n+=" , schema:  ",n+=h?"validate.schema"+s:""+e.util.toQuotedString(o),n+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var p=n;return n=u.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+p+"]); ":" validate.errors = ["+p+"]; return false; ":" var err = "+p+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+="} ",l&&(n+=" else { "),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="errs__"+i,d=e.util.copy(e),u="";d.level++;var p,g,f,m="valid"+d.level,v="key"+i,y="idx"+i,b=d.dataLevel=e.dataLevel+1,C="data"+b,w="dataProperties"+i,_=Object.keys(o||{}).filter(D),x=e.schema.patternProperties||{},I=Object.keys(x).filter(D),A=e.schema.additionalProperties,k=_.length||I.length,S=!1===A,E="object"==typeof A&&Object.keys(A).length,O=e.opts.removeAdditional,P=S||E||O,M=e.opts.ownProperties,T=e.baseId,R=e.schema.required;function D(e){return"__proto__"!==e}if(R&&(!e.opts.$data||!R.$data)&&R.length<e.opts.loopRequired&&(p=e.util.toHash(R)),n+="var "+h+" = errors;var "+m+" = true;",M&&(n+=" var "+w+" = undefined;"),P){if(n+=M?" "+w+" = "+w+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+w+".length; "+y+"++) { var "+v+" = "+w+"["+y+"]; ":" for (var "+v+" in "+c+") { ",k){if(n+=" var isAdditional"+i+" = !(false ",_.length)if(8<_.length)n+=" || validate.schema"+s+".hasOwnProperty("+v+") ";else{var N=_;if(N)for(var L=-1,B=N.length-1;L<B;)W=N[L+=1],n+=" || "+v+" == "+e.util.toQuotedString(W)+" "}if(I.length){var F=I;if(F)for(var V=-1,$=F.length-1;V<$;)ne=F[V+=1],n+=" || "+e.usePattern(ne)+".test("+v+") "}n+=" ); if (isAdditional"+i+") { "}"all"==O?n+=" delete "+c+"["+v+"]; ":(Y=e.errorPath,g="' + "+v+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers)),S?O?n+=" delete "+c+"["+v+"]; ":(U=a,a=e.errSchemaPath+"/additionalProperties",(q=q||[]).push(n+=" "+m+" = false; "),n="",!1!==e.createErrors?(n+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { additionalProperty: '"+g+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is an invalid additional property":"should NOT have additional properties",n+="' "),e.opts.verbose&&(n+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",Q=n,n=q.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a=U,l&&(n+=" break; ")):E&&("failing"==O?(n+=" var "+h+" = errors;  ",f=e.compositeRule,e.compositeRule=d.compositeRule=!0,d.schema=A,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),oe=c+"["+v+"]",d.dataPathArr[b]=v,se=e.validate(d),d.baseId=T,e.util.varOccurences(se,C)<2?n+=" "+e.util.varReplace(se,C,oe)+" ":n+=" var "+C+" = "+oe+"; "+se+" ",n+=" if (!"+m+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+c+"["+v+"]; }  ",e.compositeRule=d.compositeRule=f):(d.schema=A,d.schemaPath=e.schemaPath+".additionalProperties",d.errSchemaPath=e.errSchemaPath+"/additionalProperties",d.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),oe=c+"["+v+"]",d.dataPathArr[b]=v,se=e.validate(d),d.baseId=T,e.util.varOccurences(se,C)<2?n+=" "+e.util.varReplace(se,C,oe)+" ":n+=" var "+C+" = "+oe+"; "+se+" ",l&&(n+=" if (!"+m+") break; "))),e.errorPath=Y),k&&(n+=" } "),n+=" }  ",l&&(n+=" if ("+m+") { ",u+="}")}var H=e.opts.useDefaults&&!e.compositeRule;if(_.length){var j=_;if(j)for(var W,z=-1,G=j.length-1;z<G;){var Z,K,X,Y,U,J,q,Q,ee=o[W=j[z+=1]];(e.opts.strictKeywords?"object"==typeof ee&&0<Object.keys(ee).length||!1===ee:e.util.schemaHasRules(ee,e.RULES.all))&&(oe=c+(Z=e.util.getProperty(W)),K=H&&void 0!==ee.default,d.schema=ee,d.schemaPath=s+Z,d.errSchemaPath=a+"/"+e.util.escapeFragment(W),d.errorPath=e.util.getPath(e.errorPath,W,e.opts.jsonPointers),d.dataPathArr[b]=e.util.toQuotedString(W),se=e.validate(d),d.baseId=T,e.util.varOccurences(se,C)<2?(se=e.util.varReplace(se,C,oe),X=oe):n+=" var "+(X=C)+" = "+oe+"; ",K?n+=" "+se+" ":(p&&p[W]?(n+=" if ( "+X+" === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(W)+"') "),n+=") { "+m+" = false; ",Y=e.errorPath,U=a,J=e.util.escapeQuotes(W),e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(Y,W,e.opts.jsonPointers)),a=e.errSchemaPath+"/required",(q=q||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+J+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+J+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",Q=n,n=q.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+Q+"]); ":" validate.errors = ["+Q+"]; return false; ":" var err = "+Q+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",a=U,e.errorPath=Y,n+=" } else { "):l?(n+=" if ( "+X+" === undefined ",M&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(W)+"') "),n+=") { "+m+" = true; } else { "):(n+=" if ("+X+" !== undefined ",M&&(n+=" &&   Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(W)+"') "),n+=" ) { "),n+=" "+se+" } ")),l&&(n+=" if ("+m+") { ",u+="}")}}if(I.length){var te=I;if(te)for(var ne,ie=-1,re=te.length-1;ie<re;){var oe,se;ee=x[ne=te[ie+=1]],(e.opts.strictKeywords?"object"==typeof ee&&0<Object.keys(ee).length||!1===ee:e.util.schemaHasRules(ee,e.RULES.all))&&(d.schema=ee,d.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(ne),d.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(ne),n+=M?" "+w+" = "+w+" || Object.keys("+c+"); for (var "+y+"=0; "+y+"<"+w+".length; "+y+"++) { var "+v+" = "+w+"["+y+"]; ":" for (var "+v+" in "+c+") { ",n+=" if ("+e.usePattern(ne)+".test("+v+")) { ",d.errorPath=e.util.getPathExpr(e.errorPath,v,e.opts.jsonPointers),oe=c+"["+v+"]",d.dataPathArr[b]=v,se=e.validate(d),d.baseId=T,e.util.varOccurences(se,C)<2?n+=" "+e.util.varReplace(se,C,oe)+" ":n+=" var "+C+" = "+oe+"; "+se+" ",l&&(n+=" if (!"+m+") break; "),n+=" } ",l&&(n+=" else "+m+" = true; "),n+=" }  ",l&&(n+=" if ("+m+") { ",u+="}"))}}return l&&(n+=" "+u+" if ("+h+" == errors) {"),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="errs__"+i,d=e.util.copy(e);d.level++;var u,p,g,f,m,v,y,b,C,w,_,x="valid"+d.level;return n+="var "+h+" = errors;",(e.opts.strictKeywords?"object"==typeof o&&0<Object.keys(o).length||!1===o:e.util.schemaHasRules(o,e.RULES.all))&&(d.schema=o,d.schemaPath=s,d.errSchemaPath=a,p="idx"+i,g="i"+i,f="' + "+(u="key"+i)+" + '",m="data"+(d.dataLevel=e.dataLevel+1),v="dataProperties"+i,b=e.baseId,(y=e.opts.ownProperties)&&(n+=" var "+v+" = undefined; "),n+=y?" "+v+" = "+v+" || Object.keys("+c+"); for (var "+p+"=0; "+p+"<"+v+".length; "+p+"++) { var "+u+" = "+v+"["+p+"]; ":" for (var "+u+" in "+c+") { ",n+=" var startErrs"+i+" = errors; ",C=u,w=e.compositeRule,e.compositeRule=d.compositeRule=!0,_=e.validate(d),d.baseId=b,e.util.varOccurences(_,m)<2?n+=" "+e.util.varReplace(_,m,C)+" ":n+=" var "+m+" = "+C+"; "+_+" ",e.compositeRule=d.compositeRule=w,n+=" if (!"+x+") { for (var "+g+"=startErrs"+i+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+u+"; }   var err =   ",!1!==e.createErrors?(n+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { propertyName: '"+f+"' } ",!1!==e.opts.messages&&(n+=" , message: 'property name \\'"+f+"\\' is invalid' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&l&&(n+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; "),l&&(n+=" break; "),n+=" } }"),l&&(n+="  if ("+h+" == errors) {"),n}},function(e,t,n){"use strict";e.exports=function(e,t){var n=" ",i=e.level,r=e.dataLevel,o=e.schema[t],s=e.schemaPath+e.util.getProperty(t),a=e.errSchemaPath+"/"+t,l=!e.opts.allErrors,c="data"+(r||""),h="valid"+i,d=e.opts.$data&&o&&o.$data,u=(d&&(n+=" var schema"+i+" = "+e.util.getData(o.$data,r,e.dataPathArr)+"; "),"schema"+i);if(!d)if(o.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var p=[],g=o;if(g)for(var f,m=-1,v=g.length-1;m<v;){f=g[m+=1];var y=e.schema.properties[f];y&&(e.opts.strictKeywords?"object"==typeof y&&0<Object.keys(y).length||!1===y:e.util.schemaHasRules(y,e.RULES.all))||(p[p.length]=f)}}else p=o;if(d||p.length){var b=e.errorPath,C=d||p.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(l)if(n+=" var missing"+i+"; ",C){d||(n+=" var "+u+" = validate.schema"+s+"; ");var _="' + "+(E="schema"+i+"["+(k="i"+i)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,E,e.opts.jsonPointers)),n+=" var "+h+" = true; ",d&&(n+=" if (schema"+i+" === undefined) "+h+" = true; else if (!Array.isArray(schema"+i+")) "+h+" = false; else {"),n+=" for (var "+k+" = 0; "+k+" < "+u+".length; "+k+"++) { "+h+" = "+c+"["+u+"["+k+"]] !== undefined ",w&&(n+=" &&   Object.prototype.hasOwnProperty.call("+c+", "+u+"["+k+"]) "),n+="; if (!"+h+") break; } ",d&&(n+="  }  "),(I=I||[]).push(n+="  if (!"+h+") {   "),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ";var x=n;n=I.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else{n+=" if ( ";var I,A=p;if(A)for(var k=-1,S=A.length-1;k<S;)P=A[k+=1],k&&(n+=" || "),n+=" ( ( "+(D=c+(R=e.util.getProperty(P)))+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),n+=") && (missing"+i+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:R)+") ) ";n+=") {  ",_="' + "+(E="missing"+i)+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,E,!0):b+" + "+E),(I=I||[]).push(n),n="",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",x=n,n=I.pop(),n+=!e.compositeRule&&l?e.async?" throw new ValidationError(["+x+"]); ":" validate.errors = ["+x+"]; return false; ":" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",n+=" } else { "}else if(C){var E;d||(n+=" var "+u+" = validate.schema"+s+"; "),_="' + "+(E="schema"+i+"["+(k="i"+i)+"]")+" + '",e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,E,e.opts.jsonPointers)),d&&(n+=" if ("+u+" && !Array.isArray("+u+")) {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+u+" !== undefined) { "),n+=" for (var "+k+" = 0; "+k+" < "+u+".length; "+k+"++) { if ("+c+"["+u+"["+k+"]] === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", "+u+"["+k+"]) "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",d&&(n+="  }  ")}else{var O=p;if(O)for(var P,M=-1,T=O.length-1;M<T;){P=O[M+=1];var R=e.util.getProperty(P),D=(_=e.util.escapeQuotes(P),c+R);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,P,e.opts.jsonPointers)),n+=" if ( "+D+" === undefined ",w&&(n+=" || ! Object.prototype.hasOwnProperty.call("+c+", '"+e.util.escapeQuotes(P)+"') "),n+=") {  var err =   ",!1!==e.createErrors?(n+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(a)+" , params: { missingProperty: '"+_+"' } ",!1!==e.opts.messages&&(n+=" , message: '",n+=e.opts._errorDataPathProperty?"is a required property":"should have required property \\'"+_+"\\'",n+="' "),e.opts.verbose&&(n+=" , schema: validate.schema"+s+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+c+" "),n+=" } "):n+=" {} ",n+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else l&&(n+=" if (true) {");return n}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,s=" ",a=e.level,l=e.dataLevel,c=e.schema[t],h=e.schemaPath+e.util.getProperty(t),d=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,p="data"+(l||""),g="valid"+a,f=e.opts.$data&&c&&c.$data,m=f?(s+=" var schema"+a+" = "+e.util.getData(c.$data,l,e.dataPathArr)+"; ","schema"+a):c;return(c||f)&&!1!==e.opts.uniqueItems?(f&&(s+=" var "+g+"; if ("+m+" === false || "+m+" === undefined) "+g+" = true; else if (typeof "+m+" != 'boolean') "+g+" = false; else { "),s+=" var i = "+p+".length , "+g+" = true , j; if (i > 1) { ",n=e.schema.items&&e.schema.items.type,i=Array.isArray(n),!n||"object"==n||"array"==n||i&&(0<=n.indexOf("object")||0<=n.indexOf("array"))?s+=" outer: for (;i--;) { for (j = i; j--;) { if (equal("+p+"[i], "+p+"[j])) { "+g+" = false; break outer; } } } ":(s+=" var itemIndices = {}, item; for (;i--;) { var item = "+p+"[i]; ",s+=" if ("+e.util["checkDataType"+(i?"s":"")](n,"item",e.opts.strictNumbers,!0)+") continue; ",i&&(s+=" if (typeof item == 'string') item = '\"' + item; "),s+=" if (typeof itemIndices[item] == 'number') { "+g+" = false; j = itemIndices[item]; break; } itemIndices[item] = i; } "),s+=" } ",f&&(s+="  }  "),(r=r||[]).push(s+=" if (!"+g+") {   "),s="",!1!==e.createErrors?(s+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(d)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(s+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(s+=" , schema:  ",s+=f?"validate.schema"+h:""+c,s+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+p+" "),s+=" } "):s+=" {} ",o=s,s=r.pop(),s+=!e.compositeRule&&u?e.async?" throw new ValidationError(["+o+"]); ":" validate.errors = ["+o+"]; return false; ":" var err = "+o+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",s+=" } ",u&&(s+=" else { ")):u&&(s+=" if (true) { "),s}},function(e,t,n){"use strict";var i=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));for(var r=t[n].split("/"),o=e,s=1;s<r.length;s++)o=o[r[s]];for(s=0;s<i.length;s++){var a=i[s],l=o[a];l&&(o[a]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]})}}return e}},function(e,t,n){"use strict";var i=n(19).MissingRef;e.exports=function e(t,n,r){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(r=n,n=void 0);var s=a(t).then((function(){var e=o._addSchema(t,void 0,n);return e.validate||function t(r){try{return o._compile(r)}catch(e){if(e instanceof i)return function(e){var i=e.missingSchema;if(c(i))throw new Error("Schema "+i+" is loaded but "+e.missingRef+" cannot be resolved");var s=o._loadingSchemas[i];return s||(s=o._loadingSchemas[i]=o._opts.loadSchema(i)).then(l,l),s.then((function(e){if(!c(i))return a(e).then((function(){c(i)||o.addSchema(e,i,void 0,n)}))})).then((function(){return t(r)}));function l(){delete o._loadingSchemas[i]}function c(e){return o._refs[e]||o._schemas[e]}}(e);throw e}}(e)}));return r&&s.then((function(e){r(null,e)}),r),s;function a(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";var i=/^[a-z_$][a-z0-9_$-]*$/i,r=n(75),o=n(76);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!i.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){this.validateKeyword(t,!0);var o=t.type;if(Array.isArray(o))for(var s=0;s<o.length;s++)l(e,o[s],t);else l(e,o,t);var a=t.metaSchema;a&&(t.$data&&this._opts.$data&&(a={anyOf:[a,{$ref:"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#"}]}),t.validateSchema=this.compile(a,!0))}function l(e,t,i){for(var o,s=0;s<n.length;s++){var a=n[s];if(a.type==t){o=a;break}}o||n.push(o={type:t,rules:[]});var l={keyword:e,definition:i,custom:!0,code:r,implements:i.implements};o.rules.push(l),n.custom[e]=l}return n.keywords[e]=n.all[e]=!0,this},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var i=t[n].rules,r=0;r<i.length;r++)if(i[r].keyword==e){i.splice(r,1);break}return this},validate:function e(t,n){e.errors=null;var i=this._validateKeyword=this._validateKeyword||this.compile(o,!0);if(i(t))return!0;if(e.errors=i.errors,n)throw new Error("custom keyword definition is invalid: "+this.errorsText(i.errors));return!1}}},function(e,t,n){"use strict";e.exports=function(e,t){var n,i,r,o,s,a,l=" ",c=e.level,h=e.dataLevel,d=e.schema[t],u=e.schemaPath+e.util.getProperty(t),p=e.errSchemaPath+"/"+t,g=!e.opts.allErrors,f="data"+(h||""),m="valid"+c,v="errs__"+c,y=e.opts.$data&&d&&d.$data,b=y?(l+=" var schema"+c+" = "+e.util.getData(d.$data,h,e.dataPathArr)+"; ","schema"+c):d,C="definition"+c,w=this.definition,_="";if(y&&w.$data){var x=w.validateSchema;l+=" var "+C+" = RULES.custom['"+t+"'].definition; var "+(a="keywordValidate"+c)+" = "+C+".validate;"}else{if(!(s=e.useCustomRule(this,d,e.schema,e)))return;b="validate.schema"+u,a=s.code,i=w.compile,r=w.inline,o=w.macro}var I,A,k,S,E,O,P,M,T,R,D=a+".errors",N="i"+c,L="ruleErr"+c,B=w.async;if(B&&!e.async)throw new Error("async keyword in sync schema");return r||o||(l+=D+" = null;"),l+="var "+v+" = errors;var "+m+";",y&&w.$data&&(_+="}",l+=" if ("+b+" === undefined) { "+m+" = true; } else { ",x&&(_+="}",l+=" "+m+" = "+C+".validateSchema("+b+"); if ("+m+") { ")),r?l+=w.statements?" "+s.validate+" ":" "+m+" = "+s.validate+"; ":o?(_="",(I=e.util.copy(e)).level++,A="valid"+I.level,I.schema=s.validate,I.schemaPath="",k=e.compositeRule,e.compositeRule=I.compositeRule=!0,S=e.validate(I).replace(/validate\.schema/g,a),e.compositeRule=I.compositeRule=k,l+=" "+S):((M=M||[]).push(l),l="",l+="  "+a+".call( ",l+=e.opts.passContext?"this":"self",l+=i||!1===w.schema?" , "+f+" ":" , "+b+" , "+f+" , validate.schema"+e.schemaPath+" ",l+=" , (dataPath || '')",'""'!=e.errorPath&&(l+=" + "+e.errorPath),P=l+=" , "+(E=h?"data"+(h-1||""):"parentData")+" , "+(O=h?e.dataPathArr[h]:"parentDataProperty")+" , rootData )  ",l=M.pop(),!1===w.errors?(l+=" "+m+" = ",B&&(l+="await "),l+=P+"; "):l+=B?" var "+(D="customErrors"+c)+" = null; try { "+m+" = await "+P+"; } catch (e) { "+m+" = false; if (e instanceof ValidationError) "+D+" = e.errors; else throw e; } ":" "+D+" = null; "+m+" = "+P+"; "),w.modifying&&(l+=" if ("+E+") "+f+" = "+E+"["+O+"];"),l+=""+_,w.valid?g&&(l+=" if (true) { "):(l+=" if ( ",void 0===w.valid?(l+=" !",l+=o?""+A:m):l+=" "+!w.valid+" ",n=this.keyword,(M=M||[]).push(l+=") { "),(M=M||[]).push(l=""),l="",!1!==e.createErrors?(l+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(l+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(l+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),l+=" } "):l+=" {} ",T=l,l=M.pop(),R=l+=!e.compositeRule&&g?e.async?" throw new ValidationError(["+T+"]); ":" validate.errors = ["+T+"]; return false; ":" var err = "+T+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=M.pop(),r?w.errors?"full"!=w.errors&&(l+="  for (var "+N+"="+v+"; "+N+"<errors; "+N+"++) { var "+L+" = vErrors["+N+"]; if ("+L+".dataPath === undefined) "+L+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+L+".schemaPath === undefined) { "+L+'.schemaPath = "'+p+'"; } ',e.opts.verbose&&(l+=" "+L+".schema = "+b+"; "+L+".data = "+f+"; "),l+=" } "):!1===w.errors?l+=" "+R+" ":(l+=" if ("+v+" == errors) { "+R+" } else {  for (var "+N+"="+v+"; "+N+"<errors; "+N+"++) { var "+L+" = vErrors["+N+"]; if ("+L+".dataPath === undefined) "+L+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+L+".schemaPath === undefined) { "+L+'.schemaPath = "'+p+'"; } ',e.opts.verbose&&(l+=" "+L+".schema = "+b+"; "+L+".data = "+f+"; "),l+=" } } "):o?(l+="   var err =   ",!1!==e.createErrors?(l+=" { keyword: '"+(n||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(p)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(l+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(l+=" , schema: validate.schema"+u+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),l+=" } "):l+=" {} ",l+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&g&&(l+=e.async?" throw new ValidationError(vErrors); ":" validate.errors = vErrors; return false; ")):!1===w.errors?l+=" "+R+" ":(l+=" if (Array.isArray("+D+")) { if (vErrors === null) vErrors = "+D+"; else vErrors = vErrors.concat("+D+"); errors = vErrors.length;  for (var "+N+"="+v+"; "+N+"<errors; "+N+"++) { var "+L+" = vErrors["+N+"]; if ("+L+".dataPath === undefined) "+L+".dataPath = (dataPath || '') + "+e.errorPath+";  "+L+'.schemaPath = "'+p+'";  ',e.opts.verbose&&(l+=" "+L+".schema = "+b+"; "+L+".data = "+f+"; "),l+=" } } else { "+R+" } "),l+=" } ",g&&(l+=" else { ")),l}},function(e,t,n){"use strict";var i=n(32);e.exports={$id:"https://github.com/ajv-validator/ajv/blob/master/lib/definition_schema.js",definitions:{simpleTypes:i.definitions.simpleTypes},type:"object",dependencies:{schema:["validate"],$data:["validate"],statements:["inline"],valid:{not:{required:["macro"]}}},properties:{type:i.properties.type,schema:{type:"boolean"},statements:{type:"boolean"},dependencies:{type:"array",items:{type:"string"}},metaSchema:{type:"object"},modifying:{type:"boolean"},valid:{type:"boolean"},$data:{type:"boolean"},async:{type:"boolean"},errors:{anyOf:[{type:"boolean"},{const:"full"}]}}}},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-07/schema#","$id":"https://raw.githubusercontent.com/ajv-validator/ajv/master/lib/refs/data.json#","description":"Meta-schema for $data reference (JSON Schema extension proposal)","type":"object","required":["$data"],"properties":{"$data":{"type":"string","anyOf":[{"format":"relative-json-pointer"},{"format":"json-pointer"}]}},"additionalProperties":false}')},function(e){e.exports=JSON.parse('{"id":"http://json-schema.org/draft-04/schema#","$schema":"http://json-schema.org/draft-04/schema#","description":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"positiveInteger":{"type":"integer","minimum":0},"positiveIntegerDefault0":{"allOf":[{"$ref":"#/definitions/positiveInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"minItems":1,"uniqueItems":true}},"type":"object","properties":{"id":{"type":"string"},"$schema":{"type":"string"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"multipleOf":{"type":"number","minimum":0,"exclusiveMinimum":true},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"boolean","default":false},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"boolean","default":false},"maxLength":{"$ref":"#/definitions/positiveInteger"},"minLength":{"$ref":"#/definitions/positiveIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/positiveInteger"},"minItems":{"$ref":"#/definitions/positiveIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"maxProperties":{"$ref":"#/definitions/positiveInteger"},"minProperties":{"$ref":"#/definitions/positiveIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"anyOf":[{"type":"boolean"},{"$ref":"#"}],"default":{}},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"dependencies":{"exclusiveMaximum":["maximum"],"exclusiveMinimum":["minimum"]},"default":{}}')},function(e){e.exports=JSON.parse('{"$schema":"http://json-schema.org/draft-06/schema#","$id":"http://json-schema.org/draft-06/schema#","title":"Core schema meta-schema","definitions":{"schemaArray":{"type":"array","minItems":1,"items":{"$ref":"#"}},"nonNegativeInteger":{"type":"integer","minimum":0},"nonNegativeIntegerDefault0":{"allOf":[{"$ref":"#/definitions/nonNegativeInteger"},{"default":0}]},"simpleTypes":{"enum":["array","boolean","integer","null","number","object","string"]},"stringArray":{"type":"array","items":{"type":"string"},"uniqueItems":true,"default":[]}},"type":["object","boolean"],"properties":{"$id":{"type":"string","format":"uri-reference"},"$schema":{"type":"string","format":"uri"},"$ref":{"type":"string","format":"uri-reference"},"title":{"type":"string"},"description":{"type":"string"},"default":{},"examples":{"type":"array","items":{}},"multipleOf":{"type":"number","exclusiveMinimum":0},"maximum":{"type":"number"},"exclusiveMaximum":{"type":"number"},"minimum":{"type":"number"},"exclusiveMinimum":{"type":"number"},"maxLength":{"$ref":"#/definitions/nonNegativeInteger"},"minLength":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"pattern":{"type":"string","format":"regex"},"additionalItems":{"$ref":"#"},"items":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/schemaArray"}],"default":{}},"maxItems":{"$ref":"#/definitions/nonNegativeInteger"},"minItems":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"uniqueItems":{"type":"boolean","default":false},"contains":{"$ref":"#"},"maxProperties":{"$ref":"#/definitions/nonNegativeInteger"},"minProperties":{"$ref":"#/definitions/nonNegativeIntegerDefault0"},"required":{"$ref":"#/definitions/stringArray"},"additionalProperties":{"$ref":"#"},"definitions":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"properties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"patternProperties":{"type":"object","additionalProperties":{"$ref":"#"},"default":{}},"dependencies":{"type":"object","additionalProperties":{"anyOf":[{"$ref":"#"},{"$ref":"#/definitions/stringArray"}]}},"propertyNames":{"$ref":"#"},"const":{},"enum":{"type":"array","minItems":1,"uniqueItems":true},"type":{"anyOf":[{"$ref":"#/definitions/simpleTypes"},{"type":"array","items":{"$ref":"#/definitions/simpleTypes"},"minItems":1,"uniqueItems":true}]},"format":{"type":"string"},"allOf":{"$ref":"#/definitions/schemaArray"},"anyOf":{"$ref":"#/definitions/schemaArray"},"oneOf":{"$ref":"#/definitions/schemaArray"},"not":{"$ref":"#"}},"default":{}}')},function(e,t,n){"use strict";n.r(t),n.d(t,"treeModeMixins",(function(){return R}));var i=n(13),r=n.n(i),o=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.locked=!1}var t;return(t=[{key:"highlight",value:function(e){this.locked||(this.node!==e&&(this.node&&this.node.setHighlight(!1),this.node=e,this.node.setHighlight(!0)),this._cancelUnhighlight())}},{key:"unhighlight",value:function(){var e;this.locked||(e=this).node&&(this._cancelUnhighlight(),this.unhighlightTimer=setTimeout((function(){e.node.setHighlight(!1),e.node=void 0,e.unhighlightTimer=void 0}),0))}},{key:"_cancelUnhighlight",value:function(){this.unhighlightTimer&&(clearTimeout(this.unhighlightTimer),this.unhighlightTimer=void 0)}},{key:"lock",value:function(){this.locked=!0}},{key:"unlock",value:function(){this.locked=!1}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),s=n(0),a=function(){function e(t){function n(e){return t.node.findNodeByInternalPath(e)}!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.history=[],this.index=-1,this.clear(),this.actions={editField:{undo:function(e){n(e.parentPath).childs[e.index].updateField(e.oldValue)},redo:function(e){n(e.parentPath).childs[e.index].updateField(e.newValue)}},editValue:{undo:function(e){n(e.path).updateValue(e.oldValue)},redo:function(e){n(e.path).updateValue(e.newValue)}},changeType:{undo:function(e){n(e.path).changeType(e.oldType)},redo:function(e){n(e.path).changeType(e.newType)}},appendNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath);e.nodes.forEach((function(e){t.appendChild(e)}))}},insertBeforeNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),i=n(e.beforePath);e.nodes.forEach((function(e){t.insertBefore(e,i)}))}},insertAfterNodes:{undo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),i=n(e.afterPath);e.nodes.forEach((function(e){t.insertAfter(e,i),i=e}))}},removeNodes:{undo:function(e){var t=n(e.parentPath),i=t.childs[e.index]||t.append;e.nodes.forEach((function(e){t.insertBefore(e,i)}))},redo:function(e){var t=n(e.parentPath);e.paths.map(n).forEach((function(e){t.removeChild(e)}))}},duplicateNodes:{undo:function(e){var t=n(e.parentPath);e.clonePaths.map(n).forEach((function(e){t.removeChild(e)}))},redo:function(e){var t=n(e.parentPath),i=n(e.afterPath);e.paths.map(n).forEach((function(e){var n,r=e.clone();"object"===t.type&&(n=t.getFieldNames(),r.field=Object(s.findUniqueName)(e.field,n)),t.insertAfter(r,i),i=r}))}},moveNodes:{undo:function(e){var t=n(e.oldParentPath),i=n(e.newParentPath),r=t.childs[e.oldIndex]||t.append;i.childs.slice(e.newIndex,e.newIndex+e.count).forEach((function(n,i){n.field=e.fieldNames[i],t.moveBefore(n,r)})),null===e.newParentPathRedo&&(e.newParentPathRedo=i.getInternalPath())},redo:function(e){var t=n(e.oldParentPathRedo),i=n(e.newParentPathRedo),r=i.childs[e.newIndexRedo]||i.append;t.childs.slice(e.oldIndexRedo,e.oldIndexRedo+e.count).forEach((function(t,n){t.field=e.fieldNames[n],i.moveBefore(t,r)}))}},sort:{undo:function(e){var t=n(e.path);t.hideChilds(),t.childs=e.oldChilds,t.updateDom({updateIndexes:!0}),t.showChilds()},redo:function(e){var t=n(e.path);t.hideChilds(),t.childs=e.newChilds,t.updateDom({updateIndexes:!0}),t.showChilds()}},transform:{undo:function(e){n(e.path).setInternalValue(e.oldValue)},redo:function(e){n(e.path).setInternalValue(e.newValue)}}}}var t;return(t=[{key:"onChange",value:function(){}},{key:"add",value:function(e,t){this.index++,this.history[this.index]={action:e,params:t,timestamp:new Date},this.index<this.history.length-1&&this.history.splice(this.index+1,this.history.length-this.index-1),this.onChange()}},{key:"clear",value:function(){this.history=[],this.index=-1,this.onChange()}},{key:"canUndo",value:function(){return 0<=this.index}},{key:"canRedo",value:function(){return this.index<this.history.length-1}},{key:"undo",value:function(){if(this.canUndo()){var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.undo){if(t.undo(e.params),e.params.oldSelection)try{this.editor.setDomSelection(e.params.oldSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.index--,this.onChange()}}},{key:"redo",value:function(){if(this.canRedo()){this.index++;var e=this.history[this.index];if(e){var t=this.actions[e.action];if(t&&t.redo){if(t.redo(e.params),e.params.newSelection)try{this.editor.setDomSelection(e.params.newSelection)}catch(e){console.error(e)}}else console.error(new Error('unknown action "'+e.action+'"'))}this.onChange()}}},{key:"destroy",value:function(){this.editor=null,this.history=[],this.index=-1}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),l=n(1),c=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var i=this;this.editor=t,this.timeout=void 0,this.delay=200,this.lastText=void 0,this.results=null,this.dom={},this.dom.container=n;var r=document.createElement("div");(this.dom.wrapper=r).className="jsoneditor-search",n.appendChild(r);var o=document.createElement("div");(this.dom.results=o).className="jsoneditor-results",r.appendChild(o);var s=document.createElement("div");(this.dom.input=s).className="jsoneditor-frame",s.title=Object(l.c)("searchTitle"),r.appendChild(s);var a=document.createElement("button");a.type="button",a.className="jsoneditor-refresh",s.appendChild(a);var c=document.createElement("input");c.type="text",(this.dom.search=c).oninput=function(e){i._onDelayedSearch(e)},c.onchange=function(e){i._onSearch()},c.onkeydown=function(e){i._onKeyDown(e)},c.onkeyup=function(e){i._onKeyUp(e)},a.onclick=function(e){c.select()},s.appendChild(c);var h=document.createElement("button");h.type="button",h.title=Object(l.c)("searchNextResultTitle"),h.className="jsoneditor-next",h.onclick=function(){i.next()},s.appendChild(h);var d=document.createElement("button");d.type="button",d.title=Object(l.c)("searchPreviousResultTitle"),d.className="jsoneditor-previous",d.onclick=function(){i.previous()},s.appendChild(d)}var t;return(t=[{key:"next",value:function(e){var t;this.results&&((t=null!==this.resultIndex?this.resultIndex+1:0)>this.results.length-1&&(t=0),this._setActiveResult(t,e))}},{key:"previous",value:function(e){var t,n;this.results&&(t=this.results.length-1,(n=null!==this.resultIndex?this.resultIndex-1:t)<0&&(n=t),this._setActiveResult(n,e))}},{key:"_setActiveResult",value:function(e,t){var n;if(this.activeResult&&(n=this.activeResult.node,"field"===this.activeResult.elem?delete n.searchFieldActive:delete n.searchValueActive,n.updateDom()),!this.results||!this.results[e])return this.resultIndex=void 0,void(this.activeResult=void 0);this.resultIndex=e;var i=this.results[this.resultIndex].node,r=this.results[this.resultIndex].elem;"field"===r?i.searchFieldActive=!0:i.searchValueActive=!0,this.activeResult=this.results[this.resultIndex],i.updateDom(),i.scrollTo((function(){t&&i.focus(r)}))}},{key:"_clearDelay",value:function(){void 0!==this.timeout&&(clearTimeout(this.timeout),delete this.timeout)}},{key:"_onDelayedSearch",value:function(){this._clearDelay();var e=this;this.timeout=setTimeout((function(t){e._onSearch()}),this.delay)}},{key:"_onSearch",value:function(e){this._clearDelay();var t=this.dom.search.value,n=0<t.length?t:void 0;if(n!==this.lastText||e){this.lastText=n,this.results=this.editor.search(n);var i,r=this.results[0]?this.results[0].node.MAX_SEARCH_RESULTS:1/0,o=0;if(this.activeResult)for(var s=0;s<this.results.length;s++)if(this.results[s].node===this.activeResult.node){o=s;break}this._setActiveResult(o,!1),this.dom.results.textContent=void 0!==n?0===(i=this.results.length)?"no\xa0results":1===i?"1\xa0result":r<i?r+"+\xa0results":i+"\xa0results":""}}},{key:"_onKeyDown",value:function(e){var t=e.which;27===t?(this.dom.search.value="",this._onSearch(),e.preventDefault(),e.stopPropagation()):13===t&&(e.ctrlKey?this._onSearch(!0):e.shiftKey?this.previous():this.next(),e.preventDefault(),e.stopPropagation())}},{key:"_onKeyUp",value:function(e){var t=e.keyCode;27!==t&&13!==t&&this._onDelayedSearch(e)}},{key:"clear",value:function(){this.dom.search.value="",this._onSearch()}},{key:"forceSearch",value:function(){this._onSearch(!0)}},{key:"isEmpty",value:function(){return""===this.dom.search.value}},{key:"destroy",value:function(){this.editor=null,this.dom.container.removeChild(this.dom.wrapper),this.dom=null,this.results=null,this.activeResult=null,this._clearDelay()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),h=n(3),d=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),t&&(this.root=n,this.path=document.createElement("div"),this.path.className="jsoneditor-treepath",this.path.setAttribute("tabindex",0),this.contentMenuClicked=!1,t.appendChild(this.path),this.reset())}var t;return(t=[{key:"reset",value:function(){this.path.textContent=Object(l.c)("selectNode")}},{key:"setPath",value:function(e){var t=this;this.path.textContent="",e&&e.length&&e.forEach((function(n,i){var r,o,a,l=document.createElement("span");l.className="jsoneditor-treepath-element",l.innerText=n.name,l.onclick=(function(e){this.selectionCallback&&this.selectionCallback(e)}).bind(t,n),t.path.appendChild(l),n.children.length&&((r=document.createElement("span")).className="jsoneditor-treepath-seperator",r.textContent="\u25ba",r.onclick=function(){t.contentMenuClicked=!0;var o=[];n.children.forEach((function(r){o.push({text:r.name,className:"jsoneditor-type-modes"+(e[i+1]+1&&e[i+1].name===r.name?" jsoneditor-selected":""),click:(function(e,t){this.contextMenuCallback&&this.contextMenuCallback(e,t)}).bind(t,n,r.name)})})),new h.a(o).show(r,t.root,!0)},t.path.appendChild(r)),i===e.length-1&&(o=(r||l).getBoundingClientRect().right,t.path.offsetWidth<o&&(t.path.scrollLeft=o),t.path.scrollLeft&&((a=document.createElement("span")).className="jsoneditor-treepath-show-all-btn",a.title="show all path",a.textContent="...",a.onclick=(function(e){t.contentMenuClicked=!1,Object(s.addClassName)(t.path,"show-all"),t.path.style.width=t.path.parentNode.getBoundingClientRect().width-10+"px",t.path.onblur=function(){if(t.contentMenuClicked)return t.contentMenuClicked=!1,void t.path.focus();Object(s.removeClassName)(t.path,"show-all"),t.path.onblur=void 0,t.path.style.width="",t.setPath(e)}}).bind(t,e),t.path.insertBefore(a,t.path.firstChild)))}))}},{key:"onSectionSelected",value:function(e){"function"==typeof e&&(this.selectionCallback=e)}},{key:"onContextMenuItemSelected",value:function(e){"function"==typeof e&&(this.contextMenuCallback=e)}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),u=n(11),p=n.n(u),g=n(12),f=n(5),m=n(6),v=n(2);function y(e){return(y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var b=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.editor=t,this.dom={},this.expanded=!1,n&&n instanceof Object?(this.setField(n.field,n.fieldEditable),"value"in n&&this.setValue(n.value,n.type),"internalValue"in n&&this.setInternalValue(n.internalValue)):(this.setField(""),this.setValue(null)),this._debouncedOnChangeValue=Object(s.debounce)(this._onChangeValue.bind(this),e.prototype.DEBOUNCE_INTERVAL),this._debouncedOnChangeField=Object(s.debounce)(this._onChangeField.bind(this),e.prototype.DEBOUNCE_INTERVAL),this.visibleChilds=this.getMaxVisibleChilds()}var t;return(t=[{key:"getMaxVisibleChilds",value:function(){return this.editor&&this.editor.options&&this.editor.options.maxVisibleChilds?this.editor.options.maxVisibleChilds:C}},{key:"_updateEditability",value:function(){var e;this.editable={field:!0,value:!0},this.editor&&(this.editable.field="tree"===this.editor.options.mode,this.editable.value="view"!==this.editor.options.mode,"tree"!==this.editor.options.mode&&"form"!==this.editor.options.mode||"function"!=typeof this.editor.options.onEditable||("boolean"==typeof(e=this.editor.options.onEditable({field:this.field,value:this.value,path:this.getPath()}))?(this.editable.field=e,this.editable.value=e):("boolean"==typeof e.field&&(this.editable.field=e.field),"boolean"==typeof e.value&&(this.editable.value=e.value))))}},{key:"getPath",value:function(){for(var e=this,t=[];e;){var n=e.getName();void 0!==n&&t.unshift(n),e=e.parent}return t}},{key:"getInternalPath",value:function(){for(var e=this,t=[];e;)e.parent&&t.unshift(e.getIndex()),e=e.parent;return t}},{key:"getName",value:function(){return this.parent?"array"!==this.parent.type?this.field:this.index:void 0}},{key:"findNodeByPath",value:function(e){if(e){if(0===e.length)return this;if(e.length&&this.childs&&this.childs.length)for(var t=0;t<this.childs.length;++t)if(""+e[0]==""+this.childs[t].getName())return this.childs[t].findNodeByPath(e.slice(1))}}},{key:"findNodeByInternalPath",value:function(e){if(e){for(var t=this,n=0;n<e.length&&t;n++)t=t.childs[e[n]];return t}}},{key:"serialize",value:function(){return{value:this.getValue(),path:this.getPath()}}},{key:"findNode",value:function(e){for(var t=Object(s.parsePath)(e),n=this;n&&0<t.length;)!function(){var e=t.shift();if("number"==typeof e){if("array"!==n.type)throw new Error("Cannot get child node at index "+e+": node is no array");n=n.childs[e]}else{if("object"!==n.type)throw new Error("Cannot get child node "+e+": node is no object");n=n.childs.filter((function(t){return t.field===e}))[0]}}();return n}},{key:"findParents",value:function(){for(var e=[],t=this.parent;t;)e.unshift(t),t=t.parent;return e}},{key:"setError",value:function(e,t){this.error=e,this.errorChild=t,this.dom&&this.dom.tr&&this.updateError()}},{key:"updateError",value:function(){var e=this,t=this.fieldError||this.valueError||this.error,n=this.dom.tdError;if(t&&this.dom&&this.dom.tr){Object(s.addClassName)(this.dom.tr,"jsoneditor-validation-error"),n||(n=document.createElement("td"),this.dom.tdError=n,this.dom.tdValue.parentNode.appendChild(n));var i=document.createElement("button");i.type="button",i.className="jsoneditor-button jsoneditor-schema-error";var r=function(){e.dom.popupAnchor&&e.dom.popupAnchor.destroy()},o=function(){delete e.dom.popupAnchor},a=function(n){var r=e.editor.frame;e.dom.popupAnchor=Object(g.a)(i,e.editor.getPopupAnchor(),o,n);var s=i.getBoundingClientRect(),a=120<r.getBoundingClientRect().width-s.x?"jsoneditor-above":"jsoneditor-left",l=document.createElement("div");l.className="jsoneditor-popover "+a,l.appendChild(document.createTextNode(t.message)),e.dom.popupAnchor.appendChild(l)};i.onmouseover=function(){e.dom.popupAnchor||a(!0)},i.onfocus=function(){r(),a(!1)},i.onblur=function(){r()};var l=this.errorChild;for(l&&(i.onclick=function(){l.findParents().forEach((function(e){e.expand(!1)})),l.scrollTo((function(){l.focus()}))});n.firstChild;)n.removeChild(n.firstChild);n.appendChild(i)}else this.dom.tr&&Object(s.removeClassName)(this.dom.tr,"jsoneditor-validation-error"),n&&(this.dom.tdError.parentNode.removeChild(this.dom.tdError),delete this.dom.tdError)}},{key:"getIndex",value:function(){if(this.parent){var e=this.parent.childs.indexOf(this);return-1!==e?e:null}return-1}},{key:"setParent",value:function(e){this.parent=e}},{key:"setField",value:function(e,t){this.field=e,this.previousField=e,this.fieldEditable=!0===t}},{key:"getField",value:function(){return void 0===this.field&&this._getDomField(),this.field}},{key:"setValue",value:function(t,n){var i,r,o,s,a,l,c,h,d=this.childs;if(this.type=this._getType(t),n&&n!==this.type){if("string"!==n||"auto"!==this.type)throw new Error('Type mismatch: cannot cast value of type "'+this.type+' to the specified type "'+n+'"');this.type=n}if("array"===this.type){for(this.childs||(this.childs=[]),r=0;r<t.length;r++)void 0===(a=t[r])||a instanceof Function||(r<this.childs.length?((i=this.childs[r]).fieldEditable=!1,i.index=r,i.setValue(a)):(i=new e(this.editor,{value:a}),s=r<this.getMaxVisibleChilds(),this.appendChild(i,s,!1)));for(o=this.childs.length;o>=t.length;o--)this.removeChild(this.childs[o],!1)}else if("object"===this.type){for(this.childs||(this.childs=[]),o=this.childs.length-1;0<=o;o--)x(t,this.childs[o].field)||this.removeChild(this.childs[o],!1);for(var u in r=0,t)x(t,u)&&(void 0===(a=t[u])||a instanceof Function||((l=this.findChildByProperty(u))?(l.setField(u,!0),l.setValue(a)):(c=new e(this.editor,{field:u,value:a}),h=r<this.getMaxVisibleChilds(),this.appendChild(c,h,!1))),r++);!(this.value="")===this.editor.options.sortObjectKeys&&this.sort([],"asc",!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t;Array.isArray(d)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"setInternalValue",value:function(t){var n,i,r,o,s,a=this.childs;if(this.type=t.type,"array"===t.type){for(this.childs||(this.childs=[]),o=0;o<t.childs.length;o++)void 0===(n=t.childs[o])||n instanceof Function||(o<this.childs.length?((i=this.childs[o]).fieldEditable=!1,i.index=o,i.setInternalValue(n)):(i=new e(this.editor,{internalValue:n}),r=o<this.getMaxVisibleChilds(),this.appendChild(i,r,!1)));for(s=this.childs.length;s>=t.childs.length;s--)this.removeChild(this.childs[s],!1)}else if("object"===t.type){for(this.childs||(this.childs=[]),o=0;o<t.childs.length;o++)void 0===(n=t.childs[o])||n instanceof Function||(o<this.childs.length?(delete(i=this.childs[o]).index,i.setField(n.field,!0),i.setInternalValue(n.value)):(i=new e(this.editor,{field:n.field,internalValue:n.value}),r=o<this.getMaxVisibleChilds(),this.appendChild(i,r,!1)));for(s=this.childs.length;s>=t.childs.length;s--)this.removeChild(this.childs[s],!1)}else this.hideChilds(),delete this.append,delete this.showMore,delete this.expanded,delete this.childs,this.value=t.value;Array.isArray(a)!==Array.isArray(this.childs)&&this.recreateDom(),this.updateDom({updateIndexes:!0}),this.previousValue=this.value}},{key:"recreateDom",value:function(){var e;this.dom&&this.dom.tr&&this.dom.tr.parentNode?(e=this._detachFromDom(),this.clearDom(),this._attachToDom(e)):this.clearDom()}},{key:"getValue",value:function(){if("array"===this.type){var e=[];return this.childs.forEach((function(t){e.push(t.getValue())})),e}if("object"!==this.type)return void 0===this.value&&this._getDomValue(),this.value;var t={};return this.childs.forEach((function(e){t[e.getField()]=e.getValue()})),t}},{key:"getInternalValue",value:function(){return"array"===this.type?{type:this.type,childs:this.childs.map((function(e){return e.getInternalValue()}))}:"object"===this.type?{type:this.type,childs:this.childs.map((function(e){return{field:e.getField(),value:e.getInternalValue()}}))}:(void 0===this.value&&this._getDomValue(),{type:this.type,value:this.value})}},{key:"getLevel",value:function(){return this.parent?this.parent.getLevel()+1:0}},{key:"getNodePath",value:function(){var e=this.parent?this.parent.getNodePath():[];return e.push(this),e}},{key:"clone",value:function(){var t,n=new e(this.editor);return n.type=this.type,n.field=this.field,n.fieldInnerText=this.fieldInnerText,n.fieldEditable=this.fieldEditable,n.previousField=this.previousField,n.value=this.value,n.valueInnerText=this.valueInnerText,n.previousValue=this.previousValue,n.expanded=this.expanded,n.visibleChilds=this.visibleChilds,this.childs?(t=[],this.childs.forEach((function(e){var i=e.clone();i.setParent(n),t.push(i)})),n.childs=t):n.childs=void 0,n}},{key:"expand",value:function(e){this.childs&&(this.expanded=!0,this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-expanded"),this.showChilds(),!1!==e&&this.childs.forEach((function(t){t.expand(e)})),this.updateDom({recurse:!1}))}},{key:"collapse",value:function(e){this.childs&&(this.hideChilds(),!1!==e&&this.childs.forEach((function(t){t.collapse(e)})),this.dom.expand&&(this.dom.expand.className="jsoneditor-button jsoneditor-collapsed"),this.expanded=!1,this.updateDom({recurse:!1}))}},{key:"showChilds",value:function(){if(this.childs&&this.expanded){var e=this.dom.tr,t=e?e.parentNode:void 0;if(t){var n=this.getAppendDom();n.parentNode||((r=e.nextSibling)?t.insertBefore(n,r):t.appendChild(n));for(var i=Math.min(this.childs.length,this.visibleChilds),r=this._getNextTr(),o=0;o<i;o++){var s=this.childs[o];s.getDom().parentNode||t.insertBefore(s.getDom(),r),s.showChilds()}var a=this.getShowMoreDom();r=this._getNextTr(),a.parentNode||t.insertBefore(a,r),this.showMore.updateDom()}}}},{key:"_getNextTr",value:function(){return this.showMore&&this.showMore.getDom().parentNode?this.showMore.getDom():this.append&&this.append.getDom().parentNode?this.append.getDom():void 0}},{key:"hide",value:function(e){var t=this.dom.tr,n=t?t.parentNode:void 0;n&&n.removeChild(t),this.dom.popupAnchor&&this.dom.popupAnchor.destroy(),this.hideChilds(e)}},{key:"hideChilds",value:function(e){var t,n;this.childs&&this.expanded&&((t=this.getAppendDom()).parentNode&&t.parentNode.removeChild(t),this.childs.forEach((function(e){e.hide()})),(n=this.getShowMoreDom()).parentNode&&n.parentNode.removeChild(n),e&&!e.resetVisibleChilds||(this.visibleChilds=this.getMaxVisibleChilds()))}},{key:"_updateCssClassName",value:function(){var e;this.dom.field&&this.editor&&this.editor.options&&"function"==typeof this.editor.options.onClassName&&this.dom.tree&&(Object(s.removeAllClassNames)(this.dom.tree),e=this.editor.options.onClassName({path:this.getPath(),field:this.field,value:this.value})||"",Object(s.addClassName)(this.dom.tree,"jsoneditor-values "+e))}},{key:"recursivelyUpdateCssClassesOnNodes",value:function(){if(this._updateCssClassName(),Array.isArray(this.childs))for(var e=0;e<this.childs.length;e++)this.childs[e].recursivelyUpdateCssClassesOnNodes()}},{key:"expandTo",value:function(){for(var e=this.parent;e;)e.expanded||e.expand(),e=e.parent}},{key:"appendChild",value:function(e,t,n){var i,r,o;this._hasChilds()&&(e.setParent(this),e.fieldEditable="object"===this.type,"array"===this.type&&(e.index=this.childs.length),"object"===this.type&&void 0===e.field&&e.setField(""),this.childs.push(e),this.expanded&&!1!==t&&(i=e.getDom(),o=(r=this._getNextTr())?r.parentNode:void 0,r&&o&&o.insertBefore(i,r),e.showChilds(),this.visibleChilds++),!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0})))}},{key:"moveBefore",value:function(e,t,n){var i,r;this._hasChilds()&&((i=this.dom.tr?this.dom.tr.parentNode:void 0)&&((r=document.createElement("tr")).style.height=i.clientHeight+"px",i.appendChild(r)),e.parent&&e.parent.removeChild(e),t instanceof I||!t?this.childs.length+1>this.visibleChilds?this.insertBefore(e,this.childs[this.visibleChilds-1],n):this.appendChild(e,!0,n):this.insertBefore(e,t,n),i&&i.removeChild(r))}},{key:"insertBefore",value:function(e,t,n){if(this._hasChilds()){if(this.visibleChilds++,"object"===this.type&&void 0===e.field&&e.setField(""),t===this.append)e.setParent(this),e.fieldEditable="object"===this.type,this.childs.push(e);else{var i=this.childs.indexOf(t);if(-1===i)throw new Error("Node not found");e.setParent(this),e.fieldEditable="object"===this.type,this.childs.splice(i,0,e)}var r,o,s;this.expanded&&(r=e.getDom(),s=(o=t.getDom())?o.parentNode:void 0,o&&s&&s.insertBefore(r,o),e.showChilds(),this.showChilds()),!1!==n&&(this.updateDom({updateIndexes:!0}),e.updateDom({recurse:!0}))}}},{key:"insertAfter",value:function(e,t){var n,i;this._hasChilds()&&(n=this.childs.indexOf(t),(i=this.childs[n+1])?this.insertBefore(e,i):this.appendChild(e))}},{key:"search",value:function(e,t){Array.isArray(t)||(t=[]);var n=e?e.toLowerCase():void 0;return delete this.searchField,delete this.searchValue,void 0!==this.field&&t.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.field).toLowerCase().indexOf(n)&&(this.searchField=!0,t.push({node:this,elem:"field"})),this._updateDomField()),this._hasChilds()?this.childs&&this.childs.forEach((function(n){n.search(e,t)})):void 0!==this.value&&t.length<=this.MAX_SEARCH_RESULTS&&(-1!==String(this.value).toLowerCase().indexOf(n)&&(this.searchValue=!0,t.push({node:this,elem:"value"})),this._updateDomValue()),t}},{key:"scrollTo",value:function(e){this.expandPathToNode(),this.dom.tr&&this.dom.tr.parentNode&&this.editor.scrollTo(this.dom.tr.offsetTop,e)}},{key:"expandPathToNode",value:function(){for(var e=this;e&&e.parent;){for(var t="array"===e.parent.type?e.index:e.parent.childs.indexOf(e);e.parent.visibleChilds<t+1;)e.parent.visibleChilds+=this.getMaxVisibleChilds();e.parent.expand(!1),e=e.parent}}},{key:"focus",value:function(t){if(e.focusElement=t,this.dom.tr&&this.dom.tr.parentNode){var n=this.dom;switch(t){case"drag":n.drag?n.drag.focus():n.menu.focus();break;case"menu":n.menu.focus();break;case"expand":this._hasChilds()?n.expand.focus():n.field&&this.fieldEditable?(n.field.focus(),Object(s.selectContentEditable)(n.field)):n.value&&!this._hasChilds()?(n.value.focus(),Object(s.selectContentEditable)(n.value)):n.menu.focus();break;case"field":n.field&&this.fieldEditable?(n.field.focus(),Object(s.selectContentEditable)(n.field)):n.value&&!this._hasChilds()?(n.value.focus(),Object(s.selectContentEditable)(n.value)):this._hasChilds()?n.expand.focus():n.menu.focus();break;case"value":default:n.select?n.select.focus():n.value&&!this._hasChilds()?(n.value.focus(),Object(s.selectContentEditable)(n.value)):n.field&&this.fieldEditable?(n.field.focus(),Object(s.selectContentEditable)(n.field)):this._hasChilds()?n.expand.focus():n.menu.focus()}}}},{key:"containsNode",value:function(e){if(this===e)return!0;var t=this.childs;if(t)for(var n=0,i=t.length;n<i;n++)if(t[n].containsNode(e))return!0;return!1}},{key:"removeChild",value:function(e,t){if(this.childs){var n=this.childs.indexOf(e);if(-1!==n){n<this.visibleChilds&&this.expanded&&this.visibleChilds--,e.hide(),delete e.searchField,delete e.searchValue;var i=this.childs.splice(n,1)[0];return i.parent=null,!1!==t&&this.updateDom({updateIndexes:!0}),i}}}},{key:"_remove",value:function(e){this.removeChild(e)}},{key:"changeType",value:function(e){var t,n=this.type;n!==e&&("string"!==e&&"auto"!==e||"string"!==n&&"auto"!==n?(t=this._detachFromDom(),this.clearDom(),"object"===(this.type=e)?(this.childs||(this.childs=[]),this.childs.forEach((function(e){e.clearDom(),delete e.index,e.fieldEditable=!0,void 0===e.field&&(e.field="")})),"string"!==n&&"auto"!==n||(this.expanded=!0)):"array"===e?(this.childs||(this.childs=[]),this.childs.forEach((function(e,t){e.clearDom(),e.fieldEditable=!1,e.index=t})),"string"!==n&&"auto"!==n||(this.expanded=!0)):this.expanded=!1,this._attachToDom(t)):this.type=e,"auto"!==e&&"string"!==e||(this.value="string"===e?String(this.value):Object(s.parseString)(String(this.value)),this.focus()),this.updateDom({updateIndexes:!0}))}},{key:"deepEqual",value:function(e){var t;if("array"===this.type){if(!Array.isArray(e))return!1;if(this.childs.length!==e.length)return!1;for(t=0;t<this.childs.length;t++)if(!this.childs[t].deepEqual(e[t]))return!1}else if("object"===this.type){if("object"!==y(e)||!e)return!1;var n=Object.keys(e);if(this.childs.length!==n.length)return!1;for(t=0;t<n.length;t++){var i=this.childs[t];if(i.field!==n[t]||!i.deepEqual(e[i.field]))return!1}}else if(this.value!==e)return!1;return!0}},{key:"_getDomValue",value:function(){if(this._clearValueError(),this.dom.value&&"array"!==this.type&&"object"!==this.type&&(this.valueInnerText=Object(s.getInnerText)(this.dom.value),""===this.valueInnerText&&""!==this.dom.value.innerHTML&&(this.dom.value.textContent="")),void 0!==this.valueInnerText)try{var e,t;(t="string"===this.type?this._unescapeHTML(this.valueInnerText):(e=this._unescapeHTML(this.valueInnerText),Object(s.parseString)(e)))!==this.value&&(this.value=t,this._debouncedOnChangeValue())}catch(e){this._setValueError(Object(l.c)("cannotParseValueError"))}}},{key:"_setValueError",value:function(e){this.valueError={message:e},this.updateError()}},{key:"_clearValueError",value:function(){this.valueError&&(this.valueError=null,this.updateError())}},{key:"_setFieldError",value:function(e){this.fieldError={message:e},this.updateError()}},{key:"_clearFieldError",value:function(){this.fieldError&&(this.fieldError=null,this.updateError())}},{key:"_onChangeValue",value:function(){var e,t=this.editor.getDomSelection();t.range&&(e=Object(s.textDiff)(String(this.value),String(this.previousValue)),t.range.startOffset=e.start,t.range.endOffset=e.end);var n,i=this.editor.getDomSelection();i.range&&(n=Object(s.textDiff)(String(this.previousValue),String(this.value)),i.range.startOffset=n.start,i.range.endOffset=n.end),this.editor._onAction("editValue",{path:this.getInternalPath(),oldValue:this.previousValue,newValue:this.value,oldSelection:t,newSelection:i}),this.previousValue=this.value}},{key:"_onChangeField",value:function(){var e,t=this.editor.getDomSelection(),n=this.previousField||"";t.range&&(e=Object(s.textDiff)(this.field,n),t.range.startOffset=e.start,t.range.endOffset=e.end);var i,r=this.editor.getDomSelection();r.range&&(i=Object(s.textDiff)(n,this.field),r.range.startOffset=i.start,r.range.endOffset=i.end),this.editor._onAction("editField",{parentPath:this.parent.getInternalPath(),index:this.getIndex(),oldValue:this.previousField,newValue:this.field,oldSelection:t,newSelection:r}),this.previousField=this.field}},{key:"_updateDomValue",value:function(){var e=this.dom.value;if(e){var t=["jsoneditor-value"],n=this.value,i="auto"===this.type?Object(s.getType)(n):this.type,r="string"===i&&Object(s.isUrl)(n);if(t.push("jsoneditor-"+i),r&&t.push("jsoneditor-url"),""===String(this.value)&&"array"!==this.type&&"object"!==this.type&&t.push("jsoneditor-empty"),this.searchValueActive&&t.push("jsoneditor-highlight-active"),this.searchValue&&t.push("jsoneditor-highlight"),e.className=t.join(" "),e.title="array"===i||"object"===i?this.type+" containing "+(this.childs?this.childs.length:0)+" items":r&&this.editable.value?Object(l.c)("openUrl"):"","boolean"===i&&this.editable.value?(this.dom.checkbox||(this.dom.checkbox=document.createElement("input"),this.dom.checkbox.type="checkbox",this.dom.tdCheckbox=document.createElement("td"),this.dom.tdCheckbox.className="jsoneditor-tree",this.dom.tdCheckbox.appendChild(this.dom.checkbox),this.dom.tdValue.parentNode.insertBefore(this.dom.tdCheckbox,this.dom.tdValue)),this.dom.checkbox.checked=this.value):this.dom.tdCheckbox&&(this.dom.tdCheckbox.parentNode.removeChild(this.dom.tdCheckbox),delete this.dom.tdCheckbox,delete this.dom.checkbox),this.enum&&this.editable.value){if(!this.dom.select){this.dom.select=document.createElement("select"),this.id=this.field+"_"+(new Date).getUTCMilliseconds(),this.dom.select.id=this.id,this.dom.select.name=this.dom.select.id,this.dom.select.option=document.createElement("option"),this.dom.select.option.value="",this.dom.select.option.textContent="--",this.dom.select.appendChild(this.dom.select.option);for(var o=0;o<this.enum.length;o++)this.dom.select.option=document.createElement("option"),this.dom.select.option.value=this.enum[o],this.dom.select.option.textContent=this.enum[o],this.dom.select.option.value===this.value&&(this.dom.select.option.selected=!0),this.dom.select.appendChild(this.dom.select.option);this.dom.tdSelect=document.createElement("td"),this.dom.tdSelect.className="jsoneditor-tree",this.dom.tdSelect.appendChild(this.dom.select),this.dom.tdValue.parentNode.insertBefore(this.dom.tdSelect,this.dom.tdValue)}!this.schema||x(this.schema,"oneOf")||x(this.schema,"anyOf")||x(this.schema,"allOf")?delete this.valueFieldHTML:(this.valueFieldHTML=this.dom.tdValue.innerHTML,this.dom.tdValue.style.visibility="hidden",this.dom.tdValue.textContent="")}else this.dom.tdSelect&&(this.dom.tdSelect.parentNode.removeChild(this.dom.tdSelect),delete this.dom.tdSelect,delete this.dom.select,this.dom.tdValue.innerHTML=this.valueFieldHTML,this.dom.tdValue.style.visibility="",delete this.valueFieldHTML);if(this.editable.value&&this.editor.options.colorPicker&&"string"==typeof n&&Object(s.isValidColor)(n)?(this.dom.color||(this.dom.color=document.createElement("div"),this.dom.color.className="jsoneditor-color",this.dom.tdColor=document.createElement("td"),this.dom.tdColor.className="jsoneditor-tree",this.dom.tdColor.appendChild(this.dom.color),this.dom.tdValue.parentNode.insertBefore(this.dom.tdColor,this.dom.tdValue)),Object(s.addClassName)(this.dom.value,"jsoneditor-color-value"),this.dom.color.style.backgroundColor=n):this._deleteDomColor(),this._showTimestampTag()){this.dom.date||(this.dom.date=document.createElement("div"),this.dom.date.className="jsoneditor-date",this.dom.value.parentNode.appendChild(this.dom.date));var a=null;if("function"==typeof this.editor.options.timestampFormat&&(a=this.editor.options.timestampFormat({field:this.field,value:this.value,path:this.getPath()})),a){for(;this.dom.date.firstChild;)this.dom.date.removeChild(this.dom.date.firstChild);this.dom.date.appendChild(document.createTextNode(a))}else this.dom.date.textContent=new Date(n).toISOString();this.dom.date.title=new Date(n).toString()}else this.dom.date&&(this.dom.date.parentNode.removeChild(this.dom.date),delete this.dom.date);Object(s.stripFormatting)(e),this._updateDomDefault()}}},{key:"_deleteDomColor",value:function(){this.dom.color&&(this.dom.tdColor.parentNode.removeChild(this.dom.tdColor),delete this.dom.tdColor,delete this.dom.color,Object(s.removeClassName)(this.dom.value,"jsoneditor-color-value"))}},{key:"_updateDomField",value:function(){var e,t=this.dom.field;t&&((e=Object(s.makeFieldTooltip)(this.schema,this.editor.options.language))&&(t.title=e),(""===String(this.field)&&this.parent&&"array"!==this.parent.type?Object(s.addClassName):Object(s.removeClassName))(t,"jsoneditor-empty"),Object(this.searchFieldActive?s.addClassName:s.removeClassName)(t,"jsoneditor-highlight-active"),Object(this.searchField?s.addClassName:s.removeClassName)(t,"jsoneditor-highlight"),Object(s.stripFormatting)(t))}},{key:"_getDomField",value:function(e){if(this._clearFieldError(),this.dom.field&&this.fieldEditable&&(this.fieldInnerText=Object(s.getInnerText)(this.dom.field),""===this.fieldInnerText&&""!==this.dom.field.innerHTML&&(this.dom.field.textContent="")),void 0!==this.fieldInnerText)try{var t=this._unescapeHTML(this.fieldInnerText),n=this.parent.getFieldNames(this);-1!==n.indexOf(t)?e?(t=Object(s.findUniqueName)(t,n))!==this.field&&(this.field=t,this._debouncedOnChangeField()):this._setFieldError(Object(l.c)("duplicateFieldError")):t!==this.field&&(this.field=t,this._debouncedOnChangeField())}catch(e){this._setFieldError(Object(l.c)("cannotParseFieldError"))}}},{key:"_updateDomDefault",value:function(){var e;!this.schema||void 0===this.schema.default||this._hasChilds()||(e=this.dom.select?this.dom.select:this.dom.value)&&(this.value===this.schema.default?(e.title=Object(l.c)("default"),Object(s.addClassName)(e,"jsoneditor-is-default"),Object(s.removeClassName)(e,"jsoneditor-is-not-default")):(e.removeAttribute("title"),Object(s.removeClassName)(e,"jsoneditor-is-default"),Object(s.addClassName)(e,"jsoneditor-is-not-default")))}},{key:"_showTimestampTag",value:function(){if("number"!=typeof this.value)return!1;var e=this.editor.options.timestampTag;if("function"!=typeof e)return!0===e&&Object(s.isTimestamp)(this.field,this.value);var t=e({field:this.field,value:this.value,path:this.getPath()});return"boolean"==typeof t?t:Object(s.isTimestamp)(this.field,this.value)}},{key:"clearDom",value:function(){this.dom={}}},{key:"getDom",value:function(){var e,t,n,i,r=this.dom;if(r.tr)return r.tr;this._updateEditability(),r.tr=document.createElement("tr"),"tree"===(r.tr.node=this).editor.options.mode&&(e=document.createElement("td"),this.editable.field&&this.parent&&((t=document.createElement("button")).type="button",(r.drag=t).className="jsoneditor-button jsoneditor-dragarea",t.title=Object(l.c)("drag"),e.appendChild(t)),r.tr.appendChild(e),n=document.createElement("td"),(i=document.createElement("button")).type="button",(r.menu=i).className="jsoneditor-button jsoneditor-contextmenu-button",i.title=Object(l.c)("actionsMenu"),n.appendChild(r.menu),r.tr.appendChild(n));var o=document.createElement("td");return r.tr.appendChild(o),r.tree=this._createDomTree(),o.appendChild(r.tree),this.updateDom({updateIndexes:!0}),r.tr}},{key:"isVisible",value:function(){return this.dom&&this.dom.tr&&this.dom.tr.parentNode||!1}},{key:"isDescendantOf",value:function(e){for(var t=this.parent;t;){if(t===e)return!0;t=t.parent}return!1}},{key:"_createDomField",value:function(){return document.createElement("div")}},{key:"setHighlight",value:function(e){this.dom.tr&&(Object(e?s.addClassName:s.removeClassName)(this.dom.tr,"jsoneditor-highlight"),this.append&&this.append.setHighlight(e),this.childs&&this.childs.forEach((function(t){t.setHighlight(e)})))}},{key:"setSelected",value:function(e,t){this.selected=e,this.dom.tr&&(Object(e?s.addClassName:s.removeClassName)(this.dom.tr,"jsoneditor-selected"),Object(t?s.addClassName:s.removeClassName)(this.dom.tr,"jsoneditor-first"),this.append&&this.append.setSelected(e),this.showMore&&this.showMore.setSelected(e),this.childs&&this.childs.forEach((function(t){t.setSelected(e)})))}},{key:"updateValue",value:function(e){this.value=e,this.previousValue=e,this.valueError=void 0,this.updateDom()}},{key:"updateField",value:function(e){this.field=e,this.previousField=e,this.fieldError=void 0,this.updateDom()}},{key:"updateDom",value:function(t){var n=this.dom.tree;n&&(n.style.marginLeft=24*this.getLevel()+"px");var i,r,o,a=this.dom.field;a&&(this.fieldEditable?(a.contentEditable=this.editable.field,a.spellcheck=!1,a.className="jsoneditor-field"):(a.contentEditable=!1,a.className="jsoneditor-readonly"),r=void 0!==this.index?this.index:void 0!==this.field?this.field:(i=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):void 0)&&i.title?i.title:this._hasChilds()?this.type:"",o=this._escapeHTML(r),document.activeElement===a&&o===this._unescapeHTML(Object(s.getInnerText)(a))||(a.innerHTML=o),this._updateSchema());var l,c=this.dom.value;c&&("array"===this.type||"object"===this.type?this.updateNodeName():(l=this._escapeHTML(this.value),document.activeElement===c&&l===this._unescapeHTML(Object(s.getInnerText)(c))||(c.innerHTML=l)));var h=this.dom.tr;h&&("array"===this.type||"object"===this.type?(Object(s.addClassName)(h,"jsoneditor-expandable"),this.expanded?(Object(s.addClassName)(h,"jsoneditor-expanded"),Object(s.removeClassName)(h,"jsoneditor-collapsed")):(Object(s.addClassName)(h,"jsoneditor-collapsed"),Object(s.removeClassName)(h,"jsoneditor-expanded"))):(Object(s.removeClassName)(h,"jsoneditor-expandable"),Object(s.removeClassName)(h,"jsoneditor-expanded"),Object(s.removeClassName)(h,"jsoneditor-collapsed"))),this._updateDomField(),this._updateDomValue(),t&&!0===t.updateIndexes&&this._updateDomIndexes(),t&&!0===t.recurse&&this.childs&&this.childs.forEach((function(e){e.updateDom(t)})),this.error&&this.updateError(),this.append&&this.append.updateDom(),this.showMore&&this.showMore.updateDom(),this._updateCssClassName()}},{key:"_updateSchema",value:function(){this.editor&&this.editor.options&&(this.schema=this.editor.options.schema?e._findSchema(this.editor.options.schema,this.editor.options.schemaRefs||{},this.getPath()):null,this.schema?this.enum=e._findEnum(this.schema):delete this.enum)}},{key:"_updateDomIndexes",value:function(){var e=this.childs;this.dom.value&&e&&("array"===this.type?e.forEach((function(e,t){e.index=t;var n=e.dom.field;n&&(n.textContent=t)})):"object"===this.type&&e.forEach((function(e){void 0!==e.index&&(delete e.index,void 0===e.field&&(e.field=""))})))}},{key:"_createDomValue",value:function(){var e;return"array"===this.type?(e=document.createElement("div")).textContent="[...]":"object"===this.type?(e=document.createElement("div")).textContent="{...}":(!this.editable.value&&Object(s.isUrl)(this.value)?(e=document.createElement("a")).href=this.value:((e=document.createElement("div")).contentEditable=this.editable.value,e.spellcheck=!1),e.innerHTML=this._escapeHTML(this.value)),e}},{key:"_createDomExpandButton",value:function(){var e=document.createElement("button");return e.type="button",this._hasChilds()?(e.className=this.expanded?"jsoneditor-button jsoneditor-expanded":"jsoneditor-button jsoneditor-collapsed",e.title=Object(l.c)("expandTitle")):(e.className="jsoneditor-button jsoneditor-invisible",e.title=""),e}},{key:"_createDomTree",value:function(){var e=this.dom,t=document.createElement("table"),n=document.createElement("tbody");t.style.borderCollapse="collapse",t.className="jsoneditor-values",t.appendChild(n);var i=document.createElement("tr");n.appendChild(i);var r=document.createElement("td");r.className="jsoneditor-tree",i.appendChild(r),e.expand=this._createDomExpandButton(),r.appendChild(e.expand),e.tdExpand=r;var o=document.createElement("td");o.className="jsoneditor-tree",i.appendChild(o),e.field=this._createDomField(),o.appendChild(e.field),e.tdField=o;var s=document.createElement("td");s.className="jsoneditor-tree",i.appendChild(s),"object"!==this.type&&"array"!==this.type&&(s.appendChild(document.createTextNode(":")),s.className="jsoneditor-separator"),e.tdSeparator=s;var a=document.createElement("td");return a.className="jsoneditor-tree",i.appendChild(a),e.value=this._createDomValue(),a.appendChild(e.value),e.tdValue=a,t}},{key:"onEvent",value:function(e){var t,n=e.type,i=e.target||e.srcElement,r=this.dom,o=this,a=this._hasChilds();"function"==typeof this.editor.options.onEvent&&this._onEvent(e),i!==r.drag&&i!==r.menu||("mouseover"===n?this.editor.highlighter.highlight(this):"mouseout"===n&&this.editor.highlighter.unhighlight()),"click"===n&&i===r.menu&&((t=o.editor.highlighter).highlight(o),t.lock(),Object(s.addClassName)(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,(function(){Object(s.removeClassName)(r.menu,"jsoneditor-selected"),t.unlock(),t.unhighlight()}))),"click"===n&&i===r.expand&&a&&this._onExpand(e.ctrlKey),"click"!==n||e.target!==o.dom.tdColor&&e.target!==o.dom.color||this._showColorPicker(),"change"===n&&i===r.checkbox&&(this.dom.value.textContent=String(!this.value),this._getDomValue(),this._updateDomDefault()),"change"===n&&i===r.select&&(this.dom.value.innerHTML=this._escapeHTML(r.select.value),this._getDomValue(),this._updateDomValue());var l=r.value;if(i===l)switch(n){case"blur":case"change":this._getDomValue(),this._clearValueError(),this._updateDomValue();var c=this._escapeHTML(this.value);c!==this._unescapeHTML(Object(s.getInnerText)(l))&&(l.innerHTML=c);break;case"input":this._getDomValue(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"click":e.ctrlKey&&this.editable.value&&Object(s.isUrl)(this.value)&&(e.preventDefault(),window.open(this.value,"_blank","noopener"));break;case"keyup":this._getDomValue(),this._updateDomValue();break;case"cut":case"paste":setTimeout((function(){o._getDomValue(),o._updateDomValue()}),1)}var h=r.field;if(i===h)switch(n){case"blur":this._getDomField(!0),this._updateDomField();var d=this._escapeHTML(this.field);d!==this._unescapeHTML(Object(s.getInnerText)(h))&&(h.innerHTML=d);break;case"input":this._getDomField(),this._updateSchema(),this._updateDomField(),this._updateDomValue();break;case"keydown":case"mousedown":this.editor.selection=this.editor.getDomSelection();break;case"keyup":this._getDomField(),this._updateDomField();break;case"cut":case"paste":setTimeout((function(){o._getDomField(),o._updateDomField()}),1)}var u=r.tree;u&&i===u.parentNode&&"click"===n&&!e.hasMoved&&((void 0!==e.offsetX?e.offsetX<24*(this.getLevel()+1):e.pageX<Object(s.getAbsoluteLeft)(r.tdSeparator))||a?h&&(Object(s.setEndOfContentEditable)(h),h.focus()):l&&!this.enum&&(Object(s.setEndOfContentEditable)(l),l.focus())),(i!==r.tdExpand||a)&&i!==r.tdField&&i!==r.tdSeparator||"click"!==n||e.hasMoved||h&&(Object(s.setEndOfContentEditable)(h),h.focus()),"keydown"===n&&this.onKeyDown(e)}},{key:"_onEvent",value:function(e){var t,n=e.target;n!==this.dom.field&&n!==this.dom.value||(t={field:this.getField(),path:this.getPath()},this._hasChilds()||n!==this.dom.value||(t.value=this.getValue()),this.editor.options.onEvent(t,e))}},{key:"onKeyDown",value:function(t){var n,i,r,o,a,l,c,h,d,u,p,g,f,m,v,y,b,C,w,x,A=t.which||t.keyCode,k=t.target||t.srcElement,S=t.ctrlKey,E=t.shiftKey,O=t.altKey,P=!1,M="tree"===this.editor.options.mode,T=0<this.editor.multiselection.nodes.length?this.editor.multiselection.nodes:[this],R=T[0],D=T[T.length-1];13===A?k===this.dom.value?this.editable.value&&!t.ctrlKey||Object(s.isUrl)(this.value)&&(window.open(this.value,"_blank","noopener"),P=!0):k===this.dom.expand&&this._hasChilds()&&(this._onExpand(t.ctrlKey),k.focus(),P=!0):68===A?S&&M&&(e.onDuplicate(T),P=!0):69===A?S&&(this._onExpand(E),k.focus(),P=!0):77===A&&M?S&&(this.showContextMenu(k),P=!0):46===A&&M?S&&(e.onRemove(T),P=!0):45===A&&M?S&&!E?(this._onInsertBefore(),P=!0):S&&E&&(this._onInsertAfter(),P=!0):35===A?O&&((g=this._lastNode())&&g.focus(e.focusElement||this._getElementName(k)),P=!0):36===A?O&&((f=this._firstNode())&&f.focus(e.focusElement||this._getElementName(k)),P=!0):37===A?O&&!E?((m=this._previousElement(k))&&this.focus(this._getElementName(m)),P=!0):O&&E&&M&&(y=D.expanded?(v=D.getAppendDom())?v.nextSibling:void 0:D.getDom().nextSibling)&&(i=e.getNodeFromTarget(y),b=e.getNodeFromTarget(y.nextSibling),i&&i instanceof I&&1!==D.parent.childs.length&&b&&b.parent&&(r=this.editor.getDomSelection(),o=(a=R.parent).childs[D.getIndex()+1]||a.append,l=R.getIndex(),c=b.getIndex(),h=a.getInternalPath(),d=b.parent.getInternalPath(),T.forEach((function(e){b.parent.moveBefore(e,b)})),this.focus(e.focusElement||this._getElementName(k)),this.editor._onAction("moveNodes",{count:T.length,fieldNames:T.map(_),oldParentPath:a.getInternalPath(),newParentPath:R.parent.getInternalPath(),oldIndex:o.getIndex(),newIndex:R.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:h,newParentPathRedo:d,oldSelection:r,newSelection:this.editor.getDomSelection()}))):38===A?O&&!E?((n=this._previousNode())&&(this.editor.deselect(!0),n.focus(e.focusElement||this._getElementName(k))),P=!0):!O&&S&&E&&M?((n=this._previousNode())&&((p=this.editor.multiselection).start=p.start||this,p.end=n,u=this.editor._findTopLevelNodes(p.start,p.end),this.editor.select(u),n.focus("field")),P=!0):O&&E&&M&&((n=R._previousNode())&&n.parent&&(r=this.editor.getDomSelection(),o=(a=R.parent).childs[D.getIndex()+1]||a.append,l=R.getIndex(),c=n.getIndex(),h=a.getInternalPath(),d=n.parent.getInternalPath(),T.forEach((function(e){n.parent.moveBefore(e,n)})),this.focus(e.focusElement||this._getElementName(k)),this.editor._onAction("moveNodes",{count:T.length,fieldNames:T.map(_),oldParentPath:a.getInternalPath(),newParentPath:R.parent.getInternalPath(),oldIndex:o.getIndex(),newIndex:R.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:h,newParentPathRedo:d,oldSelection:r,newSelection:this.editor.getDomSelection()})),P=!0):39===A?O&&!E?((C=this._nextElement(k))&&this.focus(this._getElementName(C)),P=!0):O&&E&&M&&(w=R.getDom().previousSibling)&&(n=e.getNodeFromTarget(w))&&n.parent&&!n.isVisible()&&(r=this.editor.getDomSelection(),o=(a=R.parent).childs[D.getIndex()+1]||a.append,l=R.getIndex(),c=n.getIndex(),h=a.getInternalPath(),d=n.parent.getInternalPath(),T.forEach((function(e){n.parent.moveBefore(e,n)})),this.focus(e.focusElement||this._getElementName(k)),this.editor._onAction("moveNodes",{count:T.length,fieldNames:T.map(_),oldParentPath:a.getInternalPath(),newParentPath:R.parent.getInternalPath(),oldIndex:o.getIndex(),newIndex:R.getIndex(),oldIndexRedo:l,newIndexRedo:c,oldParentPathRedo:h,newParentPathRedo:d,oldSelection:r,newSelection:this.editor.getDomSelection()})):40===A&&(O&&!E?((i=this._nextNode())&&(this.editor.deselect(!0),i.focus(e.focusElement||this._getElementName(k))),P=!0):!O&&S&&E&&M?((i=this._nextNode())&&((p=this.editor.multiselection).start=p.start||this,p.end=i,u=this.editor._findTopLevelNodes(p.start,p.end),this.editor.select(u),i.focus("field")),P=!0):O&&E&&M&&((i=D.expanded?D.append?D.append._nextNode():void 0:D._nextNode())&&!i.isVisible()&&(i=i.parent.showMore),i&&i instanceof I&&(i=D),(x=i&&(i._nextNode()||i.parent.append))&&x.parent&&(r=this.editor.getDomSelection(),o=(a=R.parent).childs[D.getIndex()+1]||a.append,l=R.getIndex(),c=x.getIndex(),h=a.getInternalPath(),d=x.parent.getInternalPath(),T.forEach((function(e){x.parent.moveBefore(e,x)})),this.focus(e.focusElement||this._getElementName(k)),this.editor._onAction("moveNodes",{count:T.length,fieldNames:T.map(_),oldParentPath:a.getInternalPath(),newParentPath:R.parent.getInternalPath(),oldParentPathRedo:h,newParentPathRedo:d,oldIndexRedo:l,newIndexRedo:c,oldIndex:o.getIndex(),newIndex:R.getIndex(),oldSelection:r,newSelection:this.editor.getDomSelection()})),P=!0)),P&&(t.preventDefault(),t.stopPropagation())}},{key:"_onExpand",value:function(e){var t,n,i;e&&(i=(n=(t=this.dom.tr.parentNode).parentNode).scrollTop,n.removeChild(t)),this.expanded?this.collapse(e):this.expand(e),e&&(n.appendChild(t),n.scrollTop=i)}},{key:"_showColorPicker",value:function(){var e,t;"function"==typeof this.editor.options.onColorPicker&&this.dom.color&&((e=this)._deleteDomColor(),e.updateDom(),t=Object(g.a)(this.dom.color,this.editor.getPopupAnchor()),this.editor.options.onColorPicker(t,this.value,(function(t){"string"==typeof t&&t!==e.value&&(e._deleteDomColor(),e.value=t,e.updateDom(),e._debouncedOnChangeValue())})))}},{key:"getFieldNames",value:function(e){return"object"===this.type?this.childs.filter((function(t){return t!==e})).map((function(e){return e.field})):[]}},{key:"_onInsertBefore",value:function(t,n,i){var r=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:i});o.expand(!0);var s=this.getInternalPath();this.parent.insertBefore(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var a=this.editor.getDomSelection();this.editor._onAction("insertBeforeNodes",{nodes:[o],paths:[o.getInternalPath()],beforePath:s,parentPath:this.parent.getInternalPath(),oldSelection:r,newSelection:a})}},{key:"_onInsertAfter",value:function(t,n,i){var r=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:i});o.expand(!0),this.parent.insertAfter(o,this),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("insertAfterNodes",{nodes:[o],paths:[o.getInternalPath()],afterPath:this.getInternalPath(),parentPath:this.parent.getInternalPath(),oldSelection:r,newSelection:s})}},{key:"_onAppend",value:function(t,n,i){var r=this.editor.getDomSelection(),o=new e(this.editor,{field:void 0!==t?t:"",value:void 0!==n?n:"",type:i});o.expand(!0),this.parent.appendChild(o),this.editor.highlighter.unhighlight(),o.focus("field");var s=this.editor.getDomSelection();this.editor._onAction("appendNodes",{nodes:[o],paths:[o.getInternalPath()],parentPath:this.parent.getInternalPath(),oldSelection:r,newSelection:s})}},{key:"_onChangeType",value:function(e){var t,n,i=this.type;e!==i&&(t=this.editor.getDomSelection(),this.changeType(e),n=this.editor.getDomSelection(),this.editor._onAction("changeType",{path:this.getInternalPath(),oldType:i,newType:e,oldSelection:t,newSelection:n}))}},{key:"sort",value:function(e,t,n){var i,r,o=!(2<arguments.length&&void 0!==n)||n;"string"==typeof e&&(e=Object(s.parsePath)(e)),this._hasChilds()&&(this.hideChilds(),i=this.childs,this.childs=this.childs.concat(),r="desc"===t?-1:1,this.childs.sort("object"===this.type?function(e,t){return r*p()(e.field,t.field)}:function(t,n){var i=t.getNestedChild(e),o=n.getNestedChild(e);if(!i)return r;if(!o)return-r;var s=i.value,a=o.value;return"string"!=typeof s&&"string"!=typeof a?a<s?r:s<a?-r:0:r*p()(s,a)}),this._updateDomIndexes(),this.showChilds(),!0===o&&this.editor._onAction("sort",{path:this.getInternalPath(),oldChilds:i,newChilds:this.childs}))}},{key:"update",value:function(e){var t=this.getInternalValue();this.setValue(e),this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:this.getInternalValue()})}},{key:"_detachFromDom",value:function(){var e=this.dom.tr?this.dom.tr.parentNode:void 0,t=this.expanded?this.getAppendDom():this.getDom(),n=t&&t.parentNode?t.nextSibling:void 0;return this.hide({resetVisibleChilds:!1}),{table:e,nextTr:n}}},{key:"_attachToDom",value:function(e){e.table&&(e.nextTr?e.table.insertBefore(this.getDom(),e.nextTr):e.table.appendChild(this.getDom())),this.expanded&&this.showChilds()}},{key:"transform",value:function(e){if(this._hasChilds()){this.hideChilds();try{var t=this.getInternalValue(),n=this.getValue(),i=this.editor.options.executeQuery(n,e);this.setValue(i);var r=this.getInternalValue();this.editor._onAction("transform",{path:this.getInternalPath(),oldValue:t,newValue:r}),this.showChilds()}catch(e){this.showChilds(),this.editor._onError(e)}}}},{key:"extract",value:function(){this.editor.node.hideChilds(),this.hideChilds();try{var e=this.editor.node.getInternalValue();this.editor._setRoot(this);var t=this.editor.node.getInternalValue();this.editor._onAction("transform",{path:this.editor.node.getInternalPath(),oldValue:e,newValue:t})}catch(e){this.editor._onError(e)}finally{this.updateDom({recurse:!0}),this.showChilds()}}},{key:"getNestedChild",value:function(e){for(var t=0,n=this;n&&t<e.length;)n=n.findChildByProperty(e[t]),t++;return n}},{key:"findChildByProperty",value:function(e){if("object"===this.type)return this.childs.find((function(t){return t.field===e}))}},{key:"getAppendDom",value:function(){return this.append||(this.append=new I(this.editor),this.append.setParent(this)),this.append.getDom()}},{key:"getShowMoreDom",value:function(){return this.showMore||(this.showMore=new k(this.editor,this)),this.showMore.getDom()}},{key:"nextSibling",value:function(){var e=this.parent.childs.indexOf(this);return this.parent.childs[e+1]||this.parent.append}},{key:"_previousNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode)for(var i=n;t=e.getNodeFromTarget(i=i.previousSibling),i&&t&&t instanceof I&&!t.isVisible(););return t}},{key:"_nextNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode)for(var i=n;t=e.getNodeFromTarget(i=i.nextSibling),i&&t&&t instanceof I&&!t.isVisible(););return t}},{key:"_firstNode",value:function(){var t=null,n=this.getDom();return n&&n.parentNode&&(t=e.getNodeFromTarget(n.parentNode.firstChild)),t}},{key:"_lastNode",value:function(){var t=null,n=this.getDom();if(n&&n.parentNode){var i=n.parentNode.lastChild;for(t=e.getNodeFromTarget(i);i&&t&&!t.isVisible();)t=e.getNodeFromTarget(i=i.previousSibling)}return t}},{key:"_previousElement",value:function(e){var t=this.dom;switch(e){case t.value:if(this.fieldEditable)return t.field;case t.field:if(this._hasChilds())return t.expand;case t.expand:return t.menu;case t.menu:if(t.drag)return t.drag;default:return null}}},{key:"_nextElement",value:function(e){var t=this.dom;switch(e){case t.drag:return t.menu;case t.menu:if(this._hasChilds())return t.expand;case t.expand:if(this.fieldEditable)return t.field;case t.field:if(!this._hasChilds())return t.value;default:return null}}},{key:"_getElementName",value:function(e){var t=this;return Object.keys(this.dom).find((function(n){return t.dom[n]===e}))}},{key:"_hasChilds",value:function(){return"array"===this.type||"object"===this.type}},{key:"addTemplates",value:function(e,t){var n=this,i=n.editor.options.templates;null!=i&&(i.length&&e.push({type:"separator"}),i.forEach((function(i){e.push({text:i.text,className:i.className||"jsoneditor-type-object",title:i.title,click:t?(function(e,t){n._onAppend(e,t)}).bind(this,i.field,i.value):(function(e,t){n._onInsertBefore(e,t)}).bind(this,i.field,i.value)})})))}},{key:"showContextMenu",value:function(t,n){var i,r,o,s,a=this,c=[];this.editable.value&&c.push({text:Object(l.c)("type"),title:Object(l.c)("typeTitle"),className:"jsoneditor-type-"+this.type,submenu:[{text:Object(l.c)("auto"),className:"jsoneditor-type-auto"+("auto"===this.type?" jsoneditor-selected":""),title:Object(l.c)("autoType"),click:function(){a._onChangeType("auto")}},{text:Object(l.c)("array"),className:"jsoneditor-type-array"+("array"===this.type?" jsoneditor-selected":""),title:Object(l.c)("arrayType"),click:function(){a._onChangeType("array")}},{text:Object(l.c)("object"),className:"jsoneditor-type-object"+("object"===this.type?" jsoneditor-selected":""),title:Object(l.c)("objectType"),click:function(){a._onChangeType("object")}},{text:Object(l.c)("string"),className:"jsoneditor-type-string"+("string"===this.type?" jsoneditor-selected":""),title:Object(l.c)("stringType"),click:function(){a._onChangeType("string")}}]}),this._hasChilds()&&(this.editor.options.enableSort&&c.push({text:Object(l.c)("sort"),title:Object(l.c)("sortTitle",{type:this.type}),className:"jsoneditor-sort-asc",click:function(){a.showSortModal()}}),this.editor.options.enableTransform&&c.push({text:Object(l.c)("transform"),title:Object(l.c)("transformTitle",{type:this.type}),className:"jsoneditor-transform",click:function(){a.showTransformModal()}}),this.parent&&c.push({text:Object(l.c)("extract"),title:Object(l.c)("extractTitle",{type:this.type}),className:"jsoneditor-extract",click:function(){a.extract()}})),this.parent&&this.parent._hasChilds()&&(c.length&&c.push({type:"separator"}),a===(i=a.parent.childs)[i.length-1]&&(r=[{text:Object(l.c)("auto"),className:"jsoneditor-type-auto",title:Object(l.c)("autoType"),click:function(){a._onAppend("","","auto")}},{text:Object(l.c)("array"),className:"jsoneditor-type-array",title:Object(l.c)("arrayType"),click:function(){a._onAppend("",[])}},{text:Object(l.c)("object"),className:"jsoneditor-type-object",title:Object(l.c)("objectType"),click:function(){a._onAppend("",{})}},{text:Object(l.c)("string"),className:"jsoneditor-type-string",title:Object(l.c)("stringType"),click:function(){a._onAppend("","","string")}}],a.addTemplates(r,!0),c.push({text:Object(l.c)("appendText"),title:Object(l.c)("appendTitle"),submenuTitle:Object(l.c)("appendSubmenuTitle"),className:"jsoneditor-append",click:function(){a._onAppend("","","auto")},submenu:r})),o=[{text:Object(l.c)("auto"),className:"jsoneditor-type-auto",title:Object(l.c)("autoType"),click:function(){a._onInsertBefore("","","auto")}},{text:Object(l.c)("array"),className:"jsoneditor-type-array",title:Object(l.c)("arrayType"),click:function(){a._onInsertBefore("",[])}},{text:Object(l.c)("object"),className:"jsoneditor-type-object",title:Object(l.c)("objectType"),click:function(){a._onInsertBefore("",{})}},{text:Object(l.c)("string"),className:"jsoneditor-type-string",title:Object(l.c)("stringType"),click:function(){a._onInsertBefore("","","string")}}],a.addTemplates(o,!1),c.push({text:Object(l.c)("insert"),title:Object(l.c)("insertTitle"),submenuTitle:Object(l.c)("insertSub"),className:"jsoneditor-insert",click:function(){a._onInsertBefore("","","auto")},submenu:o}),this.editable.field&&(c.push({text:Object(l.c)("duplicateText"),title:Object(l.c)("duplicateField"),className:"jsoneditor-duplicate",click:function(){e.onDuplicate(a)}}),c.push({text:Object(l.c)("removeText"),title:Object(l.c)("removeField"),className:"jsoneditor-remove",click:function(){e.onRemove(a)}}))),this.editor.options.onCreateMenu&&(s=a.getPath(),c=this.editor.options.onCreateMenu(c,{type:"single",path:s,paths:[s]})),new h.a(c,{close:n}).show(t,this.editor.getPopupAnchor())}},{key:"showSortModal",value:function(){var e=this,t=this.editor.options.modalAnchor||v.a,n=this.getValue();Object(f.showSortModal)(t,n,(function(t){var n=t.path,i=Object(s.parsePath)(n);e.sortedBy=t,e.sort(i,t.direction)}),e.sortedBy)}},{key:"showTransformModal",value:function(){var e=this,t=this.editor.options,n=t.modalAnchor,i=t.createQuery,r=t.executeQuery,o=t.queryDescription,s=this.getValue();Object(m.showTransformModal)({container:n||v.a,json:s,queryDescription:o,createQuery:i,executeQuery:r,onTransform:function(t){e.transform(t)}})}},{key:"_getType",value:function(e){return e instanceof Array?"array":e instanceof Object?"object":"string"==typeof e&&"string"!=typeof Object(s.parseString)(e)?"string":"auto"}},{key:"_escapeHTML",value:function(e){if("string"!=typeof e)return String(e);var t=String(e).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/ {2}/g," &nbsp;").replace(/^ /,"&nbsp;").replace(/ $/,"&nbsp;"),n=JSON.stringify(t),i=n.substring(1,n.length-1);return!0===this.editor.options.escapeUnicode&&(i=Object(s.escapeUnicodeChars)(i)),i}},{key:"_unescapeHTML",value:function(e){var t='"'+this._escapeJSON(e)+'"';return Object(s.parse)(t).replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&nbsp;|\u00A0/g," ").replace(/&amp;/g,"&")}},{key:"_escapeJSON",value:function(e){for(var t="",n=0;n<e.length;){var i=e.charAt(n);"\n"===i?t+="\\n":"\\"===i?(t+=i,n++,""!==(i=e.charAt(n))&&-1!=='"\\/bfnrtu'.indexOf(i)||(t+="\\"),t+=i):t+='"'===i?'\\"':i,n++}return t}},{key:"updateNodeName",value:function(){var e,t=this.childs?this.childs.length:0;if("object"===this.type||"array"===this.type){if(this.editor.options.onNodeName)try{e=this.editor.options.onNodeName({path:this.getPath(),size:t,type:this.type})}catch(e){console.error("Error in onNodeName callback: ",e)}this.dom.value.textContent="object"===this.type?"{"+(e||t)+"}":"["+(e||t)+"]"}}},{key:"recursivelyUpdateNodeName",value:function(){if(this.expanded&&(this.updateNodeName(),"undefined"!==this.childs))for(var e in this.childs)this.childs[e].recursivelyUpdateNodeName()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}();b.prototype.DEBOUNCE_INTERVAL=150,b.prototype.MAX_SEARCH_RESULTS=999;var C=100;function w(e){return e.getInternalPath()}function _(e){return e.getField()}function x(e,t){return Object.prototype.hasOwnProperty.call(e,t)}b.focusElement=void 0,b.select=function(e){setTimeout((function(){Object(s.selectContentEditable)(e)}),0)},b.onDragStart=function(e,t){if(!Array.isArray(e))return b.onDragStart([e],t);var n,i,r,o,a,l;0!==e.length&&(i=e[e.length-1],r=(n=e[0]).parent,o=b.getNodeFromTarget(t.target),a=n.editor,l=Object(s.getAbsoluteTop)(o.dom.tr)-Object(s.getAbsoluteTop)(n.dom.tr),a.mousemove||(a.mousemove=Object(s.addEventListener)(t.view,"mousemove",(function(t){b.onDrag(e,t)}))),a.mouseup||(a.mouseup=Object(s.addEventListener)(t.view,"mouseup",(function(t){b.onDragEnd(e,t)}))),a.highlighter.lock(),a.drag={oldCursor:document.body.style.cursor,oldSelection:a.getDomSelection(),oldPaths:e.map(w),oldParent:r,oldNextNode:r.childs[i.getIndex()+1]||r.append,oldParentPathRedo:r.getInternalPath(),oldIndexRedo:n.getIndex(),mouseX:t.pageX,offsetY:l,level:n.getLevel()},document.body.style.cursor="move",t.preventDefault())},b.onDrag=function(e,t){if(!Array.isArray(e))return b.onDrag([e],t);if(0!==e.length){var n,i,r,o,a,l,c,h=e[0].editor,d=t.pageY-h.drag.offsetY,u=t.pageX,p=!1,g=e[0],f=g.dom.tr,m=Object(s.getAbsoluteTop)(f),v=f.offsetHeight;if(d<m){for(k=f;S=b.getNodeFromTarget(k=k.previousSibling),o=k?Object(s.getAbsoluteTop)(k):0,k&&d<o;);S&&!S.parent&&(S=void 0),S||(k=(i=f.parentNode.firstChild)?i.nextSibling:void 0,(S=b.getNodeFromTarget(k))===g&&(S=void 0)),S&&S.isVisible()&&(o=(k=S.dom.tr)?Object(s.getAbsoluteTop)(k):0)+v<d&&(S=void 0),!S||!1!==h.options.limitDragging&&S.parent!==e[0].parent||(e.forEach((function(e){S.parent.moveBefore(e,S)})),p=!0)}else{var y,C,w=e[e.length-1];if(C=(y=w.expanded&&w.append?w.append.getDom():w.dom.tr)?y.nextSibling:void 0){for(a=Object(s.getAbsoluteTop)(C),n=C;r=b.getNodeFromTarget(n),n&&(l=n.nextSibling?Object(s.getAbsoluteTop)(n.nextSibling):0,c=n?l-a:0,r&&r.parent.childs.length===e.length&&r.parent.childs[e.length-1]===w&&(m+=27),n=n.nextSibling),n&&m+c<d;);if(r&&r.parent){for(var _=Math.round((u-h.drag.mouseX)/24/2),x=h.drag.level+_,A=r.getLevel(),k=r.dom.tr&&r.dom.tr.previousSibling;A<x&&k;){var S=b.getNodeFromTarget(k);if(!e.some((function(e){return e===S||S.isDescendantOf(e)}))){if(!(S instanceof I))break;var E=S.parent.childs;if(E.length===e.length&&E[e.length-1]===w)break;A=(r=b.getNodeFromTarget(k)).getLevel()}k=k.previousSibling}r instanceof I&&!r.isVisible()&&r.parent.showMore.isVisible()&&(r=r._nextNode()),r&&(!1===h.options.limitDragging||r.parent===e[0].parent)&&r.dom.tr&&r.dom.tr!==y.nextSibling&&(e.forEach((function(e){r.parent.moveBefore(e,r)})),p=!0)}}}p&&(h.drag.mouseX=u,h.drag.level=g.getLevel()),h.startAutoScroll(d),t.preventDefault()}},b.onDragEnd=function(e,t){if(!Array.isArray(e))return b.onDrag([e],t);var n,i,r,o,a,l,c,h,d,u;0!==e.length&&(i=(n=e[0]).editor,e[0]&&e[0].dom.menu.focus(),r=i.drag.oldParent.getInternalPath(),o=n.parent.getInternalPath(),a=i.drag.oldParent===n.parent,l=i.drag.oldNextNode.getIndex(),c=n.getIndex(),h=i.drag.oldParentPathRedo,d=i.drag.oldIndexRedo,u=a&&d<c?c+e.length:c,a&&d===c||i._onAction("moveNodes",{count:e.length,fieldNames:e.map(_),oldParentPath:r,newParentPath:o,oldIndex:l,newIndex:c,oldIndexRedo:d,newIndexRedo:u,oldParentPathRedo:h,newParentPathRedo:null,oldSelection:i.drag.oldSelection,newSelection:i.getDomSelection()}),document.body.style.cursor=i.drag.oldCursor,i.highlighter.unlock(),e.forEach((function(e){e.updateDom(),t.target!==e.dom.drag&&t.target!==e.dom.menu&&i.highlighter.unhighlight()})),delete i.drag,i.mousemove&&(Object(s.removeEventListener)(t.view,"mousemove",i.mousemove),delete i.mousemove),i.mouseup&&(Object(s.removeEventListener)(t.view,"mouseup",i.mouseup),delete i.mouseup),i.stopAutoScroll(),t.preventDefault())},b._findEnum=function(e){if(e.enum)return e.enum;var t=e.oneOf||e.anyOf||e.allOf;if(t){var n=t.filter((function(e){return e.enum}));if(0<n.length)return n[0].enum}return null},b._findSchema=function(e,t,n){for(var i=e,r=i,o=(o=e.oneOf||e.anyOf||e.allOf)||[e],s=0;s<o.length;s++){"$ref"in(i=o[s])&&"string"==typeof i.$ref&&(i=t[i.$ref])&&(r=b._findSchema(i,t,n));for(var a=0;a<n.length&&i;a++){var l=n.slice(a+1,n.length),c=n[a];if("string"!=typeof c||!i.patternProperties||i.properties&&c in i.properties)"string"==typeof c&&i.properties?c in i.properties?(i=i.properties[c])&&(r=b._findSchema(i,t,l)):r=null:"number"==typeof c&&i.items&&(i=i.items)&&(r=b._findSchema(i,t,l));else for(var h in i.patternProperties)c.match(h)&&(r.properties||r.patternProperties)&&(r=b._findSchema(i.patternProperties[h],t,l))}}return r===e&&0<n.length?null:r},b.onRemove=function(e){if(!Array.isArray(e))return b.onRemove([e]);var t,n,i,r,o,s,a;e&&0<e.length&&(n=(t=e[0]).parent,i=t.editor,r=t.getIndex(),i.highlighter.unhighlight(),o=i.getDomSelection(),b.blurNodes(e),s=i.getDomSelection(),a=e.map(w),e.forEach((function(e){e.parent._remove(e)})),i._onAction("removeNodes",{nodes:e,paths:a,parentPath:n.getInternalPath(),index:r,oldSelection:o,newSelection:s}))},b.onDuplicate=function(e){if(!Array.isArray(e))return b.onDuplicate([e]);var t,n,i,r,o,a,l;e&&0<e.length&&(n=(t=e[e.length-1]).parent,(i=t.editor).deselect(i.multiselection.nodes),r=i.getDomSelection(),o=t,a=e.map((function(e){var t,i=e.clone();return"object"===e.parent.type&&(t=e.parent.getFieldNames(),i.field=Object(s.findUniqueName)(e.field,t)),n.insertAfter(i,o),o=i})),1===e.length?"object"===a[0].parent.type?(a[0].dom.field.innerHTML=e[0]._escapeHTML(e[0].field),a[0].focus("field")):a[0].focus():i.select(a),l=i.getDomSelection(),i._onAction("duplicateNodes",{paths:e.map(w),clonePaths:a.map(w),afterPath:t.getInternalPath(),parentPath:n.getInternalPath(),oldSelection:r,newSelection:l}))},b.getNodeFromTarget=function(e){for(;e;){if(e.node)return e.node;e=e.parentNode}},b.targetIsColorPicker=function(e){var t=b.getNodeFromTarget(e);if(t)for(var n=e&&e.parentNode;n;){if(n===t.dom.color)return!0;n=n.parentNode}return!1},b.blurNodes=function(e){var t,n,i;Array.isArray(e)?(n=(t=e[0]).parent,i=t.getIndex(),n.childs[i+e.length]?n.childs[i+e.length].focus():n.childs[i-1]?n.childs[i-1].focus():n.focus()):b.blurNodes([e])};var I=((A.prototype=new b).getDom=function(){var e=this.dom;if(e.tr)return e.tr;this._updateEditability();var t,n,i=document.createElement("tr");i.className="jsoneditor-append",i.node=this,e.tr=i,"tree"===this.editor.options.mode&&(e.tdDrag=document.createElement("td"),t=document.createElement("td"),e.tdMenu=t,(n=document.createElement("button")).type="button",n.className="jsoneditor-button jsoneditor-contextmenu-button",n.title="Click to open the actions menu (Ctrl+M)",e.menu=n,t.appendChild(e.menu));var r=document.createElement("td"),o=document.createElement("div");return o.appendChild(document.createTextNode("("+Object(l.c)("empty")+")")),o.className="jsoneditor-readonly",r.appendChild(o),e.td=r,e.text=o,this.updateDom(),i},A.prototype.getPath=function(){return null},A.prototype.getIndex=function(){return null},A.prototype.updateDom=function(e){var t=this.dom,n=t.td;n&&(n.style.paddingLeft=24*this.getLevel()+26+"px");var i=t.text;i&&(i.firstChild.nodeValue="("+Object(l.c)("empty")+" "+this.parent.type+")");var r=t.tr;this.isVisible()?t.tr.firstChild||(t.tdDrag&&r.appendChild(t.tdDrag),t.tdMenu&&r.appendChild(t.tdMenu),r.appendChild(n)):t.tr.firstChild&&(t.tdDrag&&r.removeChild(t.tdDrag),t.tdMenu&&r.removeChild(t.tdMenu),r.removeChild(n))},A.prototype.isVisible=function(){return 0===this.parent.childs.length},A.prototype.showContextMenu=function(e,t){var n=this,i=[{text:Object(l.c)("auto"),className:"jsoneditor-type-auto",title:Object(l.c)("autoType"),click:function(){n._onAppend("","","auto")}},{text:Object(l.c)("array"),className:"jsoneditor-type-array",title:Object(l.c)("arrayType"),click:function(){n._onAppend("",[])}},{text:Object(l.c)("object"),className:"jsoneditor-type-object",title:Object(l.c)("objectType"),click:function(){n._onAppend("",{})}},{text:Object(l.c)("string"),className:"jsoneditor-type-string",title:Object(l.c)("stringType"),click:function(){n._onAppend("","","string")}}];n.addTemplates(i,!0);var r,o=[{text:Object(l.c)("appendText"),title:Object(l.c)("appendTitleAuto"),submenuTitle:Object(l.c)("appendSubmenuTitle"),className:"jsoneditor-insert",click:function(){n._onAppend("","","auto")},submenu:i}];this.editor.options.onCreateMenu&&(r=n.parent.getPath(),o=this.editor.options.onCreateMenu(o,{type:"append",path:r,paths:[r]})),new h.a(o,{close:t}).show(e,this.editor.getPopupAnchor())},A.prototype.onEvent=function(e){var t,n=e.type,i=e.target||e.srcElement,r=this.dom;i===r.menu&&("mouseover"===n?this.editor.highlighter.highlight(this.parent):"mouseout"===n&&this.editor.highlighter.unhighlight()),"click"===n&&i===r.menu&&((t=this.editor.highlighter).highlight(this.parent),t.lock(),Object(s.addClassName)(r.menu,"jsoneditor-selected"),this.showContextMenu(r.menu,(function(){Object(s.removeClassName)(r.menu,"jsoneditor-selected"),t.unlock(),t.unhighlight()}))),"keydown"===n&&this.onKeyDown(e)},A);function A(e){this.editor=e,this.dom={}}var k=((S.prototype=new b).getDom=function(){return this.dom.tr||(this._updateEditability(),this.dom.tr||(t=(e=this).parent,(n=document.createElement("a")).appendChild(document.createTextNode(Object(l.c)("showMore"))),n.href="#",n.onclick=function(n){return t.visibleChilds=Math.floor(t.visibleChilds/t.getMaxVisibleChilds()+1)*t.getMaxVisibleChilds(),e.updateDom(),t.showChilds(),n.preventDefault(),!1},(i=document.createElement("a")).appendChild(document.createTextNode(Object(l.c)("showAll"))),i.href="#",i.onclick=function(n){return t.visibleChilds=1/0,e.updateDom(),t.showChilds(),n.preventDefault(),!1},r=document.createElement("div"),o=document.createTextNode(this._getShowMoreText()),r.className="jsoneditor-show-more",r.appendChild(o),r.appendChild(n),r.appendChild(document.createTextNode(". ")),r.appendChild(i),r.appendChild(document.createTextNode(". ")),(s=document.createElement("td")).appendChild(r),a=document.createElement("tr"),"tree"===this.editor.options.mode&&(a.appendChild(document.createElement("td")),a.appendChild(document.createElement("td"))),a.appendChild(s),a.className="jsoneditor-show-more",this.dom.tr=a,this.dom.moreContents=r,this.dom.moreText=o),this.updateDom()),this.dom.tr;var e,t,n,i,r,o,s,a},S.prototype.updateDom=function(e){var t;this.isVisible()?(this.dom.tr.node=this.parent.childs[this.parent.visibleChilds],this.dom.tr.parentNode||(t=this.parent._getNextTr())&&t.parentNode.insertBefore(this.dom.tr,t),this.dom.moreText.nodeValue=this._getShowMoreText(),this.dom.moreContents.style.marginLeft=24*(this.getLevel()+1)+"px"):this.dom.tr&&this.dom.tr.parentNode&&this.dom.tr.parentNode.removeChild(this.dom.tr)},S.prototype._getShowMoreText=function(){return Object(l.c)("showMoreStatus",{visibleChilds:this.parent.visibleChilds,totalChilds:this.parent.childs.length})+" "},S.prototype.isVisible=function(){return this.parent.expanded&&this.parent.childs.length>this.parent.visibleChilds},S.prototype.onEvent=function(e){"keydown"===e.type&&this.onKeyDown(e)},S);function S(e,t){this.editor=e,this.parent=t,this.dom={}}var E=n(8),O=n(9),P={start:function(e,t){return 0===t.indexOf(e)},contain:function(e,t){return-1<t.indexOf(e)}},M=n(4),T={create:function(e,t){if(!e)throw new Error("No container element provided.");this.container=e,this.dom={},this.highlighter=new o,this.selection=void 0,this.multiselection={nodes:[]},this.validateSchema=null,this.validationSequence=0,this.errorNodes=[],this.lastSchemaErrors=void 0,this.node=null,this.focusTarget=null,this._setOptions(t),t.autocomplete&&(this.autocomplete=function(e){(e=e||{}).filter=e.filter||"start",e.trigger=e.trigger||"keydown",e.confirmKeys=e.confirmKeys||[39,35,9],e.caseSensitive=e.caseSensitive||!1;var t="",n="",i=document.createElement("div");i.style.position="relative",i.style.outline="0",i.style.border="0",i.style.margin="0",i.style.padding="0";var r,o,s=document.createElement("div");function a(e){var t,n;document.createRange?((t=document.createRange()).selectNodeContents(e),t.collapse(!1),(n=window.getSelection()).removeAllRanges(),n.addRange(t)):document.selection&&((t=document.body.createTextRange()).moveToElementText(e),t.collapse(!1),t.select())}function l(e){return void 0===r&&((r=document.createElement("span")).style.visibility="hidden",r.style.position="fixed",r.style.outline="0",r.style.margin="0",r.style.padding="0",r.style.border="0",r.style.left="0",r.style.whiteSpace="pre",r.style.fontSize=t,r.style.fontFamily=n,r.style.fontWeight="normal",document.body.appendChild(r)),r.textContent=e,r.getBoundingClientRect().right}s.className="autocomplete dropdown",s.style.position="absolute",s.style.visibility="hidden";var c,h,d,u,p,g={onArrowDown:function(){},onArrowUp:function(){},onEnter:function(){},onTab:function(){},startFrom:0,options:[],element:null,elementHint:null,elementStyle:null,wrapper:i,show:function(e,r,o){var a=this;this.startFrom=r,this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null),""===t&&(t=window.getComputedStyle(e).getPropertyValue("font-size")),""===n&&(n=window.getComputedStyle(e).getPropertyValue("font-family")),s.style.marginLeft="0",s.style.marginTop=e.getBoundingClientRect().height+"px",this.options=o.map(String),this.element!==e&&(this.element=e,this.elementStyle={zIndex:this.element.style.zIndex,position:this.element.style.position,backgroundColor:this.element.style.backgroundColor,borderColor:this.element.style.borderColor}),this.element.style.zIndex=3,this.element.style.position="relative",this.element.style.backgroundColor="transparent",this.element.style.borderColor="transparent",this.elementHint=e.cloneNode(),this.elementHint.className="autocomplete hint",this.elementHint.style.zIndex=2,this.elementHint.style.position="absolute",this.elementHint.onfocus=function(){a.element.focus()},this.element.addEventListener&&(this.element.removeEventListener("keydown",b),this.element.addEventListener("keydown",b,!1),this.element.removeEventListener("blur",C),this.element.addEventListener("blur",C,!1)),i.appendChild(this.elementHint),i.appendChild(s),e.parentElement.appendChild(i),this.repaint(e)},setText:function(e){this.element.innerText=e},getText:function(){return this.element.innerText},hideDropDown:function(){this.wrapper.remove(),this.elementHint&&(this.elementHint.remove(),this.elementHint=null,f.hide(),this.element.style.zIndex=this.elementStyle.zIndex,this.element.style.position=this.elementStyle.position,this.element.style.backgroundColor=this.elementStyle.backgroundColor,this.element.style.borderColor=this.elementStyle.borderColor)},repaint:function(t){var n=(n=t.innerText).replace("\n",""),i=this.options.length,r=n.substring(this.startFrom);o=n.substring(0,this.startFrom);for(var a=0;a<i;a++){var c=this.options[a];if(!e.caseSensitive&&0===c.toLowerCase().indexOf(r.toLowerCase())||e.caseSensitive&&0===c.indexOf(r)){this.elementHint.innerText=o+r+c.substring(r.length),this.elementHint.realInnerText=o+c;break}}s.style.left=l(o)+"px",f.refresh(r,this.options),this.elementHint.style.width=l(this.elementHint.innerText)+10+"px","hidden"===s.style.visibility||(this.elementHint.style.width=l(this.elementHint.innerText)+s.clientWidth+"px")}},f=(c=s,h=[],d=0,u=-1,p={rs:g,hide:function(){c.style.visibility="hidden"},refresh:function(t,n){c.style.visibility="hidden",d=0,c.textContent="";var i=window.innerHeight||document.documentElement.clientHeight,r=c.parentNode.getBoundingClientRect(),o=r.top-6,s=i-r.bottom-6;h=[];var a="function"==typeof e.filter?e.filter:P[e.filter],l=a?n.filter((function(n){return a(e.caseSensitive?t:t.toLowerCase(),e.caseSensitive?n:n.toLowerCase(),e)})):[];0!==(h=l.map((function(e){var n=document.createElement("div");n.className="item",n.onmouseover=m,n.onmouseout=v,n.onmousedown=y,n.__hint=e,n.textContent="",n.appendChild(document.createTextNode(e.substring(0,t.length)));var i=document.createElement("b");return i.appendChild(document.createTextNode(e.substring(t.length))),n.appendChild(i),c.appendChild(n),n}))).length&&(1===h.length&&(t.toLowerCase()===h[0].__hint.toLowerCase()&&!e.caseSensitive||t===h[0].__hint&&e.caseSensitive)||h.length<2||(p.highlight(0),3*s<o?(c.style.maxHeight=o+"px",c.style.top="",c.style.bottom="100%"):(c.style.top="100%",c.style.bottom="",c.style.maxHeight=s+"px"),c.style.visibility="visible"))},highlight:function(e){-1!==u&&h[u]&&(h[u].className="item"),h[e].className="item hover",u=e},move:function(e){return"hidden"===c.style.visibility?"":(d+e===-1||d+e===h.length||p.highlight(d+=e),h[d].__hint)},onmouseselection:function(){}});function m(){this.style.backgroundColor="#ddd"}function v(){this.style.backgroundColor=""}function y(){p.hide(),p.onmouseselection(this.__hint,p.rs)}var b=(function(t){var n=(t=t||window.event).keyCode;if(null!=this.elementHint&&33!==n&&34!==n){if(27===n)return g.hideDropDown(),g.element.focus(),t.preventDefault(),void t.stopPropagation();var i,r,l=(l=this.element.innerText).replace("\n","");if(0<=e.confirmKeys.indexOf(n))return 9===n&&0===this.elementHint.innerText.length&&g.onTab(),void(0<this.elementHint.innerText.length&&this.element.innerText!==this.elementHint.realInnerText&&(this.element.innerText=this.elementHint.realInnerText,g.hideDropDown(),a(this.element),9===n&&(g.element.focus(),t.preventDefault(),t.stopPropagation())));if(13!==n){if(40===n){var c=l.substring(this.startFrom),h=f.move(1);return""===h&&g.onArrowDown(),this.elementHint.innerText=o+c+h.substring(c.length),this.elementHint.realInnerText=o+h,t.preventDefault(),void t.stopPropagation()}38===n&&(i=l.substring(this.startFrom),""===(r=f.move(-1))&&g.onArrowUp(),this.elementHint.innerText=o+i+r.substring(i.length),this.elementHint.realInnerText=o+r,t.preventDefault(),t.stopPropagation())}else if(0===this.elementHint.innerText.length)g.onEnter();else{var d="hidden"===s.style.visibility;if(f.hide(),d)return g.hideDropDown(),g.element.focus(),void g.onEnter();this.element.innerText=this.elementHint.realInnerText,g.hideDropDown(),a(this.element),t.preventDefault(),t.stopPropagation()}}}).bind(g),C=function(){g.hideDropDown()};return f.onmouseselection=function(e,t){t.element.innerText=t.elementHint.innerText=o+e,t.hideDropDown(),window.setTimeout((function(){t.element.focus(),a(t.element)}),1)},g}(t.autocomplete)),this.options.history&&"view"!==this.options.mode&&(this.history=new a(this)),this._createFrame(),this._createTable()},destroy:function(){this.frame&&this.container&&this.frame.parentNode===this.container&&(this.container.removeChild(this.frame),this.frame=null),this.container=null,this.dom=null,this.clear(),this.node=null,this.focusTarget=null,this.selection=null,this.multiselection=null,this.errorNodes=null,this.validateSchema=null,this._debouncedValidate=null,this.history&&(this.history.destroy(),this.history=null),this.searchBox&&(this.searchBox.destroy(),this.searchBox=null),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this.frameFocusTracker.destroy()},_setOptions:function(e){var t=this;this.options={search:!0,history:!0,mode:"tree",name:void 0,schema:null,schemaRefs:null,autocomplete:null,navigationBar:!0,mainMenuBar:!0,limitDragging:!1,onSelectionChange:null,colorPicker:!0,onColorPicker:function(e,t,n){var i,o;r.a?(i=e.getBoundingClientRect().top,o=Object(s.getWindow)(e).innerHeight-i<300&&300<i,new r.a({parent:e,color:t,popup:o?"top":"bottom",onDone:function(e){var t=1===e.rgba[3]?e.hex.substr(0,7):e.hex;n(t)}}).show()):console.warn("Cannot open color picker: the `vanilla-picker` library is not included in the bundle. Either use the full bundle or implement your own color picker using `onColorPicker`.")},timestampTag:!0,timestampFormat:null,createQuery:M.a,executeQuery:M.b,onEvent:null,enableSort:!0,enableTransform:!0},e&&(Object.keys(e).forEach((function(n){t.options[n]=e[n]})),null==e.limitDragging&&null!=e.schema&&(this.options.limitDragging=!0)),this.setSchema(this.options.schema,this.options.schemaRefs),this._debouncedValidate=Object(s.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),e.onSelectionChange&&this.onSelectionChange(e.onSelectionChange),Object(l.b)(this.options.languages),Object(l.a)(this.options.language)},set:function(e){var t;e instanceof Function||void 0===e?this.clear():(this.content.removeChild(this.table),t=new b(this,{field:this.options.name,value:e}),this._setRoot(t),this.validate(),this.node.expand(!1),this.content.appendChild(this.table)),this.history&&this.history.clear(),this.searchBox&&this.searchBox.clear()},update:function(e){var t,n,i;this.node.deepEqual(e)||(t=this.getSelection(),this.onChangeDisabled=!0,this.node.update(e),this.onChangeDisabled=!1,this.validate(),this.searchBox&&!this.searchBox.isEmpty()&&this.searchBox.forceSearch(),t&&t.start&&t.end?(n=this.node.findNodeByPath(t.start.path),i=this.node.findNodeByPath(t.end.path),n&&i?this.setSelection(t.start,t.end):this.setSelection({},{})):this.setSelection({},{}))},get:function(){return this.node?this.node.getValue():void 0},getText:function(){return JSON.stringify(this.get())},setText:function(t){try{this.set(Object(s.parse)(t))}catch(e){var n=Object(s.repair)(t);this.set(Object(s.parse)(n))}},updateText:function(t){try{this.update(Object(s.parse)(t))}catch(e){var n=Object(s.repair)(t);this.update(Object(s.parse)(n))}},setName:function(e){this.options.name=e,this.node&&this.node.updateField(this.options.name)},getName:function(){return this.options.name},focus:function(){var e=this.scrollableContent.querySelector("[contenteditable=true]");e?e.focus():this.node.dom.expand?this.node.dom.expand.focus():this.node.dom.menu?this.node.dom.menu.focus():(e=this.frame.querySelector("button"))&&e.focus()},clear:function(){this.node&&(this.node.hide(),delete this.node),this.treePath&&this.treePath.reset()},_setRoot:function(e){this.clear(),(this.node=e).setParent(null),e.setField(this.getName(),!1),delete e.index,this.tbody.appendChild(e.getDom())},search:function(e){var t;return this.node?(this.content.removeChild(this.table),t=this.node.search(e),this.content.appendChild(this.table)):t=[],t},expandAll:function(){this.node&&(this.content.removeChild(this.table),this.node.expand(),this.content.appendChild(this.table))},collapseAll:function(){this.node&&(this.content.removeChild(this.table),this.node.collapse(),this.content.appendChild(this.table))},_onAction:function(e,t){this.history&&this.history.add(e,t),this._onChange()},_onChange:function(){if(!this.onChangeDisabled){var e;if(this.selection=this.getDomSelection(),this._debouncedValidate(),this.treePath&&((e=this.node&&this.selection?this.node.findNodeByInternalPath(this.selection.path):this.multiselection?this.multiselection.nodes[0]:void 0)?this._updateTreePath(e.getNodePath()):this.treePath.reset()),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){console.error("Error in onChangeJSON callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}if(this.options.onClassName&&this.node.recursivelyUpdateCssClassesOnNodes(),this.options.onNodeName&&this.node.childs)try{this.node.recursivelyUpdateNodeName()}catch(e){console.error("Error in onNodeName callback: ",e)}}},validate:function(){var e=this,t=this.node;if(t){var n=t.getValue(),i=[];this.validateSchema&&(this.validateSchema(n)||(i=this.validateSchema.errors.map((function(e){return Object(s.improveSchemaError)(e)})).map((function(e){return{node:t.findNode(e.dataPath),error:e,type:"validation"}})).filter((function(e){return null!=e.node}))));try{this.validationSequence++;var r=this,o=this.validationSequence;this._validateCustom(n).then((function(t){var n;o===r.validationSequence&&(n=[].concat(i,t||[]),r._renderValidationErrors(n),"function"==typeof e.options.onValidationError&&(Object(s.isValidationErrorChanged)(n,e.lastSchemaErrors)&&e.options.onValidationError.call(e,n),e.lastSchemaErrors=n))})).catch((function(e){console.error(e)}))}catch(n){console.error(n)}}},_renderValidationErrors:function(e){this.errorNodes&&this.errorNodes.forEach((function(e){e.setError(null)}));var t=e.reduce((function(e,t){return t.node.findParents().filter((function(t){return!e.some((function(e){return e[0]===t}))})).map((function(e){return[e,t.node]})).concat(e)}),[]);this.errorNodes=t.map((function(e){return{node:e[0],child:e[1],error:{message:"object"===e[0].type?Object(l.c)("containsInvalidProperties"):Object(l.c)("containsInvalidItems")}}})).concat(e).map((function(e){return e.node.setError(e.error,e.child),e.node}))},_validateCustom:function(e){try{if(this.options.onValidate){var t=this.node,n=this.options.onValidate(e);return(Object(s.isPromise)(n)?n:Promise.resolve(n)).then((function(e){return Array.isArray(e)?e.filter((function(e){var t=Object(s.isValidValidationError)(e);return t||console.warn('Ignoring a custom validation error with invalid structure. Expected structure: {path: [...], message: "..."}. Actual error:',e),t})).map((function(e){var n;try{n=e&&e.path?t.findNodeByPath(e.path):null}catch(e){}return n||console.warn("Ignoring validation error: node not found. Path:",e.path,"Error:",e),{node:n,error:e,type:"customValidation"}})).filter((function(e){return e&&e.node&&e.error&&e.error.message})):null}))}}catch(e){return Promise.reject(e)}return Promise.resolve(null)},refresh:function(){this.node&&this.node.updateDom({recurse:!0})},startAutoScroll:function(e){var t=this,n=this.scrollableContent,i=Object(s.getAbsoluteTop)(n),r=n.clientHeight,o=i+r;this.autoScrollStep=e<i+24&&0<n.scrollTop?(i+24-e)/3:o-24<e&&r+n.scrollTop<n.scrollHeight?(o-24-e)/3:void 0,this.autoScrollStep?this.autoScrollTimer||(this.autoScrollTimer=setInterval((function(){t.autoScrollStep?n.scrollTop-=t.autoScrollStep:t.stopAutoScroll()}),50)):this.stopAutoScroll()},stopAutoScroll:function(){this.autoScrollTimer&&(clearTimeout(this.autoScrollTimer),delete this.autoScrollTimer),this.autoScrollStep&&delete this.autoScrollStep},setDomSelection:function(e){var t,n,i,r,o;e&&("scrollTop"in e&&this.scrollableContent&&(this.scrollableContent.scrollTop=e.scrollTop),e.paths?(t=this,n=e.paths.map((function(e){return t.node.findNodeByInternalPath(e)})),this.select(n)):(r=(i=e.path?this.node.findNodeByInternalPath(e.path):null)&&e.domName?i.dom[e.domName]:null,e.range&&r?(o=Object.assign({},e.range,{container:r}),Object(s.setSelectionOffset)(o)):i&&i.focus()))},getDomSelection:function(){var e=b.getNodeFromTarget(this.focusTarget),t=this.focusTarget,n=e?Object.keys(e.dom).find((function(n){return e.dom[n]===t})):null,i=Object(s.getSelectionOffset)();return i&&"DIV"!==i.container.nodeName&&(i=null),i&&i.container!==t&&(i=null),i&&delete i.container,{path:e?e.getInternalPath():null,domName:n,range:i,paths:0<this.multiselection.length?this.multiselection.nodes.map((function(e){return e.getInternalPath()})):null,scrollTop:this.scrollableContent?this.scrollableContent.scrollTop:0}},scrollTo:function(e,t){var n,i,r,o,s=this.scrollableContent;s?((n=this).animateTimeout&&(clearTimeout(n.animateTimeout),delete n.animateTimeout),n.animateCallback&&(n.animateCallback(!1),delete n.animateCallback),r=s.scrollHeight-(i=s.clientHeight),o=Math.min(Math.max(e-i/4,0),r),function e(){var i=o-s.scrollTop;3<Math.abs(i)?(s.scrollTop+=i/3,n.animateCallback=t,n.animateTimeout=setTimeout(e,50)):(t&&t(!0),s.scrollTop=o,delete n.animateTimeout,delete n.animateCallback)}()):t&&t(!1)},_createFrame:function(){this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-"+this.options.mode,this.container.appendChild(this.frame),this.contentOuter=document.createElement("div"),this.contentOuter.className="jsoneditor-outer";var e,t,n,i,r,o,a,h=this;function u(e){h._onEvent&&h._onEvent(e)}this.frameFocusTracker=new O.a({target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null}),this.frame.onclick=function(e){var t=e.target;u(e),"BUTTON"===t.nodeName&&e.preventDefault()},this.frame.oninput=u,this.frame.onchange=u,this.frame.onkeydown=u,this.frame.onkeyup=u,this.frame.oncut=u,this.frame.onpaste=u,this.frame.onmousedown=u,this.frame.onmouseup=u,this.frame.onmouseover=u,this.frame.onmouseout=u,Object(s.addEventListener)(this.frame,"focus",u,!0),Object(s.addEventListener)(this.frame,"blur",u,!0),this.frame.onfocusin=u,this.frame.onfocusout=u,this.options.mainMenuBar&&(Object(s.addClassName)(this.contentOuter,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(e=document.createElement("button")).type="button",e.className="jsoneditor-expand-all",e.title=Object(l.c)("expandAll"),e.onclick=function(){h.expandAll()},this.menu.appendChild(e),(t=document.createElement("button")).type="button",t.title=Object(l.c)("collapseAll"),t.className="jsoneditor-collapse-all",t.onclick=function(){h.collapseAll()},this.menu.appendChild(t),this.options.enableSort&&((n=document.createElement("button")).type="button",n.className="jsoneditor-sort",n.title=Object(l.c)("sortTitleShort"),n.onclick=function(){h.node.showSortModal()},this.menu.appendChild(n)),this.options.enableTransform&&((i=document.createElement("button")).type="button",i.title=Object(l.c)("transformTitleShort"),i.className="jsoneditor-transform",i.onclick=function(){h.node.showTransformModal()},this.menu.appendChild(i)),this.history&&((r=document.createElement("button")).type="button",r.className="jsoneditor-undo jsoneditor-separator",r.title=Object(l.c)("undo"),r.onclick=function(){h._onUndo()},this.menu.appendChild(r),this.dom.undo=r,(o=document.createElement("button")).type="button",o.className="jsoneditor-redo",o.title=Object(l.c)("redo"),o.onclick=function(){h._onRedo()},this.menu.appendChild(o),this.dom.redo=o,this.history.onChange=function(){r.disabled=!h.history.canUndo(),o.disabled=!h.history.canRedo()},this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&((a=this).modeSwitcher=new E.a(this.menu,this.options.modes,this.options.mode,(function(e){a.setMode(e),a.modeSwitcher.focus()}))),this.options.search&&(this.searchBox=new c(this,this.menu))),this.options.navigationBar&&(this.navBar=document.createElement("div"),this.navBar.className="jsoneditor-navigation-bar nav-bar-empty",this.frame.appendChild(this.navBar),this.treePath=new d(this.navBar,this.getPopupAnchor()),this.treePath.onSectionSelected(this._onTreePathSectionSelected.bind(this)),this.treePath.onContextMenuItemSelected(this._onTreePathMenuItemSelected.bind(this)))},_onUndo:function(){this.history&&(this.history.undo(),this._onChange())},_onRedo:function(){this.history&&(this.history.redo(),this._onChange())},_onEvent:function(e){if(!b.targetIsColorPicker(e.target)){var t,n=b.getNodeFromTarget(e.target);if("keydown"===e.type&&this._onKeyDown(e),n&&"focus"===e.type&&(this.focusTarget=e.target,this.options.autocomplete&&"focus"===this.options.autocomplete.trigger&&this._showAutoComplete(e.target)),"mousedown"===e.type&&this._startDragDistance(e),"mousemove"!==e.type&&"mouseup"!==e.type&&"click"!==e.type||this._updateDragDistance(e),n&&this.options&&this.options.navigationBar&&n&&("keydown"===e.type||"mousedown"===e.type)&&(t=this,setTimeout((function(){t._updateTreePath(n.getNodePath())}))),n&&n.selected){if("click"===e.type){if(e.target===n.dom.menu)return void this.showContextMenu(e.target);e.hasMoved||this.deselect()}"mousedown"===e.type&&b.onDragStart(this.multiselection.nodes,e)}else"mousedown"===e.type&&Object(s.hasParentNode)(e.target,this.content)&&(this.deselect(),n&&e.target===n.dom.drag?b.onDragStart(n,e):n&&(e.target===n.dom.field||e.target===n.dom.value||e.target===n.dom.select)||this._onMultiSelectStart(e));n&&n.onEvent(e)}},_updateTreePath:function(e){var t;function n(e){return e.parent?"array"===e.parent.type?e.index:e.field:e.field||e.type}e&&e.length?(Object(s.removeClassName)(this.navBar,"nav-bar-empty"),t=[],e.forEach((function(e){var i={name:n(e),node:e,children:[]};e.childs&&e.childs.length&&e.childs.forEach((function(e){i.children.push({name:n(e),node:e})})),t.push(i)})),this.treePath.setPath(t)):Object(s.addClassName)(this.navBar,"nav-bar-empty")},_onTreePathSectionSelected:function(e){e&&e.node&&(e.node.expandTo(),e.node.focus())},_onTreePathMenuItemSelected:function(e,t){var n;e&&e.children.length&&(n=e.children.find((function(e){return e.name===t})))&&n.node&&(this._updateTreePath(n.node.getNodePath()),n.node.expandTo(),n.node.focus())},_startDragDistance:function(e){this.dragDistanceEvent={initialTarget:e.target,initialPageX:e.pageX,initialPageY:e.pageY,dragDistance:0,hasMoved:!1}},_updateDragDistance:function(e){this.dragDistanceEvent||this._startDragDistance(e);var t=e.pageX-this.dragDistanceEvent.initialPageX,n=e.pageY-this.dragDistanceEvent.initialPageY;return this.dragDistanceEvent.dragDistance=Math.sqrt(t*t+n*n),this.dragDistanceEvent.hasMoved=this.dragDistanceEvent.hasMoved||10<this.dragDistanceEvent.dragDistance,e.dragDistance=this.dragDistanceEvent.dragDistance,e.hasMoved=this.dragDistanceEvent.hasMoved,e.dragDistance},_onMultiSelectStart:function(e){var t,n=b.getNodeFromTarget(e.target);"tree"===this.options.mode&&void 0===this.options.onEditable&&(this.multiselection={start:n||null,end:null,nodes:[]},this._startDragDistance(e),(t=this).mousemove||(this.mousemove=Object(s.addEventListener)(e.view,"mousemove",(function(e){t._onMultiSelect(e)}))),this.mouseup||(this.mouseup=Object(s.addEventListener)(e.view,"mouseup",(function(e){t._onMultiSelectEnd(e)}))),e.preventDefault())},_onMultiSelect:function(e){var t,n,i,r;e.preventDefault(),this._updateDragDistance(e),e.hasMoved&&((t=b.getNodeFromTarget(e.target))&&(null==this.multiselection.start&&(this.multiselection.start=t),this.multiselection.end=t),this.deselect(),i=this.multiselection.end||this.multiselection.start,(n=this.multiselection.start)&&i&&(this.multiselection.nodes=this._findTopLevelNodes(n,i),this.multiselection.nodes&&this.multiselection.nodes.length&&(this.multiselection.direction=this.multiselection.start===(r=this.multiselection.nodes[0])||this.multiselection.start.isDescendantOf(r)?"down":"up"),this.select(this.multiselection.nodes)))},_onMultiSelectEnd:function(e){this.multiselection.nodes[0]&&this.multiselection.nodes[0].dom.menu.focus(),this.multiselection.start=null,this.multiselection.end=null,this.mousemove&&(Object(s.removeEventListener)(e.view,"mousemove",this.mousemove),delete this.mousemove),this.mouseup&&(Object(s.removeEventListener)(e.view,"mouseup",this.mouseup),delete this.mouseup)},deselect:function(e){var t=!!this.multiselection.nodes.length;this.multiselection.nodes.forEach((function(e){e.setSelected(!1)})),this.multiselection.nodes=[],e&&(this.multiselection.start=null,this.multiselection.end=null),t&&this._selectionChangedHandler&&this._selectionChangedHandler()},select:function(e){if(!Array.isArray(e))return this.select([e]);var t,n;e&&(this.deselect(),this.multiselection.nodes=e.slice(0),t=e[0],e.forEach((function(e){e.expandPathToNode(),e.setSelected(!0,e===t)})),this._selectionChangedHandler&&(n=this.getSelection(),this._selectionChangedHandler(n.start,n.end)))},_findTopLevelNodes:function(e,t){for(var n=e.getNodePath(),i=t.getNodePath(),r=0;r<n.length&&n[r]===i[r];)r++;var o=n[r-1],s=n[r],a=i[r];if(s&&a||(o.parent?o=(a=s=o).parent:(s=o.childs[0],a=o.childs[o.childs.length-1])),o&&s&&a){var l=o.childs.indexOf(s),c=o.childs.indexOf(a),h=Math.min(l,c),d=Math.max(l,c);return o.childs.slice(h,d+1)}return[]},_showAutoComplete:function(e){var t,n=b.getNodeFromTarget(e),i="";0<=e.className.indexOf("jsoneditor-value")&&(i="value"),0<=e.className.indexOf("jsoneditor-field")&&(i="field"),""!==i&&(t=this,setTimeout((function(){var r;n&&("focus"===t.options.autocomplete.trigger||0<e.innerText.length)&&null!==(r=t.options.autocomplete.getOptions(e.innerText,n.getPath(),i,n.editor))?"function"==typeof r.then?r.then((function(n){null===n?t.autocomplete.hideDropDown():n.options?t.autocomplete.show(e,n.startFrom,n.options):t.autocomplete.show(e,0,n)})).catch((function(e){console.error(e)})):r.options?t.autocomplete.show(e,r.startFrom,r.options):t.autocomplete.show(e,0,r):t.autocomplete.hideDropDown()}),50))},_onKeyDown:function(e){var t,n=e.which||e.keyCode,i=e.altKey,r=e.ctrlKey,o=e.metaKey,a=e.shiftKey,l=!1,c=this.focusTarget;9===n&&(t=this,setTimeout((function(){t.focusTarget!==c&&Object(s.selectContentEditable)(t.focusTarget)}),0)),this.searchBox&&(r&&70===n?(this.searchBox.dom.search.focus(),this.searchBox.dom.search.select(),l=!0):(114===n||r&&71===n)&&(a?this.searchBox.previous(!0):this.searchBox.next(!0),l=!0)),this.history&&(r&&!a&&90===n?(this._onUndo(),l=!0):r&&a&&90===n&&(this._onRedo(),l=!0)),this.options.autocomplete&&!l&&(r||i||o||1!==e.key.length&&8!==n&&46!==n||(l=!1,this._showAutoComplete(e.target))),l&&(e.preventDefault(),e.stopPropagation())},_createTable:function(){var e;this.options.navigationBar&&Object(s.addClassName)(this.contentOuter,"has-nav-bar"),this.scrollableContent=document.createElement("div"),this.scrollableContent.className="jsoneditor-tree",this.contentOuter.appendChild(this.scrollableContent),this.content=document.createElement("div"),this.content.className="jsoneditor-tree-inner",this.scrollableContent.appendChild(this.content),this.table=document.createElement("table"),this.table.className="jsoneditor-tree",this.content.appendChild(this.table),this.colgroupContent=document.createElement("colgroup"),"tree"===this.options.mode&&((e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e)),(e=document.createElement("col")).width="24px",this.colgroupContent.appendChild(e),e=document.createElement("col"),this.colgroupContent.appendChild(e),this.table.appendChild(this.colgroupContent),this.tbody=document.createElement("tbody"),this.table.appendChild(this.tbody),this.frame.appendChild(this.contentOuter)},showContextMenu:function(e,t){var n,i=[],r=this.multiselection.nodes.slice();i.push({text:Object(l.c)("duplicateText"),title:Object(l.c)("duplicateTitle"),className:"jsoneditor-duplicate",click:function(){b.onDuplicate(r)}}),i.push({text:Object(l.c)("remove"),title:Object(l.c)("removeTitle"),className:"jsoneditor-remove",click:function(){b.onRemove(r)}}),this.options.onCreateMenu&&(n=r.map((function(e){return e.getPath()})),i=this.options.onCreateMenu(i,{type:"multiple",path:n[0],paths:n})),new h.a(i,{close:t}).show(e,this.getPopupAnchor())},getPopupAnchor:function(){return this.options.popupAnchor||this.frame},getSelection:function(){var e,t,n={start:null,end:null};return this.multiselection.nodes&&this.multiselection.nodes.length&&this.multiselection.nodes.length&&(e=this.multiselection.nodes[0],t=this.multiselection.nodes[this.multiselection.nodes.length-1],"down"===this.multiselection.direction?(n.start=e.serialize(),n.end=t.serialize()):(n.start=t.serialize(),n.end=e.serialize())),n},onSelectionChange:function(e){"function"==typeof e&&(this._selectionChangedHandler=Object(s.debounce)(e,this.DEBOUNCE_INTERVAL))},setSelection:function(e,t){e&&e.dom&&e.range&&(console.warn("setSelection/getSelection usage for text selection is deprecated and should not be used, see documentation for supported selection options"),this.setDomSelection(e));var n=this._getNodeInstancesByRange(e,t);n.forEach((function(e){e.expandTo()})),this.select(n)},_getNodeInstancesByRange:function(e,t){var n,i;e&&e.path&&(n=this.node.findNodeByPath(e.path),t&&t.path&&(i=this.node.findNodeByPath(t.path)));var r=[];if(n instanceof b)if(i instanceof b&&i!==n)if(n.parent===i.parent){t=n.getIndex()<i.getIndex()?(e=n,i):(e=i,n);var o=e;for(r.push(o);o=o.nextSibling(),r.push(o),o&&o!==t;);}else r=this._findTopLevelNodes(n,i);else r.push(n);return r},getNodesByRange:function(e,t){var n=this._getNodeInstancesByRange(e,t),i=[];return n.forEach((function(e){i.push(e.serialize())})),i}},R=[{mode:"tree",mixin:T,data:"json"},{mode:"view",mixin:T,data:"json"},{mode:"form",mixin:T,data:"json"}]},function(e,t,n){"use strict";n.r(t),n.d(t,"previewModeMixins",(function(){return m}));var i=n(1),r=n(8),o=n(15),s=n(5),a=n(6),l=n(21),c=n(2),h=n(9),d=n(0),u=function(){function e(t,n,i){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.onChange=t,this.calculateItemSize=n||function(){return 1},this.limit=i,this.items=[],this.index=-1}var t;return(t=[{key:"add",value:function(e){for(;this._calculateHistorySize()>this.limit&&1<this.items.length;)this.items.shift(),this.index--;this.items=this.items.slice(0,this.index+1),this.items.push(e),this.index++,this.onChange()}},{key:"_calculateHistorySize",value:function(){var e=this.calculateItemSize,t=0;return this.items.forEach((function(n){t+=e(n)})),t}},{key:"undo",value:function(){if(this.canUndo())return this.index--,this.onChange(),this.items[this.index]}},{key:"redo",value:function(){if(this.canRedo())return this.index++,this.onChange(),this.items[this.index]}},{key:"canUndo",value:function(){return 0<this.index}},{key:"canRedo",value:function(){return this.index<this.items.length-1}},{key:"clear",value:function(){this.items=[],this.index=-1,this.onChange()}}])&&function(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}(e.prototype,t),e}(),p=n(4),g=l.textModeMixins[0].mixin,f={create:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:{};void 0===t.statusBar&&(t.statusBar=!0),t.mainMenuBar=!1!==t.mainMenuBar,t.enableSort=!1!==t.enableSort,t.enableTransform=!1!==t.enableTransform,t.createQuery=t.createQuery||p.a,t.executeQuery=t.executeQuery||p.b,this.indentation="number"==typeof(this.options=t).indentation?Number(t.indentation):2,Object(i.b)(this.options.languages),Object(i.a)(this.options.language),this.mode="preview";var n=this;this.container=e,this.dom={},this.json=void 0,this.text="",this._debouncedValidate=Object(d.debounce)(this.validate.bind(this),this.DEBOUNCE_INTERVAL),this.width=e.clientWidth,this.height=e.clientHeight,this.frame=document.createElement("div"),this.frame.className="jsoneditor jsoneditor-mode-preview",this.frame.onclick=function(e){e.preventDefault()};var s,a,l,g,f,m,v,y,b={target:this.frame,onFocus:this.options.onFocus||null,onBlur:this.options.onBlur||null};this.frameFocusTracker=new h.a(b),this.content=document.createElement("div"),this.content.className="jsoneditor-outer",this.dom.busy=document.createElement("div"),this.dom.busy.className="jsoneditor-busy",this.dom.busyContent=document.createElement("span"),this.dom.busyContent.textContent="busy...",this.dom.busy.appendChild(this.dom.busyContent),this.content.appendChild(this.dom.busy),this.dom.previewContent=document.createElement("pre"),this.dom.previewContent.className="jsoneditor-preview",this.dom.previewText=document.createTextNode(""),this.dom.previewContent.appendChild(this.dom.previewText),this.content.appendChild(this.dom.previewContent),this.options.mainMenuBar&&(Object(d.addClassName)(this.content,"has-main-menu-bar"),this.menu=document.createElement("div"),this.menu.className="jsoneditor-menu",this.frame.appendChild(this.menu),(s=document.createElement("button")).type="button",s.className="jsoneditor-format",s.title=Object(i.c)("formatTitle"),this.menu.appendChild(s),s.onclick=function(){n.executeWithBusyMessage((function(){try{n.format()}catch(e){n._onError(e)}}),"formatting...")},(a=document.createElement("button")).type="button",a.className="jsoneditor-compact",a.title=Object(i.c)("compactTitle"),this.menu.appendChild(a),a.onclick=function(){n.executeWithBusyMessage((function(){try{n.compact()}catch(e){n._onError(e)}}),"compacting...")},this.options.enableSort&&((l=document.createElement("button")).type="button",l.className="jsoneditor-sort",l.title=Object(i.c)("sortTitleShort"),l.onclick=function(){n._showSortModal()},this.menu.appendChild(l)),this.options.enableTransform&&((g=document.createElement("button")).type="button",g.title=Object(i.c)("transformTitleShort"),g.className="jsoneditor-transform",g.onclick=function(){n._showTransformModal()},this.dom.transform=g,this.menu.appendChild(g)),(f=document.createElement("button")).type="button",f.className="jsoneditor-repair",f.title=Object(i.c)("repairTitle"),this.menu.appendChild(f),!(f.onclick=function(){void 0===n.json&&n.executeWithBusyMessage((function(){try{n.repair()}catch(e){n._onError(e)}}),"repairing...")})!==this.options.history&&(this.history=new u((function(){n.dom.undo.disabled=!n.history.canUndo(),n.dom.redo.disabled=!n.history.canRedo()}),(function(e){return 2*e.text.length}),c.c),(m=document.createElement("button")).type="button",m.className="jsoneditor-undo jsoneditor-separator",m.title=Object(i.c)("undo"),m.onclick=function(){var e=n.history.undo();e&&n._applyHistory(e)},this.menu.appendChild(m),this.dom.undo=m,(v=document.createElement("button")).type="button",v.className="jsoneditor-redo",v.title=Object(i.c)("redo"),v.onclick=function(){var e=n.history.redo();e&&n._applyHistory(e)},this.menu.appendChild(v),this.dom.redo=v,this.history.onChange()),this.options&&this.options.modes&&this.options.modes.length&&(this.modeSwitcher=new r.a(this.menu,this.options.modes,this.options.mode,(function(e){n.setMode(e),n.modeSwitcher.focus()})))),this.errorTable=new o.a({errorTableVisible:!0,onToggleVisibility:function(){n.validate()},onFocusLine:null,onChangeHeight:function(e){var t=e+(n.dom.statusBar?n.dom.statusBar.clientHeight:0)+1;n.content.style.marginBottom=-t+"px",n.content.style.paddingBottom=t+"px"}}),this.frame.appendChild(this.content),this.frame.appendChild(this.errorTable.getErrorTable()),this.container.appendChild(this.frame),t.statusBar&&(Object(d.addClassName)(this.content,"has-status-bar"),y=document.createElement("div"),(this.dom.statusBar=y).className="jsoneditor-statusbar",this.frame.appendChild(y),this.dom.fileSizeInfo=document.createElement("span"),this.dom.fileSizeInfo.className="jsoneditor-size-info",this.dom.fileSizeInfo.innerText="",y.appendChild(this.dom.fileSizeInfo),this.dom.arrayInfo=document.createElement("span"),this.dom.arrayInfo.className="jsoneditor-size-info",this.dom.arrayInfo.innerText="",y.appendChild(this.dom.arrayInfo),y.appendChild(this.errorTable.getErrorCounter()),y.appendChild(this.errorTable.getWarningIcon()),y.appendChild(this.errorTable.getErrorIcon())),this._renderPreview(),this.setSchema(this.options.schema,this.options.schemaRefs)},_renderPreview:function(){var e=this.getText();this.dom.previewText.nodeValue=Object(d.limitCharacters)(e,c.b),this.dom.fileSizeInfo&&(this.dom.fileSizeInfo.innerText="Size: "+Object(d.formatSize)(e.length)),this.dom.arrayInfo&&(this.dom.arrayInfo.innerText=Array.isArray(this.json)?"Array: "+this.json.length+" items":"")},_onChange:function(){if(this._debouncedValidate(),this.options.onChange)try{this.options.onChange()}catch(e){console.error("Error in onChange callback: ",e)}if(this.options.onChangeJSON)try{this.options.onChangeJSON(this.get())}catch(e){console.error("Error in onChangeJSON callback: ",e)}if(this.options.onChangeText)try{this.options.onChangeText(this.getText())}catch(e){console.error("Error in onChangeText callback: ",e)}},_showSortModal:function(){var e=this;this.executeWithBusyMessage((function(){var t=e.options.modalAnchor||c.a,n=e.get();e._renderPreview(),Object(s.showSortModal)(t,n,(function(t){e.executeWithBusyMessage((function(){var i,r,o,s;i=n,r=t,Array.isArray(i)&&(o=Object(d.sort)(i,r.path,r.direction),e.sortedBy=r,e._setAndFireOnChange(o)),Object(d.isObject)(i)&&(s=Object(d.sortObjectKeys)(i,r.direction),e.sortedBy=r,e._setAndFireOnChange(s))}),"sorting...")}),e.sortedBy)}),"parsing...")},_showTransformModal:function(){var e=this;this.executeWithBusyMessage((function(){var t=e.options,n=t.createQuery,i=t.executeQuery,r=t.modalAnchor,o=t.queryDescription,s=e.get();e._renderPreview(),Object(a.showTransformModal)({container:r||c.a,json:s,queryDescription:o,createQuery:n,executeQuery:i,onTransform:function(t){e.executeWithBusyMessage((function(){var n=i(s,t);e._setAndFireOnChange(n)}),"transforming...")}})}),"parsing...")},destroy:function(){this.frame&&this.container&&this.frame.parentNode===this.container&&this.container.removeChild(this.frame),this.modeSwitcher&&(this.modeSwitcher.destroy(),this.modeSwitcher=null),this._debouncedValidate=null,this.history&&(this.history.clear(),this.history=null),this.frameFocusTracker.destroy()},compact:function(){var e=this.get(),t=JSON.stringify(e);this._setTextAndFireOnChange(t,e)},format:function(){var e=this.get(),t=JSON.stringify(e,null,this.indentation);this._setTextAndFireOnChange(t,e)},repair:function(){var e=this.getText(),t=Object(d.repair)(e);this._setTextAndFireOnChange(t)},focus:function(){this.dom.transform.focus()},set:function(e){this.history&&this.history.clear(),this._set(e)},update:function(e){this._set(e)},_set:function(e){this.text=void 0,this.json=e,this._renderPreview(),this._pushHistory(),this._debouncedValidate()},_setAndFireOnChange:function(e){this._set(e),this._onChange()},get:function(){var e;return void 0===this.json&&(e=this.getText(),this.json=Object(d.parse)(e)),this.json},getText:function(){return void 0===this.text&&(this.text=JSON.stringify(this.json,null,this.indentation),!0===this.options.escapeUnicode&&(this.text=Object(d.escapeUnicodeChars)(this.text))),this.text},setText:function(e){this.history&&this.history.clear(),this._setText(e)},updateText:function(e){this.getText()!==e&&this._setText(e)},_setText:function(e,t){var n;this.text=!0===this.options.escapeUnicode?Object(d.escapeUnicodeChars)(e):e,this.json=t,this._renderPreview(),void 0===this.json?(n=this).executeWithBusyMessage((function(){try{n.json=n.get(),n._renderPreview(),n._pushHistory()}catch(e){}}),"parsing..."):this._pushHistory(),this._debouncedValidate()},_setTextAndFireOnChange:function(e,t){this._setText(e,t),this._onChange()},_applyHistory:function(e){this.json=e.json,this.text=e.text,this._renderPreview(),this._debouncedValidate()},_pushHistory:function(){this.history&&this.history.add({text:this.text,json:this.json})},executeWithBusyMessage:function(e,t){var n;this.getText().length>c.d?(n=this,Object(d.addClassName)(n.frame,"busy"),n.dom.busyContent.innerText=t,setTimeout((function(){e(),Object(d.removeClassName)(n.frame,"busy"),n.dom.busyContent.innerText=""}),100)):e()}};f.validate=g.validate,f._renderErrors=g._renderErrors;var m=[{mode:"preview",mixin:f,data:"json"}]}],e.c=n,e.d=function(t,n,i){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:i})},e.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var r in t)e.d(i,r,(function(e){return t[e]}).bind(null,r));return i},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},e.p="",e(e.s=36);function e(i){if(n[i])return n[i].exports;var r=n[i]={i:i,l:!1,exports:{}};return t[i].call(r.exports,r,r.exports,e),r.l=!0,r.exports}var t,n}()},oOCA:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n("xbL7");t.Queue=class extends i.LinkedList{constructor(...e){super(...e)}get front(){return this.head}enqueue(e){this.append(e)}dequeue(){return this.removeHead()}}},qLhR:function(e,t,n){var i;i=function(){return function(e){var t={};function n(i){if(t[i])return t[i].exports;var r=t[i]={i:i,l:!1,exports:{}};return e[i].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=e,n.c=t,n.i=function(e){return e},n.d=function(e,t,i){n.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:i})},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=3)}([function(e,t,n){"use strict";var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r=n(2),o=i(""),s=i({}),a=i((function(){})),l=function(e){return(void 0===e?"undefined":i(e))===s},c=function(e){return(void 0===e?"undefined":i(e))===a},h=function(e){return l(e)&&c(e.collection)},d=n(1),u=function(e){return null!=e&&!e.removed()},p=function(e,t){return(p=null!=e.has?function(e,t){return e.has(t)}:function(e,t){return e.intersection(t).length>0})(e,t)},g=function(e){if((void 0===(t=e)?"undefined":i(t))===o)return function(t){return t.is(e)};if(c(e))return e;if(h(e))return function(t){return p(e,t)};throw new Error("Can not create match function for spec",e);var t},f=[],m=function(e,t,n,i,r){var o=function(e,t,n,i){var r={cy:e,events:t,selector:n||"node",fn:i};return f.push(r),e.on(r.events,r.selector,r.fn),r}(t,n,i,r);(e.bindings=e.bindings||[]).push(o)},v=function(e){e.bindings.forEach((function(e){e.cy.off(e.events,e.selector,e.fn)})),e.bindings=[]},y=function(e,t,n){return e<t?t:e>n?n:e},b=function(e,t){var n=e.position();return{x:y(n.x,t.x1,t.x2),y:y(n.y,t.y1,t.y2)}},C=function(e,t){e.removeListener("add","node",t.onAddNode),e.removeListener("remove","node",t.onRmNode)},w=function(e,t){var n=e.scratch().automove;t=null!=t?t:n.rules,e.batch((function(){for(var e=0;e<t.length;e++){var i=t[e];if(i.destroyed||!i.enabled)break;for(var r=i.nodes||n.nodes,o=r.length-1;o>=0;o--){var s=r[o];if(s.removed())r.unmerge(s);else if(i.matches(s)){var a=s.position(),l=i.getNewPos(s);null!=l&&(a.x!==l.x||a.y!==l.y)&&(s.position(l),s.trigger("automove",[i]))}}}}))};e.exports=function(e){var t=this,n=t.scratch().automove=t.scratch().automove||{rules:[]};if(0===n.rules.length&&(n.nodes=t.nodes().slice(),function(e,t){t.onAddNode=function(e){t.nodes.merge(e.target)},t.onRmNode=function(e){t.nodes.unmerge(e.target)},e.on("add","node",t.onAddNode),e.on("remove","node",t.onRmNode)}(t,n)),"destroy"===e)return n.rules.forEach((function(e){v(e),e.destroyed=!0})),n.rules.splice(0,n.rules.length),void C(t,n);var i=function(e,t,n){var i=d({},r,n);if(i.getNewPos=function(e,t){var n,i,r=e.reposition;return"mean"===r?(i=g(e.meanIgnores),function(e){for(var t=e.neighborhood(),n={x:0,y:0},r=0,o=0;o<t.length;o++){var s=t[o];if(s.isNode()&&!i(s)){var a=s.position();n.x+=a.x,n.y+=a.y,r++}}if(!(r<2))return n.x/=r,n.y/=r,n}):"viewport"===r?function(e){return function(t){var n=e.extent(),i=t.outerWidth(),r=t.outerHeight();return b(t,{x1:n.x1+i/2,x2:n.x2-i/2,y1:n.y1+r/2,y2:n.y2-r/2})}}(t):"drag"===r?function(e){return function(t){var n=t.position(),i=e.delta;if(null!=e.delta&&!t.same(e.grabbedNode)&&!t.grabbed())return{x:n.x+i.x,y:n.y+i.y}}}(e):l(r)?null==r.type||"inside"==r.type?(n=r,function(e){return b(e,n)}):"outside"==r.type?function(e){return function(t){return function(e,t){var n=e.position(),i=n.x,r=n.y,o=t.x1,s=t.y1,a=t.x2,l=t.y2,c=Math.abs;if(o<=i&&i<=a&&s<=r&&r<=l){var h=c(o-i),d=c(a-i),u=c(s-r),p=c(l-r),g=Math.min(h,d,u,p);return g===h?{x:o,y:r}:g===d?{x:a,y:r}:g===u?{x:i,y:s}:{x:i,y:l}}return{x:i,y:r}}(t,e)}}(r):void 0:r}(i,e),i.listener=function(e,t){return"mean"===t.reposition?function(e){return function(t,n){var i=function(t){return e.matches(t)&&t.neighborhood().length>2&&!t.grabbed()};m(e,n,"position","node",(function(){(this.neighborhood().some(i)||e.meanOnSelfPosition(this)&&i(this))&&t(n,[e])})),m(e,n,"add remove","edge",(function(){[n.getElementById(this.data("source")),n.getElementById(this.data("target"))].some(i)&&t(n,[e])}))}}(t):"drag"===t.reposition?function(e){return function(t,n){m(e,n,"grab","node",(function(){if(e.dragWithMatches(this)){var t=this.position();e.grabbedNode=this,e.p1={x:t.x,y:t.y},e.delta={x:0,y:0}}})),m(e,n,"drag","node",(function(){if(this.same(e.grabbedNode)){var i=e.delta,r=e.p1,o=this.position(),s={x:o.x,y:o.y};i.x=s.x-r.x,i.y=s.y-r.y,e.p1=s,t(n,[e])}})),m(e,n,"free","node",(function(){e.grabbedNode=null,e.delta=null,e.p1=null}))}}(t):l(t.reposition)||"matching"===t.when||"viewport"===t.reposition?function(e){return function(t,n){m(e,n,"position","node",(function(){e.matches(this)&&t(n,[e])}))}}(t):t.when}(0,i),h(i.nodesMatching))i.nodes=i.nodesMatching.slice(),i.matches=function(e){return u(e)&&p(i.nodes,e)};else{var o=g(i.nodesMatching);i.matches=function(e){return u(e)&&o(e)}}return null!=i.dragWith&&(i.dragWithMatches=g(i.dragWith)),i.listener((function(){w(e,[i])}),e),i.enabled=!0,t.rules.push(i),i}(t,n,e);return w(t,[i]),{apply:function(){w(t,[i])},disable:function(){this.toggle(!1)},enable:function(){this.toggle(!0)},enabled:function(){return i.enabled},toggle:function(e){i.enabled=void 0!==e?e:!i.enabled,i.enabled&&w(t,[i])},destroy:function(){var e=n.rules;return v(i),i.destroyed=!0,e.splice(e.indexOf(i),1),0===e.length&&C(t,n),this}}}},function(e,t,n){"use strict";e.exports=null!=Object.assign?Object.assign.bind(Object):function(e){for(var t=arguments.length,n=Array(t>1?t-1:0),i=1;i<t;i++)n[i-1]=arguments[i];return n.forEach((function(t){Object.keys(t).forEach((function(n){return e[n]=t[n]}))})),e}},function(e,t,n){"use strict";e.exports={nodesMatching:function(e){return!1},reposition:"mean",when:void 0,meanIgnores:function(e){return!1},meanOnSelfPosition:function(e){return!0},dragWith:function(e){return!1}}},function(e,t,n){"use strict";var i=n(0),r=function(e){e&&e("core","automove",i)};"undefined"!=typeof cytoscape&&r(cytoscape),e.exports=r}])},e.exports=i()},xbL7:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});class i{constructor(...e){this._head=this._tail=null,this._length=0,e.length>0&&e.forEach(e=>{this.append(e)})}*iterator(){let e=this._head;for(;e;)yield e.value,e=e.next}[Symbol.iterator](){return this.iterator()}get head(){return this._head?this._head.value:null}get tail(){return this._tail?this._tail.value:null}get length(){return this._length}insert(e,t,n=!1){if(n&&this.isDuplicate(e))return!1;let i=new r(e),o=this._head;if(!o)return!1;for(;;){if(o.value===t)return i.next=o.next,i.prev=o,o.next=i,i.next?i.next.prev=i:this._tail=i,this._length++,!0;if(!o.next)return!1;o=o.next}}append(e,t=!1){if(t&&this.isDuplicate(e))return!1;let n=new r(e);return this._tail?(this._tail.next=n,n.prev=this._tail,this._tail=n):this._head=this._tail=n,this._length++,!0}prepend(e,t=!1){if(t&&this.isDuplicate(e))return!1;let n=new r(e);return this._head?(n.next=this._head,this._head.prev=n,this._head=n):this._head=this._tail=n,this._length++,!0}remove(e){let t=this._head;if(t){if(t.value===e)return this._head=t.next,this._head.prev=null,t.next=t.prev=null,this._length--,t.value;for(;;){if(t.value===e)return t.next?(t.prev.next=t.next,t.next.prev=t.prev,t.next=t.prev=null):(t.prev.next=null,this._tail=t.prev,t.next=t.prev=null),this._length--,t.value;if(!t.next)return;t=t.next}}}removeHead(){let e=this._head;if(e)return this._head.next?(this._head.next.prev=null,this._head=this._head.next,e.next=e.prev=null):(this._head=null,this._tail=null),this._length--,e.value}removeTail(){let e=this._tail;if(e)return this._tail.prev?(this._tail.prev.next=null,this._tail=this._tail.prev,e.next=e.prev=null):(this._head=null,this._tail=null),this._length--,e.value}first(e){let t=this.iterator(),n=[],i=Math.min(e,this.length);for(let r=0;r<i;r++){let e=t.next();n.push(e.value)}return n}toArray(){return[...this]}isDuplicate(e){return new Set(this.toArray()).has(e)}}t.LinkedList=i;class r{constructor(e){this.value=e,this.next=null,this.prev=null}}t.LinkedListItem=r},zRRv:function(e,t,n){var i;!function(){"use strict";var r,o,s={container:!1,viewLiveFramerate:0,dblClickDelay:200,removeCustomContainer:!0,rerenderDelay:500},a=(r=Math.max,o=Date.now||function(){return(new Date).getTime()},function(e,t,n){var i,s,a,l,c,h,d,u,p,g=0,f=!1,m=!0;if("function"!=typeof e)throw new TypeError("Expected a function");if(t=t<0?0:+t||0,!0===n){var v=!0;m=!1}else p=typeof(u=n),!u||"object"!=p&&"function"!=p||(v=!!n.leading,f="maxWait"in n&&r(+n.maxWait||0,t),m="trailing"in n?!!n.trailing:m);function y(t,n){n&&clearTimeout(n),s=h=d=void 0,t&&(g=o(),a=e.apply(c,i),h||s||(i=c=void 0))}function b(){var e=t-(o()-l);e<=0||e>t?y(d,s):h=setTimeout(b,e)}function C(){y(m,h)}function w(){if(i=arguments,l=o(),c=this,d=m&&(h||!v),!1===f)var n=v&&!h;else{s||v||(g=l);var r=f-(l-g),u=r<=0||r>f;u?(s&&(s=clearTimeout(s)),g=l,a=e.apply(c,i)):s||(s=setTimeout(C,r))}return u&&h?h=clearTimeout(h):h||t===f||(h=setTimeout(b,t)),n&&(u=!0,a=e.apply(c,i)),!u||h||s||(i=c=void 0),a}return w.cancel=function(){h&&clearTimeout(h),s&&clearTimeout(s),g=0,s=h=d=void 0},w}),l=function(e,t){this._init(e,t)},c=function(){for(var e=1;e<arguments.length;e++)for(var t in arguments[e])arguments[e].hasOwnProperty(t)&&(arguments[0][t]=arguments[e][t]);return arguments[0]},h=function(e){return e.getBoundingClientRect().width},d=function(e){return e.getBoundingClientRect().height};l.prototype={constructor:l,bb:function(){var e=this.cy.elements().boundingBox();return 0===e.w||0===e.h?{x1:0,x2:1/0,y1:0,y2:1/0,w:1/0,h:1/0}:e},_addCyListener:function(e,t){this._cyListeners.push({events:e,handler:t}),this.cy.on(e,t)},_removeCyListeners:function(){var e=this.cy;this._cyListeners.forEach((function(t){e.off(t.events,t.handler)})),e.offRender(this._onRenderHandler)},_init:function(e,t){this._cyListeners=[],this.$element=e.container(),this.options=c({},s,t),this.cy=e,this.boundingBox=this.bb(),this.width=h(this.$element),this.height=d(this.$element),this._initPanel(),this._initThumbnail(),this._initView(),this._initOverlay()},destroy:function(){this._removeEventsHandling(),this.options.container&&!this.options.removeCustomContainer?this.$panel.innerHTML="":this.$panel.parentElement.removeChild(this.$panel)},_initPanel:function(){var e=this.options;e.container&&"string"==typeof e.container&&e.container.length>0?this.$panel=-1!==e.container.indexOf("#")?document.getElementById(e.container.replace("#","")):document.getElementsByClassName(e.container.replace(".",""))[0]:(this.$panel=document.createElement("div"),this.$panel.className="cytoscape-navigator",document.body.appendChild(this.$panel)),this._setupPanel(),this._addCyListener("resize",this.resize.bind(this))},_setupPanel:function(){this.panelWidth=h(this.$panel),this.panelHeight=d(this.$panel)},_initThumbnail:function(){this.$thumbnail=document.createElement("img"),this.$panel.appendChild(this.$thumbnail),this._setupThumbnailSizes(),this._setupThumbnail()},_setupThumbnail:function(){this._updateThumbnailImage()},_setupThumbnailSizes:function(){this.boundingBox=this.bb(),this.thumbnailZoom=Math.min(this.panelHeight/this.boundingBox.h,this.panelWidth/this.boundingBox.w),this.thumbnailPan={x:(this.panelWidth-this.thumbnailZoom*(this.boundingBox.x1+this.boundingBox.x2))/2,y:(this.panelHeight-this.thumbnailZoom*(this.boundingBox.y1+this.boundingBox.y2))/2}},_checkThumbnailSizesAndUpdate:function(){var e=this.thumbnailZoom,t=this.thumbnailPan.x,n=this.thumbnailPan.y;this._setupThumbnailSizes(),e!=this.thumbnailZoom||t!=this.thumbnailPan.x||n!=this.thumbnailPan.y?(this._setupThumbnail(),this._setupView()):this._updateThumbnailImage()},_initView:function(){this.$view=document.createElement("div"),this.$view.className="cytoscape-navigatorView",this.$panel.appendChild(this.$view),this.viewBorderTop=parseInt(this.$view.style["border-top-width"],10)||0,this.viewBorderRight=parseInt(this.$view.style["border-right-width"],10)||0,this.viewBorderBottom=parseInt(this.$view.style["border-bottom-width"],10)||0,this.viewBorderLeft=parseInt(this.$view.style["border-left-width"],10)||0,this.viewBorderHorizontal=this.viewBorderLeft+this.viewBorderRight,this.viewBorderVertical=this.viewBorderTop+this.viewBorderBottom,this._setupView(),this._addCyListener("zoom pan",this._setupView.bind(this))},_setupView:function(){if(!this.viewLocked){var e=this.cy.zoom(),t=this.cy.pan();this.viewW=this.width/e*this.thumbnailZoom,this.viewX=-t.x*this.viewW/this.width+this.thumbnailPan.x-this.viewBorderLeft,this.viewH=this.height/e*this.thumbnailZoom,this.viewY=-t.y*this.viewH/this.height+this.thumbnailPan.y-this.viewBorderTop,this.$view.style.width=this.viewW+"px",this.$view.style.height=this.viewH+"px",this.$view.style.position="absolute",this.$view.style.left=this.viewX+"px",this.$view.style.top=this.viewY+"px"}},_initOverlay:function(){this.$overlay=document.createElement("div"),this.$overlay.className="cytoscape-navigatorOverlay",this.$panel.appendChild(this.$overlay),this.overlayHookPointX=0,this.overlayHookPointY=0,this._initEventsHandling()},resize:function(){this.width=h(this.$element),this.height=d(this.$element),this._thumbnailSetup=!1,this._setupPanel(),this._checkThumbnailSizesAndUpdate(),this._setupView()},_initEventsHandling:function(){for(var e=this,t=["mousedown","mousewheel","DOMMouseScroll","touchstart"],n=["mouseup","mouseout","mousemove","touchmove","touchend"],i=function(t){if("touchstart"==t.type&&(Object.defineProperty(t,"offsetX",{value:e.viewX+e.viewW/2,writable:!0}),Object.defineProperty(t,"offsetY",{value:e.viewY+e.viewH/2,writable:!0})),void 0===t.offsetX||void 0===t.offsetY){var n=t.target.getBoundingClientRect(),i={top:n.top+window.scrollY,left:n.left+window.scrollX};Object.defineProperty(t,"offsetX",{value:t.pageX-i.left,writable:!0}),Object.defineProperty(t,"offsetY",{value:t.pageY-i.top,writable:!0})}return"mousedown"==t.type||"touchstart"==t.type?e._eventMoveStart(t):"mousewheel"!=t.type&&"DOMMouseScroll"!=t.type||e._eventZoom(t),!1},r=function(t){if(e.overlayInMovement){if("touchend"==t.type?(Object.defineProperty(t,"offsetX",{value:e.viewX+e.viewW/2,writable:!0}),Object.defineProperty(t,"offsetY",{value:e.viewY+e.viewH/2,writable:!0})):"touchmove"==t.type&&(Object.defineProperty(t,"pageX",{value:t.originalEvent.touches[0].pageX,writable:!0}),Object.defineProperty(t,"pageY",{value:t.originalEvent.touches[0].pageY,writable:!0})),void 0===t.offsetX||void 0===t.offsetY){var n={top:(i=t.target.getBoundingClientRect()).top+window.scrollY,left:i.left+window.scrollX};Object.defineProperty(t,"offsetX",{value:t.pageX-n.left,writable:!0}),Object.defineProperty(t,"offsetY",{value:t.pageY-n.top,writable:!0})}if(t.target!==e.$overlay){var i=t.target.getBoundingClientRect(),r=e.$overlay.getBoundingClientRect(),o=(n={top:i.top+window.scrollY,left:i.left+window.scrollX},{top:r.top+window.scrollY,left:r.left+window.scrollX});if(!n||!o)return!1;Object.defineProperty(t,"offsetX",{value:t.offsetX-o.left+n.left,writable:!0}),Object.defineProperty(t,"offsetY",{value:t.offsetY-o.top+n.top,writable:!0})}return"mousemove"==t.type||"touchmove"==t.type?e._eventMove(t):"mouseup"!=t.type&&"touchend"!=t.type||e._eventMoveEnd(t),!1}},o=0;o<t.length;o++)this.$overlay.addEventListener(t[o],i,!1);for(o=0;o<n.length;o++)window.addEventListener(n[o],r,!1);this._removeEventsHandling=function(){for(var e=0;e<t.length;e++)this.$overlay.removeEventListener(t[e],i);for(e=0;e<n.length;e++)window.removeEventListener(n[e],r)}},_eventMoveStart:function(e){var t=(new Date).getTime();this.overlayLastMoveStartTime&&this.overlayLastMoveStartTime+this.options.dblClickDelay>t?(this.overlayLastMoveStartTime=0,this.overlayInMovement=!0,this.overlayHookPointX=this.viewW/2,this.overlayHookPointY=this.viewH/2,!1!==this.options.viewLiveFramerate?this._eventMove({offsetX:this.panelWidth/2,offsetY:this.panelHeight/2}):this._eventMoveEnd({offsetX:this.panelWidth/2,offsetY:this.panelHeight/2}),this.overlayInMovement=!1):(this.overlayLastMoveStartTime=t,this.overlayInMovement=!0,this.viewLocked=!0,e.offsetX>=this.viewX&&e.offsetX<=this.viewX+this.viewW&&e.offsetY>=this.viewY&&e.offsetY<=this.viewY+this.viewH?(this.overlayHookPointX=e.offsetX-this.viewX,this.overlayHookPointY=e.offsetY-this.viewY):(this.overlayHookPointX=this.viewW/2,this.overlayHookPointY=this.viewH/2,this._eventMove(e)))},_eventMove:function(e){var t=this;this._checkMousePosition(e),this.overlayInMovement&&(this.viewX=e.offsetX-this.overlayHookPointX,this.viewY=e.offsetY-this.overlayHookPointY,this.$view.style.left=this.viewX+"px",this.$view.style.top=this.viewY+"px",!1!==this.options.viewLiveFramerate&&(0==this.options.viewLiveFramerate?this._moveCy():this.overlayTimeout||(this.overlayTimeout=setTimeout((function(){t._moveCy(),t.overlayTimeout=!1}),1e3/this.options.viewLiveFramerate))))},_checkMousePosition:function(e){e.offsetX>this.viewX&&e.offsetX<this.viewX+this.viewBorderHorizontal+this.viewW&&e.offsetY>this.viewY&&e.offsetY<this.viewY+this.viewBorderVertical+this.viewH?this.$panel.classList.add("mouseover-view"):this.$panel.classList.remove("mouseover-view")},_eventMoveEnd:function(e){this.viewLocked=!1,this.$panel.classList.remove("mouseover-view"),this.overlayInMovement&&(this._eventMove(e),!1===this.options.viewLiveFramerate&&this._moveCy(),this.overlayInMovement=!1)},_eventZoom:function(e){var t=c({},e.originalEvent),n=Math.pow(10,e.wheelDeltaY/1e3||e.wheelDelta/1e3||e.detail/-32||t.wheelDeltaY/1e3||t.wheelDelta/1e3||t.detail/-32),i={left:e.offsetX,top:e.offsetY};this.cy.zoomingEnabled()&&this._zoomCy(n,i)},_updateThumbnailImage:function(){var e,t,n,i,r,o=this;this._thumbnailUpdating||(this._thumbnailUpdating=!0,this._onRenderHandler=(e=function(){o._checkThumbnailSizesAndUpdate(),o._setupView();var e=o.$thumbnail,t=e,n=o.panelWidth,i=o.panelHeight,r=o.boundingBox,s=Math.min(n/r.w,i/r.h),a=o.cy.png({full:!0,scale:s,maxHeight:i,maxWidth:n});a.indexOf("image/png")<0?t.removeAttribute("src"):t.setAttribute("src",a);var l=(n-s*r.w)/2,c=(i-s*r.h)/2;e.style.position="absolute",e.style.left=l+"px",e.style.top=c+"px"},t=o.options.rerenderDelay,i=!0,r=!0,!1===n?i=!1:typeof n==typeof{}&&(i="leading"in n?n.leading:i,r="trailing"in n?n.trailing:r),(n=n||{}).leading=i,n.maxWait=t,n.trailing=r,a(e,t,n)),this.cy.onRender(this._onRenderHandler))},_moveCy:function(){this.cy.pan({x:-(this.viewX+this.viewBorderLeft-this.thumbnailPan.x)*this.width/this.viewW,y:-(this.viewY+this.viewBorderLeft-this.thumbnailPan.y)*this.height/this.viewH})},_zoomCy:function(e,t){var n;n={x:this.width/2,y:this.height/2},this.cy.zoom({level:this.cy.zoom()*e,renderedPosition:n})}};var u=function(e){e&&e("core","navigator",(function(e){return new l(this,e)}))};e.exports?e.exports=function(e){u(e)}:void 0===(i=(function(){return u}).call(t,n,t,e))||(e.exports=i),"undefined"!=typeof cytoscape&&u(cytoscape)}()},zUnb:function(e,t,n){"use strict";function i(e){return"function"==typeof e}n.r(t);let r=!1;const o={Promise:void 0,set useDeprecatedSynchronousErrorHandling(e){if(e){const e=new Error;console.warn("DEPRECATED! RxJS was set to use deprecated synchronous error handling behavior by code at: \n"+e.stack)}else r&&console.log("RxJS: Back to a better error behavior. Thank you. <3");r=e},get useDeprecatedSynchronousErrorHandling(){return r}};function s(e){setTimeout(()=>{throw e},0)}const a={closed:!0,next(e){},error(e){if(o.useDeprecatedSynchronousErrorHandling)throw e;s(e)},complete(){}},l=(()=>Array.isArray||(e=>e&&"number"==typeof e.length))();function c(e){return null!==e&&"object"==typeof e}const h=(()=>{function e(e){return Error.call(this),this.message=e?`${e.length} errors occurred during unsubscription:\n${e.map((e,t)=>`${t+1}) ${e.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=e,this}return e.prototype=Object.create(Error.prototype),e})();let d=(()=>{class e{constructor(e){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,e&&(this._unsubscribe=e)}unsubscribe(){let t;if(this.closed)return;let{_parentOrParents:n,_unsubscribe:r,_subscriptions:o}=this;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(let e=0;e<n.length;++e)n[e].remove(this);if(i(r))try{r.call(this)}catch(s){t=s instanceof h?u(s.errors):[s]}if(l(o)){let e=-1,n=o.length;for(;++e<n;){const n=o[e];if(c(n))try{n.unsubscribe()}catch(s){t=t||[],s instanceof h?t=t.concat(u(s.errors)):t.push(s)}}}if(t)throw new h(t)}add(t){let n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){const t=n;n=new e,n._subscriptions=[t]}break;default:throw new Error("unrecognized teardown "+t+" added to Subscription.")}let{_parentOrParents:i}=n;if(null===i)n._parentOrParents=this;else if(i instanceof e){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}const r=this._subscriptions;return null===r?this._subscriptions=[n]:r.push(n),n}remove(e){const t=this._subscriptions;if(t){const n=t.indexOf(e);-1!==n&&t.splice(n,1)}}}return e.EMPTY=function(e){return e.closed=!0,e}(new e),e})();function u(e){return e.reduce((e,t)=>e.concat(t instanceof h?t.errors:t),[])}const p=(()=>"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random())();class g extends d{constructor(e,t,n){switch(super(),this.syncErrorValue=null,this.syncErrorThrown=!1,this.syncErrorThrowable=!1,this.isStopped=!1,arguments.length){case 0:this.destination=a;break;case 1:if(!e){this.destination=a;break}if("object"==typeof e){e instanceof g?(this.syncErrorThrowable=e.syncErrorThrowable,this.destination=e,e.add(this)):(this.syncErrorThrowable=!0,this.destination=new f(this,e));break}default:this.syncErrorThrowable=!0,this.destination=new f(this,e,t,n)}}[p](){return this}static create(e,t,n){const i=new g(e,t,n);return i.syncErrorThrowable=!1,i}next(e){this.isStopped||this._next(e)}error(e){this.isStopped||(this.isStopped=!0,this._error(e))}complete(){this.isStopped||(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe())}_next(e){this.destination.next(e)}_error(e){this.destination.error(e),this.unsubscribe()}_complete(){this.destination.complete(),this.unsubscribe()}_unsubscribeAndRecycle(){const{_parentOrParents:e}=this;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=e,this}}class f extends g{constructor(e,t,n,r){let o;super(),this._parentSubscriber=e;let s=this;i(t)?o=t:t&&(o=t.next,n=t.error,r=t.complete,t!==a&&(s=Object.create(t),i(s.unsubscribe)&&this.add(s.unsubscribe.bind(s)),s.unsubscribe=this.unsubscribe.bind(this))),this._context=s,this._next=o,this._error=n,this._complete=r}next(e){if(!this.isStopped&&this._next){const{_parentSubscriber:t}=this;o.useDeprecatedSynchronousErrorHandling&&t.syncErrorThrowable?this.__tryOrSetError(t,this._next,e)&&this.unsubscribe():this.__tryOrUnsub(this._next,e)}}error(e){if(!this.isStopped){const{_parentSubscriber:t}=this,{useDeprecatedSynchronousErrorHandling:n}=o;if(this._error)n&&t.syncErrorThrowable?(this.__tryOrSetError(t,this._error,e),this.unsubscribe()):(this.__tryOrUnsub(this._error,e),this.unsubscribe());else if(t.syncErrorThrowable)n?(t.syncErrorValue=e,t.syncErrorThrown=!0):s(e),this.unsubscribe();else{if(this.unsubscribe(),n)throw e;s(e)}}}complete(){if(!this.isStopped){const{_parentSubscriber:e}=this;if(this._complete){const t=()=>this._complete.call(this._context);o.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,t),this.unsubscribe()):(this.__tryOrUnsub(t),this.unsubscribe())}else this.unsubscribe()}}__tryOrUnsub(e,t){try{e.call(this._context,t)}catch(n){if(this.unsubscribe(),o.useDeprecatedSynchronousErrorHandling)throw n;s(n)}}__tryOrSetError(e,t,n){if(!o.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{t.call(this._context,n)}catch(i){return o.useDeprecatedSynchronousErrorHandling?(e.syncErrorValue=i,e.syncErrorThrown=!0,!0):(s(i),!0)}return!1}_unsubscribe(){const{_parentSubscriber:e}=this;this._context=null,this._parentSubscriber=null,e.unsubscribe()}}const m=(()=>"function"==typeof Symbol&&Symbol.observable||"@@observable")();function v(e){return e}let y=(()=>{class e{constructor(e){this._isScalar=!1,e&&(this._subscribe=e)}lift(t){const n=new e;return n.source=this,n.operator=t,n}subscribe(e,t,n){const{operator:i}=this,r=function(e,t,n){if(e){if(e instanceof g)return e;if(e[p])return e[p]()}return e||t||n?new g(e,t,n):new g(a)}(e,t,n);if(r.add(i?i.call(r,this.source):this.source||o.useDeprecatedSynchronousErrorHandling&&!r.syncErrorThrowable?this._subscribe(r):this._trySubscribe(r)),o.useDeprecatedSynchronousErrorHandling&&r.syncErrorThrowable&&(r.syncErrorThrowable=!1,r.syncErrorThrown))throw r.syncErrorValue;return r}_trySubscribe(e){try{return this._subscribe(e)}catch(t){o.useDeprecatedSynchronousErrorHandling&&(e.syncErrorThrown=!0,e.syncErrorValue=t),function(e){for(;e;){const{closed:t,destination:n,isStopped:i}=e;if(t||i)return!1;e=n&&n instanceof g?n:null}return!0}(e)?e.error(t):console.warn(t)}}forEach(e,t){return new(t=b(t))((t,n)=>{let i;i=this.subscribe(t=>{try{e(t)}catch(r){n(r),i&&i.unsubscribe()}},n,t)})}_subscribe(e){const{source:t}=this;return t&&t.subscribe(e)}[m](){return this}pipe(...e){return 0===e.length?this:(0===(t=e).length?v:1===t.length?t[0]:function(e){return t.reduce((e,t)=>t(e),e)})(this);var t}toPromise(e){return new(e=b(e))((e,t)=>{let n;this.subscribe(e=>n=e,e=>t(e),()=>e(n))})}}return e.create=t=>new e(t),e})();function b(e){if(e||(e=o.Promise||Promise),!e)throw new Error("no Promise impl found");return e}const C=(()=>{function e(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return e.prototype=Object.create(Error.prototype),e})();class w extends d{constructor(e,t){super(),this.subject=e,this.subscriber=t,this.closed=!1}unsubscribe(){if(this.closed)return;this.closed=!0;const e=this.subject,t=e.observers;if(this.subject=null,!t||0===t.length||e.isStopped||e.closed)return;const n=t.indexOf(this.subscriber);-1!==n&&t.splice(n,1)}}class _ extends g{constructor(e){super(e),this.destination=e}}let x=(()=>{class e extends y{constructor(){super(),this.observers=[],this.closed=!1,this.isStopped=!1,this.hasError=!1,this.thrownError=null}[p](){return new _(this)}lift(e){const t=new I(this,this);return t.operator=e,t}next(e){if(this.closed)throw new C;if(!this.isStopped){const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].next(e)}}error(e){if(this.closed)throw new C;this.hasError=!0,this.thrownError=e,this.isStopped=!0;const{observers:t}=this,n=t.length,i=t.slice();for(let r=0;r<n;r++)i[r].error(e);this.observers.length=0}complete(){if(this.closed)throw new C;this.isStopped=!0;const{observers:e}=this,t=e.length,n=e.slice();for(let i=0;i<t;i++)n[i].complete();this.observers.length=0}unsubscribe(){this.isStopped=!0,this.closed=!0,this.observers=null}_trySubscribe(e){if(this.closed)throw new C;return super._trySubscribe(e)}_subscribe(e){if(this.closed)throw new C;return this.hasError?(e.error(this.thrownError),d.EMPTY):this.isStopped?(e.complete(),d.EMPTY):(this.observers.push(e),new w(this,e))}asObservable(){const e=new y;return e.source=this,e}}return e.create=(e,t)=>new I(e,t),e})();class I extends x{constructor(e,t){super(),this.destination=e,this.source=t}next(e){const{destination:t}=this;t&&t.next&&t.next(e)}error(e){const{destination:t}=this;t&&t.error&&this.destination.error(e)}complete(){const{destination:e}=this;e&&e.complete&&this.destination.complete()}_subscribe(e){const{source:t}=this;return t?this.source.subscribe(e):d.EMPTY}}function A(e){return e&&"function"==typeof e.schedule}class k extends g{constructor(e,t,n){super(),this.parent=e,this.outerValue=t,this.outerIndex=n,this.index=0}_next(e){this.parent.notifyNext(this.outerValue,e,this.outerIndex,this.index++,this)}_error(e){this.parent.notifyError(e,this),this.unsubscribe()}_complete(){this.parent.notifyComplete(this),this.unsubscribe()}}const S=e=>t=>{for(let n=0,i=e.length;n<i&&!t.closed;n++)t.next(e[n]);t.complete()};function E(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}const O=E(),P=e=>e&&"number"==typeof e.length&&"function"!=typeof e;function M(e){return!!e&&"function"!=typeof e.subscribe&&"function"==typeof e.then}const T=e=>{if(e&&"function"==typeof e[m])return i=e,e=>{const t=i[m]();if("function"!=typeof t.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return t.subscribe(e)};if(P(e))return S(e);if(M(e))return n=e,e=>(n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,s),e);if(e&&"function"==typeof e[O])return t=e,e=>{const n=t[O]();for(;;){const t=n.next();if(t.done){e.complete();break}if(e.next(t.value),e.closed)break}return"function"==typeof n.return&&e.add(()=>{n.return&&n.return()}),e};{const t=c(e)?"an invalid object":`'${e}'`;throw new TypeError(`You provided ${t} where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.`)}var t,n,i};function R(e,t,n,i,r=new k(e,n,i)){if(!r.closed)return t instanceof y?t.subscribe(r):T(t)(r)}class D extends g{notifyNext(e,t,n,i,r){this.destination.next(t)}notifyError(e,t){this.destination.error(e)}notifyComplete(e){this.destination.complete()}}function N(e,t){return function(n){if("function"!=typeof e)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new L(e,t))}}class L{constructor(e,t){this.project=e,this.thisArg=t}call(e,t){return t.subscribe(new B(e,this.project,this.thisArg))}}class B extends g{constructor(e,t,n){super(e),this.project=t,this.count=0,this.thisArg=n||this}_next(e){let t;try{t=this.project.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}function F(e,t){return new y(n=>{const i=new d;let r=0;return i.add(t.schedule((function(){r!==e.length?(n.next(e[r++]),n.closed||i.add(this.schedule())):n.complete()}))),i})}function V(e,t){return t?function(e,t){if(null!=e){if(function(e){return e&&"function"==typeof e[m]}(e))return function(e,t){return new y(n=>{const i=new d;return i.add(t.schedule(()=>{const r=e[m]();i.add(r.subscribe({next(e){i.add(t.schedule(()=>n.next(e)))},error(e){i.add(t.schedule(()=>n.error(e)))},complete(){i.add(t.schedule(()=>n.complete()))}}))})),i})}(e,t);if(M(e))return function(e,t){return new y(n=>{const i=new d;return i.add(t.schedule(()=>e.then(e=>{i.add(t.schedule(()=>{n.next(e),i.add(t.schedule(()=>n.complete()))}))},e=>{i.add(t.schedule(()=>n.error(e)))}))),i})}(e,t);if(P(e))return F(e,t);if(function(e){return e&&"function"==typeof e[O]}(e)||"string"==typeof e)return function(e,t){if(!e)throw new Error("Iterable cannot be null");return new y(n=>{const i=new d;let r;return i.add(()=>{r&&"function"==typeof r.return&&r.return()}),i.add(t.schedule(()=>{r=e[O](),i.add(t.schedule((function(){if(n.closed)return;let e,t;try{const n=r.next();e=n.value,t=n.done}catch(i){return void n.error(i)}t?n.complete():(n.next(e),this.schedule())})))})),i})}(e,t)}throw new TypeError((null!==e&&typeof e||e)+" is not observable")}(e,t):e instanceof y?e:new y(T(e))}function $(e,t,n=Number.POSITIVE_INFINITY){return"function"==typeof t?i=>i.pipe($((n,i)=>V(e(n,i)).pipe(N((e,r)=>t(n,e,i,r))),n)):("number"==typeof t&&(n=t),t=>t.lift(new H(e,n)))}class H{constructor(e,t=Number.POSITIVE_INFINITY){this.project=e,this.concurrent=t}call(e,t){return t.subscribe(new j(e,this.project,this.concurrent))}}class j extends D{constructor(e,t,n=Number.POSITIVE_INFINITY){super(e),this.project=t,this.concurrent=n,this.hasCompleted=!1,this.buffer=[],this.active=0,this.index=0}_next(e){this.active<this.concurrent?this._tryNext(e):this.buffer.push(e)}_tryNext(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this.active++,this._innerSub(t,e,n)}_innerSub(e,t,n){const i=new k(this,t,n),r=this.destination;r.add(i);const o=R(this,e,void 0,void 0,i);o!==i&&r.add(o)}_complete(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()}notifyNext(e,t,n,i,r){this.destination.next(t)}notifyComplete(e){const t=this.buffer;this.remove(e),this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()}}function W(e=Number.POSITIVE_INFINITY){return $(v,e)}function z(e,t){return t?F(e,t):new y(S(e))}function G(...e){let t=Number.POSITIVE_INFINITY,n=null,i=e[e.length-1];return A(i)?(n=e.pop(),e.length>1&&"number"==typeof e[e.length-1]&&(t=e.pop())):"number"==typeof i&&(t=e.pop()),null===n&&1===e.length&&e[0]instanceof y?e[0]:W(t)(z(e,n))}function Z(){return function(e){return e.lift(new K(e))}}class K{constructor(e){this.connectable=e}call(e,t){const{connectable:n}=this;n._refCount++;const i=new X(e,n),r=t.subscribe(i);return i.closed||(i.connection=n.connect()),r}}class X extends g{constructor(e,t){super(e),this.connectable=t}_unsubscribe(){const{connectable:e}=this;if(!e)return void(this.connection=null);this.connectable=null;const t=e._refCount;if(t<=0)return void(this.connection=null);if(e._refCount=t-1,t>1)return void(this.connection=null);const{connection:n}=this,i=e._connection;this.connection=null,!i||n&&i!==n||i.unsubscribe()}}class Y extends y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._refCount=0,this._isComplete=!1}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return e&&!e.isStopped||(this._subject=this.subjectFactory()),this._subject}connect(){let e=this._connection;return e||(this._isComplete=!1,e=this._connection=new d,e.add(this.source.subscribe(new J(this.getSubject(),this))),e.closed&&(this._connection=null,e=d.EMPTY)),e}refCount(){return Z()(this)}}const U=(()=>{const e=Y.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:e._subscribe},_isComplete:{value:e._isComplete,writable:!0},getSubject:{value:e.getSubject},connect:{value:e.connect},refCount:{value:e.refCount}}})();class J extends _{constructor(e,t){super(e),this.connectable=t}_error(e){this._unsubscribe(),super._error(e)}_complete(){this.connectable._isComplete=!0,this._unsubscribe(),super._complete()}_unsubscribe(){const e=this.connectable;if(e){this.connectable=null;const t=e._connection;e._refCount=0,e._subject=null,e._connection=null,t&&t.unsubscribe()}}}function q(){return new x}function Q(){return e=>{return Z()((t=q,function(e){let n;n="function"==typeof t?t:function(){return t};const i=Object.create(e,U);return i.source=e,i.subjectFactory=n,i})(e));var t}}function ee(e){return{toString:e}.toString()}function te(e,t,n){return ee(()=>{const i=function(e){return function(...t){if(e){const n=e(...t);for(const e in n)this[e]=n[e]}}}(t);function r(...e){if(this instanceof r)return i.apply(this,e),this;const t=new r(...e);return n.annotation=t,n;function n(e,n,i){const r=e.hasOwnProperty("__parameters__")?e.__parameters__:Object.defineProperty(e,"__parameters__",{value:[]}).__parameters__;for(;r.length<=i;)r.push(null);return(r[i]=r[i]||[]).push(t),e}}return n&&(r.prototype=Object.create(n.prototype)),r.prototype.ngMetadataName=e,r.annotationCls=r,r})}const ne=te("Inject",e=>({token:e})),ie=te("Optional"),re=te("Self"),oe=te("SkipSelf");var se=function(e){return e[e.Default=0]="Default",e[e.Host=1]="Host",e[e.Self=2]="Self",e[e.SkipSelf=4]="SkipSelf",e[e.Optional=8]="Optional",e}({});function ae(e){for(let t in e)if(e[t]===ae)return t;throw Error("Could not find renamed property on target object.")}function le(e,t){for(const n in t)t.hasOwnProperty(n)&&!e.hasOwnProperty(n)&&(e[n]=t[n])}function ce(e){return{token:e.token,providedIn:e.providedIn||null,factory:e.factory,value:void 0}}function he(e){return{factory:e.factory,providers:e.providers||[],imports:e.imports||[]}}function de(e){return ue(e,e[ge])||ue(e,e[ve])}function ue(e,t){return t&&t.token===e?t:null}function pe(e){return e&&(e.hasOwnProperty(fe)||e.hasOwnProperty(ye))?e[fe]:null}const ge=ae({"\u0275prov":ae}),fe=ae({"\u0275inj":ae}),me=ae({"\u0275provFallback":ae}),ve=ae({ngInjectableDef:ae}),ye=ae({ngInjectorDef:ae});function be(e){if("string"==typeof e)return e;if(Array.isArray(e))return"["+e.map(be).join(", ")+"]";if(null==e)return""+e;if(e.overriddenName)return""+e.overriddenName;if(e.name)return""+e.name;const t=e.toString();if(null==t)return""+t;const n=t.indexOf("\n");return-1===n?t:t.substring(0,n)}function Ce(e,t){return null==e||""===e?null===t?"":t:null==t||""===t?e:e+" "+t}const we=ae({__forward_ref__:ae});function _e(e){return e.__forward_ref__=_e,e.toString=function(){return be(this())},e}function xe(e){return Ie(e)?e():e}function Ie(e){return"function"==typeof e&&e.hasOwnProperty(we)&&e.__forward_ref__===_e}const Ae="undefined"!=typeof globalThis&&globalThis,ke="undefined"!=typeof window&&window,Se="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,Ee="undefined"!=typeof global&&global,Oe=Ae||Ee||ke||Se,Pe=ae({"\u0275cmp":ae}),Me=ae({"\u0275dir":ae}),Te=ae({"\u0275pipe":ae}),Re=ae({"\u0275mod":ae}),De=ae({"\u0275loc":ae}),Ne=ae({"\u0275fac":ae}),Le=ae({__NG_ELEMENT_ID__:ae});class Be{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=ce({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}toString(){return"InjectionToken "+this._desc}}const Fe=new Be("INJECTOR",-1),Ve={},$e=/\n/gm,He=ae({provide:String,useValue:ae});let je,We=void 0;function ze(e){const t=We;return We=e,t}function Ge(e){const t=je;return je=e,t}function Ze(e,t=se.Default){if(void 0===We)throw new Error("inject() must be called from an injection context");return null===We?Ye(e,void 0,t):We.get(e,t&se.Optional?null:void 0,t)}function Ke(e,t=se.Default){return(je||Ze)(xe(e),t)}const Xe=Ke;function Ye(e,t,n){const i=de(e);if(i&&"root"==i.providedIn)return void 0===i.value?i.value=i.factory():i.value;if(n&se.Optional)return null;if(void 0!==t)return t;throw new Error(`Injector: NOT_FOUND [${be(e)}]`)}function Ue(e){const t=[];for(let n=0;n<e.length;n++){const i=xe(e[n]);if(Array.isArray(i)){if(0===i.length)throw new Error("Arguments array must have arguments.");let e=void 0,n=se.Default;for(let t=0;t<i.length;t++){const r=i[t];r instanceof ie||"Optional"===r.ngMetadataName||r===ie?n|=se.Optional:r instanceof oe||"SkipSelf"===r.ngMetadataName||r===oe?n|=se.SkipSelf:r instanceof re||"Self"===r.ngMetadataName||r===re?n|=se.Self:e=r instanceof ne||r===ne?r.token:r}t.push(Ke(e,n))}else t.push(Ke(i))}return t}class Je{get(e,t=Ve){if(t===Ve){const t=new Error(`NullInjectorError: No provider for ${be(e)}!`);throw t.name="NullInjectorError",t}return t}}class qe{}class Qe{}function et(e,t){e.forEach(e=>Array.isArray(e)?et(e,t):t(e))}function tt(e,t,n){t>=e.length?e.push(n):e.splice(t,0,n)}function nt(e,t){return t>=e.length-1?e.pop():e.splice(t,1)[0]}function it(e,t){const n=[];for(let i=0;i<e;i++)n.push(t);return n}function rt(e,t,n){let i=st(e,t);return i>=0?e[1|i]=n:(i=~i,function(e,t,n,i){let r=e.length;if(r==t)e.push(n,i);else if(1===r)e.push(i,e[0]),e[0]=n;else{for(r--,e.push(e[r-1],e[r]);r>t;)e[r]=e[r-2],r--;e[t]=n,e[t+1]=i}}(e,i,t,n)),i}function ot(e,t){const n=st(e,t);if(n>=0)return e[1|n]}function st(e,t){return function(e,t,n){let i=0,r=e.length>>1;for(;r!==i;){const n=i+(r-i>>1),o=e[n<<1];if(t===o)return n<<1;o>t?r=n:i=n+1}return~(r<<1)}(e,t)}var at=function(e){return e[e.OnPush=0]="OnPush",e[e.Default=1]="Default",e}({}),lt=function(e){return e[e.Emulated=0]="Emulated",e[e.Native=1]="Native",e[e.None=2]="None",e[e.ShadowDom=3]="ShadowDom",e}({});const ct={},ht=[];let dt=0;function ut(e){return ee(()=>{const t={},n={type:e.type,providersResolver:null,decls:e.decls,vars:e.vars,factory:null,template:e.template||null,consts:e.consts||null,ngContentSelectors:e.ngContentSelectors,hostBindings:e.hostBindings||null,hostVars:e.hostVars||0,hostAttrs:e.hostAttrs||null,contentQueries:e.contentQueries||null,declaredInputs:t,inputs:null,outputs:null,exportAs:e.exportAs||null,onPush:e.changeDetection===at.OnPush,directiveDefs:null,pipeDefs:null,selectors:e.selectors||ht,viewQuery:e.viewQuery||null,features:e.features||null,data:e.data||{},encapsulation:e.encapsulation||lt.Emulated,id:"c",styles:e.styles||ht,_:null,setInput:null,schemas:e.schemas||null,tView:null},i=e.directives,r=e.features,o=e.pipes;return n.id+=dt++,n.inputs=vt(e.inputs,t),n.outputs=vt(e.outputs),r&&r.forEach(e=>e(n)),n.directiveDefs=i?()=>("function"==typeof i?i():i).map(pt):null,n.pipeDefs=o?()=>("function"==typeof o?o():o).map(gt):null,n})}function pt(e){return Ct(e)||function(e){return e[Me]||null}(e)}function gt(e){return function(e){return e[Te]||null}(e)}const ft={};function mt(e){const t={type:e.type,bootstrap:e.bootstrap||ht,declarations:e.declarations||ht,imports:e.imports||ht,exports:e.exports||ht,transitiveCompileScopes:null,schemas:e.schemas||null,id:e.id||null};return null!=e.id&&ee(()=>{ft[e.id]=e.type}),t}function vt(e,t){if(null==e)return ct;const n={};for(const i in e)if(e.hasOwnProperty(i)){let r=e[i],o=r;Array.isArray(r)&&(o=r[1],r=r[0]),n[r]=i,t&&(t[r]=o)}return n}const yt=ut;function bt(e){return{type:e.type,name:e.name,factory:null,pure:!1!==e.pure,onDestroy:e.type.prototype.ngOnDestroy||null}}function Ct(e){return e[Pe]||null}function wt(e,t){return e.hasOwnProperty(Ne)?e[Ne]:null}function _t(e,t){const n=e[Re]||null;if(!n&&!0===t)throw new Error(`Type ${be(e)} does not have '\u0275mod' property.`);return n}function xt(e){return Array.isArray(e)&&"object"==typeof e[1]}function It(e){return Array.isArray(e)&&!0===e[1]}function At(e){return 0!=(8&e.flags)}function kt(e){return 2==(2&e.flags)}function St(e){return 1==(1&e.flags)}function Et(e){return null!==e.template}function Ot(e){return 0!=(512&e[2])}class Pt{constructor(e,t,n){this.previousValue=e,this.currentValue=t,this.firstChange=n}isFirstChange(){return this.firstChange}}function Mt(){return Tt}function Tt(e){return e.type.prototype.ngOnChanges&&(e.setInput=Dt),Rt}function Rt(){const e=Nt(this),t=null==e?void 0:e.current;if(t){const n=e.previous;if(n===ct)e.previous=t;else for(let e in t)n[e]=t[e];e.current=null,this.ngOnChanges(t)}}function Dt(e,t,n,i){const r=Nt(e)||function(e,t){return e.__ngSimpleChanges__=t}(e,{previous:ct,current:null}),o=r.current||(r.current={}),s=r.previous,a=this.declaredInputs[n],l=s[a];o[a]=new Pt(l&&l.currentValue,t,s===ct),e[i]=t}function Nt(e){return e.__ngSimpleChanges__||null}Mt.ngInherit=!0;let Lt=void 0;function Bt(){return void 0!==Lt?Lt:"undefined"!=typeof document?document:void 0}function Ft(e){return!!e.listen}const Vt={createRenderer:(e,t)=>Bt()};function $t(e){for(;Array.isArray(e);)e=e[0];return e}function Ht(e,t){return $t(t[e+20])}function jt(e,t){return $t(t[e.index])}function Wt(e,t){return e.data[t+20]}function zt(e,t){return e[t+20]}function Gt(e,t){const n=t[e];return xt(n)?n:n[0]}function Zt(e){const t=function(e){return e.__ngContext__||null}(e);return t?Array.isArray(t)?t:t.lView:null}function Kt(e){return 4==(4&e[2])}function Xt(e){return 128==(128&e[2])}function Yt(e,t){return null===e||null==t?null:e[t]}function Ut(e){e[18]=0}function Jt(e,t){e[5]+=t;let n=e,i=e[3];for(;null!==i&&(1===t&&1===n[5]||-1===t&&0===n[5]);)i[5]+=t,n=i,i=i[3]}const qt={lFrame:wn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Qt(){return qt.bindingsEnabled}function en(){return qt.lFrame.lView}function tn(){return qt.lFrame.tView}function nn(e){qt.lFrame.contextLView=e}function rn(){return qt.lFrame.previousOrParentTNode}function on(e,t){qt.lFrame.previousOrParentTNode=e,qt.lFrame.isParent=t}function sn(){return qt.lFrame.isParent}function an(){qt.lFrame.isParent=!1}function ln(){return qt.checkNoChangesMode}function cn(e){qt.checkNoChangesMode=e}function hn(){return qt.lFrame.bindingIndex}function dn(){return qt.lFrame.bindingIndex++}function un(e){const t=qt.lFrame,n=t.bindingIndex;return t.bindingIndex=t.bindingIndex+e,n}function pn(e,t){const n=qt.lFrame;n.bindingIndex=n.bindingRootIndex=e,gn(t)}function gn(e){qt.lFrame.currentDirectiveIndex=e}function fn(e){const t=qt.lFrame.currentDirectiveIndex;return-1===t?null:e[t]}function mn(){return qt.lFrame.currentQueryIndex}function vn(e){qt.lFrame.currentQueryIndex=e}function yn(e,t){const n=Cn();qt.lFrame=n,n.previousOrParentTNode=t,n.lView=e}function bn(e,t){const n=Cn(),i=e[1];qt.lFrame=n,n.previousOrParentTNode=t,n.lView=e,n.tView=i,n.contextLView=e,n.bindingIndex=i.bindingStartIndex}function Cn(){const e=qt.lFrame,t=null===e?null:e.child;return null===t?wn(e):t}function wn(e){const t={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:e,child:null};return null!==e&&(e.child=t),t}function _n(){const e=qt.lFrame;return qt.lFrame=e.parent,e.previousOrParentTNode=null,e.lView=null,e}const xn=_n;function In(){const e=_n();e.isParent=!0,e.tView=null,e.selectedIndex=0,e.contextLView=null,e.elementDepthCount=0,e.currentDirectiveIndex=-1,e.currentNamespace=null,e.bindingRootIndex=-1,e.bindingIndex=-1,e.currentQueryIndex=0}function An(){return qt.lFrame.selectedIndex}function kn(e){qt.lFrame.selectedIndex=e}function Sn(){const e=qt.lFrame;return Wt(e.tView,e.selectedIndex)}function En(e,t){for(let n=t.directiveStart,i=t.directiveEnd;n<i;n++){const t=e.data[n].type.prototype,{ngAfterContentInit:i,ngAfterContentChecked:r,ngAfterViewInit:o,ngAfterViewChecked:s,ngOnDestroy:a}=t;i&&(e.contentHooks||(e.contentHooks=[])).push(-n,i),r&&((e.contentHooks||(e.contentHooks=[])).push(n,r),(e.contentCheckHooks||(e.contentCheckHooks=[])).push(n,r)),o&&(e.viewHooks||(e.viewHooks=[])).push(-n,o),s&&((e.viewHooks||(e.viewHooks=[])).push(n,s),(e.viewCheckHooks||(e.viewCheckHooks=[])).push(n,s)),null!=a&&(e.destroyHooks||(e.destroyHooks=[])).push(n,a)}}function On(e,t,n){Tn(e,t,3,n)}function Pn(e,t,n,i){(3&e[2])===n&&Tn(e,t,n,i)}function Mn(e,t){let n=e[2];(3&n)===t&&(n&=2047,n+=1,e[2]=n)}function Tn(e,t,n,i){const r=null!=i?i:-1;let o=0;for(let s=void 0!==i?65535&e[18]:0;s<t.length;s++)if("number"==typeof t[s+1]){if(o=t[s],null!=i&&o>=i)break}else t[s]<0&&(e[18]+=65536),(o<r||-1==r)&&(Rn(e,n,t,s),e[18]=(4294901760&e[18])+s+2),s++}function Rn(e,t,n,i){const r=n[i]<0,o=n[i+1],s=e[r?-n[i]:n[i]];r?e[2]>>11<e[18]>>16&&(3&e[2])===t&&(e[2]+=2048,o.call(s)):o.call(s)}class Dn{constructor(e,t,n){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=n}}function Nn(e,t,n){const i=Ft(e);let r=0;for(;r<n.length;){const o=n[r];if("number"==typeof o){if(0!==o)break;r++;const s=n[r++],a=n[r++],l=n[r++];i?e.setAttribute(t,a,l,s):t.setAttributeNS(s,a,l)}else{const s=o,a=n[++r];Bn(s)?i&&e.setProperty(t,s,a):i?e.setAttribute(t,s,a):t.setAttribute(s,a),r++}}return r}function Ln(e){return 3===e||4===e||6===e}function Bn(e){return 64===e.charCodeAt(0)}function Fn(e,t){if(null===t||0===t.length);else if(null===e||0===e.length)e=t.slice();else{let n=-1;for(let i=0;i<t.length;i++){const r=t[i];"number"==typeof r?n=r:0===n||Vn(e,n,r,null,-1===n||2===n?t[++i]:null)}}return e}function Vn(e,t,n,i,r){let o=0,s=e.length;if(-1===t)s=-1;else for(;o<e.length;){const n=e[o++];if("number"==typeof n){if(n===t){s=-1;break}if(n>t){s=o-1;break}}}for(;o<e.length;){const t=e[o];if("number"==typeof t)break;if(t===n){if(null===i)return void(null!==r&&(e[o+1]=r));if(i===e[o+1])return void(e[o+2]=r)}o++,null!==i&&o++,null!==r&&o++}-1!==s&&(e.splice(s,0,t),o=s+1),e.splice(o++,0,n),null!==i&&e.splice(o++,0,i),null!==r&&e.splice(o++,0,r)}function $n(e){return-1!==e}function Hn(e){return 32767&e}function jn(e){return e>>16}function Wn(e,t){let n=jn(e),i=t;for(;n>0;)i=i[15],n--;return i}function zn(e){return"string"==typeof e?e:null==e?"":""+e}function Gn(e){return"function"==typeof e?e.name||e.toString():"object"==typeof e&&null!=e&&"function"==typeof e.type?e.type.name||e.type.toString():zn(e)}const Zn=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(Oe))();function Kn(e){return{name:"body",target:e.ownerDocument.body}}function Xn(e){return e instanceof Function?e():e}let Yn=!0;function Un(e){const t=Yn;return Yn=e,t}let Jn=0;function qn(e,t){const n=ei(e,t);if(-1!==n)return n;const i=t[1];i.firstCreatePass&&(e.injectorIndex=t.length,Qn(i.data,e),Qn(t,null),Qn(i.blueprint,null));const r=ti(e,t),o=e.injectorIndex;if($n(r)){const e=Hn(r),n=Wn(r,t),i=n[1].data;for(let r=0;r<8;r++)t[o+r]=n[e+r]|i[e+r]}return t[o+8]=r,o}function Qn(e,t){e.push(0,0,0,0,0,0,0,0,t)}function ei(e,t){return-1===e.injectorIndex||e.parent&&e.parent.injectorIndex===e.injectorIndex||null==t[e.injectorIndex+8]?-1:e.injectorIndex}function ti(e,t){if(e.parent&&-1!==e.parent.injectorIndex)return e.parent.injectorIndex;let n=t[6],i=1;for(;n&&-1===n.injectorIndex;)n=(t=t[15])?t[6]:null,i++;return n?n.injectorIndex|i<<16:-1}function ni(e,t,n){!function(e,t,n){let i;"string"==typeof n?i=n.charCodeAt(0)||0:n.hasOwnProperty(Le)&&(i=n[Le]),null==i&&(i=n[Le]=Jn++);const r=255&i,o=1<<r,s=64&r,a=32&r,l=t.data;128&r?s?a?l[e+7]|=o:l[e+6]|=o:a?l[e+5]|=o:l[e+4]|=o:s?a?l[e+3]|=o:l[e+2]|=o:a?l[e+1]|=o:l[e]|=o}(e,t,n)}function ii(e,t,n,i=se.Default,r){if(null!==e){const r=function(e){if("string"==typeof e)return e.charCodeAt(0)||0;const t=e.hasOwnProperty(Le)?e[Le]:void 0;return"number"==typeof t&&t>0?255&t:t}(n);if("function"==typeof r){yn(t,e);try{const e=r();if(null!=e||i&se.Optional)return e;throw new Error(`No provider for ${Gn(n)}!`)}finally{xn()}}else if("number"==typeof r){if(-1===r)return new hi(e,t);let o=null,s=ei(e,t),a=-1,l=i&se.Host?t[16][6]:null;for((-1===s||i&se.SkipSelf)&&(a=-1===s?ti(e,t):t[s+8],ci(i,!1)?(o=t[1],s=Hn(a),t=Wn(a,t)):s=-1);-1!==s;){a=t[s+8];const e=t[1];if(li(r,s,e.data)){const e=oi(s,t,n,o,i,l);if(e!==ri)return e}ci(i,t[1].data[s+8]===l)&&li(r,s,t)?(o=e,s=Hn(a),t=Wn(a,t)):s=-1}}}if(i&se.Optional&&void 0===r&&(r=null),0==(i&(se.Self|se.Host))){const e=t[9],o=Ge(void 0);try{return e?e.get(n,r,i&se.Optional):Ye(n,r,i&se.Optional)}finally{Ge(o)}}if(i&se.Optional)return r;throw new Error(`NodeInjector: NOT_FOUND [${Gn(n)}]`)}const ri={};function oi(e,t,n,i,r,o){const s=t[1],a=s.data[e+8],l=si(a,s,n,null==i?kt(a)&&Yn:i!=s&&3===a.type,r&se.Host&&o===a);return null!==l?ai(t,s,l,a):ri}function si(e,t,n,i,r){const o=e.providerIndexes,s=t.data,a=1048575&o,l=e.directiveStart,c=o>>20,h=r?a+c:e.directiveEnd;for(let d=i?a:a+c;d<h;d++){const e=s[d];if(d<l&&n===e||d>=l&&e.type===n)return d}if(r){const e=s[l];if(e&&Et(e)&&e.type===n)return l}return null}function ai(e,t,n,i){let r=e[n];const o=t.data;if(r instanceof Dn){const s=r;if(s.resolving)throw new Error("Circular dep for "+Gn(o[n]));const a=Un(s.canSeeViewProviders);let l;s.resolving=!0,s.injectImpl&&(l=Ge(s.injectImpl)),yn(e,i);try{r=e[n]=s.factory(void 0,o,e,i),t.firstCreatePass&&n>=i.directiveStart&&function(e,t,n){const{ngOnChanges:i,ngOnInit:r,ngDoCheck:o}=t.type.prototype;if(i){const i=Tt(t);(n.preOrderHooks||(n.preOrderHooks=[])).push(e,i),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,i)}r&&(n.preOrderHooks||(n.preOrderHooks=[])).push(0-e,r),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(e,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(e,o))}(n,o[n],t)}finally{s.injectImpl&&Ge(l),Un(a),s.resolving=!1,xn()}}return r}function li(e,t,n){const i=64&e,r=32&e;let o;return o=128&e?i?r?n[t+7]:n[t+6]:r?n[t+5]:n[t+4]:i?r?n[t+3]:n[t+2]:r?n[t+1]:n[t],!!(o&1<<e)}function ci(e,t){return!(e&se.Self||e&se.Host&&t)}class hi{constructor(e,t){this._tNode=e,this._lView=t}get(e,t){return ii(this._tNode,this._lView,e,void 0,t)}}function di(e){const t=e;if(Ie(e))return()=>{const e=di(xe(t));return e?e():null};let n=wt(t);if(null===n){const e=pe(t);n=e&&e.factory}return n||null}function ui(e){return ee(()=>{const t=e.prototype.constructor,n=t[Ne]||di(t),i=Object.prototype;let r=Object.getPrototypeOf(e.prototype).constructor;for(;r&&r!==i;){const e=r[Ne]||di(r);if(e&&e!==n)return e;r=Object.getPrototypeOf(r)}return e=>new e})}function pi(e){return e.ngDebugContext}function gi(e){return e.ngOriginalError}function fi(e,...t){e.error(...t)}class mi{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e),n=this._findContext(e),i=function(e){return e.ngErrorLogger||fi}(e);i(this._console,"ERROR",e),t&&i(this._console,"ORIGINAL ERROR",t),n&&i(this._console,"ERROR CONTEXT",n)}_findContext(e){return e?pi(e)?pi(e):this._findContext(gi(e)):null}_findOriginalError(e){let t=gi(e);for(;t&&gi(t);)t=gi(t);return t}}class vi{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"}}class yi extends vi{getTypeName(){return"HTML"}}class bi extends vi{getTypeName(){return"Style"}}class Ci extends vi{getTypeName(){return"Script"}}class wi extends vi{getTypeName(){return"URL"}}class _i extends vi{getTypeName(){return"ResourceURL"}}function xi(e){return e instanceof vi?e.changingThisBreaksApplicationSecurity:e}function Ii(e,t){const n=Ai(e);if(null!=n&&n!==t){if("ResourceURL"===n&&"URL"===t)return!0;throw new Error(`Required a safe ${t}, got a ${n} (see http://g.co/ng/security#xss)`)}return n===t}function Ai(e){return e instanceof vi&&e.getTypeName()||null}let ki=!0,Si=!1;function Ei(){return Si=!0,ki}class Oi{getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(e,"text/html").body;return t.removeChild(t.firstChild),t}catch(t){return null}}}class Pi{constructor(e){if(this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert"),null==this.inertDocument.body){const e=this.inertDocument.createElement("html");this.inertDocument.appendChild(e);const t=this.inertDocument.createElement("body");e.appendChild(t)}}getInertBodyElement(e){const t=this.inertDocument.createElement("template");if("content"in t)return t.innerHTML=e,t;const n=this.inertDocument.createElement("body");return n.innerHTML=e,this.defaultDoc.documentMode&&this.stripCustomNsAttrs(n),n}stripCustomNsAttrs(e){const t=e.attributes;for(let i=t.length-1;0<i;i--){const n=t.item(i).name;"xmlns:ns1"!==n&&0!==n.indexOf("ns1:")||e.removeAttribute(n)}let n=e.firstChild;for(;n;)n.nodeType===Node.ELEMENT_NODE&&this.stripCustomNsAttrs(n),n=n.nextSibling}}const Mi=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,Ti=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;function Ri(e){return(e=String(e)).match(Mi)||e.match(Ti)?e:(Ei()&&console.warn(`WARNING: sanitizing unsafe URL value ${e} (see http://g.co/ng/security#xss)`),"unsafe:"+e)}function Di(e){const t={};for(const n of e.split(","))t[n]=!0;return t}function Ni(...e){const t={};for(const n of e)for(const e in n)n.hasOwnProperty(e)&&(t[e]=!0);return t}const Li=Di("area,br,col,hr,img,wbr"),Bi=Di("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),Fi=Di("rp,rt"),Vi=Ni(Fi,Bi),$i=Ni(Li,Ni(Bi,Di("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Ni(Fi,Di("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Vi),Hi=Di("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),ji=Di("srcset"),Wi=Ni(Hi,ji,Di("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),Di("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),zi=Di("script,style,template");class Gi{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,n=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?n=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,n&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let e=this.checkClobberedElement(t,t.nextSibling);if(e){t=e;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!$i.hasOwnProperty(t))return this.sanitizedSomething=!0,!zi.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const n=e.attributes;for(let r=0;r<n.length;r++){const e=n.item(r),t=e.name,o=t.toLowerCase();if(!Wi.hasOwnProperty(o)){this.sanitizedSomething=!0;continue}let s=e.value;Hi[o]&&(s=Ri(s)),ji[o]&&(i=s,s=(i=String(i)).split(",").map(e=>Ri(e.trim())).join(", ")),this.buf.push(" ",t,'="',Xi(s),'"')}var i;return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();$i.hasOwnProperty(t)&&!Li.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(Xi(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error("Failed to sanitize html because the element is clobbered: "+e.outerHTML);return t}}const Zi=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Ki=/([^\#-~ |!])/g;function Xi(e){return e.replace(/&/g,"&amp;").replace(Zi,(function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"})).replace(Ki,(function(e){return"&#"+e.charCodeAt(0)+";"})).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let Yi;function Ui(e,t){let n=null;try{Yi=Yi||function(e){return function(){try{return!!(new window.DOMParser).parseFromString("","text/html")}catch(e){return!1}}()?new Oi:new Pi(e)}(e);let i=t?String(t):"";n=Yi.getInertBodyElement(i);let r=5,o=i;do{if(0===r)throw new Error("Failed to sanitize html because the input is unstable");r--,i=o,o=n.innerHTML,n=Yi.getInertBodyElement(i)}while(i!==o);const s=new Gi,a=s.sanitizeChildren(Ji(n)||n);return Ei()&&s.sanitizedSomething&&console.warn("WARNING: sanitizing HTML stripped some content, see http://g.co/ng/security#xss"),a}finally{if(n){const e=Ji(n)||n;for(;e.firstChild;)e.removeChild(e.firstChild)}}}function Ji(e){return"content"in e&&function(e){return e.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===e.nodeName}(e)?e.content:null}var qi=function(e){return e[e.NONE=0]="NONE",e[e.HTML=1]="HTML",e[e.STYLE=2]="STYLE",e[e.SCRIPT=3]="SCRIPT",e[e.URL=4]="URL",e[e.RESOURCE_URL=5]="RESOURCE_URL",e}({});function Qi(e){const t=function(){const e=en();return e&&e[12]}();return t?t.sanitize(qi.HTML,e)||"":Ii(e,"HTML")?xi(e):Ui(Bt(),zn(e))}function er(e,t){e.__ngContext__=t}function tr(e){throw new Error("Multiple components match node with tagname "+e.tagName)}function nr(){throw new Error("Cannot mix multi providers and regular providers")}function ir(e,t,n){let i=e.length;for(;;){const r=e.indexOf(t,n);if(-1===r)return r;if(0===r||e.charCodeAt(r-1)<=32){const n=t.length;if(r+n===i||e.charCodeAt(r+n)<=32)return r}n=r+1}}function rr(e,t,n){let i=0;for(;i<e.length;){let r=e[i++];if(n&&"class"===r){if(r=e[i],-1!==ir(r.toLowerCase(),t,0))return!0}else if(1===r){for(;i<e.length&&"string"==typeof(r=e[i++]);)if(r.toLowerCase()===t)return!0;return!1}}return!1}function or(e){return 0===e.type&&"ng-template"!==e.tagName}function sr(e,t,n){return t===(0!==e.type||n?e.tagName:"ng-template")}function ar(e,t,n){let i=4;const r=e.attrs||[],o=function(e){for(let t=0;t<e.length;t++)if(Ln(e[t]))return t;return e.length}(r);let s=!1;for(let a=0;a<t.length;a++){const l=t[a];if("number"!=typeof l){if(!s)if(4&i){if(i=2|1&i,""!==l&&!sr(e,l,n)||""===l&&1===t.length){if(lr(i))return!1;s=!0}}else{const c=8&i?l:t[++a];if(8&i&&null!==e.attrs){if(!rr(e.attrs,c,n)){if(lr(i))return!1;s=!0}continue}const h=cr(8&i?"class":l,r,or(e),n);if(-1===h){if(lr(i))return!1;s=!0;continue}if(""!==c){let e;e=h>o?"":r[h+1].toLowerCase();const t=8&i?e:null;if(t&&-1!==ir(t,c,0)||2&i&&c!==e){if(lr(i))return!1;s=!0}}}}else{if(!s&&!lr(i)&&!lr(l))return!1;if(s&&lr(l))continue;s=!1,i=l|1&i}}return lr(i)||s}function lr(e){return 0==(1&e)}function cr(e,t,n,i){if(null===t)return-1;let r=0;if(i||!n){let n=!1;for(;r<t.length;){const i=t[r];if(i===e)return r;if(3===i||6===i)n=!0;else{if(1===i||2===i){let e=t[++r];for(;"string"==typeof e;)e=t[++r];continue}if(4===i)break;if(0===i){r+=4;continue}}r+=n?1:2}return-1}return function(e,t){let n=e.indexOf(4);if(n>-1)for(n++;n<e.length;){const i=e[n];if("number"==typeof i)return-1;if(i===t)return n;n++}return-1}(t,e)}function hr(e,t,n=!1){for(let i=0;i<t.length;i++)if(ar(e,t[i],n))return!0;return!1}function dr(e,t){e:for(let n=0;n<t.length;n++){const i=t[n];if(e.length===i.length){for(let t=0;t<e.length;t++)if(e[t]!==i[t])continue e;return!0}}return!1}function ur(e,t){return e?":not("+t.trim()+")":t}function pr(e){let t=e[0],n=1,i=2,r="",o=!1;for(;n<e.length;){let s=e[n];if("string"==typeof s)if(2&i){const t=e[++n];r+="["+s+(t.length>0?'="'+t+'"':"")+"]"}else 8&i?r+="."+s:4&i&&(r+=" "+s);else""===r||lr(s)||(t+=ur(o,r),r=""),i=s,o=o||!lr(i);n++}return""!==r&&(t+=ur(o,r)),t}const gr={};function fr(e){const t=e[3];return It(t)?t[3]:t}function mr(e){return yr(e[13])}function vr(e){return yr(e[4])}function yr(e){for(;null!==e&&!It(e);)e=e[4];return e}function br(e){Cr(tn(),en(),An()+e,ln())}function Cr(e,t,n,i){if(!i)if(3==(3&t[2])){const i=e.preOrderCheckHooks;null!==i&&On(t,i,n)}else{const i=e.preOrderHooks;null!==i&&Pn(t,i,0,n)}kn(n)}function wr(e,t){return e<<17|t<<2}function _r(e){return e>>17&32767}function xr(e){return 2|e}function Ir(e){return(131068&e)>>2}function Ar(e,t){return-131069&e|t<<2}function kr(e){return 1|e}function Sr(e,t){const n=e.contentQueries;if(null!==n)for(let i=0;i<n.length;i+=2){const r=n[i],o=n[i+1];if(-1!==o){const n=e.data[o];vn(r),n.contentQueries(2,t[o],o)}}}function Er(e,t,n){return Ft(t)?t.createElement(e,n):null===n?t.createElement(e):t.createElementNS(n,e)}function Or(e,t,n,i,r,o,s,a,l,c){const h=t.blueprint.slice();return h[0]=r,h[2]=140|i,Ut(h),h[3]=h[15]=e,h[8]=n,h[10]=s||e&&e[10],h[11]=a||e&&e[11],h[12]=l||e&&e[12]||null,h[9]=c||e&&e[9]||null,h[6]=o,h[16]=2==t.type?e[16]:h,h}function Pr(e,t,n,i,r,o){const s=n+20,a=e.data[s]||function(e,t,n,i,r,o){const s=rn(),a=sn(),l=a?s:s&&s.parent,c=e.data[n]=Hr(0,l&&l!==t?l:null,i,n,r,o);return null===e.firstChild&&(e.firstChild=c),s&&(!a||null!=s.child||null===c.parent&&2!==s.type?a||(s.next=c):s.child=c),c}(e,t,s,i,r,o);return on(a,!0),a}function Mr(e,t,n){bn(t,t[6]);try{const i=e.viewQuery;null!==i&&co(1,i,n);const r=e.template;null!==r&&Dr(e,t,r,1,n),e.firstCreatePass&&(e.firstCreatePass=!1),e.staticContentQueries&&Sr(e,t),e.staticViewQueries&&co(2,e.viewQuery,n);const o=e.components;null!==o&&function(e,t){for(let n=0;n<t.length;n++)ro(e,t[n])}(t,o)}catch(i){throw e.firstCreatePass&&(e.incompleteFirstPass=!0),i}finally{t[2]&=-5,In()}}function Tr(e,t,n,i){const r=t[2];if(256==(256&r))return;bn(t,t[6]);const o=ln();try{Ut(t),qt.lFrame.bindingIndex=e.bindingStartIndex,null!==n&&Dr(e,t,n,2,i);const s=3==(3&r);if(!o)if(s){const n=e.preOrderCheckHooks;null!==n&&On(t,n,null)}else{const n=e.preOrderHooks;null!==n&&Pn(t,n,0,null),Mn(t,0)}if(function(e){for(let t=mr(e);null!==t;t=vr(t)){if(!t[2])continue;const e=t[9];for(let t=0;t<e.length;t++){const n=e[t],i=n[3];0==(1024&n[2])&&Jt(i,1),n[2]|=1024}}}(t),function(e){for(let t=mr(e);null!==t;t=vr(t))for(let e=10;e<t.length;e++){const n=t[e],i=n[1];Xt(n)&&Tr(i,n,i.template,n[8])}}(t),null!==e.contentQueries&&Sr(e,t),!o)if(s){const n=e.contentCheckHooks;null!==n&&On(t,n)}else{const n=e.contentHooks;null!==n&&Pn(t,n,1),Mn(t,1)}!function(e,t){try{const n=e.expandoInstructions;if(null!==n){let i=e.expandoStartIndex,r=-1,o=-1;for(let e=0;e<n.length;e++){const s=n[e];"number"==typeof s?s<=0?(o=0-s,kn(o),i+=9+n[++e],r=i):i+=s:(null!==s&&(pn(i,r),s(2,t[r])),r++)}}}finally{kn(-1)}}(e,t);const a=e.components;null!==a&&function(e,t){for(let n=0;n<t.length;n++)io(e,t[n])}(t,a);const l=e.viewQuery;if(null!==l&&co(2,l,i),!o)if(s){const n=e.viewCheckHooks;null!==n&&On(t,n)}else{const n=e.viewHooks;null!==n&&Pn(t,n,2),Mn(t,2)}!0===e.firstUpdatePass&&(e.firstUpdatePass=!1),o||(t[2]&=-73),1024&t[2]&&(t[2]&=-1025,Jt(t[3],-1))}finally{In()}}function Rr(e,t,n,i){const r=t[10],o=!ln(),s=Kt(t);try{o&&!s&&r.begin&&r.begin(),s&&Mr(e,t,i),Tr(e,t,n,i)}finally{o&&!s&&r.end&&r.end()}}function Dr(e,t,n,i,r){const o=An();try{kn(-1),2&i&&t.length>20&&Cr(e,t,0,ln()),n(i,r)}finally{kn(o)}}function Nr(e,t,n){if(At(t)){const i=t.directiveEnd;for(let r=t.directiveStart;r<i;r++){const t=e.data[r];t.contentQueries&&t.contentQueries(1,n[r],r)}}}function Lr(e,t,n){Qt()&&(function(e,t,n,i){const r=n.directiveStart,o=n.directiveEnd;e.firstCreatePass||qn(n,t),er(i,t);const s=n.initialInputs;for(let a=r;a<o;a++){const i=e.data[a],o=Et(i);o&&Qr(t,n,i);const l=ai(t,e,a,n);er(l,t),null!==s&&eo(0,a-r,l,i,0,s),o&&(Gt(n.index,t)[8]=l)}}(e,t,n,jt(n,t)),128==(128&n.flags)&&function(e,t,n){const i=n.directiveStart,r=n.directiveEnd,o=e.expandoInstructions,s=e.firstCreatePass,a=n.index-20,l=qt.lFrame.currentDirectiveIndex;try{kn(a);for(let n=i;n<r;n++){const i=e.data[n],r=t[n];gn(n),null!==i.hostBindings||0!==i.hostVars||null!==i.hostAttrs?Kr(i,r):s&&o.push(null)}}finally{kn(-1),gn(l)}}(e,t,n))}function Br(e,t,n=jt){const i=t.localNames;if(null!==i){let r=t.index+1;for(let o=0;o<i.length;o+=2){const s=i[o+1],a=-1===s?n(t,e):e[s];e[r++]=a}}}function Fr(e){const t=e.tView;return null===t||t.incompleteFirstPass?e.tView=Vr(1,-1,e.template,e.decls,e.vars,e.directiveDefs,e.pipeDefs,e.viewQuery,e.schemas,e.consts):t}function Vr(e,t,n,i,r,o,s,a,l,c){const h=20+i,d=h+r,u=function(e,t){const n=[];for(let i=0;i<t;i++)n.push(i<e?null:gr);return n}(h,d);return u[1]={type:e,id:t,blueprint:u,template:n,queries:null,viewQuery:a,node:null,data:u.slice().fill(null,h),bindingStartIndex:h,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof s?s():s,firstChild:null,schemas:l,consts:c,incompleteFirstPass:!1}}function $r(e,t,n,i){const r=uo(t);r.push(n),e.firstCreatePass&&function(e){return e.cleanup||(e.cleanup=[])}(e).push(i,r.length-1)}function Hr(e,t,n,i,r,o){return{type:n,index:i,injectorIndex:t?t.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:r,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:t,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function jr(e,t,n){for(let i in e)if(e.hasOwnProperty(i)){const r=e[i];(n=null===n?{}:n).hasOwnProperty(i)?n[i].push(t,r):n[i]=[t,r]}return n}function Wr(e,t,n,i,r,o,s,a){const l=jt(t,n);let c,h=t.inputs;var d;!a&&null!=h&&(c=h[i])?(fo(e,n,c,i,r),kt(t)&&function(e,t){const n=Gt(t,e);16&n[2]||(n[2]|=64)}(n,t.index)):3===t.type&&(i="class"===(d=i)?"className":"for"===d?"htmlFor":"formaction"===d?"formAction":"innerHtml"===d?"innerHTML":"readonly"===d?"readOnly":"tabindex"===d?"tabIndex":d,r=null!=s?s(r,t.tagName||"",i):r,Ft(o)?o.setProperty(l,i,r):Bn(i)||(l.setProperty?l.setProperty(i,r):l[i]=r))}function zr(e,t,n,i){let r=!1;if(Qt()){const o=function(e,t,n){const i=e.directiveRegistry;let r=null;if(i)for(let o=0;o<i.length;o++){const s=i[o];hr(n,s.selectors,!1)&&(r||(r=[]),ni(qn(n,t),e,s.type),Et(s)?(2&n.flags&&tr(n),Yr(e,n),r.unshift(s)):r.push(s))}return r}(e,t,n),s=null===i?null:{"":-1};if(null!==o){let i=0;r=!0,Jr(n,e.data.length,o.length);for(let e=0;e<o.length;e++){const t=o[e];t.providersResolver&&t.providersResolver(t)}Xr(e,n,o.length);let a=!1,l=!1;for(let r=0;r<o.length;r++){const c=o[r];n.mergedAttrs=Fn(n.mergedAttrs,c.hostAttrs),qr(e,t,c),Ur(e.data.length-1,c,s),null!==c.contentQueries&&(n.flags|=8),null===c.hostBindings&&null===c.hostAttrs&&0===c.hostVars||(n.flags|=128);const h=c.type.prototype;!a&&(h.ngOnChanges||h.ngOnInit||h.ngDoCheck)&&((e.preOrderHooks||(e.preOrderHooks=[])).push(n.index-20),a=!0),l||!h.ngOnChanges&&!h.ngDoCheck||((e.preOrderCheckHooks||(e.preOrderCheckHooks=[])).push(n.index-20),l=!0),Gr(e,c),i+=c.hostVars}!function(e,t){const n=t.directiveEnd,i=e.data,r=t.attrs,o=[];let s=null,a=null;for(let l=t.directiveStart;l<n;l++){const e=i[l],n=e.inputs,c=null===r||or(t)?null:to(n,r);o.push(c),s=jr(n,l,s),a=jr(e.outputs,l,a)}null!==s&&(s.hasOwnProperty("class")&&(t.flags|=16),s.hasOwnProperty("style")&&(t.flags|=32)),t.initialInputs=o,t.inputs=s,t.outputs=a}(e,n),Zr(e,t,i)}s&&function(e,t,n){if(t){const i=e.localNames=[];for(let e=0;e<t.length;e+=2){const r=n[t[e+1]];if(null==r)throw new Error(`Export of name '${t[e+1]}' not found!`);i.push(t[e],r)}}}(n,i,s)}return n.mergedAttrs=Fn(n.mergedAttrs,n.attrs),r}function Gr(e,t){const n=e.expandoInstructions;n.push(t.hostBindings),0!==t.hostVars&&n.push(t.hostVars)}function Zr(e,t,n){for(let i=0;i<n;i++)t.push(gr),e.blueprint.push(gr),e.data.push(null)}function Kr(e,t){null!==e.hostBindings&&e.hostBindings(1,t)}function Xr(e,t,n){const i=20-t.index,r=e.data.length-(1048575&t.providerIndexes);(e.expandoInstructions||(e.expandoInstructions=[])).push(i,r,n)}function Yr(e,t){t.flags|=2,(e.components||(e.components=[])).push(t.index)}function Ur(e,t,n){if(n){if(t.exportAs)for(let i=0;i<t.exportAs.length;i++)n[t.exportAs[i]]=e;Et(t)&&(n[""]=e)}}function Jr(e,t,n){e.flags|=1,e.directiveStart=t,e.directiveEnd=t+n,e.providerIndexes=t}function qr(e,t,n){e.data.push(n);const i=n.factory||(n.factory=wt(n.type)),r=new Dn(i,Et(n),null);e.blueprint.push(r),t.push(r)}function Qr(e,t,n){const i=jt(t,e),r=Fr(n),o=e[10],s=oo(e,Or(e,r,null,n.onPush?64:16,i,t,o,o.createRenderer(i,n)));e[t.index]=s}function eo(e,t,n,i,r,o){const s=o[t];if(null!==s){const e=i.setInput;for(let t=0;t<s.length;){const r=s[t++],o=s[t++],a=s[t++];null!==e?i.setInput(n,a,r,o):n[o]=a}}}function to(e,t){let n=null,i=0;for(;i<t.length;){const r=t[i];if(0!==r)if(5!==r){if("number"==typeof r)break;e.hasOwnProperty(r)&&(null===n&&(n=[]),n.push(r,e[r],t[i+1])),i+=2}else i+=2;else i+=4}return n}function no(e,t,n,i){return new Array(e,!0,!1,t,null,0,i,n,null,null)}function io(e,t){const n=Gt(t,e);if(Xt(n)){const e=n[1];80&n[2]?Tr(e,n,e.template,n[8]):n[5]>0&&function e(t){for(let i=mr(t);null!==i;i=vr(i))for(let t=10;t<i.length;t++){const n=i[t];if(1024&n[2]){const e=n[1];Tr(e,n,e.template,n[8])}else n[5]>0&&e(n)}const n=t[1].components;if(null!==n)for(let i=0;i<n.length;i++){const r=Gt(n[i],t);Xt(r)&&r[5]>0&&e(r)}}(n)}}function ro(e,t){const n=Gt(t,e),i=n[1];!function(e,t){for(let n=t.length;n<e.blueprint.length;n++)t.push(e.blueprint[n])}(i,n),Mr(i,n,n[8])}function oo(e,t){return e[13]?e[14][4]=t:e[13]=t,e[14]=t,t}function so(e){for(;e;){e[2]|=64;const t=fr(e);if(Ot(e)&&!t)return e;e=t}return null}function ao(e,t,n){const i=t[10];i.begin&&i.begin();try{Tr(e,t,e.template,n)}catch(r){throw go(t,r),r}finally{i.end&&i.end()}}function lo(e){!function(e){for(let t=0;t<e.components.length;t++){const n=e.components[t],i=Zt(n),r=i[1];Rr(r,i,r.template,n)}}(e[8])}function co(e,t,n){vn(0),t(e,n)}const ho=(()=>Promise.resolve(null))();function uo(e){return e[7]||(e[7]=[])}function po(e,t,n){return(null===e||Et(e))&&(n=function(e){for(;Array.isArray(e);){if("object"==typeof e[1])return e;e=e[0]}return null}(n[t.index])),n[11]}function go(e,t){const n=e[9],i=n?n.get(mi,null):null;i&&i.handleError(t)}function fo(e,t,n,i,r){for(let o=0;o<n.length;){const s=n[o++],a=n[o++],l=t[s],c=e.data[s];null!==c.setInput?c.setInput(l,r,i,a):l[a]=r}}function mo(e,t,n){const i=Ht(t,e),r=e[11];Ft(r)?r.setValue(i,n):i.textContent=n}function vo(e,t){const n=t[3];return-1===e.index?It(n)?n:null:n}function yo(e,t){const n=vo(e,t);return n?Po(t[11],n[7]):null}function bo(e,t,n,i,r){if(null!=i){let o,s=!1;It(i)?o=i:xt(i)&&(s=!0,i=i[0]);const a=$t(i);0===e&&null!==n?null==r?Eo(t,n,a):So(t,n,a,r||null):1===e&&null!==n?So(t,n,a,r||null):2===e?function(e,t,n){const i=Po(e,t);i&&function(e,t,n,i){Ft(e)?e.removeChild(t,n,i):t.removeChild(n)}(e,i,t,n)}(t,a,s):3===e&&t.destroyNode(a),null!=o&&function(e,t,n,i,r){const o=n[7];o!==$t(n)&&bo(t,e,i,o,r);for(let s=10;s<n.length;s++){const r=n[s];No(r[1],r,e,t,i,o)}}(t,e,o,n,r)}}function Co(e,t,n,i){const r=yo(e.node,t);r&&No(e,t,t[11],n?1:2,r,i)}function wo(e,t){const n=e[9],i=n.indexOf(t);1024&t[2]&&Jt(t[3],-1),n.splice(i,1)}function _o(e,t){if(e.length<=10)return;const n=10+t,i=e[n];if(i){const r=i[17];null!==r&&r!==e&&wo(r,i),t>0&&(e[n-1][4]=i[4]);const o=nt(e,10+t);Co(i[1],i,!1,null);const s=o[19];null!==s&&s.detachView(o[1]),i[3]=null,i[4]=null,i[2]&=-129}return i}function xo(e,t){if(!(256&t[2])){const n=t[11];Ft(n)&&n.destroyNode&&No(e,t,n,3,null,null),function(e){let t=e[13];if(!t)return Ao(e[1],e);for(;t;){let n=null;if(xt(t))n=t[13];else{const e=t[10];e&&(n=e)}if(!n){for(;t&&!t[4]&&t!==e;)xt(t)&&Ao(t[1],t),t=Io(t,e);null===t&&(t=e),xt(t)&&Ao(t[1],t),n=t&&t[4]}t=n}}(t)}}function Io(e,t){let n;return xt(e)&&(n=e[6])&&2===n.type?vo(n,e):e[3]===t?null:e[3]}function Ao(e,t){if(!(256&t[2])){t[2]&=-129,t[2]|=256,function(e,t){let n;if(null!=e&&null!=(n=e.destroyHooks))for(let i=0;i<n.length;i+=2){const e=t[n[i]];if(!(e instanceof Dn)){const t=n[i+1];if(Array.isArray(t))for(let n=0;n<t.length;n+=2)t[n+1].call(e[t[n]]);else t.call(e)}}}(e,t),function(e,t){const n=e.cleanup;if(null!==n){const e=t[7];for(let i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){const r=n[i+1],o="function"==typeof r?r(t):$t(t[r]),s=e[n[i+2]],a=n[i+3];"boolean"==typeof a?o.removeEventListener(n[i],s,a):a>=0?e[a]():e[-a].unsubscribe(),i+=2}else n[i].call(e[n[i+1]]);t[7]=null}}(e,t);const n=t[6];n&&3===n.type&&Ft(t[11])&&t[11].destroy();const i=t[17];if(null!==i&&It(t[3])){i!==t[3]&&wo(i,t);const n=t[19];null!==n&&n.detachView(e)}}}function ko(e,t,n){let i=t.parent;for(;null!=i&&(4===i.type||5===i.type);)i=(t=i).parent;if(null==i){const e=n[6];return 2===e.type?yo(e,n):n[0]}if(t&&5===t.type&&4&t.flags)return jt(t,n).parentNode;if(2&i.flags){const t=e.data,n=t[t[i.index].directiveStart].encapsulation;if(n!==lt.ShadowDom&&n!==lt.Native)return null}return jt(i,n)}function So(e,t,n,i){Ft(e)?e.insertBefore(t,n,i):t.insertBefore(n,i,!0)}function Eo(e,t,n){Ft(e)?e.appendChild(t,n):t.appendChild(n)}function Oo(e,t,n,i){null!==i?So(e,t,n,i):Eo(e,t,n)}function Po(e,t){return Ft(e)?e.parentNode(t):t.parentNode}function Mo(e,t){if(2===e.type){const n=vo(e,t);return null===n?null:Ro(n.indexOf(t,10)-10,n)}return 4===e.type||5===e.type?jt(e,t):null}function To(e,t,n,i){const r=ko(e,i,t);if(null!=r){const e=t[11],o=Mo(i.parent||t[6],t);if(Array.isArray(n))for(let t=0;t<n.length;t++)Oo(e,r,n[t],o);else Oo(e,r,n,o)}}function Ro(e,t){const n=10+e+1;if(n<t.length){const e=t[n],i=e[1].firstChild;if(null!==i)return function e(t,n){if(null!==n){const i=n.type;if(3===i)return jt(n,t);if(0===i)return Ro(-1,t[n.index]);if(4===i||5===i){const i=n.child;if(null!==i)return e(t,i);{const e=t[n.index];return It(e)?Ro(-1,e):$t(e)}}{const i=t[16],r=i[6],o=fr(i),s=r.projection[n.projection];return null!=s?e(o,s):e(t,n.next)}}return null}(e,i)}return t[7]}function Do(e,t,n,i,r,o,s){for(;null!=n;){const a=i[n.index],l=n.type;s&&0===t&&(a&&er($t(a),i),n.flags|=4),64!=(64&n.flags)&&(4===l||5===l?(Do(e,t,n.child,i,r,o,!1),bo(t,e,r,a,o)):1===l?Lo(e,t,i,n,r,o):bo(t,e,r,a,o)),n=s?n.projectionNext:n.next}}function No(e,t,n,i,r,o){Do(n,i,e.node.child,t,r,o,!1)}function Lo(e,t,n,i,r,o){const s=n[16],a=s[6].projection[i.projection];if(Array.isArray(a))for(let l=0;l<a.length;l++)bo(t,e,r,a[l],o);else Do(e,t,a,s[3],r,o,!0)}function Bo(e,t,n){Ft(e)?e.setAttribute(t,"style",n):t.style.cssText=n}function Fo(e,t,n){Ft(e)?""===n?e.removeAttribute(t,"class"):e.setAttribute(t,"class",n):t.className=n}class Vo{constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._viewContainerRef=null}get rootNodes(){const e=this._lView;return null==e[0]?function e(t,n,i,r,o=!1){for(;null!==i;){const s=n[i.index];if(null!==s&&r.push($t(s)),It(s))for(let t=10;t<s.length;t++){const n=s[t],i=n[1].firstChild;null!==i&&e(n[1],n,i,r)}const a=i.type;if(4===a||5===a)e(t,n,i.child,r);else if(1===a){const t=n[16],o=t[6].projection[i.projection];if(Array.isArray(o))r.push(...o);else{const n=fr(t);e(n[1],n,o,r,!0)}}i=o?i.projectionNext:i.next}return r}(e[1],e,e[6].child,[]):[]}get context(){return this._lView[8]}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){const e=this._viewContainerRef.indexOf(this);e>-1&&this._viewContainerRef.detach(e),this._viewContainerRef=null}xo(this._lView[1],this._lView)}onDestroy(e){$r(this._lView[1],this._lView,null,e)}markForCheck(){so(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){ao(this._lView[1],this._lView,this.context)}checkNoChanges(){!function(e,t,n){cn(!0);try{ao(e,t,n)}finally{cn(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(e){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=e}detachFromAppRef(){var e;this._appRef=null,No(this._lView[1],e=this._lView,e[11],2,null,null)}attachToAppRef(e){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=e}}class $o extends Vo{constructor(e){super(e),this._view=e}detectChanges(){lo(this._view)}checkNoChanges(){!function(e){cn(!0);try{lo(e)}finally{cn(!1)}}(this._view)}get context(){return null}}let Ho,jo,Wo;function zo(e,t,n){return Ho||(Ho=class extends e{}),new Ho(jt(t,n))}function Go(e,t,n,i){return jo||(jo=class extends e{constructor(e,t,n){super(),this._declarationView=e,this._declarationTContainer=t,this.elementRef=n}createEmbeddedView(e){const t=this._declarationTContainer.tViews,n=Or(this._declarationView,t,e,16,null,t.node);n[17]=this._declarationView[this._declarationTContainer.index];const i=this._declarationView[19];return null!==i&&(n[19]=i.createEmbeddedView(t)),Mr(t,n,e),new Vo(n)}}),0===n.type?new jo(i,n,zo(t,n,i)):null}function Zo(e,t,n,i){let r;Wo||(Wo=class extends e{constructor(e,t,n){super(),this._lContainer=e,this._hostTNode=t,this._hostView=n}get element(){return zo(t,this._hostTNode,this._hostView)}get injector(){return new hi(this._hostTNode,this._hostView)}get parentInjector(){const e=ti(this._hostTNode,this._hostView),t=Wn(e,this._hostView),n=function(e,t,n){if(n.parent&&-1!==n.parent.injectorIndex){const e=n.parent.injectorIndex;let t=n.parent;for(;null!=t.parent&&e==t.parent.injectorIndex;)t=t.parent;return t}let i=jn(e),r=t,o=t[6];for(;i>1;)r=r[15],o=r[6],i--;return o}(e,this._hostView,this._hostTNode);return $n(e)&&null!=n?new hi(n,t):new hi(null,this._hostView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){return null!==this._lContainer[8]&&this._lContainer[8][e]||null}get length(){return this._lContainer.length-10}createEmbeddedView(e,t,n){const i=e.createEmbeddedView(t||{});return this.insert(i,n),i}createComponent(e,t,n,i,r){const o=n||this.parentInjector;if(!r&&null==e.ngModule&&o){const e=o.get(qe,null);e&&(r=e)}const s=e.create(o,i,void 0,r);return this.insert(s.hostView,t),s}insert(e,t){const n=e._lView,i=n[1];if(e.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),It(n[3])){const t=this.indexOf(e);if(-1!==t)this.detach(t);else{const t=n[3],i=new Wo(t,t[6],t[3]);i.detach(i.indexOf(e))}}const r=this._adjustIndex(t);return function(e,t,n,i){const r=10+i,o=n.length;i>0&&(n[r-1][4]=t),i<o-10?(t[4]=n[r],tt(n,10+i,t)):(n.push(t),t[4]=null),t[3]=n;const s=t[17];null!==s&&n!==s&&function(e,t){const n=e[9];t[16]!==t[3][3][16]&&(e[2]=!0),null===n?e[9]=[t]:n.push(t)}(s,t);const a=t[19];null!==a&&a.insertView(e),t[2]|=128}(i,n,this._lContainer,r),Co(i,n,!0,Ro(r,this._lContainer)),e.attachToViewContainerRef(this),tt(this._lContainer[8],r,e),e}move(e,t){if(e.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(e,t)}indexOf(e){const t=this._lContainer[8];return null!==t?t.indexOf(e):-1}remove(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=_o(this._lContainer,t);n&&(nt(this._lContainer[8],t),xo(n[1],n))}detach(e){this.allocateContainerIfNeeded();const t=this._adjustIndex(e,-1),n=_o(this._lContainer,t);return n&&null!=nt(this._lContainer[8],t)?new Vo(n):null}_adjustIndex(e,t=0){return null==e?this.length+t:e}allocateContainerIfNeeded(){null===this._lContainer[8]&&(this._lContainer[8]=[])}});const o=i[n.index];if(It(o))r=o;else{let e;if(4===n.type)e=$t(o);else if(e=i[11].createComment(""),Ot(i)){const t=i[11],r=jt(n,i);So(t,Po(t,r),e,function(e,t){return Ft(e)?e.nextSibling(t):t.nextSibling}(t,r))}else To(i[1],i,e,n);i[n.index]=r=no(o,i,e,n),oo(i,r)}return new Wo(r,n,i)}function Ko(e=!1){return function(e,t,n){if(!n&&kt(e)){const n=Gt(e.index,t);return new Vo(n,n)}return 3===e.type||0===e.type||4===e.type||5===e.type?new Vo(t[16],t):null}(rn(),en(),e)}let Xo=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>Yo(),e})();const Yo=Ko,Uo=Function,Jo=new Be("Set Injector scope."),qo={},Qo={},es=[];let ts=void 0;function ns(){return void 0===ts&&(ts=new Je),ts}function is(e,t=null,n=null,i){return new rs(e,n,t||ns(),i)}class rs{constructor(e,t,n,i=null){this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const r=[];t&&et(t,n=>this.processProvider(n,e,t)),et([e],e=>this.processInjectorType(e,[],r)),this.records.set(Fe,as(void 0,this));const o=this.records.get(Jo);this.scope=null!=o?o.value:null,this.source=i||("object"==typeof e?null:be(e))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(e=>e.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(e,t=Ve,n=se.Default){this.assertNotDestroyed();const i=ze(this);try{if(!(n&se.SkipSelf)){let t=this.records.get(e);if(void 0===t){const n=("function"==typeof(r=e)||"object"==typeof r&&r instanceof Be)&&de(e);t=n&&this.injectableDefInScope(n)?as(os(e),qo):null,this.records.set(e,t)}if(null!=t)return this.hydrate(e,t)}return(n&se.Self?ns():this.parent).get(e,t=n&se.Optional&&t===Ve?null:t)}catch(o){if("NullInjectorError"===o.name){if((o.ngTempTokenPath=o.ngTempTokenPath||[]).unshift(be(e)),i)throw o;return function(e,t,n,i){const r=e.ngTempTokenPath;throw t.__source&&r.unshift(t.__source),e.message=function(e,t,n,i=null){e=e&&"\n"===e.charAt(0)&&"\u0275"==e.charAt(1)?e.substr(2):e;let r=be(t);if(Array.isArray(t))r=t.map(be).join(" -> ");else if("object"==typeof t){let e=[];for(let n in t)if(t.hasOwnProperty(n)){let i=t[n];e.push(n+":"+("string"==typeof i?JSON.stringify(i):be(i)))}r=`{${e.join(", ")}}`}return`${n}${i?"("+i+")":""}[${r}]: ${e.replace($e,"\n  ")}`}("\n"+e.message,r,n,i),e.ngTokenPath=r,e.ngTempTokenPath=null,e}(o,e,"R3InjectorError",this.source)}throw o}finally{ze(i)}var r}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(e=>this.get(e))}toString(){const e=[];return this.records.forEach((t,n)=>e.push(be(n))),`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Error("Injector has already been destroyed.")}processInjectorType(e,t,n){if(!(e=xe(e)))return!1;let i=pe(e);const r=null==i&&e.ngModule||void 0,o=void 0===r?e:r,s=-1!==n.indexOf(o);if(void 0!==r&&(i=pe(r)),null==i)return!1;if(null!=i.imports&&!s){let e;n.push(o);try{et(i.imports,i=>{this.processInjectorType(i,t,n)&&(void 0===e&&(e=[]),e.push(i))})}finally{}if(void 0!==e)for(let t=0;t<e.length;t++){const{ngModule:n,providers:i}=e[t];et(i,e=>this.processProvider(e,n,i||es))}}this.injectorDefTypes.add(o),this.records.set(o,as(i.factory,qo));const a=i.providers;if(null!=a&&!s){const t=e;et(a,e=>this.processProvider(e,t,a))}return void 0!==r&&void 0!==e.providers}processProvider(e,t,n){let i=cs(e=xe(e))?e:xe(e&&e.provide);const r=function(e,t,n){return ls(e)?as(void 0,e.useValue):as(ss(e,t,n),qo)}(e,t,n);if(cs(e)||!0!==e.multi){const e=this.records.get(i);e&&void 0!==e.multi&&nr()}else{let t=this.records.get(i);t?void 0===t.multi&&nr():(t=as(void 0,qo,!0),t.factory=()=>Ue(t.multi),this.records.set(i,t)),i=e,t.multi.push(e)}this.records.set(i,r)}hydrate(e,t){var n;return t.value===Qo?function(e){throw new Error("Cannot instantiate cyclic dependency! "+e)}(be(e)):t.value===qo&&(t.value=Qo,t.value=t.factory()),"object"==typeof t.value&&t.value&&null!==(n=t.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(t.value),t.value}injectableDefInScope(e){return!!e.providedIn&&("string"==typeof e.providedIn?"any"===e.providedIn||e.providedIn===this.scope:this.injectorDefTypes.has(e.providedIn))}}function os(e){const t=de(e),n=null!==t?t.factory:wt(e);if(null!==n)return n;const i=pe(e);if(null!==i)return i.factory;if(e instanceof Be)throw new Error(`Token ${be(e)} is missing a \u0275prov definition.`);if(e instanceof Function)return function(e){const t=e.length;if(t>0){const n=it(t,"?");throw new Error(`Can't resolve all parameters for ${be(e)}: (${n.join(", ")}).`)}const n=function(e){const t=e&&(e[ge]||e[ve]||e[me]&&e[me]());if(t){const n=function(e){if(e.hasOwnProperty("name"))return e.name;const t=(""+e).match(/^function\s*([^\s(]+)/);return null===t?"":t[1]}(e);return console.warn(`DEPRECATED: DI is instantiating a token "${n}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${n}" class.`),t}return null}(e);return null!==n?()=>n.factory(e):()=>new e}(e);throw new Error("unreachable")}function ss(e,t,n){let i=void 0;if(cs(e)){const t=xe(e);return wt(t)||os(t)}if(ls(e))i=()=>xe(e.useValue);else if((r=e)&&r.useFactory)i=()=>e.useFactory(...Ue(e.deps||[]));else if(function(e){return!(!e||!e.useExisting)}(e))i=()=>Ke(xe(e.useExisting));else{const r=xe(e&&(e.useClass||e.provide));if(r||function(e,t,n){let i="";throw e&&t&&(i=` - only instances of Provider and Type are allowed, got: [${t.map(e=>e==n?"?"+n+"?":"...").join(", ")}]`),new Error(`Invalid provider for the NgModule '${be(e)}'`+i)}(t,n,e),!function(e){return!!e.deps}(e))return wt(r)||os(r);i=()=>new r(...Ue(e.deps))}var r;return i}function as(e,t,n=!1){return{factory:e,value:t,multi:n?[]:void 0}}function ls(e){return null!==e&&"object"==typeof e&&He in e}function cs(e){return"function"==typeof e}const hs=function(e,t,n){return function(e,t=null,n=null,i){const r=is(e,t,n,i);return r._resolveInjectorDefTypes(),r}({name:n},t,e,n)};let ds=(()=>{class e{static create(e,t){return Array.isArray(e)?hs(e,t,""):hs(e.providers,e.parent,e.name||"")}}return e.THROW_IF_NOT_FOUND=Ve,e.NULL=new Je,e.\u0275prov=ce({token:e,providedIn:"any",factory:()=>Ke(Fe)}),e.__NG_ELEMENT_ID__=-1,e})();const us=new Be("AnalyzeForEntryComponents");function ps(e,t,n){let i=n?e.styles:null,r=n?e.classes:null,o=0;if(null!==t)for(let s=0;s<t.length;s++){const e=t[s];"number"==typeof e?o=e:1==o?r=Ce(r,e):2==o&&(i=Ce(i,e+": "+t[++s]+";"))}n?e.styles=i:e.stylesWithoutHost=i,n?e.classes=r:e.classesWithoutHost=r}let gs=null;function fs(){if(!gs){const e=Oe.Symbol;if(e&&e.iterator)gs=e.iterator;else{const e=Object.getOwnPropertyNames(Map.prototype);for(let t=0;t<e.length;++t){const n=e[t];"entries"!==n&&"size"!==n&&Map.prototype[n]===Map.prototype.entries&&(gs=n)}}}return gs}class ms{constructor(e){this.wrapped=e}static wrap(e){return new ms(e)}static unwrap(e){return ms.isWrapped(e)?e.wrapped:e}static isWrapped(e){return e instanceof ms}}function vs(e){return!!ys(e)&&(Array.isArray(e)||!(e instanceof Map)&&fs()in e)}function ys(e){return null!==e&&("function"==typeof e||"object"==typeof e)}function bs(e,t,n){return!Object.is(e[t],n)&&(e[t]=n,!0)}function Cs(e,t,n,i){const r=bs(e,t,n);return bs(e,t+1,i)||r}function ws(e,t,n,i){const r=en();return bs(r,dn(),t)&&(tn(),function(e,t,n,i,r,o){const s=jt(e,t),a=t[11];if(null==i)Ft(a)?a.removeAttribute(s,n,o):s.removeAttribute(n);else{const t=null==r?zn(i):r(i,e.tagName||"",n);Ft(a)?a.setAttribute(s,n,t,o):o?s.setAttributeNS(o,n,t):s.setAttribute(n,t)}}(Sn(),r,e,t,n,i)),ws}function _s(e,t,n,i){return bs(e,dn(),n)?t+zn(n)+i:gr}function xs(e,t,n,i,r,o,s,a){const l=en(),c=tn(),h=e+20,d=c.firstCreatePass?function(e,t,n,i,r,o,s,a,l){const c=t.consts,h=Pr(t,n[6],e,0,s||null,Yt(c,a));zr(t,n,h,Yt(c,l)),En(t,h);const d=h.tViews=Vr(2,-1,i,r,o,t.directiveRegistry,t.pipeRegistry,null,t.schemas,c),u=Hr(0,null,2,-1,null,null);return u.injectorIndex=h.injectorIndex,d.node=u,null!==t.queries&&(t.queries.template(t,h),d.queries=t.queries.embeddedTView(h)),h}(e,c,l,t,n,i,r,o,s):c.data[h];on(d,!1);const u=l[11].createComment("");To(c,l,u,d),er(u,l),oo(l,l[h]=no(u,l,u,d)),St(d)&&Lr(c,l,d),null!=s&&Br(l,d,a)}function Is(e){return zt(qt.lFrame.contextLView,e)}function As(e,t=se.Default){const n=en();return null==n?Ke(e,t):ii(rn(),n,xe(e),t)}function ks(e){return function(e,t){if("class"===t)return e.classes;if("style"===t)return e.styles;const n=e.attrs;if(n){const e=n.length;let i=0;for(;i<e;){const r=n[i];if(Ln(r))break;if(0===r)i+=2;else if("number"==typeof r)for(i++;i<e&&"string"==typeof n[i];)i++;else{if(r===t)return n[i+1];i+=2}}}return null}(rn(),e)}function Ss(e,t,n){const i=en();return bs(i,dn(),t)&&Wr(tn(),Sn(),i,e,t,i[11],n,!1),Ss}function Es(e,t,n,i,r){const o=r?"class":"style";fo(e,n,t.inputs[o],o,i)}function Os(e,t,n,i){const r=en(),o=tn(),s=20+e,a=r[11],l=r[s]=Er(t,a,qt.lFrame.currentNamespace),c=o.firstCreatePass?function(e,t,n,i,r,o,s){const a=t.consts,l=Yt(a,o),c=Pr(t,n[6],e,3,r,l);return zr(t,n,c,Yt(a,s)),null!==c.attrs&&ps(c,c.attrs,!1),null!==c.mergedAttrs&&ps(c,c.mergedAttrs,!0),null!==t.queries&&t.queries.elementStart(t,c),c}(e,o,r,0,t,n,i):o.data[s];on(c,!0);const h=c.mergedAttrs;null!==h&&Nn(a,l,h);const d=c.classes;null!==d&&Fo(a,l,d);const u=c.styles;null!==u&&Bo(a,l,u),To(o,r,l,c),0===qt.lFrame.elementDepthCount&&er(l,r),qt.lFrame.elementDepthCount++,St(c)&&(Lr(o,r,c),Nr(o,c,r)),null!==i&&Br(r,c)}function Ps(){let e=rn();sn()?an():(e=e.parent,on(e,!1));const t=e;qt.lFrame.elementDepthCount--;const n=tn();n.firstCreatePass&&(En(n,e),At(e)&&n.queries.elementEnd(e)),null!=t.classesWithoutHost&&function(e){return 0!=(16&e.flags)}(t)&&Es(n,t,en(),t.classesWithoutHost,!0),null!=t.stylesWithoutHost&&function(e){return 0!=(32&e.flags)}(t)&&Es(n,t,en(),t.stylesWithoutHost,!1)}function Ms(e,t,n,i){Os(e,t,n,i),Ps()}function Ts(e,t,n){const i=en(),r=tn(),o=e+20,s=r.firstCreatePass?function(e,t,n,i,r){const o=t.consts,s=Yt(o,i),a=Pr(t,n[6],e,4,"ng-container",s);return null!==s&&ps(a,s,!0),zr(t,n,a,Yt(o,r)),null!==t.queries&&t.queries.elementStart(t,a),a}(e,r,i,t,n):r.data[o];on(s,!0);const a=i[o]=i[11].createComment("");To(r,i,a,s),er(a,i),St(s)&&(Lr(r,i,s),Nr(r,s,i)),null!=n&&Br(i,s)}function Rs(){let e=rn();const t=tn();sn()?an():(e=e.parent,on(e,!1)),t.firstCreatePass&&(En(t,e),At(e)&&t.queries.elementEnd(e))}function Ds(e,t,n){Ts(e,t,n),Rs()}function Ns(){return en()}function Ls(e){return!!e&&"function"==typeof e.then}function Bs(e){return!!e&&"function"==typeof e.subscribe}function Fs(e,t,n=!1,i){const r=en(),o=tn(),s=rn();return $s(o,r,r[11],s,e,t,n,i),Fs}function Vs(e,t,n=!1,i){const r=rn(),o=en(),s=tn();return $s(s,o,po(fn(s.data),r,o),r,e,t,n,i),Vs}function $s(e,t,n,i,r,o,s=!1,a){const l=St(i),c=e.firstCreatePass&&(e.cleanup||(e.cleanup=[])),h=uo(t);let d=!0;if(3===i.type){const u=jt(i,t),p=a?a(u):ct,g=p.target||u,f=h.length,m=a?e=>a($t(e[i.index])).target:i.index;if(Ft(n)){let s=null;if(!a&&l&&(s=function(e,t,n,i){const r=e.cleanup;if(null!=r)for(let o=0;o<r.length-1;o+=2){const e=r[o];if(e===n&&r[o+1]===i){const e=t[7],n=r[o+2];return e.length>n?e[n]:null}"string"==typeof e&&(o+=2)}return null}(e,t,r,i.index)),null!==s)(s.__ngLastListenerFn__||s).__ngNextListenerFn__=o,s.__ngLastListenerFn__=o,d=!1;else{o=js(i,t,o,!1);const e=n.listen(p.name||g,r,o);h.push(o,e),c&&c.push(r,m,f,f+1)}}else o=js(i,t,o,!0),g.addEventListener(r,o,s),h.push(o),c&&c.push(r,m,f,s)}const u=i.outputs;let p;if(d&&null!==u&&(p=u[r])){const e=p.length;if(e)for(let n=0;n<e;n+=2){const e=t[p[n]][p[n+1]].subscribe(o),s=h.length;h.push(o,e),c&&c.push(r,i.index,s,-(s+1))}}}function Hs(e,t,n){try{return!1!==t(n)}catch(i){return go(e,i),!1}}function js(e,t,n,i){return function r(o){if(o===Function)return n;const s=2&e.flags?Gt(e.index,t):t;0==(32&t[2])&&so(s);let a=Hs(t,n,o),l=r.__ngNextListenerFn__;for(;l;)a=Hs(t,l,o)&&a,l=l.__ngNextListenerFn__;return i&&!1===a&&(o.preventDefault(),o.returnValue=!1),a}}function Ws(e=1){return function(e){return(qt.lFrame.contextLView=function(e,t){for(;e>0;)t=t[15],e--;return t}(e,qt.lFrame.contextLView))[8]}(e)}function zs(e,t){let n=null;const i=function(e){const t=e.attrs;if(null!=t){const e=t.indexOf(5);if(0==(1&e))return t[e+1]}return null}(e);for(let r=0;r<t.length;r++){const o=t[r];if("*"!==o){if(null===i?hr(e,o,!0):dr(i,o))return r}else n=r}return n}function Gs(e){const t=en()[16][6];if(!t.projection){const n=t.projection=it(e?e.length:1,null),i=n.slice();let r=t.child;for(;null!==r;){const t=e?zs(r,e):0;null!==t&&(i[t]?i[t].projectionNext=r:n[t]=r,i[t]=r),r=r.next}}}function Zs(e,t=0,n){const i=en(),r=tn(),o=Pr(r,i[6],e,1,null,n||null);null===o.projection&&(o.projection=t),an(),function(e,t,n){Lo(t[11],0,t,n,ko(e,n,t),Mo(n.parent||t[6],t))}(r,i,o)}function Ks(e,t,n){return Xs(e,"",t,"",n),Ks}function Xs(e,t,n,i,r){const o=en(),s=_s(o,t,n,i);return s!==gr&&Wr(tn(),Sn(),o,e,s,o[11],r,!1),Xs}const Ys=[];function Us(e,t,n,i,r){const o=e[n+1],s=null===t;let a=i?_r(o):Ir(o),l=!1;for(;0!==a&&(!1===l||s);){const n=e[a+1];Js(e[a],t)&&(l=!0,e[a+1]=i?kr(n):xr(n)),a=i?_r(n):Ir(n)}l&&(e[n+1]=i?xr(o):kr(o))}function Js(e,t){return null===e||null==t||(Array.isArray(e)?e[1]:e)===t||!(!Array.isArray(e)||"string"!=typeof t)&&st(e,t)>=0}const qs={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Qs(e){return e.substring(qs.key,qs.keyEnd)}function ea(e,t){const n=qs.textEnd;return n===t?-1:(t=qs.keyEnd=function(e,t,n){for(;t<n&&e.charCodeAt(t)>32;)t++;return t}(e,qs.key=t,n),ta(e,t,n))}function ta(e,t,n){for(;t<n&&e.charCodeAt(t)<=32;)t++;return t}function na(e,t,n){return oa(e,t,n,!1),na}function ia(e,t){return oa(e,t,null,!0),ia}function ra(e,t){for(let n=function(e){return function(e){qs.key=0,qs.keyEnd=0,qs.value=0,qs.valueEnd=0,qs.textEnd=e.length}(e),ea(e,ta(e,0,qs.textEnd))}(t);n>=0;n=ea(t,n))rt(e,Qs(t),!0)}function oa(e,t,n,i){const r=en(),o=tn(),s=un(2);o.firstUpdatePass&&aa(o,e,s,i),t!==gr&&bs(r,s,t)&&ha(o,o.data[An()+20],r,r[11],e,r[s+1]=function(e,t){return null==e||("string"==typeof t?e+=t:"object"==typeof e&&(e=be(xi(e)))),e}(t,n),i,s)}function sa(e,t){return t>=e.expandoStartIndex}function aa(e,t,n,i){const r=e.data;if(null===r[n+1]){const o=r[An()+20],s=sa(e,n);pa(o,i)&&null===t&&!s&&(t=!1),t=function(e,t,n,i){const r=fn(e);let o=i?t.residualClasses:t.residualStyles;if(null===r)0===(i?t.classBindings:t.styleBindings)&&(n=ca(n=la(null,e,t,n,i),t.attrs,i),o=null);else{const s=t.directiveStylingLast;if(-1===s||e[s]!==r)if(n=la(r,e,t,n,i),null===o){let n=function(e,t,n){const i=n?t.classBindings:t.styleBindings;if(0!==Ir(i))return e[_r(i)]}(e,t,i);void 0!==n&&Array.isArray(n)&&(n=la(null,e,t,n[1],i),n=ca(n,t.attrs,i),function(e,t,n,i){e[_r(n?t.classBindings:t.styleBindings)]=i}(e,t,i,n))}else o=function(e,t,n){let i=void 0;const r=t.directiveEnd;for(let o=1+t.directiveStylingLast;o<r;o++)i=ca(i,e[o].hostAttrs,n);return ca(i,t.attrs,n)}(e,t,i)}return void 0!==o&&(i?t.residualClasses=o:t.residualStyles=o),n}(r,o,t,i),function(e,t,n,i,r,o){let s=o?t.classBindings:t.styleBindings,a=_r(s),l=Ir(s);e[i]=n;let c,h=!1;if(Array.isArray(n)){const e=n;c=e[1],(null===c||st(e,c)>0)&&(h=!0)}else c=n;if(r)if(0!==l){const t=_r(e[a+1]);e[i+1]=wr(t,a),0!==t&&(e[t+1]=Ar(e[t+1],i)),e[a+1]=131071&e[a+1]|i<<17}else e[i+1]=wr(a,0),0!==a&&(e[a+1]=Ar(e[a+1],i)),a=i;else e[i+1]=wr(l,0),0===a?a=i:e[l+1]=Ar(e[l+1],i),l=i;h&&(e[i+1]=xr(e[i+1])),Us(e,c,i,!0),Us(e,c,i,!1),function(e,t,n,i,r){const o=r?e.residualClasses:e.residualStyles;null!=o&&"string"==typeof t&&st(o,t)>=0&&(n[i+1]=kr(n[i+1]))}(t,c,e,i,o),s=wr(a,l),o?t.classBindings=s:t.styleBindings=s}(r,o,t,n,s,i)}}function la(e,t,n,i,r){let o=null;const s=n.directiveEnd;let a=n.directiveStylingLast;for(-1===a?a=n.directiveStart:a++;a<s&&(o=t[a],i=ca(i,o.hostAttrs,r),o!==e);)a++;return null!==e&&(n.directiveStylingLast=a),i}function ca(e,t,n){const i=n?1:2;let r=-1;if(null!==t)for(let o=0;o<t.length;o++){const s=t[o];"number"==typeof s?r=s:r===i&&(Array.isArray(e)||(e=void 0===e?[]:["",e]),rt(e,s,!!n||t[++o]))}return void 0===e?null:e}function ha(e,t,n,i,r,o,s,a){if(3!==t.type)return;const l=e.data,c=l[a+1];ua(1==(1&c)?da(l,t,n,r,Ir(c),s):void 0)||(ua(o)||function(e){return 2==(2&e)}(c)&&(o=da(l,null,n,r,a,s)),function(e,t,n,i,r){const o=Ft(e);if(t)r?o?e.addClass(n,i):n.classList.add(i):o?e.removeClass(n,i):n.classList.remove(i);else{const t=-1==i.indexOf("-")?void 0:2;null==r?o?e.removeStyle(n,i,t):n.style.removeProperty(i):o?e.setStyle(n,i,r,t):n.style.setProperty(i,r)}}(i,s,Ht(An(),n),r,o))}function da(e,t,n,i,r,o){const s=null===t;let a=void 0;for(;r>0;){const t=e[r],o=Array.isArray(t),l=o?t[1]:t,c=null===l;let h=n[r+1];h===gr&&(h=c?Ys:void 0);let d=c?ot(h,i):l===i?h:void 0;if(o&&!ua(d)&&(d=ot(t,i)),ua(d)&&(a=d,s))return a;const u=e[r+1];r=s?_r(u):Ir(u)}if(null!==t){let e=o?t.residualClasses:t.residualStyles;null!=e&&(a=ot(e,i))}return a}function ua(e){return void 0!==e}function pa(e,t){return 0!=(e.flags&(t?16:32))}function ga(e,t=""){const n=en(),i=tn(),r=e+20,o=i.firstCreatePass?Pr(i,n[6],e,3,null,null):i.data[r],s=n[r]=function(e,t){return Ft(t)?t.createText(e):t.createTextNode(e)}(t,n[11]);To(i,n,s,o),on(o,!1)}function fa(e){return ma("",e,""),fa}function ma(e,t,n){const i=en(),r=_s(i,e,t,n);return r!==gr&&mo(i,An(),r),ma}function va(e,t,n,i,r){const o=en(),s=function(e,t,n,i,r,o){const s=Cs(e,hn(),n,r);return un(2),s?t+zn(n)+i+zn(r)+o:gr}(o,e,t,n,i,r);return s!==gr&&mo(o,An(),s),va}function ya(e,t,n,i,r,o,s){const a=en(),l=function(e,t,n,i,r,o,s,a){const l=function(e,t,n,i,r){const o=Cs(e,t,n,i);return bs(e,t+2,r)||o}(e,hn(),n,r,s);return un(3),l?t+zn(n)+i+zn(r)+o+zn(s)+a:gr}(a,e,t,n,i,r,o,s);return l!==gr&&mo(a,An(),l),ya}function ba(e,t,n){const i=en();if(bs(i,dn(),t)){const r=tn(),o=Sn();Wr(r,o,i,e,t,po(fn(r.data),o,i),n,!0)}return ba}function Ca(e,t){const n=Zt(e)[1],i=n.data.length-1;En(n,{directiveStart:i,directiveEnd:i+1})}function wa(e){let t=Object.getPrototypeOf(e.type.prototype).constructor,n=!0;const i=[e];for(;t;){let r=void 0;if(Et(e))r=t.\u0275cmp||t.\u0275dir;else{if(t.\u0275cmp)throw new Error("Directives cannot inherit Components");r=t.\u0275dir}if(r){if(n){i.push(r);const t=e;t.inputs=_a(e.inputs),t.declaredInputs=_a(e.declaredInputs),t.outputs=_a(e.outputs);const n=r.hostBindings;n&&Aa(e,n);const o=r.viewQuery,s=r.contentQueries;if(o&&xa(e,o),s&&Ia(e,s),le(e.inputs,r.inputs),le(e.declaredInputs,r.declaredInputs),le(e.outputs,r.outputs),Et(r)&&r.data.animation){const t=e.data;t.animation=(t.animation||[]).concat(r.data.animation)}}const t=r.features;if(t)for(let i=0;i<t.length;i++){const r=t[i];r&&r.ngInherit&&r(e),r===wa&&(n=!1)}}t=Object.getPrototypeOf(t)}!function(e){let t=0,n=null;for(let i=e.length-1;i>=0;i--){const r=e[i];r.hostVars=t+=r.hostVars,r.hostAttrs=Fn(r.hostAttrs,n=Fn(n,r.hostAttrs))}}(i)}function _a(e){return e===ct?{}:e===ht?[]:e}function xa(e,t){const n=e.viewQuery;e.viewQuery=n?(e,i)=>{t(e,i),n(e,i)}:t}function Ia(e,t){const n=e.contentQueries;e.contentQueries=n?(e,i,r)=>{t(e,i,r),n(e,i,r)}:t}function Aa(e,t){const n=e.hostBindings;e.hostBindings=n?(e,i)=>{t(e,i),n(e,i)}:t}function ka(e,t,n,i,r){if(e=xe(e),Array.isArray(e))for(let o=0;o<e.length;o++)ka(e[o],t,n,i,r);else{const o=tn(),s=en();let a=cs(e)?e:xe(e.provide),l=ss(e);const c=rn(),h=1048575&c.providerIndexes,d=c.directiveStart,u=c.providerIndexes>>20;if(cs(e)||!e.multi){const i=new Dn(l,r,As),p=Oa(a,t,r?h:h+u,d);-1===p?(ni(qn(c,s),o,a),Sa(o,e,t.length),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(i),s.push(i)):(n[p]=i,s[p]=i)}else{const p=Oa(a,t,h+u,d),g=Oa(a,t,h,h+u),f=p>=0&&n[p],m=g>=0&&n[g];if(r&&!m||!r&&!f){ni(qn(c,s),o,a);const h=function(e,t,n,i,r){const o=new Dn(e,n,As);return o.multi=[],o.index=t,o.componentProviders=0,Ea(o,r,i&&!n),o}(r?Ma:Pa,n.length,r,i,l);!r&&m&&(n[g].providerFactory=h),Sa(o,e,t.length,0),t.push(a),c.directiveStart++,c.directiveEnd++,r&&(c.providerIndexes+=1048576),n.push(h),s.push(h)}else Sa(o,e,p>-1?p:g,Ea(n[r?g:p],l,!r&&i));!r&&i&&m&&n[g].componentProviders++}}}function Sa(e,t,n,i){const r=cs(t);if(r||t.useClass){const o=(t.useClass||t).prototype.ngOnDestroy;if(o){const s=e.destroyHooks||(e.destroyHooks=[]);if(!r&&t.multi){const e=s.indexOf(n);-1===e?s.push(n,[i,o]):s[e+1].push(i,o)}else s.push(n,o)}}}function Ea(e,t,n){return n&&e.componentProviders++,e.multi.push(t)-1}function Oa(e,t,n,i){for(let r=n;r<i;r++)if(t[r]===e)return r;return-1}function Pa(e,t,n,i){return Ta(this.multi,[])}function Ma(e,t,n,i){const r=this.multi;let o;if(this.providerFactory){const e=this.providerFactory.componentProviders,t=ai(n,n[1],this.providerFactory.index,i);o=t.slice(0,e),Ta(r,o);for(let n=e;n<t.length;n++)o.push(t[n])}else o=[],Ta(r,o);return o}function Ta(e,t){for(let n=0;n<e.length;n++)t.push((0,e[n])());return t}function Ra(e,t=[]){return n=>{n.providersResolver=(n,i)=>function(e,t,n){const i=tn();if(i.firstCreatePass){const r=Et(e);ka(n,i.data,i.blueprint,r,!0),ka(t,i.data,i.blueprint,r,!1)}}(n,i?i(e):e,t)}}class Da{}class Na{resolveComponentFactory(e){throw function(e){const t=Error(`No component factory found for ${be(e)}. Did you add it to @NgModule.entryComponents?`);return t.ngComponent=e,t}(e)}}let La=(()=>{class e{}return e.NULL=new Na,e})(),Ba=(()=>{class e{constructor(e){this.nativeElement=e}}return e.__NG_ELEMENT_ID__=()=>Fa(e),e})();const Fa=function(e){return zo(e,rn(),en())};class Va{}var $a=function(e){return e[e.Important=1]="Important",e[e.DashCase=2]="DashCase",e}({});let Ha=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ja(),e})();const ja=function(){const e=en(),t=Gt(rn().index,e);return function(e){const t=e[11];if(Ft(t))return t;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(xt(t)?t:e)};let Wa=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>null}),e})();class za{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const Ga=new za("10.0.14");class Za{constructor(){}supports(e){return vs(e)}create(e){return new Xa(e)}}const Ka=(e,t)=>t;class Xa{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||Ka}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,n=this._removalsHead,i=0,r=null;for(;t||n;){const o=!n||t&&t.currentIndex<qa(n,i,r)?t:n,s=qa(o,i,r),a=o.currentIndex;if(o===n)i--,n=n._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{r||(r=[]);const e=s-i,t=a-i;if(e!=t){for(let n=0;n<e;n++){const i=n<r.length?r[n]:r[n]=0,o=i+n;t<=o&&o<e&&(r[n]=i+1)}r[o.previousIndex]=t-e}}s!==a&&e(o,s,a)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!vs(e))throw new Error(`Error trying to diff '${be(e)}'. Only arrays and iterables are allowed`);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t,n,i,r=this._itHead,o=!1;if(Array.isArray(e)){this.length=e.length;for(let t=0;t<this.length;t++)n=e[t],i=this._trackByFn(t,n),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,n,i,t)),Object.is(r.item,n)||this._addIdentityChange(r,n)):(r=this._mismatch(r,n,i,t),o=!0),r=r._next}else t=0,function(e,t){if(Array.isArray(e))for(let n=0;n<e.length;n++)t(e[n]);else{const n=e[fs()]();let i;for(;!(i=n.next()).done;)t(i.value)}}(e,e=>{i=this._trackByFn(t,e),null!==r&&Object.is(r.trackById,i)?(o&&(r=this._verifyReinsertion(r,e,i,t)),Object.is(r.item,e)||this._addIdentityChange(r,e)):(r=this._mismatch(r,e,i,t),o=!0),r=r._next,t++}),this.length=t;return this._truncate(r),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e,t;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=t)e.previousIndex=e.currentIndex,t=e._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,n,i){let r;return null===e?r=this._itTail:(r=e._prev,this._remove(e)),null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(n,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,r,i)):null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,r,i)):e=this._addAfter(new Ya(t,n),r,i),e}_verifyReinsertion(e,t,n,i){let r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==r?e=this._reinsertAfter(r,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,r=e._nextRemoved;return null===i?this._removalsHead=r:i._nextRemoved=r,null===r?this._removalsTail=i:r._prevRemoved=i,this._insertAfter(e,t,n),this._addToMoves(e,n),e}_moveAfter(e,t,n){return this._unlink(e),this._insertAfter(e,t,n),this._addToMoves(e,n),e}_addAfter(e,t,n){return this._insertAfter(e,t,n),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,n){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new Ja),this._linkedRecords.put(e),e.currentIndex=n,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,n=e._next;return null===t?this._itHead=n:t._next=n,null===n?this._itTail=t:n._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ja),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class Ya{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class Ua{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let n;for(n=this._head;null!==n;n=n._nextDup)if((null===t||t<=n.currentIndex)&&Object.is(n.trackById,e))return n;return null}remove(e){const t=e._prevDup,n=e._nextDup;return null===t?this._head=n:t._nextDup=n,null===n?this._tail=t:n._prevDup=t,null===this._head}}class Ja{constructor(){this.map=new Map}put(e){const t=e.trackById;let n=this.map.get(t);n||(n=new Ua,this.map.set(t,n)),n.add(e)}get(e,t){const n=this.map.get(e);return n?n.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function qa(e,t,n){const i=e.previousIndex;if(null===i)return i;let r=0;return n&&i<n.length&&(r=n[i]),i+t+r}class Qa{constructor(){}supports(e){return e instanceof Map||ys(e)}create(){return new el}}class el{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||ys(e)))throw new Error(`Error trying to diff '${be(e)}'. Only maps and objects are allowed`)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(e,n)=>{if(t&&t.key===n)this._maybeAddToChanges(t,e),this._appendAfter=t,t=t._next;else{const i=this._getOrCreateRecordForKey(n,e);t=this._insertBeforeOrAppend(t,i)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let e=t;null!==e;e=e._nextRemoved)e===this._mapHead&&(this._mapHead=null),this._records.delete(e.key),e._nextRemoved=e._next,e.previousValue=e.currentValue,e.currentValue=null,e._prev=null,e._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const n=e._prev;return t._next=e,t._prev=n,e._prev=t,n&&(n._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const n=this._records.get(e);this._maybeAddToChanges(n,t);const i=n._prev,r=n._next;return i&&(i._next=r),r&&(r._prev=i),n._next=null,n._prev=null,n}const n=new tl(e);return this._records.set(e,n),n.currentValue=t,this._addToAdditions(n),n}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(n=>t(e[n],n))}}class tl{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}let nl=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(null!=n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(null!=t)return t;throw new Error(`Cannot find a differ supporting object '${e}' of type '${n=e,n.name||typeof n}'`);var n}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e([new Za])}),e})(),il=(()=>{class e{constructor(e){this.factories=e}static create(t,n){if(n){const e=n.factories.slice();t=t.concat(e)}return new e(t)}static extend(t){return{provide:e,useFactory:n=>{if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return e.create(t,n)},deps:[[e,new oe,new ie]]}}find(e){const t=this.factories.find(t=>t.supports(e));if(t)return t;throw new Error(`Cannot find a differ supporting object '${e}'`)}}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new e([new Qa])}),e})();const rl=[new Qa],ol=new nl([new Za]),sl=new il(rl);let al=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>ll(e,Ba),e})();const ll=function(e,t){return Go(e,t,rn(),en())};let cl=(()=>{class e{}return e.__NG_ELEMENT_ID__=()=>hl(e,Ba),e})();const hl=function(e,t){return Zo(e,t,rn(),en())},dl={};class ul extends La{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Ct(e);return new fl(t,this.ngModule)}}function pl(e){const t=[];for(let n in e)e.hasOwnProperty(n)&&t.push({propName:e[n],templateName:n});return t}const gl=new Be("SCHEDULER_TOKEN",{providedIn:"root",factory:()=>Zn});class fl extends Da{constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=e.selectors.map(pr).join(","),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}get inputs(){return pl(this.componentDef.inputs)}get outputs(){return pl(this.componentDef.outputs)}create(e,t,n,i){const r=(i=i||this.ngModule)?function(e,t){return{get:(n,i,r)=>{const o=e.get(n,dl,r);return o!==dl||i===dl?o:t.get(n,i,r)}}}(e,i.injector):e,o=r.get(Va,Vt),s=r.get(Wa,null),a=o.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",c=n?function(e,t,n){if(Ft(e))return e.selectRootElement(t,n===lt.ShadowDom);let i="string"==typeof t?e.querySelector(t):t;return i.textContent="",i}(a,n,this.componentDef.encapsulation):Er(l,o.createRenderer(null,this.componentDef),function(e){const t=e.toLowerCase();return"svg"===t?"http://www.w3.org/2000/svg":"math"===t?"http://www.w3.org/1998/MathML/":null}(l)),h=this.componentDef.onPush?576:528,d={components:[],scheduler:Zn,clean:ho,playerHandler:null,flags:0},u=Vr(0,-1,null,1,0,null,null,null,null,null),p=Or(null,u,d,h,null,null,o,a,s,r);let g,f;bn(p,null);try{const e=function(e,t,n,i,r,o){const s=n[1];n[20]=e;const a=Pr(s,null,0,3,null,null),l=a.mergedAttrs=t.hostAttrs;null!==l&&(ps(a,l,!0),null!==e&&(Nn(r,e,l),null!==a.classes&&Fo(r,e,a.classes),null!==a.styles&&Bo(r,e,a.styles)));const c=i.createRenderer(e,t),h=Or(n,Fr(t),null,t.onPush?64:16,n[20],a,i,c,void 0);return s.firstCreatePass&&(ni(qn(a,n),s,t.type),Yr(s,a),Jr(a,n.length,1)),oo(n,h),n[20]=h}(c,this.componentDef,p,o,a);if(c)if(n)Nn(a,c,["ng-version",Ga.full]);else{const{attrs:e,classes:t}=function(e){const t=[],n=[];let i=1,r=2;for(;i<e.length;){let o=e[i];if("string"==typeof o)2===r?""!==o&&t.push(o,e[++i]):8===r&&n.push(o);else{if(!lr(r))break;r=o}i++}return{attrs:t,classes:n}}(this.componentDef.selectors[0]);e&&Nn(a,c,e),t&&t.length>0&&Fo(a,c,t.join(" "))}if(f=Wt(u,0),void 0!==t){const e=f.projection=[];for(let n=0;n<this.ngContentSelectors.length;n++){const i=t[n];e.push(null!=i?Array.from(i):null)}}g=function(e,t,n,i,r){const o=n[1],s=function(e,t,n){const i=rn();e.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),Xr(e,i,1),qr(e,t,n));const r=ai(t,e,t.length-1,i);er(r,t);const o=jt(i,t);return o&&er(o,t),r}(o,n,t);i.components.push(s),e[8]=s,r&&r.forEach(e=>e(s,t)),t.contentQueries&&t.contentQueries(1,s,n.length-1);const a=rn();if(o.firstCreatePass&&(null!==t.hostBindings||null!==t.hostAttrs)){kn(a.index-20);const e=n[1];Gr(e,t),Zr(e,n,t.hostVars),Kr(t,s)}return s}(e,this.componentDef,p,d,[Ca]),Mr(u,p,null)}finally{In()}const m=new ml(this.componentType,g,zo(Ba,f,p),p,f);return u.node.child=f,m}}class ml extends class{}{constructor(e,t,n,i,r){super(),this.location=n,this._rootLView=i,this._tNode=r,this.destroyCbs=[],this.instance=t,this.hostView=this.changeDetectorRef=new $o(i),function(e,t,n,i){let r=e.node;null==r&&(e.node=r=Hr(0,null,2,-1,null,null)),i[6]=r}(i[1],0,0,i),this.componentType=e}get injector(){return new hi(this._tNode,this._rootLView)}destroy(){this.destroyCbs&&(this.destroyCbs.forEach(e=>e()),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())}onDestroy(e){this.destroyCbs&&this.destroyCbs.push(e)}}const vl=void 0;var yl=["en",[["a","p"],["AM","PM"],vl],[["AM","PM"],vl,vl],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],vl,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],vl,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",vl,"{1} 'at' {0}",vl],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(e){let t=Math.floor(Math.abs(e)),n=e.toString().replace(/^[^.]*\.?/,"").length;return 1===t&&0===n?1:5}];let bl={};function Cl(e){return e in bl||(bl[e]=Oe.ng&&Oe.ng.common&&Oe.ng.common.locales&&Oe.ng.common.locales[e]),bl[e]}var wl=function(e){return e[e.LocaleId=0]="LocaleId",e[e.DayPeriodsFormat=1]="DayPeriodsFormat",e[e.DayPeriodsStandalone=2]="DayPeriodsStandalone",e[e.DaysFormat=3]="DaysFormat",e[e.DaysStandalone=4]="DaysStandalone",e[e.MonthsFormat=5]="MonthsFormat",e[e.MonthsStandalone=6]="MonthsStandalone",e[e.Eras=7]="Eras",e[e.FirstDayOfWeek=8]="FirstDayOfWeek",e[e.WeekendRange=9]="WeekendRange",e[e.DateFormat=10]="DateFormat",e[e.TimeFormat=11]="TimeFormat",e[e.DateTimeFormat=12]="DateTimeFormat",e[e.NumberSymbols=13]="NumberSymbols",e[e.NumberFormats=14]="NumberFormats",e[e.CurrencyCode=15]="CurrencyCode",e[e.CurrencySymbol=16]="CurrencySymbol",e[e.CurrencyName=17]="CurrencyName",e[e.Currencies=18]="Currencies",e[e.Directionality=19]="Directionality",e[e.PluralCase=20]="PluralCase",e[e.ExtraData=21]="ExtraData",e}({});let _l="en-US";function xl(e){var t,n;n="Expected localeId to be defined",null==(t=e)&&function(e,t,n,i){throw new Error("ASSERTION ERROR: "+e+` [Expected=> null != ${t} <=Actual]`)}(n,t),"string"==typeof e&&(_l=e.toLowerCase().replace(/_/g,"-"))}const Il=new Map;class Al extends qe{constructor(e,t){super(),this._parent=t,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new ul(this);const n=_t(e),i=e[De]||null;i&&xl(i),this._bootstrapComponents=Xn(n.bootstrap),this._r3Injector=is(e,t,[{provide:qe,useValue:this},{provide:La,useValue:this.componentFactoryResolver}],be(e)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(e)}get(e,t=ds.THROW_IF_NOT_FOUND,n=se.Default){return e===ds||e===qe||e===Fe?this:this._r3Injector.get(e,t,n)}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(e=>e()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class kl extends Qe{constructor(e){super(),this.moduleType=e,null!==_t(e)&&function e(t){if(null!==t.\u0275mod.id){const e=t.\u0275mod.id;(function(e,t,n){if(t&&t!==n)throw new Error(`Duplicate module registered for ${e} - ${be(t)} vs ${be(t.name)}`)})(e,Il.get(e),t),Il.set(e,t)}let n=t.\u0275mod.imports;n instanceof Function&&(n=n()),n&&n.forEach(t=>e(t))}(e)}create(e){return new Al(this.moduleType,e)}}function Sl(e,t){const n=tn();let i;const r=e+20;n.firstCreatePass?(i=function(e,t){if(t)for(let n=t.length-1;n>=0;n--){const i=t[n];if(e===i.name)return i}throw new Error(`The pipe '${e}' could not be found!`)}(t,n.pipeRegistry),n.data[r]=i,i.onDestroy&&(n.destroyHooks||(n.destroyHooks=[])).push(r,i.onDestroy)):i=n.data[r];const o=i.factory||(i.factory=wt(i.type)),s=Ge(As),a=Un(!1),l=o();return Un(a),Ge(s),function(e,t,n,i){const r=n+20;r>=e.data.length&&(e.data[r]=null,e.blueprint[r]=null),t[r]=i}(n,en(),e,l),l}function El(e,t,n){const i=en(),r=zt(i,e);return function(e,t){return ms.isWrapped(t)&&(t=ms.unwrap(t),e[hn()]=gr),t}(i,function(e,t){return e[1].data[t+20].pure}(i,e)?function(e,t,n,i,r,o){const s=t+n;return bs(e,s,r)?function(e,t,n){return e[t]=n}(e,s+1,o?i.call(o,r):i(r)):function(e,t){const n=e[t];return n===gr?void 0:n}(e,s+1)}(i,function(){const e=qt.lFrame;let t=e.bindingRootIndex;return-1===t&&(t=e.bindingRootIndex=e.tView.bindingStartIndex),t}(),t,r.transform,n,r):r.transform(n))}const Ol=class extends x{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,n){let i,r=e=>null,o=()=>null;e&&"object"==typeof e?(i=this.__isAsync?t=>{setTimeout(()=>e.next(t))}:t=>{e.next(t)},e.error&&(r=this.__isAsync?t=>{setTimeout(()=>e.error(t))}:t=>{e.error(t)}),e.complete&&(o=this.__isAsync?()=>{setTimeout(()=>e.complete())}:()=>{e.complete()})):(i=this.__isAsync?t=>{setTimeout(()=>e(t))}:t=>{e(t)},t&&(r=this.__isAsync?e=>{setTimeout(()=>t(e))}:e=>{t(e)}),n&&(o=this.__isAsync?()=>{setTimeout(()=>n())}:()=>{n()}));const s=super.subscribe(i,r,o);return e instanceof d&&e.add(s),s}};function Pl(){return this._results[fs()]()}class Ml{constructor(){this.dirty=!0,this._results=[],this.changes=new Ol,this.length=0;const e=fs(),t=Ml.prototype;t[e]||(t[e]=Pl)}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e){this._results=function e(t,n){void 0===n&&(n=t);for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?(n===t&&(n=t.slice(0,i)),e(r,n)):n!==t&&n.push(r)}return n}(e),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]}notifyOnChanges(){this.changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}class Tl{constructor(e){this.queryList=e,this.matches=null}clone(){return new Tl(this.queryList)}setDirty(){this.queryList.setDirty()}}class Rl{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const n=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let e=0;e<n;e++){const n=t.getByIndex(e);i.push(this.queries[n.indexInDeclarationView].clone())}return new Rl(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==Xl(e,t).matches&&this.queries[t].setDirty()}}class Dl{constructor(e,t,n,i=null){this.predicate=e,this.descendants=t,this.isStatic=n,this.read=i}}class Nl{constructor(e=[]){this.queries=e}elementStart(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let n=0;n<this.length;n++){const i=null!==t?t.length:0,r=this.getByIndex(n).embeddedTView(e,i);r&&(r.indexInDeclarationView=n,null!==t?t.push(r):t=[r])}return null!==t?new Nl(t):null}template(e,t){for(let n=0;n<this.queries.length;n++)this.queries[n].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class Ll{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new Ll(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&!1===this.metadata.descendants){const t=this._declarationNodeIndex;let n=e.parent;for(;null!==n&&4===n.type&&n.index!==t;)n=n.parent;return t===(null!==n?n.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const n=this.metadata.predicate;if(Array.isArray(n))for(let i=0;i<n.length;i++){const r=n[i];this.matchTNodeWithReadOption(e,t,Bl(t,r)),this.matchTNodeWithReadOption(e,t,si(t,e,r,!1,!1))}else n===al?0===t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,si(t,e,n,!1,!1))}matchTNodeWithReadOption(e,t,n){if(null!==n){const i=this.metadata.read;if(null!==i)if(i===Ba||i===cl||i===al&&0===t.type)this.addMatch(t.index,-2);else{const n=si(t,e,i,!1,!1);null!==n&&this.addMatch(t.index,n)}else this.addMatch(t.index,n)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Bl(e,t){const n=e.localNames;if(null!==n)for(let i=0;i<n.length;i+=2)if(n[i]===t)return n[i+1];return null}function Fl(e,t,n,i){return-1===n?function(e,t){return 3===e.type||4===e.type?zo(Ba,e,t):0===e.type?Go(al,Ba,e,t):null}(t,e):-2===n?function(e,t,n){return n===Ba?zo(Ba,t,e):n===al?Go(al,Ba,t,e):n===cl?Zo(cl,Ba,t,e):void 0}(e,t,i):ai(e,e[1],n,t)}function Vl(e,t,n,i){const r=t[19].queries[i];if(null===r.matches){const i=e.data,o=n.matches,s=[];for(let e=0;e<o.length;e+=2){const r=o[e];s.push(r<0?null:Fl(t,i[r],o[e+1],n.metadata.read))}r.matches=s}return r.matches}function $l(e){const t=en(),n=tn(),i=mn();vn(i+1);const r=Xl(n,i);if(e.dirty&&Kt(t)===r.metadata.isStatic){if(null===r.matches)e.reset([]);else{const o=r.crossesNgTemplate?function e(t,n,i,r){const o=t.queries.getByIndex(i),s=o.matches;if(null!==s){const a=Vl(t,n,o,i);for(let t=0;t<s.length;t+=2){const i=s[t];if(i>0)r.push(a[t/2]);else{const o=s[t+1],a=n[-i];for(let t=10;t<a.length;t++){const n=a[t];n[17]===n[3]&&e(n[1],n,o,r)}if(null!==a[9]){const t=a[9];for(let n=0;n<t.length;n++){const i=t[n];e(i[1],i,o,r)}}}}}return r}(n,t,i,[]):Vl(n,t,r,i);e.reset(o),e.notifyOnChanges()}return!0}return!1}function Hl(e,t,n){Wl(tn(),en(),e,t,n,!0)}function jl(e,t,n){Wl(tn(),en(),e,t,n,!1)}function Wl(e,t,n,i,r,o){e.firstCreatePass&&(Kl(e,new Dl(n,i,o,r),-1),o&&(e.staticViewQueries=!0)),Zl(e,t)}function zl(e,t,n,i){!function(e,t,n,i,r,o,s,a){e.firstCreatePass&&(Kl(e,new Dl(n,i,!1,r),s.index),function(e,t){const n=e.contentQueries||(e.contentQueries=[]);t!==(e.contentQueries.length?n[n.length-1]:-1)&&n.push(e.queries.length-1,t)}(e,a)),Zl(e,t)}(tn(),en(),t,n,i,0,rn(),e)}function Gl(){return e=en(),t=mn(),e[19].queries[t].queryList;var e,t}function Zl(e,t){const n=new Ml;$r(e,t,n,n.destroy),null===t[19]&&(t[19]=new Rl),t[19].queries.push(new Tl(n))}function Kl(e,t,n){null===e.queries&&(e.queries=new Nl),e.queries.track(new Ll(t,n))}function Xl(e,t){return e.queries.getByIndex(t)}const Yl=new Be("Application Initializer");let Ul=(()=>{class e{constructor(e){this.appInits=e,this.initialized=!1,this.done=!1,this.donePromise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}runInitializers(){if(this.initialized)return;const e=[],t=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let n=0;n<this.appInits.length;n++){const t=this.appInits[n]();Ls(t)&&e.push(t)}Promise.all(e).then(()=>{t()}).catch(e=>{this.reject(e)}),0===e.length&&t(),this.initialized=!0}}return e.\u0275fac=function(t){return new(t||e)(Ke(Yl,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Jl=new Be("AppId"),ql={provide:Jl,useFactory:function(){return`${Ql()}${Ql()}${Ql()}`},deps:[]};function Ql(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const ec=new Be("Platform Initializer"),tc=new Be("Platform ID"),nc=new Be("appBootstrapListener");let ic=(()=>{class e{log(e){console.log(e)}warn(e){console.warn(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const rc=new Be("LocaleId"),oc=new Be("DefaultCurrencyCode");class sc{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}const ac=function(e){return new kl(e)},lc=ac,cc=function(e){return Promise.resolve(ac(e))},hc=function(e){const t=ac(e),n=Xn(_t(e).declarations).reduce((e,t)=>{const n=Ct(t);return n&&e.push(new fl(n)),e},[]);return new sc(t,n)},dc=hc,uc=function(e){return Promise.resolve(hc(e))};let pc=(()=>{class e{constructor(){this.compileModuleSync=lc,this.compileModuleAsync=cc,this.compileModuleAndAllComponentsSync=dc,this.compileModuleAndAllComponentsAsync=uc}clearCache(){}clearCacheFor(e){}getModuleId(e){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const gc=(()=>Promise.resolve(0))();function fc(e){"undefined"==typeof Zone?gc.then(()=>{e&&e.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",e)}class mc{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ol(!1),this.onMicrotaskEmpty=new Ol(!1),this.onStable=new Ol(!1),this.onError=new Ol(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=t,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){let e=Oe.requestAnimationFrame,t=Oe.cancelAnimationFrame;if("undefined"!=typeof Zone&&e&&t){const n=e[Zone.__symbol__("OriginalDelegate")];n&&(e=n);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function(e){const t=!!e.shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&(()=>{!function(e){-1===e.lastRequestAnimationFrameId&&(e.lastRequestAnimationFrameId=e.nativeRequestAnimationFrame.call(Oe,()=>{e.fakeTopEventTask||(e.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{e.lastRequestAnimationFrameId=-1,Cc(e),bc(e)},void 0,()=>{},()=>{})),e.fakeTopEventTask.invoke()}),Cc(e))}(e)});e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:t},onInvokeTask:(n,i,r,o,s,a)=>{try{return wc(e),n.invokeTask(r,o,s,a)}finally{t&&"eventTask"===o.type&&t(),_c(e)}},onInvoke:(t,n,i,r,o,s,a)=>{try{return wc(e),t.invoke(i,r,o,s,a)}finally{_c(e)}},onHasTask:(t,n,i,r)=>{t.hasTask(i,r),n===i&&("microTask"==r.change?(e._hasPendingMicrotasks=r.microTask,Cc(e),bc(e)):"macroTask"==r.change&&(e.hasPendingMacrotasks=r.macroTask))},onHandleError:(t,n,i,r)=>(t.handleError(i,r),e.runOutsideAngular(()=>e.onError.emit(r)),!1)})}(this)}static isInAngularZone(){return!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!mc.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(mc.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(e,t,n){return this._inner.run(e,t,n)}runTask(e,t,n,i){const r=this._inner,o=r.scheduleEventTask("NgZoneEvent: "+i,e,yc,vc,vc);try{return r.runTask(o,t,n)}finally{r.cancelTask(o)}}runGuarded(e,t,n){return this._inner.runGuarded(e,t,n)}runOutsideAngular(e){return this._outer.run(e)}}function vc(){}const yc={};function bc(e){if(0==e._nesting&&!e.hasPendingMicrotasks&&!e.isStable)try{e._nesting++,e.onMicrotaskEmpty.emit(null)}finally{if(e._nesting--,!e.hasPendingMicrotasks)try{e.runOutsideAngular(()=>e.onStable.emit(null))}finally{e.isStable=!0}}}function Cc(e){e.hasPendingMicrotasks=!!(e._hasPendingMicrotasks||e.shouldCoalesceEventChangeDetection&&-1!==e.lastRequestAnimationFrameId)}function wc(e){e._nesting++,e.isStable&&(e.isStable=!1,e.onUnstable.emit(null))}function _c(e){e._nesting--,bc(e)}class xc{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ol,this.onMicrotaskEmpty=new Ol,this.onStable=new Ol,this.onError=new Ol}run(e,t,n){return e.apply(t,n)}runGuarded(e,t,n){return e.apply(t,n)}runOutsideAngular(e){return e()}runTask(e,t,n,i){return e.apply(t,n)}}let Ic=(()=>{class e{constructor(e){this._ngZone=e,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),e.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{mc.assertNotInAngularZone(),fc(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())fc(()=>{for(;0!==this._callbacks.length;){let e=this._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(this._didWork)}this._didWork=!1});else{let e=this.getPendingTasks();this._callbacks=this._callbacks.filter(t=>!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(e=>({source:e.source,creationLocation:e.creationLocation,data:e.data})):[]}addCallback(e,t,n){let i=-1;t&&t>0&&(i=setTimeout(()=>{this._callbacks=this._callbacks.filter(e=>e.timeoutId!==i),e(this._didWork,this.getPendingTasks())},t)),this._callbacks.push({doneCb:e,timeoutId:i,updateCb:n})}whenStable(e,t,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(e,t,n),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(e,t,n){return[]}}return e.\u0275fac=function(t){return new(t||e)(Ke(mc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ac=(()=>{class e{constructor(){this._applications=new Map,Ec.addToWindow(this)}registerApplication(e,t){this._applications.set(e,t)}unregisterApplication(e){this._applications.delete(e)}unregisterAllApplications(){this._applications.clear()}getTestability(e){return this._applications.get(e)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(e,t=!0){return Ec.findTestabilityInTree(this,e,t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class kc{addToWindow(e){}findTestabilityInTree(e,t,n){return null}}let Sc,Ec=new kc;const Oc=new Be("AllowMultipleToken");class Pc{constructor(e,t){this.name=e,this.token=t}}function Mc(e,t,n=[]){const i="Platform: "+t,r=new Be(i);return(t=[])=>{let o=Tc();if(!o||o.injector.get(Oc,!1))if(e)e(n.concat(t).concat({provide:r,useValue:!0}));else{const e=n.concat(t).concat({provide:r,useValue:!0},{provide:Jo,useValue:"platform"});!function(e){if(Sc&&!Sc.destroyed&&!Sc.injector.get(Oc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Sc=e.get(Rc);const t=e.get(ec,null);t&&t.forEach(e=>e())}(ds.create({providers:e,name:i}))}return function(e){const t=Tc();if(!t)throw new Error("No platform exists!");if(!t.injector.get(e,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return t}(r)}}function Tc(){return Sc&&!Sc.destroyed?Sc:null}let Rc=(()=>{class e{constructor(e){this._injector=e,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(e,t){const n=function(e,t){let n;return n="noop"===e?new xc:("zone.js"===e?void 0:e)||new mc({enableLongStackTrace:Ei(),shouldCoalesceEventChangeDetection:t}),n}(t?t.ngZone:void 0,t&&t.ngZoneEventCoalescing||!1),i=[{provide:mc,useValue:n}];return n.run(()=>{const t=ds.create({providers:i,parent:this.injector,name:e.moduleType.name}),r=e.create(t),o=r.injector.get(mi,null);if(!o)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return r.onDestroy(()=>Lc(this._modules,r)),n.runOutsideAngular(()=>n.onError.subscribe({next:e=>{o.handleError(e)}})),function(e,t,n){try{const i=n();return Ls(i)?i.catch(n=>{throw t.runOutsideAngular(()=>e.handleError(n)),n}):i}catch(i){throw t.runOutsideAngular(()=>e.handleError(i)),i}}(o,n,()=>{const e=r.injector.get(Ul);return e.runInitializers(),e.donePromise.then(()=>(xl(r.injector.get(rc,"en-US")||"en-US"),this._moduleDoBootstrap(r),r))})})}bootstrapModule(e,t=[]){const n=Dc({},t);return function(e,t,n){const i=new kl(n);return Promise.resolve(i)}(0,0,e).then(e=>this.bootstrapModuleFactory(e,n))}_moduleDoBootstrap(e){const t=e.injector.get(Nc);if(e._bootstrapComponents.length>0)e._bootstrapComponents.forEach(e=>t.bootstrap(e));else{if(!e.instance.ngDoBootstrap)throw new Error(`The module ${be(e.instance.constructor)} was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.`);e.instance.ngDoBootstrap(t)}this._modules.push(e)}onDestroy(e){this._destroyListeners.push(e)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach(e=>e.destroy()),this._destroyListeners.forEach(e=>e()),this._destroyed=!0}get destroyed(){return this._destroyed}}return e.\u0275fac=function(t){return new(t||e)(Ke(ds))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Dc(e,t){return Array.isArray(t)?t.reduce(Dc,e):Object.assign(Object.assign({},e),t)}let Nc=(()=>{class e{constructor(e,t,n,i,r,o){this._zone=e,this._console=t,this._injector=n,this._exceptionHandler=i,this._componentFactoryResolver=r,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=Ei(),this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const s=new y(e=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{e.next(this._stable),e.complete()})}),a=new y(e=>{let t;this._zone.runOutsideAngular(()=>{t=this._zone.onStable.subscribe(()=>{mc.assertNotInAngularZone(),fc(()=>{this._stable||this._zone.hasPendingMacrotasks||this._zone.hasPendingMicrotasks||(this._stable=!0,e.next(!0))})})});const n=this._zone.onUnstable.subscribe(()=>{mc.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{e.next(!1)}))});return()=>{t.unsubscribe(),n.unsubscribe()}});this.isStable=G(s,a.pipe(Q()))}bootstrap(e,t){if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");let n;n=e instanceof Da?e:this._componentFactoryResolver.resolveComponentFactory(e),this.componentTypes.push(n.componentType);const i=n.isBoundToModule?void 0:this._injector.get(qe),r=n.create(ds.NULL,[],t||n.selector,i);r.onDestroy(()=>{this._unloadComponent(r)});const o=r.injector.get(Ic,null);return o&&r.injector.get(Ac).registerApplication(r.location.nativeElement,o),this._loadComponent(r),Ei()&&this._console.log("Angular is running in development mode. Call enableProdMode() to enable production mode."),r}tick(){if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;for(let e of this._views)e.detectChanges();if(this._enforceNoNewChanges)for(let e of this._views)e.checkNoChanges()}catch(e){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(e))}finally{this._runningTick=!1}}attachView(e){const t=e;this._views.push(t),t.attachToAppRef(this)}detachView(e){const t=e;Lc(this._views,t),t.detachFromAppRef()}_loadComponent(e){this.attachView(e.hostView),this.tick(),this.components.push(e),this._injector.get(nc,[]).concat(this._bootstrapListeners).forEach(t=>t(e))}_unloadComponent(e){this.detachView(e.hostView),Lc(this.components,e)}ngOnDestroy(){this._views.slice().forEach(e=>e.destroy())}get viewCount(){return this._views.length}}return e.\u0275fac=function(t){return new(t||e)(Ke(mc),Ke(ic),Ke(ds),Ke(mi),Ke(La),Ke(Ul))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Lc(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class Bc{}class Fc{}const Vc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"};let $c=(()=>{class e{constructor(e,t){this._compiler=e,this._config=t||Vc}load(e){return this.loadAndCompile(e)}loadAndCompile(e){let[t,i]=e.split("#");return void 0===i&&(i="default"),n("zn8P")(t).then(e=>e[i]).then(e=>Hc(e,t,i)).then(e=>this._compiler.compileModuleAsync(e))}loadFactory(e){let[t,i]=e.split("#"),r="NgFactory";return void 0===i&&(i="default",r=""),n("zn8P")(this._config.factoryPathPrefix+t+this._config.factoryPathSuffix).then(e=>e[i+r]).then(e=>Hc(e,t,i))}}return e.\u0275fac=function(t){return new(t||e)(Ke(pc),Ke(Fc,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function Hc(e,t,n){if(!e)throw new Error(`Cannot find '${n}' in '${t}'`);return e}const jc=Mc(null,"core",[{provide:tc,useValue:"unknown"},{provide:Rc,deps:[ds]},{provide:Ac,deps:[]},{provide:ic,deps:[]}]),Wc=[{provide:Nc,useClass:Nc,deps:[mc,ic,ds,mi,La,Ul]},{provide:gl,deps:[mc],useFactory:function(e){let t=[];return e.onStable.subscribe(()=>{for(;t.length;)t.pop()()}),function(e){t.push(e)}}},{provide:Ul,useClass:Ul,deps:[[new ie,Yl]]},{provide:pc,useClass:pc,deps:[]},ql,{provide:nl,useFactory:function(){return ol},deps:[]},{provide:il,useFactory:function(){return sl},deps:[]},{provide:rc,useFactory:function(e){return xl(e=e||"undefined"!=typeof $localize&&$localize.locale||"en-US"),e},deps:[[new ne(rc),new ie,new oe]]},{provide:oc,useValue:"USD"}];let zc=(()=>{class e{constructor(e){}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(Ke(Nc))},providers:Wc}),e})(),Gc=null;function Zc(){return Gc}const Kc=new Be("DocumentToken");let Xc=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:Yc,token:e,providedIn:"platform"}),e})();function Yc(){return Ke(Jc)}const Uc=new Be("Location Initialized");let Jc=(()=>{class e extends Xc{constructor(e){super(),this._doc=e,this._init()}_init(){this.location=Zc().getLocation(),this._history=Zc().getHistory()}getBaseHrefFromDOM(){return Zc().getBaseHref(this._doc)}onPopState(e){Zc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",e,!1)}onHashChange(e){Zc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",e,!1)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(e){this.location.pathname=e}pushState(e,t,n){qc()?this._history.pushState(e,t,n):this.location.hash=n}replaceState(e,t,n){qc()?this._history.replaceState(e,t,n):this.location.hash=n}forward(){this._history.forward()}back(){this._history.back()}getState(){return this._history.state}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({factory:Qc,token:e,providedIn:"platform"}),e})();function qc(){return!!window.history.pushState}function Qc(){return new Jc(Ke(Kc))}function eh(e,t){if(0==e.length)return t;if(0==t.length)return e;let n=0;return e.endsWith("/")&&n++,t.startsWith("/")&&n++,2==n?e+t.substring(1):1==n?e+t:e+"/"+t}function th(e){const t=e.match(/#|\?|$/),n=t&&t.index||e.length;return e.slice(0,n-("/"===e[n-1]?1:0))+e.slice(n)}function nh(e){return e&&"?"!==e[0]?"?"+e:e}let ih=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:rh,token:e,providedIn:"root"}),e})();function rh(e){const t=Ke(Kc).location;return new sh(Ke(Xc),t&&t.origin||"")}const oh=new Be("appBaseHref");let sh=(()=>{class e extends ih{constructor(e,t){if(super(),this._platformLocation=e,null==t&&(t=this._platformLocation.getBaseHrefFromDOM()),null==t)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=t}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return eh(this._baseHref,e)}path(e=!1){const t=this._platformLocation.pathname+nh(this._platformLocation.search),n=this._platformLocation.hash;return n&&e?`${t}${n}`:t}pushState(e,t,n,i){const r=this.prepareExternalUrl(n+nh(i));this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){const r=this.prepareExternalUrl(n+nh(i));this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ke(Xc),Ke(oh,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),ah=(()=>{class e extends ih{constructor(e,t){super(),this._platformLocation=e,this._baseHref="",null!=t&&(this._baseHref=t)}onPopState(e){this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e)}getBaseHref(){return this._baseHref}path(e=!1){let t=this._platformLocation.hash;return null==t&&(t="#"),t.length>0?t.substring(1):t}prepareExternalUrl(e){const t=eh(this._baseHref,e);return t.length>0?"#"+t:t}pushState(e,t,n,i){let r=this.prepareExternalUrl(n+nh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.pushState(e,t,r)}replaceState(e,t,n,i){let r=this.prepareExternalUrl(n+nh(i));0==r.length&&(r=this._platformLocation.pathname),this._platformLocation.replaceState(e,t,r)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}}return e.\u0275fac=function(t){return new(t||e)(Ke(Xc),Ke(oh,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),lh=(()=>{class e{constructor(e,t){this._subject=new Ol,this._urlChangeListeners=[],this._platformStrategy=e;const n=this._platformStrategy.getBaseHref();this._platformLocation=t,this._baseHref=th(hh(n)),this._platformStrategy.onPopState(e=>{this._subject.emit({url:this.path(!0),pop:!0,state:e.state,type:e.type})})}path(e=!1){return this.normalize(this._platformStrategy.path(e))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(e,t=""){return this.path()==this.normalize(e+nh(t))}normalize(t){return e.stripTrailingSlash(function(e,t){return e&&t.startsWith(e)?t.substring(e.length):t}(this._baseHref,hh(t)))}prepareExternalUrl(e){return e&&"/"!==e[0]&&(e="/"+e),this._platformStrategy.prepareExternalUrl(e)}go(e,t="",n=null){this._platformStrategy.pushState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+nh(t)),n)}replaceState(e,t="",n=null){this._platformStrategy.replaceState(n,"",e,t),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+nh(t)),n)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}onUrlChange(e){this._urlChangeListeners.push(e),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(e=>{this._notifyUrlChangeListeners(e.url,e.state)}))}_notifyUrlChangeListeners(e="",t){this._urlChangeListeners.forEach(n=>n(e,t))}subscribe(e,t,n){return this._subject.subscribe({next:e,error:t,complete:n})}}return e.\u0275fac=function(t){return new(t||e)(Ke(ih),Ke(Xc))},e.normalizeQueryParams=nh,e.joinWithSlash=eh,e.stripTrailingSlash=th,e.\u0275prov=ce({factory:ch,token:e,providedIn:"root"}),e})();function ch(){return new lh(Ke(ih),Ke(Xc))}function hh(e){return e.replace(/\/index.html$/,"")}var dh=function(e){return e[e.Zero=0]="Zero",e[e.One=1]="One",e[e.Two=2]="Two",e[e.Few=3]="Few",e[e.Many=4]="Many",e[e.Other=5]="Other",e}({});class uh{}let ph=(()=>{class e extends uh{constructor(e){super(),this.locale=e}getPluralCategory(e,t){switch(function(e){return function(e){const t=function(e){return e.toLowerCase().replace(/_/g,"-")}(e);let n=Cl(t);if(n)return n;const i=t.split("-")[0];if(n=Cl(i),n)return n;if("en"===i)return yl;throw new Error(`Missing locale data for the locale "${e}".`)}(e)[wl.PluralCase]}(t||this.locale)(e)){case dh.Zero:return"zero";case dh.One:return"one";case dh.Two:return"two";case dh.Few:return"few";case dh.Many:return"many";default:return"other"}}}return e.\u0275fac=function(t){return new(t||e)(Ke(rc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function gh(e,t){t=encodeURIComponent(t);for(const n of e.split(";")){const e=n.indexOf("="),[i,r]=-1==e?[n,""]:[n.slice(0,e),n.slice(e+1)];if(i.trim()===t)return decodeURIComponent(r)}return null}let fh=(()=>{class e{constructor(e,t,n,i){this._iterableDiffers=e,this._keyValueDiffers=t,this._ngEl=n,this._renderer=i,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(e){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof e?e.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(e){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof e?e.split(/\s+/):e,this._rawClass&&(vs(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const e=this._iterableDiffer.diff(this._rawClass);e&&this._applyIterableChanges(e)}else if(this._keyValueDiffer){const e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}}_applyKeyValueChanges(e){e.forEachAddedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachChangedItem(e=>this._toggleClass(e.key,e.currentValue)),e.forEachRemovedItem(e=>{e.previousValue&&this._toggleClass(e.key,!1)})}_applyIterableChanges(e){e.forEachAddedItem(e=>{if("string"!=typeof e.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+be(e.item));this._toggleClass(e.item,!0)}),e.forEachRemovedItem(e=>this._toggleClass(e.item,!1))}_applyClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!0)):Object.keys(e).forEach(t=>this._toggleClass(t,!!e[t])))}_removeClasses(e){e&&(Array.isArray(e)||e instanceof Set?e.forEach(e=>this._toggleClass(e,!1)):Object.keys(e).forEach(e=>this._toggleClass(e,!1)))}_toggleClass(e,t){(e=e.trim())&&e.split(/\s+/g).forEach(e=>{t?this._renderer.addClass(this._ngEl.nativeElement,e):this._renderer.removeClass(this._ngEl.nativeElement,e)})}}return e.\u0275fac=function(t){return new(t||e)(As(nl),As(il),As(Ba),As(Ha))},e.\u0275dir=yt({type:e,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),e})();class mh{constructor(e,t,n,i){this.$implicit=e,this.ngForOf=t,this.index=n,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let vh=(()=>{class e{constructor(e,t,n){this._viewContainer=e,this._template=t,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(e){this._ngForOf=e,this._ngForOfDirty=!0}set ngForTrackBy(e){Ei()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}. See https://angular.io/api/common/NgForOf#change-propagation for more information.`),this._trackByFn=e}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(e){e&&(this._template=e)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const n=this._ngForOf;if(!this._differ&&n)try{this._differ=this._differs.find(n).create(this.ngForTrackBy)}catch(t){throw new Error(`Cannot find a differ supporting object '${n}' of type '${e=n,e.name||typeof e}'. NgFor only supports binding to Iterables such as Arrays.`)}}var e;if(this._differ){const e=this._differ.diff(this._ngForOf);e&&this._applyChanges(e)}}_applyChanges(e){const t=[];e.forEachOperation((e,n,i)=>{if(null==e.previousIndex){const n=this._viewContainer.createEmbeddedView(this._template,new mh(null,this._ngForOf,-1,-1),null===i?void 0:i),r=new yh(e,n);t.push(r)}else if(null==i)this._viewContainer.remove(null===n?void 0:n);else if(null!==n){const r=this._viewContainer.get(n);this._viewContainer.move(r,i);const o=new yh(e,r);t.push(o)}});for(let n=0;n<t.length;n++)this._perViewChange(t[n].view,t[n].record);for(let n=0,i=this._viewContainer.length;n<i;n++){const e=this._viewContainer.get(n);e.context.index=n,e.context.count=i,e.context.ngForOf=this._ngForOf}e.forEachIdentityChange(e=>{this._viewContainer.get(e.currentIndex).context.$implicit=e.item})}_perViewChange(e,t){e.context.$implicit=t.item}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(al),As(nl))},e.\u0275dir=yt({type:e,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),e})();class yh{constructor(e,t){this.record=e,this.view=t}}let bh=(()=>{class e{constructor(e,t){this._viewContainer=e,this._context=new Ch,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=t}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){wh("ngIfThen",e),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){wh("ngIfElse",e),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(e,t){return!0}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(al))},e.\u0275dir=yt({type:e,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),e})();class Ch{constructor(){this.$implicit=null,this.ngIf=null}}function wh(e,t){if(t&&!t.createEmbeddedView)throw new Error(`${e} must be a TemplateRef, but received '${be(t)}'.`)}class _h{createSubscription(e,t){return e.subscribe({next:t,error:e=>{throw e}})}dispose(e){e.unsubscribe()}onDestroy(e){e.unsubscribe()}}class xh{createSubscription(e,t){return e.then(t,e=>{throw e})}dispose(e){}onDestroy(e){}}const Ih=new xh,Ah=new _h;let kh=(()=>{class e{constructor(e){this._ref=e,this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null}ngOnDestroy(){this._subscription&&this._dispose()}transform(e){return this._obj?e!==this._obj?(this._dispose(),this.transform(e)):this._latestValue:(e&&this._subscribe(e),this._latestValue)}_subscribe(e){this._obj=e,this._strategy=this._selectStrategy(e),this._subscription=this._strategy.createSubscription(e,t=>this._updateLatestValue(e,t))}_selectStrategy(t){if(Ls(t))return Ih;if(Bs(t))return Ah;throw Error(`InvalidPipeArgument: '${t}' for pipe '${be(e)}'`)}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(e,t){e===this._obj&&(this._latestValue=t,this._ref.markForCheck())}}return e.\u0275fac=function(t){return new(t||e)(function(e=se.Default){const t=Ko(!0);if(null!=t||e&se.Optional)return t;throw new Error("No provider for ChangeDetectorRef!")}())},e.\u0275pipe=bt({name:"async",type:e,pure:!1}),e})(),Sh=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:uh,useClass:ph}]}),e})(),Eh=(()=>{class e{}return e.\u0275prov=ce({token:e,providedIn:"root",factory:()=>new Oh(Ke(Kc),window,Ke(mi))}),e})();class Oh{constructor(e,t,n){this.document=e,this.window=t,this.errorHandler=n,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.scrollX,this.window.scrollY]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(this.supportsScrolling()){const t=this.document.getElementById(e)||this.document.getElementsByName(e)[0];t&&this.scrollToElement(t)}}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),n=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,r=this.offset();this.window.scrollTo(n-r[0],i-r[1])}supportScrollRestoration(){try{if(!this.window||!this.window.scrollTo)return!1;const e=Ph(this.window.history)||Ph(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch(e){return!1}}supportsScrolling(){try{return!!this.window.scrollTo}catch(e){return!1}}}function Ph(e){return Object.getOwnPropertyDescriptor(e,"scrollRestoration")}class Mh extends class extends class{}{constructor(){super()}supportsDOMEvents(){return!0}}{static makeCurrent(){var e;e=new Mh,Gc||(Gc=e)}getProperty(e,t){return e[t]}log(e){window.console&&window.console.log&&window.console.log(e)}logGroup(e){window.console&&window.console.group&&window.console.group(e)}logGroupEnd(){window.console&&window.console.groupEnd&&window.console.groupEnd()}onAndCancel(e,t,n){return e.addEventListener(t,n,!1),()=>{e.removeEventListener(t,n,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){return e.parentNode&&e.parentNode.removeChild(e),e}getValue(e){return e.value}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getHistory(){return window.history}getLocation(){return window.location}getBaseHref(e){const t=Rh||(Rh=document.querySelector("base"),Rh)?Rh.getAttribute("href"):null;return null==t?null:(n=t,Th||(Th=document.createElement("a")),Th.setAttribute("href",n),"/"===Th.pathname.charAt(0)?Th.pathname:"/"+Th.pathname);var n}resetBaseElement(){Rh=null}getUserAgent(){return window.navigator.userAgent}performanceNow(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}supportsCookies(){return!0}getCookie(e){return gh(document.cookie,e)}}let Th,Rh=null;const Dh=new Be("TRANSITION_ID"),Nh=[{provide:Yl,useFactory:function(e,t,n){return()=>{n.get(Ul).donePromise.then(()=>{const n=Zc();Array.prototype.slice.apply(t.querySelectorAll("style[ng-transition]")).filter(t=>t.getAttribute("ng-transition")===e).forEach(e=>n.remove(e))})}},deps:[Dh,Kc,ds],multi:!0}];class Lh{static init(){var e;e=new Lh,Ec=e}addToWindow(e){Oe.getAngularTestability=(t,n=!0)=>{const i=e.findTestabilityInTree(t,n);if(null==i)throw new Error("Could not find testability for element.");return i},Oe.getAllAngularTestabilities=()=>e.getAllTestabilities(),Oe.getAllAngularRootElements=()=>e.getAllRootElements(),Oe.frameworkStabilizers||(Oe.frameworkStabilizers=[]),Oe.frameworkStabilizers.push(e=>{const t=Oe.getAllAngularTestabilities();let n=t.length,i=!1;const r=function(t){i=i||t,n--,0==n&&e(i)};t.forEach((function(e){e.whenStable(r)}))})}findTestabilityInTree(e,t,n){if(null==t)return null;const i=e.getTestability(t);return null!=i?i:n?Zc().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null}}const Bh=new Be("EventManagerPlugins");let Fh=(()=>{class e{constructor(e,t){this._zone=t,this._eventNameToPlugin=new Map,e.forEach(e=>e.manager=this),this._plugins=e.slice().reverse()}addEventListener(e,t,n){return this._findPluginFor(t).addEventListener(e,t,n)}addGlobalEventListener(e,t,n){return this._findPluginFor(t).addGlobalEventListener(e,t,n)}getZone(){return this._zone}_findPluginFor(e){const t=this._eventNameToPlugin.get(e);if(t)return t;const n=this._plugins;for(let i=0;i<n.length;i++){const t=n[i];if(t.supports(e))return this._eventNameToPlugin.set(e,t),t}throw new Error("No event manager plugin found for event "+e)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Bh),Ke(mc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Vh{constructor(e){this._doc=e}addGlobalEventListener(e,t,n){const i=Zc().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,n)}}let $h=(()=>{class e{constructor(){this._stylesSet=new Set}addStyles(e){const t=new Set;e.forEach(e=>{this._stylesSet.has(e)||(this._stylesSet.add(e),t.add(e))}),this.onStylesAdded(t)}onStylesAdded(e){}getAllStyles(){return Array.from(this._stylesSet)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Hh=(()=>{class e extends $h{constructor(e){super(),this._doc=e,this._hostNodes=new Set,this._styleNodes=new Set,this._hostNodes.add(e.head)}_addStylesToHost(e,t){e.forEach(e=>{const n=this._doc.createElement("style");n.textContent=e,this._styleNodes.add(t.appendChild(n))})}addHost(e){this._addStylesToHost(this._stylesSet,e),this._hostNodes.add(e)}removeHost(e){this._hostNodes.delete(e)}onStylesAdded(e){this._hostNodes.forEach(t=>this._addStylesToHost(e,t))}ngOnDestroy(){this._styleNodes.forEach(e=>Zc().remove(e))}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const jh={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},Wh=/%COMP%/g;function zh(e,t,n){for(let i=0;i<t.length;i++){let r=t[i];Array.isArray(r)?zh(e,r,n):(r=r.replace(Wh,e),n.push(r))}return n}function Gh(e){return t=>{if("__ngUnwrap__"===t)return e;!1===e(t)&&(t.preventDefault(),t.returnValue=!1)}}let Zh=(()=>{class e{constructor(e,t,n){this.eventManager=e,this.sharedStylesHost=t,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new Kh(e)}createRenderer(e,t){if(!e||!t)return this.defaultRenderer;switch(t.encapsulation){case lt.Emulated:{let n=this.rendererByCompId.get(t.id);return n||(n=new Xh(this.eventManager,this.sharedStylesHost,t,this.appId),this.rendererByCompId.set(t.id,n)),n.applyToHost(e),n}case lt.Native:case lt.ShadowDom:return new Yh(this.eventManager,this.sharedStylesHost,e,t);default:if(!this.rendererByCompId.has(t.id)){const e=zh(t.id,t.styles,[]);this.sharedStylesHost.addStyles(e),this.rendererByCompId.set(t.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return e.\u0275fac=function(t){return new(t||e)(Ke(Fh),Ke(Hh),Ke(Jl))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Kh{constructor(e){this.eventManager=e,this.data=Object.create(null)}destroy(){}createElement(e,t){return t?document.createElementNS(jh[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){e.appendChild(t)}insertBefore(e,t,n){e&&e.insertBefore(t,n)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let n="string"==typeof e?document.querySelector(e):e;if(!n)throw new Error(`The selector "${e}" did not match any elements`);return t||(n.textContent=""),n}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,n,i){if(i){t=i+":"+t;const r=jh[i];r?e.setAttributeNS(r,t,n):e.setAttribute(t,n)}else e.setAttribute(t,n)}removeAttribute(e,t,n){if(n){const i=jh[n];i?e.removeAttributeNS(i,t):e.removeAttribute(`${n}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,n,i){i&$a.DashCase?e.style.setProperty(t,n,i&$a.Important?"important":""):e.style[t]=n}removeStyle(e,t,n){n&$a.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,n){e[t]=n}setValue(e,t){e.nodeValue=t}listen(e,t,n){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Gh(n)):this.eventManager.addEventListener(e,t,Gh(n))}}class Xh extends Kh{constructor(e,t,n,i){super(e),this.component=n;const r=zh(i+"-"+n.id,n.styles,[]);t.addStyles(r),this.contentAttr="_ngcontent-%COMP%".replace(Wh,i+"-"+n.id),this.hostAttr=function(e){return"_nghost-%COMP%".replace(Wh,e)}(i+"-"+n.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const n=super.createElement(e,t);return super.setAttribute(n,this.contentAttr,""),n}}class Yh extends Kh{constructor(e,t,n,i){super(e),this.sharedStylesHost=t,this.hostEl=n,this.component=i,this.shadowRoot=i.encapsulation===lt.ShadowDom?n.attachShadow({mode:"open"}):n.createShadowRoot(),this.sharedStylesHost.addHost(this.shadowRoot);const r=zh(i.id,i.styles,[]);for(let o=0;o<r.length;o++){const e=document.createElement("style");e.textContent=r[o],this.shadowRoot.appendChild(e)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,n){return super.insertBefore(this.nodeOrShadowRoot(e),t,n)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let Uh=(()=>{class e extends Vh{constructor(e){super(e)}supports(e){return!0}addEventListener(e,t,n){return e.addEventListener(t,n,!1),()=>this.removeEventListener(e,t,n)}removeEventListener(e,t,n){return e.removeEventListener(t,n)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Jh=["alt","control","meta","shift"],qh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qh={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},ed={alt:e=>e.altKey,control:e=>e.ctrlKey,meta:e=>e.metaKey,shift:e=>e.shiftKey};let td=(()=>{class e extends Vh{constructor(e){super(e)}supports(t){return null!=e.parseEventName(t)}addEventListener(t,n,i){const r=e.parseEventName(n),o=e.eventCallback(r.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Zc().onAndCancel(t,r.domEventName,o))}static parseEventName(t){const n=t.toLowerCase().split("."),i=n.shift();if(0===n.length||"keydown"!==i&&"keyup"!==i)return null;const r=e._normalizeKey(n.pop());let o="";if(Jh.forEach(e=>{const t=n.indexOf(e);t>-1&&(n.splice(t,1),o+=e+".")}),o+=r,0!=n.length||0===r.length)return null;const s={};return s.domEventName=i,s.fullKey=o,s}static getEventFullKey(e){let t="",n=function(e){let t=e.key;if(null==t){if(t=e.keyIdentifier,null==t)return"Unidentified";t.startsWith("U+")&&(t=String.fromCharCode(parseInt(t.substring(2),16)),3===e.location&&Qh.hasOwnProperty(t)&&(t=Qh[t]))}return qh[t]||t}(e);return n=n.toLowerCase()," "===n?n="space":"."===n&&(n="dot"),Jh.forEach(i=>{i!=n&&(0,ed[i])(e)&&(t+=i+".")}),t+=n,t}static eventCallback(t,n,i){return r=>{e.getEventFullKey(r)===t&&i.runGuarded(()=>n(r))}}static _normalizeKey(e){switch(e){case"esc":return"escape";default:return e}}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),nd=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return Ke(id)},token:e,providedIn:"root"}),e})(),id=(()=>{class e extends nd{constructor(e){super(),this._doc=e}sanitize(e,t){if(null==t)return null;switch(e){case qi.NONE:return t;case qi.HTML:return Ii(t,"HTML")?xi(t):Ui(this._doc,String(t));case qi.STYLE:return Ii(t,"Style")?xi(t):t;case qi.SCRIPT:if(Ii(t,"Script"))return xi(t);throw new Error("unsafe value used in a script context");case qi.URL:return Ai(t),Ii(t,"URL")?xi(t):Ri(String(t));case qi.RESOURCE_URL:if(Ii(t,"ResourceURL"))return xi(t);throw new Error("unsafe value used in a resource URL context (see http://g.co/ng/security#xss)");default:throw new Error(`Unexpected SecurityContext ${e} (see http://g.co/ng/security#xss)`)}}bypassSecurityTrustHtml(e){return new yi(e)}bypassSecurityTrustStyle(e){return new bi(e)}bypassSecurityTrustScript(e){return new Ci(e)}bypassSecurityTrustUrl(e){return new wi(e)}bypassSecurityTrustResourceUrl(e){return new _i(e)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({factory:function(){return e=Ke(Fe),new id(e.get(Kc));var e},token:e,providedIn:"root"}),e})();const rd=Mc(jc,"browser",[{provide:tc,useValue:"browser"},{provide:ec,useValue:function(){Mh.makeCurrent(),Lh.init()},multi:!0},{provide:Kc,useFactory:function(){return function(e){Lt=e}(document),document},deps:[]}]),od=[[],{provide:Jo,useValue:"root"},{provide:mi,useFactory:function(){return new mi},deps:[]},{provide:Bh,useClass:Uh,multi:!0,deps:[Kc,mc,tc]},{provide:Bh,useClass:td,multi:!0,deps:[Kc]},[],{provide:Zh,useClass:Zh,deps:[Fh,Hh,Jl]},{provide:Va,useExisting:Zh},{provide:$h,useExisting:Hh},{provide:Hh,useClass:Hh,deps:[Kc]},{provide:Ic,useClass:Ic,deps:[mc]},{provide:Fh,useClass:Fh,deps:[Bh,mc]},[]];let sd=(()=>{class e{constructor(e){if(e)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition(t){return{ngModule:e,providers:[{provide:Jl,useValue:t.appId},{provide:Dh,useExisting:Jl},Nh]}}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(Ke(e,12))},providers:od,imports:[Sh,zc]}),e})();function ad(...e){if(1===e.length){const t=e[0];if(l(t))return ld(t,null);if(c(t)&&Object.getPrototypeOf(t)===Object.prototype){const e=Object.keys(t);return ld(e.map(e=>t[e]),e)}}if("function"==typeof e[e.length-1]){const t=e.pop();return ld(e=1===e.length&&l(e[0])?e[0]:e,null).pipe(N(e=>t(...e)))}return ld(e,null)}function ld(e,t){return new y(n=>{const i=e.length;if(0===i)return void n.complete();const r=new Array(i);let o=0,s=0;for(let a=0;a<i;a++){const l=V(e[a]);let c=!1;n.add(l.subscribe({next:e=>{c||(c=!0,s++),r[a]=e},error:e=>n.error(e),complete:()=>{o++,o!==i&&c||(s===i&&n.next(t?t.reduce((e,t,n)=>(e[t]=r[n],e),{}):r),n.complete())}}))}})}"undefined"!=typeof window&&window;const cd=new Be("NgValueAccessor"),hd={provide:cd,useExisting:_e(()=>dd),multi:!0};let dd=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"checked",e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(e,t){1&e&&Fs("change",(function(e){return t.onChange(e.target.checked)}))("blur",(function(){return t.onTouched()}))},features:[Ra([hd])]}),e})();const ud={provide:cd,useExisting:_e(()=>gd),multi:!0},pd=new Be("CompositionEventMode");let gd=(()=>{class e{constructor(e,t,n){this._renderer=e,this._elementRef=t,this._compositionMode=n,this.onChange=e=>{},this.onTouched=()=>{},this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function(){const e=Zc()?Zc().getUserAgent():"";return/android (\d+)/.test(e.toLowerCase())}())}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba),As(pd,8))},e.\u0275dir=yt({type:e,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(e,t){1&e&&Fs("input",(function(e){return t._handleInput(e.target.value)}))("blur",(function(){return t.onTouched()}))("compositionstart",(function(){return t._compositionStart()}))("compositionend",(function(e){return t._compositionEnd(e.target.value)}))},features:[Ra([ud])]}),e})(),fd=(()=>{class e{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e}),e})(),md=(()=>{class e extends fd{get formDirective(){return null}get path(){return null}}return e.\u0275fac=function(t){return vd(t||e)},e.\u0275dir=yt({type:e,features:[wa]}),e})();const vd=ui(md);function yd(){throw new Error("unimplemented")}class bd extends fd{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null,this._rawValidators=[],this._rawAsyncValidators=[]}get validator(){return yd()}get asyncValidator(){return yd()}}class Cd{constructor(e){this._cd=e}get ngClassUntouched(){return!!this._cd.control&&this._cd.control.untouched}get ngClassTouched(){return!!this._cd.control&&this._cd.control.touched}get ngClassPristine(){return!!this._cd.control&&this._cd.control.pristine}get ngClassDirty(){return!!this._cd.control&&this._cd.control.dirty}get ngClassValid(){return!!this._cd.control&&this._cd.control.valid}get ngClassInvalid(){return!!this._cd.control&&this._cd.control.invalid}get ngClassPending(){return!!this._cd.control&&this._cd.control.pending}}let wd=(()=>{class e extends Cd{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(As(bd,2))},e.\u0275dir=yt({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(e,t){2&e&&ia("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[wa]}),e})(),_d=(()=>{class e extends Cd{constructor(e){super(e)}}return e.\u0275fac=function(t){return new(t||e)(As(md,2))},e.\u0275dir=yt({type:e,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:14,hostBindings:function(e,t){2&e&&ia("ng-untouched",t.ngClassUntouched)("ng-touched",t.ngClassTouched)("ng-pristine",t.ngClassPristine)("ng-dirty",t.ngClassDirty)("ng-valid",t.ngClassValid)("ng-invalid",t.ngClassInvalid)("ng-pending",t.ngClassPending)},features:[wa]}),e})();function xd(e){return null==e||0===e.length}function Id(e){return null!=e&&"number"==typeof e.length}const Ad=new Be("NgValidators"),kd=new Be("NgAsyncValidators"),Sd=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Ed{static min(e){return t=>{if(xd(t.value)||xd(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n<e?{min:{min:e,actual:t.value}}:null}}static max(e){return t=>{if(xd(t.value)||xd(e))return null;const n=parseFloat(t.value);return!isNaN(n)&&n>e?{max:{max:e,actual:t.value}}:null}}static required(e){return xd(e.value)?{required:!0}:null}static requiredTrue(e){return!0===e.value?null:{required:!0}}static email(e){return xd(e.value)||Sd.test(e.value)?null:{email:!0}}static minLength(e){return t=>xd(t.value)||!Id(t.value)?null:t.value.length<e?{minlength:{requiredLength:e,actualLength:t.value.length}}:null}static maxLength(e){return t=>Id(t.value)&&t.value.length>e?{maxlength:{requiredLength:e,actualLength:t.value.length}}:null}static pattern(e){if(!e)return Ed.nullValidator;let t,n;return"string"==typeof e?(n="","^"!==e.charAt(0)&&(n+="^"),n+=e,"$"!==e.charAt(e.length-1)&&(n+="$"),t=new RegExp(n)):(n=e.toString(),t=e),e=>{if(xd(e.value))return null;const i=e.value;return t.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}static nullValidator(e){return null}static compose(e){if(!e)return null;const t=e.filter(Od);return 0==t.length?null:function(e){return Md(Td(e,t))}}static composeAsync(e){if(!e)return null;const t=e.filter(Od);return 0==t.length?null:function(e){return ad(Td(e,t).map(Pd)).pipe(N(Md))}}}function Od(e){return null!=e}function Pd(e){const t=Ls(e)?V(e):e;if(!Bs(t))throw new Error("Expected validator to return Promise or Observable.");return t}function Md(e){let t={};return e.forEach(e=>{t=null!=e?Object.assign(Object.assign({},t),e):t}),0===Object.keys(t).length?null:t}function Td(e,t){return t.map(t=>t(e))}function Rd(e){return e.map(e=>function(e){return!e.validate}(e)?e:t=>e.validate(t))}const Dd={provide:cd,useExisting:_e(()=>Nd),multi:!0};let Nd=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==e?"":e)}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(e,t){1&e&&Fs("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ra([Dd])]}),e})();const Ld={provide:cd,useExisting:_e(()=>Fd),multi:!0};let Bd=(()=>{class e{constructor(){this._accessors=[]}add(e,t){this._accessors.push([e,t])}remove(e){for(let t=this._accessors.length-1;t>=0;--t)if(this._accessors[t][1]===e)return void this._accessors.splice(t,1)}select(e){this._accessors.forEach(t=>{this._isSameGroup(t,e)&&t[1]!==e&&t[1].fireUncheck(e.value)})}_isSameGroup(e,t){return!!e[0].control&&e[0]._parent===t._control._parent&&e[1].name===t.name}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Fd=(()=>{class e{constructor(e,t,n,i){this._renderer=e,this._elementRef=t,this._registry=n,this._injector=i,this.onChange=()=>{},this.onTouched=()=>{}}ngOnInit(){this._control=this._injector.get(bd),this._checkName(),this._registry.add(this._control,this)}ngOnDestroy(){this._registry.remove(this)}writeValue(e){this._state=e===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)}registerOnChange(e){this._fn=e,this.onChange=()=>{e(this.value),this._registry.select(this)}}fireUncheck(e){this.writeValue(e)}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_checkName(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)}_throwNameError(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba),As(Bd),As(ds))},e.\u0275dir=yt({type:e,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(e,t){1&e&&Fs("change",(function(){return t.onChange()}))("blur",(function(){return t.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[Ra([Ld])]}),e})();const Vd={provide:cd,useExisting:_e(()=>$d),multi:!0};let $d=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this.onChange=e=>{},this.onTouched=()=>{}}writeValue(e){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(e))}registerOnChange(e){this.onChange=t=>{e(""==t?null:parseFloat(t))}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(e,t){1&e&&Fs("change",(function(e){return t.onChange(e.target.value)}))("input",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},features:[Ra([Vd])]}),e})();const Hd='\n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });',jd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',Wd='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>';class zd{static controlParentException(){throw new Error("formControlName must be used with a parent formGroup directive.  You'll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+Hd)}static ngModelGroupException(){throw new Error(`formControlName cannot be used with an ngModelGroup parent. It is only compatible with parents\n       that also have a "form" prefix: formGroupName, formArrayName, or formGroup.\n\n       Option 1:  Update the parent to be formGroupName (reactive form strategy)\n\n        ${jd}\n\n        Option 2: Use ngModel instead of formControlName (template-driven strategy)\n\n        ${Wd}`)}static missingFormException(){throw new Error("formGroup expects a FormGroup instance. Please pass one in.\n\n       Example:\n\n       "+Hd)}static groupParentException(){throw new Error("formGroupName must be used with a parent formGroup directive.  You'll want to add a formGroup\n      directive and pass it an existing FormGroup instance (you can create one in your class).\n\n      Example:\n\n      "+jd)}static arrayParentException(){throw new Error('formArrayName must be used with a parent formGroup directive.  You\'ll want to add a formGroup\n       directive and pass it an existing FormGroup instance (you can create one in your class).\n\n        Example:\n\n        \n    <div [formGroup]="myGroup">\n      <div formArrayName="cities">\n        <div *ngFor="let city of cityArray.controls; index as i">\n          <input [formControlName]="i">\n        </div>\n      </div>\n    </div>\n\n    In your class:\n\n    this.cityArray = new FormArray([new FormControl(\'SF\')]);\n    this.myGroup = new FormGroup({\n      cities: this.cityArray\n    });')}static disabledAttrWarning(){console.warn("\n      It looks like you're using the disabled attribute with a reactive form directive. If you set disabled to true\n      when you set up this control in your component class, the disabled attribute will actually be set in the DOM for\n      you. We recommend using this approach to avoid 'changed after checked' errors.\n\n      Example:\n      form = new FormGroup({\n        first: new FormControl({value: 'Nancy', disabled: true}, Validators.required),\n        last: new FormControl('Drew', Validators.required)\n      });\n    ")}static ngModelWarning(e){console.warn(`\n    It looks like you're using ngModel on the same form field as ${e}.\n    Support for using the ngModel input property and ngModelChange event with\n    reactive form directives has been deprecated in Angular v6 and will be removed\n    in a future version of Angular.\n\n    For more information on this, see our API docs here:\n    https://angular.io/api/forms/${"formControl"===e?"FormControlDirective":"FormControlName"}#use-with-ngmodel\n    `)}}const Gd={provide:cd,useExisting:_e(()=>Kd),multi:!0};function Zd(e,t){return null==e?""+t:(t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Kd=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){this.value=e;const t=this._getOptionId(e);null==t&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);const n=Zd(t,e);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)}registerOnChange(e){this.onChange=t=>{this.value=this._getOptionValue(t),e(this.value)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(){return(this._idCounter++).toString()}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t),e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t):e}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(e,t){1&e&&Fs("change",(function(e){return t.onChange(e.target.value)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ra([Gd])]}),e})(),Xd=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption())}set ngValue(e){null!=this._select&&(this._select._optionMap.set(this.id,e),this._setElementValue(Zd(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._setElementValue(e),this._select&&this._select.writeValue(this._select.value)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Ha),As(Kd,9))},e.\u0275dir=yt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();const Yd={provide:cd,useExisting:_e(()=>Jd),multi:!0};function Ud(e,t){return null==e?""+t:("string"==typeof t&&(t=`'${t}'`),t&&"object"==typeof t&&(t="Object"),`${e}: ${t}`.slice(0,50))}let Jd=(()=>{class e{constructor(e,t){this._renderer=e,this._elementRef=t,this._optionMap=new Map,this._idCounter=0,this.onChange=e=>{},this.onTouched=()=>{},this._compareWith=Object.is}set compareWith(e){if("function"!=typeof e)throw new Error("compareWith must be a function, but received "+JSON.stringify(e));this._compareWith=e}writeValue(e){let t;if(this.value=e,Array.isArray(e)){const n=e.map(e=>this._getOptionId(e));t=(e,t)=>{e._setSelected(n.indexOf(t.toString())>-1)}}else t=(e,t)=>{e._setSelected(!1)};this._optionMap.forEach(t)}registerOnChange(e){this.onChange=t=>{const n=[];if(void 0!==t.selectedOptions){const e=t.selectedOptions;for(let t=0;t<e.length;t++){const i=e.item(t),r=this._getOptionValue(i.value);n.push(r)}}else{const e=t.options;for(let t=0;t<e.length;t++){const i=e.item(t);if(i.selected){const e=this._getOptionValue(i.value);n.push(e)}}}this.value=n,e(n)}}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",e)}_registerOption(e){const t=(this._idCounter++).toString();return this._optionMap.set(t,e),t}_getOptionId(e){for(const t of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(t)._value,e))return t;return null}_getOptionValue(e){const t=function(e){return e.split(":")[0]}(e);return this._optionMap.has(t)?this._optionMap.get(t)._value:e}}return e.\u0275fac=function(t){return new(t||e)(As(Ha),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(e,t){1&e&&Fs("change",(function(e){return t.onChange(e.target)}))("blur",(function(){return t.onTouched()}))},inputs:{compareWith:"compareWith"},features:[Ra([Yd])]}),e})(),qd=(()=>{class e{constructor(e,t,n){this._element=e,this._renderer=t,this._select=n,this._select&&(this.id=this._select._registerOption(this))}set ngValue(e){null!=this._select&&(this._value=e,this._setElementValue(Ud(this.id,e)),this._select.writeValue(this._select.value))}set value(e){this._select?(this._value=e,this._setElementValue(Ud(this.id,e)),this._select.writeValue(this._select.value)):this._setElementValue(e)}_setElementValue(e){this._renderer.setProperty(this._element.nativeElement,"value",e)}_setSelected(e){this._renderer.setProperty(this._element.nativeElement,"selected",e)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Ha),As(Jd,9))},e.\u0275dir=yt({type:e,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),e})();function Qd(e,t){return[...t.path,e]}function eu(e,t){e||ru(t,"Cannot find control with"),t.valueAccessor||ru(t,"No value accessor for form control with"),e.validator=Ed.compose([e.validator,t.validator]),e.asyncValidator=Ed.composeAsync([e.asyncValidator,t.asyncValidator]),t.valueAccessor.writeValue(e.value),function(e,t){t.valueAccessor.registerOnChange(n=>{e._pendingValue=n,e._pendingChange=!0,e._pendingDirty=!0,"change"===e.updateOn&&tu(e,t)})}(e,t),function(e,t){e.registerOnChange((e,n)=>{t.valueAccessor.writeValue(e),n&&t.viewToModelUpdate(e)})}(e,t),function(e,t){t.valueAccessor.registerOnTouched(()=>{e._pendingTouched=!0,"blur"===e.updateOn&&e._pendingChange&&tu(e,t),"submit"!==e.updateOn&&e.markAsTouched()})}(e,t),t.valueAccessor.setDisabledState&&e.registerOnDisabledChange(e=>{t.valueAccessor.setDisabledState(e)}),t._rawValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())}),t._rawAsyncValidators.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(()=>e.updateValueAndValidity())})}function tu(e,t){e._pendingDirty&&e.markAsDirty(),e.setValue(e._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1}function nu(e,t){null==e&&ru(t,"Cannot find control with"),e.validator=Ed.compose([e.validator,t.validator]),e.asyncValidator=Ed.composeAsync([e.asyncValidator,t.asyncValidator])}function iu(e){return ru(e,"There is no FormControl instance attached to form control element with")}function ru(e,t){let n;throw n=e.path.length>1?`path: '${e.path.join(" -> ")}'`:e.path[0]?`name: '${e.path}'`:"unspecified name attribute",new Error(`${t} ${n}`)}function ou(e){return null!=e?Ed.compose(Rd(e)):null}function su(e){return null!=e?Ed.composeAsync(Rd(e)):null}function au(e,t){if(!e.hasOwnProperty("model"))return!1;const n=e.model;return!!n.isFirstChange()||!Object.is(t,n.currentValue)}const lu=[dd,$d,Nd,Kd,Jd,Fd];function cu(e,t){e._syncPendingControls(),t.forEach(e=>{const t=e.control;"submit"===t.updateOn&&t._pendingChange&&(e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1)})}function hu(e,t){if(!t)return null;Array.isArray(t)||ru(e,"Value accessor was not provided as an array for form control with");let n=void 0,i=void 0,r=void 0;return t.forEach(t=>{var o;t.constructor===gd?n=t:(o=t,lu.some(e=>o.constructor===e)?(i&&ru(e,"More than one built-in value accessor matches form control with"),i=t):(r&&ru(e,"More than one custom value accessor matches form control with"),r=t))}),r||i||n||(ru(e,"No valid value accessor for form control with"),null)}function du(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}function uu(e){const t=gu(e)?e.validators:e;return Array.isArray(t)?ou(t):t||null}function pu(e,t){const n=gu(t)?t.asyncValidators:e;return Array.isArray(n)?su(n):n||null}function gu(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}class fu{constructor(e,t){this.validator=e,this.asyncValidator=t,this._onCollectionChange=()=>{},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}get parent(){return this._parent}get valid(){return"VALID"===this.status}get invalid(){return"INVALID"===this.status}get pending(){return"PENDING"==this.status}get disabled(){return"DISABLED"===this.status}get enabled(){return"DISABLED"!==this.status}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this.validator=uu(e)}setAsyncValidators(e){this.asyncValidator=pu(e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(e=>{e.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(e=>{e.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status="PENDING",!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild(t=>{t.disable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status="VALID",this._forEachChild(t=>{t.enable(Object.assign(Object.assign({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},e),{skipPristineCheck:t})),this._onDisabledChange.forEach(e=>e(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status="PENDING";const t=Pd(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(t=>this.setErrors(t,{emitEvent:e}))}}_cancelExistingSubscription(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){return function(e,t,n){if(null==t)return null;if(Array.isArray(t)||(t=t.split(".")),Array.isArray(t)&&0===t.length)return null;let i=e;return t.forEach(e=>{i=i instanceof vu?i.controls.hasOwnProperty(e)?i.controls[e]:null:i instanceof yu&&i.at(e)||null}),i}(this,e)}getError(e,t){const n=t?this.get(t):this;return n&&n.errors?n.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new Ol,this.statusChanges=new Ol}_calculateStatus(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_isBoxedValue(e){return"object"==typeof e&&null!==e&&2===Object.keys(e).length&&"value"in e&&"disabled"in e}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){gu(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()}}class mu extends fu{constructor(e=null,t,n){super(uu(t),pu(n,t)),this._onChange=[],this._applyFormState(e),this._setUpdateStrategy(t),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),this._initObservables()}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(e=>e(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=null,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_clearChangeFns(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=()=>{}}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){this._isBoxedValue(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}}class vu extends fu{constructor(e,t,n){super(uu(t),pu(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t){this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}removeControl(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity(),this._onCollectionChange()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity(),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){this._checkAllValuesPresent(e),Object.keys(e).forEach(n=>{this._throwIfControlMissing(n),this.controls[n].setValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){Object.keys(e).forEach(n=>{this.controls[n]&&this.controls[n].patchValue(e[n],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e={},t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,n)=>(e[n]=t instanceof mu?t.value:t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(e,t)=>!!t._syncPendingControls()||e);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[e])throw new Error(`Cannot find form control with name: ${e}.`)}_forEachChild(e){Object.keys(this.controls).forEach(t=>e(this.controls[t],t))}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const t of Object.keys(this.controls)){const n=this.controls[t];if(this.contains(t)&&e(n))return!0}return!1}_reduceValue(){return this._reduceChildren({},(e,t,n)=>((t.enabled||this.disabled)&&(e[n]=t.value),e))}_reduceChildren(e,t){let n=e;return this._forEachChild((e,i)=>{n=t(n,e,i)}),n}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control with name: '${n}'.`)})}}class yu extends fu{constructor(e,t,n){super(uu(t),pu(n,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!1})}at(e){return this.controls[e]}push(e){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity(),this._onCollectionChange()}insert(e,t){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity()}removeAt(e){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),this.updateValueAndValidity()}setControl(e,t){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),this.controls.splice(e,1),t&&(this.controls.splice(e,0,t),this._registerControl(t)),this.updateValueAndValidity(),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){this._checkAllValuesPresent(e),e.forEach((e,n)=>{this._throwIfControlMissing(n),this.at(n).setValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e.forEach((e,n)=>{this.at(n)&&this.at(n).patchValue(e,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}reset(e=[],t={}){this._forEachChild((n,i)=>{n.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e instanceof mu?e.value:e.getRawValue())}clear(){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity())}_syncPendingControls(){let e=this.controls.reduce((e,t)=>!!t._syncPendingControls()||e,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_throwIfControlMissing(e){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(e))throw new Error("Cannot find form control at index "+e)}_forEachChild(e){this.controls.forEach((t,n)=>{e(t,n)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_checkAllValuesPresent(e){this._forEachChild((t,n)=>{if(void 0===e[n])throw new Error(`Must supply a value for form control at index: ${n}.`)})}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}}const bu={provide:md,useExisting:_e(()=>wu)},Cu=(()=>Promise.resolve(null))();let wu=(()=>{class e extends md{constructor(e,t){super(),this.submitted=!1,this._directives=[],this.ngSubmit=new Ol,this.form=new vu({},ou(e),su(t))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(e){Cu.then(()=>{const t=this._findContainer(e.path);e.control=t.registerControl(e.name,e.control),eu(e.control,e),e.control.updateValueAndValidity({emitEvent:!1}),this._directives.push(e)})}getControl(e){return this.form.get(e.path)}removeControl(e){Cu.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name),du(this._directives,e)})}addFormGroup(e){Cu.then(()=>{const t=this._findContainer(e.path),n=new vu({});nu(n,e),t.registerControl(e.name,n),n.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(e){Cu.then(()=>{const t=this._findContainer(e.path);t&&t.removeControl(e.name)})}getFormGroup(e){return this.form.get(e.path)}updateModel(e,t){Cu.then(()=>{this.form.get(e.path).setValue(t)})}setValue(e){this.control.setValue(e)}onSubmit(e){return this.submitted=!0,cu(this.form,this._directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(e){return e.pop(),e.length?this.form.get(e):this.form}}return e.\u0275fac=function(t){return new(t||e)(As(Ad,10),As(kd,10))},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(e,t){1&e&&Fs("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ra([bu]),wa]}),e})(),_u=(()=>{class e extends md{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ou(this._validators)}get asyncValidator(){return su(this._asyncValidators)}_checkParentType(){}}return e.\u0275fac=function(t){return xu(t||e)},e.\u0275dir=yt({type:e,features:[wa]}),e})();const xu=ui(_u);class Iu{static modelParentException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup's partner directive "formControlName" instead.  Example:\n\n      ${Hd}\n\n      Or, if you'd like to avoid registering this form control, indicate that it's standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  `)}static formGroupNameException(){throw new Error(`\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      ${jd}\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      ${Wd}`)}static missingNameException(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')}static modelGroupParentException(){throw new Error(`\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      ${jd}\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      ${Wd}`)}}const Au={provide:md,useExisting:_e(()=>ku)};let ku=(()=>{class e extends _u{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){this._parent instanceof e||this._parent instanceof wu||Iu.modelGroupParentException()}}return e.\u0275fac=function(t){return new(t||e)(As(md,5),As(Ad,10),As(kd,10))},e.\u0275dir=yt({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[Ra([Au]),wa]}),e})();const Su={provide:bd,useExisting:_e(()=>Ou)},Eu=(()=>Promise.resolve(null))();let Ou=(()=>{class e extends bd{constructor(e,t,n,i){super(),this.control=new mu,this._registered=!1,this.update=new Ol,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=hu(this,i)}ngOnChanges(e){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in e&&this._updateDisabled(e),au(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._parent?Qd(this.name,this._parent):[this.name]}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ou(this._rawValidators)}get asyncValidator(){return su(this._rawAsyncValidators)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){eu(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){!(this._parent instanceof ku)&&this._parent instanceof _u?Iu.formGroupNameException():this._parent instanceof ku||this._parent instanceof wu||Iu.modelParentException()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Iu.missingNameException()}_updateValue(e){Eu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1})})}_updateDisabled(e){const t=e.isDisabled.currentValue,n=""===t||t&&"false"!==t;Eu.then(()=>{n&&!this.control.disabled?this.control.disable():!n&&this.control.disabled&&this.control.enable()})}}return e.\u0275fac=function(t){return new(t||e)(As(md,9),As(Ad,10),As(kd,10),As(cd,10))},e.\u0275dir=yt({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Ra([Su]),wa,Mt]}),e})(),Pu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),e})();const Mu=new Be("NgModelWithFormControlWarning"),Tu={provide:md,useExisting:_e(()=>Ru)};let Ru=(()=>{class e extends md{constructor(e,t){super(),this._validators=e,this._asyncValidators=t,this.submitted=!1,this.directives=[],this.form=null,this.ngSubmit=new Ol}ngOnChanges(e){this._checkFormPresent(),e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations())}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){const t=this.form.get(e.path);return eu(t,e),t.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),t}getControl(e){return this.form.get(e.path)}removeControl(e){du(this.directives,e)}addFormGroup(e){const t=this.form.get(e.path);nu(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormGroup(e){}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){const t=this.form.get(e.path);nu(t,e),t.updateValueAndValidity({emitEvent:!1})}removeFormArray(e){}getFormArray(e){return this.form.get(e.path)}updateModel(e,t){this.form.get(e.path).setValue(t)}onSubmit(e){return this.submitted=!0,cu(this.form,this.directives),this.ngSubmit.emit(e),!1}onReset(){this.resetForm()}resetForm(e){this.form.reset(e),this.submitted=!1}_updateDomValue(){this.directives.forEach(e=>{const t=this.form.get(e.path);e.control!==t&&(function(e,t){t.valueAccessor.registerOnChange(()=>iu(t)),t.valueAccessor.registerOnTouched(()=>iu(t)),t._rawValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),t._rawAsyncValidators.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(null)}),e&&e._clearChangeFns()}(e.control,e),t&&eu(t,e),e.control=t)}),this.form._updateTreeValidity({emitEvent:!1})}_updateRegistrations(){this.form._registerOnCollectionChange(()=>this._updateDomValue()),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{}),this._oldForm=this.form}_updateValidators(){const e=ou(this._validators);this.form.validator=Ed.compose([this.form.validator,e]);const t=su(this._asyncValidators);this.form.asyncValidator=Ed.composeAsync([this.form.asyncValidator,t])}_checkFormPresent(){this.form||zd.missingFormException()}}return e.\u0275fac=function(t){return new(t||e)(As(Ad,10),As(kd,10))},e.\u0275dir=yt({type:e,selectors:[["","formGroup",""]],hostBindings:function(e,t){1&e&&Fs("submit",(function(e){return t.onSubmit(e)}))("reset",(function(){return t.onReset()}))},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ra([Tu]),wa,Mt]}),e})();const Du={provide:md,useExisting:_e(()=>Nu)};let Nu=(()=>{class e extends _u{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}_checkParentType(){Fu(this._parent)&&zd.groupParentException()}}return e.\u0275fac=function(t){return new(t||e)(As(md,13),As(Ad,10),As(kd,10))},e.\u0275dir=yt({type:e,selectors:[["","formGroupName",""]],inputs:{name:["formGroupName","name"]},features:[Ra([Du]),wa]}),e})();const Lu={provide:md,useExisting:_e(()=>Bu)};let Bu=(()=>{class e extends md{constructor(e,t,n){super(),this._parent=e,this._validators=t,this._asyncValidators=n}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get validator(){return ou(this._validators)}get asyncValidator(){return su(this._asyncValidators)}_checkParentType(){Fu(this._parent)&&zd.arrayParentException()}}return e.\u0275fac=function(t){return new(t||e)(As(md,13),As(Ad,10),As(kd,10))},e.\u0275dir=yt({type:e,selectors:[["","formArrayName",""]],inputs:{name:["formArrayName","name"]},features:[Ra([Lu]),wa]}),e})();function Fu(e){return!(e instanceof Nu||e instanceof Ru||e instanceof Bu)}const Vu={provide:bd,useExisting:_e(()=>$u)};let $u=(()=>{class e extends bd{constructor(e,t,n,i,r){super(),this._ngModelWarningConfig=r,this._added=!1,this.update=new Ol,this._ngModelWarningSent=!1,this._parent=e,this._rawValidators=t||[],this._rawAsyncValidators=n||[],this.valueAccessor=hu(this,i)}set isDisabled(e){zd.disabledAttrWarning()}ngOnChanges(t){var n,i;this._added||this._setUpControl(),au(t,this.viewModel)&&("formControlName",n=e,this,i=this._ngModelWarningConfig,Ei()&&"never"!==i&&((null!==i&&"once"!==i||n._ngModelWarningSentOnce)&&("always"!==i||this._ngModelWarningSent)||(zd.ngModelWarning("formControlName"),n._ngModelWarningSentOnce=!0,this._ngModelWarningSent=!0)),this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return Qd(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}get validator(){return ou(this._rawValidators)}get asyncValidator(){return su(this._rawAsyncValidators)}_checkParentType(){!(this._parent instanceof Nu)&&this._parent instanceof _u?zd.ngModelGroupException():this._parent instanceof Nu||this._parent instanceof Ru||this._parent instanceof Bu||zd.controlParentException()}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return e.\u0275fac=function(t){return new(t||e)(As(md,13),As(Ad,10),As(kd,10),As(cd,10),As(Mu,8))},e.\u0275dir=yt({type:e,selectors:[["","formControlName",""]],inputs:{isDisabled:["disabled","isDisabled"],name:["formControlName","name"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ra([Vu]),wa,Mt]}),e._ngModelWarningSentOnce=!1,e})(),Hu=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),ju=(()=>{class e{group(e,t=null){const n=this._reduceControls(e);let i=null,r=null,o=void 0;return null!=t&&(function(e){return void 0!==e.asyncValidators||void 0!==e.validators||void 0!==e.updateOn}(t)?(i=null!=t.validators?t.validators:null,r=null!=t.asyncValidators?t.asyncValidators:null,o=null!=t.updateOn?t.updateOn:void 0):(i=null!=t.validator?t.validator:null,r=null!=t.asyncValidator?t.asyncValidator:null)),new vu(n,{asyncValidators:r,updateOn:o,validators:i})}control(e,t,n){return new mu(e,t,n)}array(e,t,n){const i=e.map(e=>this._createControl(e));return new yu(i,t,n)}_reduceControls(e){const t={};return Object.keys(e).forEach(n=>{t[n]=this._createControl(e[n])}),t}_createControl(e){return e instanceof mu||e instanceof vu||e instanceof yu?e:Array.isArray(e)?this.control(e[0],e.length>1?e[1]:null,e.length>2?e[2]:null):this.control(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Wu=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Bd],imports:[Hu]}),e})(),zu=(()=>{class e{static withConfig(t){return{ngModule:e,providers:[{provide:Mu,useValue:t.warnOnNgModelWithFormControl}]}}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[ju,Bd],imports:[Hu]}),e})();function Gu(...e){let t=e[e.length-1];return A(t)?(e.pop(),F(e,t)):z(e)}function Zu(e,t){return $(e,t,1)}function Ku(e,t){return function(n){return n.lift(new Xu(e,t))}}class Xu{constructor(e,t){this.predicate=e,this.thisArg=t}call(e,t){return t.subscribe(new Yu(e,this.predicate,this.thisArg))}}class Yu extends g{constructor(e,t,n){super(e),this.predicate=t,this.thisArg=n,this.count=0}_next(e){let t;try{t=this.predicate.call(this.thisArg,e,this.count++)}catch(n){return void this.destination.error(n)}t&&this.destination.next(e)}}class Uu{}class Ju{}class qu{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(e=>{const t=e.indexOf(":");if(t>0){const n=e.slice(0,t),i=n.toLowerCase(),r=e.slice(t+1).trim();this.maybeSetNormalizedName(n,i),this.headers.has(i)?this.headers.get(i).push(r):this.headers.set(i,[r])}})}:()=>{this.headers=new Map,Object.keys(e).forEach(t=>{let n=e[t];const i=t.toLowerCase();"string"==typeof n&&(n=[n]),n.length>0&&(this.headers.set(i,n),this.maybeSetNormalizedName(t,i))})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof qu?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new qu;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof qu?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let n=e.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...n),this.headers.set(t,i);break;case"d":const r=e.value;if(r){let e=this.headers.get(t);if(!e)return;e=e.filter(e=>-1===r.indexOf(e)),0===e.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,e)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class Qu{encodeKey(e){return ep(e)}encodeValue(e){return ep(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}function ep(e){return encodeURIComponent(e).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}class tp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new Qu,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function(e,t){const n=new Map;return e.length>0&&e.split("&").forEach(e=>{const i=e.indexOf("="),[r,o]=-1==i?[t.decodeKey(e),""]:[t.decodeKey(e.slice(0,i)),t.decodeValue(e.slice(i+1))],s=n.get(r)||[];s.push(o),n.set(r,s)}),n}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const n=e.fromObject[t];this.map.set(t,Array.isArray(n)?n:[n])})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(e=>t+"="+this.encoder.encodeValue(e)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new tp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat([e]),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(e.value),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let t=this.map.get(e.param)||[];const n=t.indexOf(e.value);-1!==n&&t.splice(n,1),t.length>0?this.map.set(e.param,t):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}function np(e){return"undefined"!=typeof ArrayBuffer&&e instanceof ArrayBuffer}function ip(e){return"undefined"!=typeof Blob&&e instanceof Blob}function rp(e){return"undefined"!=typeof FormData&&e instanceof FormData}class op{constructor(e,t,n,i){let r;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function(e){switch(e){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==n?n:null,r=i):r=n,r&&(this.reportProgress=!!r.reportProgress,this.withCredentials=!!r.withCredentials,r.responseType&&(this.responseType=r.responseType),r.headers&&(this.headers=r.headers),r.params&&(this.params=r.params)),this.headers||(this.headers=new qu),this.params){const e=this.params.toString();if(0===e.length)this.urlWithParams=t;else{const n=t.indexOf("?");this.urlWithParams=t+(-1===n?"?":n<t.length-1?"&":"")+e}}else this.params=new tp,this.urlWithParams=t}serializeBody(){return null===this.body?null:np(this.body)||ip(this.body)||rp(this.body)||"string"==typeof this.body?this.body:this.body instanceof tp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||rp(this.body)?null:ip(this.body)?this.body.type||null:np(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof tp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null}clone(e={}){const t=e.method||this.method,n=e.url||this.url,i=e.responseType||this.responseType,r=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let a=e.headers||this.headers,l=e.params||this.params;return void 0!==e.setHeaders&&(a=Object.keys(e.setHeaders).reduce((t,n)=>t.set(n,e.setHeaders[n]),a)),e.setParams&&(l=Object.keys(e.setParams).reduce((t,n)=>t.set(n,e.setParams[n]),l)),new op(t,n,r,{params:l,headers:a,reportProgress:s,responseType:i,withCredentials:o})}}var sp=function(e){return e[e.Sent=0]="Sent",e[e.UploadProgress=1]="UploadProgress",e[e.ResponseHeader=2]="ResponseHeader",e[e.DownloadProgress=3]="DownloadProgress",e[e.Response=4]="Response",e[e.User=5]="User",e}({});class ap{constructor(e,t=200,n="OK"){this.headers=e.headers||new qu,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||n,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class lp extends ap{constructor(e={}){super(e),this.type=sp.ResponseHeader}clone(e={}){return new lp({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class cp extends ap{constructor(e={}){super(e),this.type=sp.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new cp({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class hp extends ap{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function dp(e,t){return{body:t,headers:e.headers,observe:e.observe,params:e.params,reportProgress:e.reportProgress,responseType:e.responseType,withCredentials:e.withCredentials}}let up=(()=>{class e{constructor(e){this.handler=e}request(e,t,n={}){let i;if(e instanceof op)i=e;else{let r=void 0;r=n.headers instanceof qu?n.headers:new qu(n.headers);let o=void 0;n.params&&(o=n.params instanceof tp?n.params:new tp({fromObject:n.params})),i=new op(e,t,void 0!==n.body?n.body:null,{headers:r,params:o,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}const r=Gu(i).pipe(Zu(e=>this.handler.handle(e)));if(e instanceof op||"events"===n.observe)return r;const o=r.pipe(Ku(e=>e instanceof cp));switch(n.observe||"body"){case"body":switch(i.responseType){case"arraybuffer":return o.pipe(N(e=>{if(null!==e.body&&!(e.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return e.body}));case"blob":return o.pipe(N(e=>{if(null!==e.body&&!(e.body instanceof Blob))throw new Error("Response is not a Blob.");return e.body}));case"text":return o.pipe(N(e=>{if(null!==e.body&&"string"!=typeof e.body)throw new Error("Response is not a string.");return e.body}));case"json":default:return o.pipe(N(e=>e.body))}case"response":return o;default:throw new Error(`Unreachable: unhandled observe type ${n.observe}}`)}}delete(e,t={}){return this.request("DELETE",e,t)}get(e,t={}){return this.request("GET",e,t)}head(e,t={}){return this.request("HEAD",e,t)}jsonp(e,t){return this.request("JSONP",e,{params:(new tp).append(t,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(e,t={}){return this.request("OPTIONS",e,t)}patch(e,t,n={}){return this.request("PATCH",e,dp(n,t))}post(e,t,n={}){return this.request("POST",e,dp(n,t))}put(e,t,n={}){return this.request("PUT",e,dp(n,t))}}return e.\u0275fac=function(t){return new(t||e)(Ke(Uu))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class pp{constructor(e,t){this.next=e,this.interceptor=t}handle(e){return this.interceptor.intercept(e,this.next)}}const gp=new Be("HTTP_INTERCEPTORS");let fp=(()=>{class e{intercept(e,t){return t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const mp=/^\)\]\}',?\n/;class vp{}let yp=(()=>{class e{constructor(){}build(){return new XMLHttpRequest}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),bp=(()=>{class e{constructor(e){this.xhrFactory=e}handle(e){if("JSONP"===e.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new y(t=>{const n=this.xhrFactory.build();if(n.open(e.method,e.urlWithParams),e.withCredentials&&(n.withCredentials=!0),e.headers.forEach((e,t)=>n.setRequestHeader(e,t.join(","))),e.headers.has("Accept")||n.setRequestHeader("Accept","application/json, text/plain, */*"),!e.headers.has("Content-Type")){const t=e.detectContentTypeHeader();null!==t&&n.setRequestHeader("Content-Type",t)}if(e.responseType){const t=e.responseType.toLowerCase();n.responseType="json"!==t?t:"text"}const i=e.serializeBody();let r=null;const o=()=>{if(null!==r)return r;const t=1223===n.status?204:n.status,i=n.statusText||"OK",o=new qu(n.getAllResponseHeaders()),s=function(e){return"responseURL"in e&&e.responseURL?e.responseURL:/^X-Request-URL:/m.test(e.getAllResponseHeaders())?e.getResponseHeader("X-Request-URL"):null}(n)||e.url;return r=new lp({headers:o,status:t,statusText:i,url:s}),r},s=()=>{let{headers:i,status:r,statusText:s,url:a}=o(),l=null;204!==r&&(l=void 0===n.response?n.responseText:n.response),0===r&&(r=l?200:0);let c=r>=200&&r<300;if("json"===e.responseType&&"string"==typeof l){const e=l;l=l.replace(mp,"");try{l=""!==l?JSON.parse(l):null}catch(h){l=e,c&&(c=!1,l={error:h,text:l})}}c?(t.next(new cp({body:l,headers:i,status:r,statusText:s,url:a||void 0})),t.complete()):t.error(new hp({error:l,headers:i,status:r,statusText:s,url:a||void 0}))},a=e=>{const{url:i}=o(),r=new hp({error:e,status:n.status||0,statusText:n.statusText||"Unknown Error",url:i||void 0});t.error(r)};let l=!1;const c=i=>{l||(t.next(o()),l=!0);let r={type:sp.DownloadProgress,loaded:i.loaded};i.lengthComputable&&(r.total=i.total),"text"===e.responseType&&n.responseText&&(r.partialText=n.responseText),t.next(r)},h=e=>{let n={type:sp.UploadProgress,loaded:e.loaded};e.lengthComputable&&(n.total=e.total),t.next(n)};return n.addEventListener("load",s),n.addEventListener("error",a),e.reportProgress&&(n.addEventListener("progress",c),null!==i&&n.upload&&n.upload.addEventListener("progress",h)),n.send(i),t.next({type:sp.Sent}),()=>{n.removeEventListener("error",a),n.removeEventListener("load",s),e.reportProgress&&(n.removeEventListener("progress",c),null!==i&&n.upload&&n.upload.removeEventListener("progress",h)),n.readyState!==n.DONE&&n.abort()}})}}return e.\u0275fac=function(t){return new(t||e)(Ke(vp))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Cp=new Be("XSRF_COOKIE_NAME"),wp=new Be("XSRF_HEADER_NAME");class _p{}let xp,Ip=(()=>{class e{constructor(e,t,n){this.doc=e,this.platform=t,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const e=this.doc.cookie||"";return e!==this.lastCookieString&&(this.parseCount++,this.lastToken=gh(e,this.cookieName),this.lastCookieString=e),this.lastToken}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc),Ke(tc),Ke(Cp))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Ap=(()=>{class e{constructor(e,t){this.tokenService=e,this.headerName=t}intercept(e,t){const n=e.url.toLowerCase();if("GET"===e.method||"HEAD"===e.method||n.startsWith("http://")||n.startsWith("https://"))return t.handle(e);const i=this.tokenService.getToken();return null===i||e.headers.has(this.headerName)||(e=e.clone({headers:e.headers.set(this.headerName,i)})),t.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ke(_p),Ke(wp))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),kp=(()=>{class e{constructor(e,t){this.backend=e,this.injector=t,this.chain=null}handle(e){if(null===this.chain){const e=this.injector.get(gp,[]);this.chain=e.reduceRight((e,t)=>new pp(e,t),this.backend)}return this.chain.handle(e)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Ju),Ke(ds))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Sp=(()=>{class e{static disable(){return{ngModule:e,providers:[{provide:Ap,useClass:fp}]}}static withOptions(t={}){return{ngModule:e,providers:[t.cookieName?{provide:Cp,useValue:t.cookieName}:[],t.headerName?{provide:wp,useValue:t.headerName}:[]]}}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Ap,{provide:gp,useExisting:Ap,multi:!0},{provide:_p,useClass:Ip},{provide:Cp,useValue:"XSRF-TOKEN"},{provide:wp,useValue:"X-XSRF-TOKEN"}]}),e})(),Ep=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[up,{provide:Uu,useClass:kp},bp,{provide:Ju,useExisting:bp},yp,{provide:vp,useExisting:yp}],imports:[[Sp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),e})();try{xp="undefined"!=typeof Intl&&Intl.v8BreakIterator}catch(AM){xp=!1}let Op,Pp,Mp,Tp=(()=>{class e{constructor(e){this._platformId=e,this.isBrowser=this._platformId?"browser"===this._platformId:"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!xp)&&"undefined"!=typeof CSS&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return e.\u0275fac=function(t){return new(t||e)(Ke(tc))},e.\u0275prov=ce({factory:function(){return new e(Ke(tc))},token:e,providedIn:"root"}),e})(),Rp=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})();function Dp(e){return function(){if(null==Op&&"undefined"!=typeof window)try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>Op=!0}))}finally{Op=Op||!1}return Op}()?e:!!e.capture}function Np(){if("object"!=typeof document||!document)return 0;if(null==Pp){const e=document.createElement("div"),t=e.style;e.dir="rtl",t.width="1px",t.overflow="auto",t.visibility="hidden",t.pointerEvents="none",t.position="absolute";const n=document.createElement("div"),i=n.style;i.width="2px",i.height="1px",e.appendChild(n),document.body.appendChild(e),Pp=0,0===e.scrollLeft&&(e.scrollLeft=1,Pp=0===e.scrollLeft?1:2),e.parentNode.removeChild(e)}return Pp}function Lp(e){if(function(){if(null==Mp){const e="undefined"!=typeof document?document.head:null;Mp=!(!e||!e.createShadowRoot&&!e.attachShadow)}return Mp}()){const t=e.getRootNode?e.getRootNode():null;if("undefined"!=typeof ShadowRoot&&ShadowRoot&&t instanceof ShadowRoot)return t}return null}function Bp(e,...t){return t.length?t.some(t=>e[t]):e.altKey||e.shiftKey||e.ctrlKey||e.metaKey}function Fp(){}function Vp(e,t,n){return function(i){return i.lift(new $p(e,t,n))}}class $p{constructor(e,t,n){this.nextOrObserver=e,this.error=t,this.complete=n}call(e,t){return t.subscribe(new Hp(e,this.nextOrObserver,this.error,this.complete))}}class Hp extends g{constructor(e,t,n,r){super(e),this._tapNext=Fp,this._tapError=Fp,this._tapComplete=Fp,this._tapError=n||Fp,this._tapComplete=r||Fp,i(t)?(this._context=this,this._tapNext=t):t&&(this._context=t,this._tapNext=t.next||Fp,this._tapError=t.error||Fp,this._tapComplete=t.complete||Fp)}_next(e){try{this._tapNext.call(this._context,e)}catch(t){return void this.destination.error(t)}this.destination.next(e)}_error(e){try{this._tapError.call(this._context,e)}catch(e){return void this.destination.error(e)}this.destination.error(e)}_complete(){try{this._tapComplete.call(this._context)}catch(e){return void this.destination.error(e)}return this.destination.complete()}}class jp extends d{constructor(e,t){super()}schedule(e,t=0){return this}}class Wp extends jp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){if(this.closed)return this;this.state=e;const n=this.id,i=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(i,n,t)),this.pending=!0,this.delay=t,this.id=this.id||this.requestAsyncId(i,this.id,t),this}requestAsyncId(e,t,n=0){return setInterval(e.flush.bind(e,this),n)}recycleAsyncId(e,t,n=0){if(null!==n&&this.delay===n&&!1===this.pending)return t;clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const n=this._execute(e,t);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let n=!1,i=void 0;try{this.work(e)}catch(r){n=!0,i=!!r&&r||new Error(r)}if(n)return this.unsubscribe(),i}_unsubscribe(){const e=this.id,t=this.scheduler,n=t.actions,i=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==i&&n.splice(i,1),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null}}let zp=(()=>{class e{constructor(t,n=e.now){this.SchedulerAction=t,this.now=n}schedule(e,t=0,n){return new this.SchedulerAction(this,e).schedule(n,t)}}return e.now=()=>Date.now(),e})();class Gp extends zp{constructor(e,t=zp.now){super(e,()=>Gp.delegate&&Gp.delegate!==this?Gp.delegate.now():t()),this.actions=[],this.active=!1,this.scheduled=void 0}schedule(e,t=0,n){return Gp.delegate&&Gp.delegate!==this?Gp.delegate.schedule(e,t,n):super.schedule(e,t,n)}flush(e){const{actions:t}=this;if(this.active)return void t.push(e);let n;this.active=!0;do{if(n=e.execute(e.state,e.delay))break}while(e=t.shift());if(this.active=!1,n){for(;e=t.shift();)e.unsubscribe();throw n}}}const Zp=new Gp(Wp);function Kp(e,t=Zp){return n=>n.lift(new Xp(e,t))}class Xp{constructor(e,t){this.dueTime=e,this.scheduler=t}call(e,t){return t.subscribe(new Yp(e,this.dueTime,this.scheduler))}}class Yp extends g{constructor(e,t,n){super(e),this.dueTime=t,this.scheduler=n,this.debouncedSubscription=null,this.lastValue=null,this.hasValue=!1}_next(e){this.clearDebounce(),this.lastValue=e,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(Up,this.dueTime,this))}_complete(){this.debouncedNext(),this.destination.complete()}debouncedNext(){if(this.clearDebounce(),this.hasValue){const{lastValue:e}=this;this.lastValue=null,this.hasValue=!1,this.destination.next(e)}}clearDebounce(){const e=this.debouncedSubscription;null!==e&&(this.remove(e),e.unsubscribe(),this.debouncedSubscription=null)}}function Up(e){e.debouncedNext()}const Jp=(()=>{function e(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return e.prototype=Object.create(Error.prototype),e})(),qp=new y(e=>e.complete());function Qp(e){return e?function(e){return new y(t=>e.schedule(()=>t.complete()))}(e):qp}function eg(e){return t=>0===e?Qp():t.lift(new tg(e))}class tg{constructor(e){if(this.total=e,this.total<0)throw new Jp}call(e,t){return t.subscribe(new ng(e,this.total))}}class ng extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){const t=this.total,n=++this.count;n<=t&&(this.destination.next(e),n===t&&(this.destination.complete(),this.unsubscribe()))}}function ig(e){return null!=e&&""+e!="false"}function rg(e,t=0){return function(e){return!isNaN(parseFloat(e))&&!isNaN(Number(e))}(e)?Number(e):t}function og(e){return Array.isArray(e)?e:[e]}function sg(e){return null==e?"":"string"==typeof e?e:e+"px"}function ag(e){return e instanceof Ba?e.nativeElement:e}let lg=(()=>{class e{create(e){return"undefined"==typeof MutationObserver?null:new MutationObserver(e)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})(),cg=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[lg]}),e})();function hg(e,t){return(e.getAttribute(t)||"").match(/\S+/g)||[]}let dg=0;const ug=new Map;let pg=null,gg=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}describe(e,t){this._canBeDescribed(e,t)&&("string"!=typeof t?(this._setMessageId(t),ug.set(t,{messageElement:t,referenceCount:0})):ug.has(t)||this._createMessageElement(t),this._isElementDescribedByMessage(e,t)||this._addMessageReference(e,t))}removeDescription(e,t){if(t&&this._isElementNode(e)){if(this._isElementDescribedByMessage(e,t)&&this._removeMessageReference(e,t),"string"==typeof t){const e=ug.get(t);e&&0===e.referenceCount&&this._deleteMessageElement(t)}pg&&0===pg.childNodes.length&&this._deleteMessagesContainer()}}ngOnDestroy(){const e=this._document.querySelectorAll("[cdk-describedby-host]");for(let t=0;t<e.length;t++)this._removeCdkDescribedByReferenceIds(e[t]),e[t].removeAttribute("cdk-describedby-host");pg&&this._deleteMessagesContainer(),ug.clear()}_createMessageElement(e){const t=this._document.createElement("div");this._setMessageId(t),t.textContent=e,this._createMessagesContainer(),pg.appendChild(t),ug.set(e,{messageElement:t,referenceCount:0})}_setMessageId(e){e.id||(e.id="cdk-describedby-message-"+dg++)}_deleteMessageElement(e){const t=ug.get(e),n=t&&t.messageElement;pg&&n&&pg.removeChild(n),ug.delete(e)}_createMessagesContainer(){if(!pg){const e=!this._platform||!this._platform.EDGE&&!this._platform.TRIDENT,t=this._document.getElementById("cdk-describedby-message-container");t&&t.parentNode.removeChild(t),pg=this._document.createElement("div"),pg.id="cdk-describedby-message-container",pg.classList.add("cdk-visually-hidden"),pg.setAttribute("aria-hidden",e+""),this._document.body.appendChild(pg)}}_deleteMessagesContainer(){pg&&pg.parentNode&&(pg.parentNode.removeChild(pg),pg=null)}_removeCdkDescribedByReferenceIds(e){const t=hg(e,"aria-describedby").filter(e=>0!=e.indexOf("cdk-describedby-message"));e.setAttribute("aria-describedby",t.join(" "))}_addMessageReference(e,t){const n=ug.get(t);!function(e,t,n){const i=hg(e,t);i.some(e=>e.trim()==n.trim())||(i.push(n.trim()),e.setAttribute(t,i.join(" ")))}(e,"aria-describedby",n.messageElement.id),e.setAttribute("cdk-describedby-host",""),n.referenceCount++}_removeMessageReference(e,t){const n=ug.get(t);n.referenceCount--,function(e,t,n){const i=hg(e,t).filter(e=>e!=n.trim());i.length?e.setAttribute(t,i.join(" ")):e.removeAttribute(t)}(e,"aria-describedby",n.messageElement.id),e.removeAttribute("cdk-describedby-host")}_isElementDescribedByMessage(e,t){const n=hg(e,"aria-describedby"),i=ug.get(t),r=i&&i.messageElement.id;return!!r&&-1!=n.indexOf(r)}_canBeDescribed(e,t){if(!this._isElementNode(e))return!1;if(t&&"object"==typeof t)return!0;const n=null==t?"":(""+t).trim(),i=e.getAttribute("aria-label");return!(!n||i&&i.trim()===n)}_isElementNode(e){return e.nodeType===this._document.ELEMENT_NODE}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc),Ke(Tp))},e.\u0275prov=ce({factory:function(){return new e(Ke(Kc),Ke(Tp))},token:e,providedIn:"root"}),e})();class fg extends class{constructor(e){this._items=e,this._activeItemIndex=-1,this._activeItem=null,this._wrap=!1,this._letterKeyStream=new x,this._typeaheadSubscription=d.EMPTY,this._vertical=!0,this._allowedModifierKeys=[],this._homeAndEnd=!1,this._skipPredicateFn=e=>e.disabled,this._pressedLetters=[],this.tabOut=new x,this.change=new x,e instanceof Ml&&e.changes.subscribe(e=>{if(this._activeItem){const t=e.toArray().indexOf(this._activeItem);t>-1&&t!==this._activeItemIndex&&(this._activeItemIndex=t)}})}skipPredicate(e){return this._skipPredicateFn=e,this}withWrap(e=!0){return this._wrap=e,this}withVerticalOrientation(e=!0){return this._vertical=e,this}withHorizontalOrientation(e){return this._horizontal=e,this}withAllowedModifierKeys(e){return this._allowedModifierKeys=e,this}withTypeAhead(e=200){if(this._items.length&&this._items.some(e=>"function"!=typeof e.getLabel))throw Error("ListKeyManager items in typeahead mode must implement the `getLabel` method.");return this._typeaheadSubscription.unsubscribe(),this._typeaheadSubscription=this._letterKeyStream.pipe(Vp(e=>this._pressedLetters.push(e)),Kp(e),Ku(()=>this._pressedLetters.length>0),N(()=>this._pressedLetters.join(""))).subscribe(e=>{const t=this._getItemsArray();for(let n=1;n<t.length+1;n++){const i=(this._activeItemIndex+n)%t.length,r=t[i];if(!this._skipPredicateFn(r)&&0===r.getLabel().toUpperCase().trim().indexOf(e)){this.setActiveItem(i);break}}this._pressedLetters=[]}),this}withHomeAndEnd(){return this._homeAndEnd=!0,this}setActiveItem(e){const t=this._activeItem;this.updateActiveItem(e),this._activeItem!==t&&this.change.next(this._activeItemIndex)}onKeydown(e){const t=e.keyCode,n=["altKey","ctrlKey","metaKey","shiftKey"].every(t=>!e[t]||this._allowedModifierKeys.indexOf(t)>-1);switch(t){case 9:return void this.tabOut.next();case 40:if(this._vertical&&n){this.setNextItemActive();break}return;case 38:if(this._vertical&&n){this.setPreviousItemActive();break}return;case 39:if(this._horizontal&&n){"rtl"===this._horizontal?this.setPreviousItemActive():this.setNextItemActive();break}return;case 37:if(this._horizontal&&n){"rtl"===this._horizontal?this.setNextItemActive():this.setPreviousItemActive();break}return;case 36:if(this._homeAndEnd&&n){this.setFirstItemActive();break}return;case 35:if(this._homeAndEnd&&n){this.setLastItemActive();break}return;default:return void((n||Bp(e,"shiftKey"))&&(e.key&&1===e.key.length?this._letterKeyStream.next(e.key.toLocaleUpperCase()):(t>=65&&t<=90||t>=48&&t<=57)&&this._letterKeyStream.next(String.fromCharCode(t))))}this._pressedLetters=[],e.preventDefault()}get activeItemIndex(){return this._activeItemIndex}get activeItem(){return this._activeItem}isTyping(){return this._pressedLetters.length>0}setFirstItemActive(){this._setActiveItemByIndex(0,1)}setLastItemActive(){this._setActiveItemByIndex(this._items.length-1,-1)}setNextItemActive(){this._activeItemIndex<0?this.setFirstItemActive():this._setActiveItemByDelta(1)}setPreviousItemActive(){this._activeItemIndex<0&&this._wrap?this.setLastItemActive():this._setActiveItemByDelta(-1)}updateActiveItem(e){const t=this._getItemsArray(),n="number"==typeof e?e:t.indexOf(e),i=t[n];this._activeItem=null==i?null:i,this._activeItemIndex=n}_setActiveItemByDelta(e){this._wrap?this._setActiveInWrapMode(e):this._setActiveInDefaultMode(e)}_setActiveInWrapMode(e){const t=this._getItemsArray();for(let n=1;n<=t.length;n++){const i=(this._activeItemIndex+e*n+t.length)%t.length;if(!this._skipPredicateFn(t[i]))return void this.setActiveItem(i)}}_setActiveInDefaultMode(e){this._setActiveItemByIndex(this._activeItemIndex+e,e)}_setActiveItemByIndex(e,t){const n=this._getItemsArray();if(n[e]){for(;this._skipPredicateFn(n[e]);)if(!n[e+=t])return;this.setActiveItem(e)}}_getItemsArray(){return this._items instanceof Ml?this._items.toArray():this._items}}{constructor(){super(...arguments),this._origin="program"}setFocusOrigin(e){return this._origin=e,this}setActiveItem(e){super.setActiveItem(e),this.activeItem&&this.activeItem.focus(this._origin)}}let mg=(()=>{class e{constructor(e){this._platform=e}isDisabled(e){return e.hasAttribute("disabled")}isVisible(e){return function(e){return!!(e.offsetWidth||e.offsetHeight||"function"==typeof e.getClientRects&&e.getClientRects().length)}(e)&&"visible"===getComputedStyle(e).visibility}isTabbable(e){if(!this._platform.isBrowser)return!1;const t=function(e){try{return e.frameElement}catch(AM){return null}}((n=e).ownerDocument&&n.ownerDocument.defaultView||window);var n;if(t){if(-1===yg(t))return!1;if(!this.isVisible(t))return!1}let i=e.nodeName.toLowerCase(),r=yg(e);return e.hasAttribute("contenteditable")?-1!==r:"iframe"!==i&&"object"!==i&&!(this._platform.WEBKIT&&this._platform.IOS&&!function(e){let t=e.nodeName.toLowerCase(),n="input"===t&&e.type;return"text"===n||"password"===n||"select"===t||"textarea"===t}(e))&&("audio"===i?!!e.hasAttribute("controls")&&-1!==r:"video"===i?-1!==r&&(null!==r||this._platform.FIREFOX||e.hasAttribute("controls")):e.tabIndex>=0)}isFocusable(e,t){return function(e){return!function(e){return function(e){return"input"==e.nodeName.toLowerCase()}(e)&&"hidden"==e.type}(e)&&(function(e){let t=e.nodeName.toLowerCase();return"input"===t||"select"===t||"button"===t||"textarea"===t}(e)||function(e){return function(e){return"a"==e.nodeName.toLowerCase()}(e)&&e.hasAttribute("href")}(e)||e.hasAttribute("contenteditable")||vg(e))}(e)&&!this.isDisabled(e)&&((null==t?void 0:t.ignoreVisibility)||this.isVisible(e))}}return e.\u0275fac=function(t){return new(t||e)(Ke(Tp))},e.\u0275prov=ce({factory:function(){return new e(Ke(Tp))},token:e,providedIn:"root"}),e})();function vg(e){if(!e.hasAttribute("tabindex")||void 0===e.tabIndex)return!1;let t=e.getAttribute("tabindex");return"-32768"!=t&&!(!t||isNaN(parseInt(t,10)))}function yg(e){if(!vg(e))return null;const t=parseInt(e.getAttribute("tabindex")||"",10);return isNaN(t)?-1:t}class bg{constructor(e,t,n,i,r=!1){this._element=e,this._checker=t,this._ngZone=n,this._document=i,this._hasAttached=!1,this.startAnchorListener=()=>this.focusLastTabbableElement(),this.endAnchorListener=()=>this.focusFirstTabbableElement(),this._enabled=!0,r||this.attachAnchors()}get enabled(){return this._enabled}set enabled(e){this._enabled=e,this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}destroy(){const e=this._startAnchor,t=this._endAnchor;e&&(e.removeEventListener("focus",this.startAnchorListener),e.parentNode&&e.parentNode.removeChild(e)),t&&(t.removeEventListener("focus",this.endAnchorListener),t.parentNode&&t.parentNode.removeChild(t)),this._startAnchor=this._endAnchor=null,this._hasAttached=!1}attachAnchors(){return!!this._hasAttached||(this._ngZone.runOutsideAngular(()=>{this._startAnchor||(this._startAnchor=this._createAnchor(),this._startAnchor.addEventListener("focus",this.startAnchorListener)),this._endAnchor||(this._endAnchor=this._createAnchor(),this._endAnchor.addEventListener("focus",this.endAnchorListener))}),this._element.parentNode&&(this._element.parentNode.insertBefore(this._startAnchor,this._element),this._element.parentNode.insertBefore(this._endAnchor,this._element.nextSibling),this._hasAttached=!0),this._hasAttached)}focusInitialElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusInitialElement()))})}focusFirstTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusFirstTabbableElement()))})}focusLastTabbableElementWhenReady(){return new Promise(e=>{this._executeOnStable(()=>e(this.focusLastTabbableElement()))})}_getRegionBoundary(e){let t=this._element.querySelectorAll(`[cdk-focus-region-${e}], [cdkFocusRegion${e}], [cdk-focus-${e}]`);for(let n=0;n<t.length;n++)t[n].hasAttribute("cdk-focus-"+e)?console.warn(`Found use of deprecated attribute 'cdk-focus-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]):t[n].hasAttribute("cdk-focus-region-"+e)&&console.warn(`Found use of deprecated attribute 'cdk-focus-region-${e}', use 'cdkFocusRegion${e}' instead. The deprecated attribute will be removed in 8.0.0.`,t[n]);return"start"==e?t.length?t[0]:this._getFirstTabbableElement(this._element):t.length?t[t.length-1]:this._getLastTabbableElement(this._element)}focusInitialElement(){const e=this._element.querySelector("[cdk-focus-initial], [cdkFocusInitial]");return e?(e.hasAttribute("cdk-focus-initial")&&console.warn("Found use of deprecated attribute 'cdk-focus-initial', use 'cdkFocusInitial' instead. The deprecated attribute will be removed in 8.0.0",e),Ei()&&!this._checker.isFocusable(e)&&console.warn("Element matching '[cdkFocusInitial]' is not focusable.",e),e.focus(),!0):this.focusFirstTabbableElement()}focusFirstTabbableElement(){const e=this._getRegionBoundary("start");return e&&e.focus(),!!e}focusLastTabbableElement(){const e=this._getRegionBoundary("end");return e&&e.focus(),!!e}hasAttached(){return this._hasAttached}_getFirstTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=0;n<t.length;n++){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getFirstTabbableElement(t[n]):null;if(e)return e}return null}_getLastTabbableElement(e){if(this._checker.isFocusable(e)&&this._checker.isTabbable(e))return e;let t=e.children||e.childNodes;for(let n=t.length-1;n>=0;n--){let e=t[n].nodeType===this._document.ELEMENT_NODE?this._getLastTabbableElement(t[n]):null;if(e)return e}return null}_createAnchor(){const e=this._document.createElement("div");return this._toggleAnchorTabIndex(this._enabled,e),e.classList.add("cdk-visually-hidden"),e.classList.add("cdk-focus-trap-anchor"),e.setAttribute("aria-hidden","true"),e}_toggleAnchorTabIndex(e,t){e?t.setAttribute("tabindex","0"):t.removeAttribute("tabindex")}toggleAnchors(e){this._startAnchor&&this._endAnchor&&(this._toggleAnchorTabIndex(e,this._startAnchor),this._toggleAnchorTabIndex(e,this._endAnchor))}_executeOnStable(e){this._ngZone.isStable?e():this._ngZone.onStable.asObservable().pipe(eg(1)).subscribe(e)}}let Cg=(()=>{class e{constructor(e,t,n){this._checker=e,this._ngZone=t,this._document=n}create(e,t=!1){return new bg(e,this._checker,this._ngZone,this._document,t)}}return e.\u0275fac=function(t){return new(t||e)(Ke(mg),Ke(mc),Ke(Kc))},e.\u0275prov=ce({factory:function(){return new e(Ke(mg),Ke(mc),Ke(Kc))},token:e,providedIn:"root"}),e})();function wg(e){return 0===e.buttons}"undefined"!=typeof Element&&Element;const _g=new Be("cdk-focus-monitor-default-options"),xg=Dp({passive:!0,capture:!0});let Ig=(()=>{class e{constructor(e,t,n,i){this._ngZone=e,this._platform=t,this._origin=null,this._windowFocused=!1,this._elementInfo=new Map,this._monitoredElementCount=0,this._rootNodeFocusListenerCount=new Map,this._documentKeydownListener=()=>{this._lastTouchTarget=null,this._setOriginForCurrentEventQueue("keyboard")},this._documentMousedownListener=e=>{if(!this._lastTouchTarget){const t=wg(e)?"keyboard":"mouse";this._setOriginForCurrentEventQueue(t)}},this._documentTouchstartListener=e=>{null!=this._touchTimeoutId&&clearTimeout(this._touchTimeoutId),this._lastTouchTarget=Ag(e),this._touchTimeoutId=setTimeout(()=>this._lastTouchTarget=null,650)},this._windowFocusListener=()=>{this._windowFocused=!0,this._windowFocusTimeoutId=setTimeout(()=>this._windowFocused=!1)},this._rootNodeFocusAndBlurListener=e=>{const t=Ag(e),n="focus"===e.type?this._onFocus:this._onBlur;for(let i=t;i;i=i.parentElement)n.call(this,e,i)},this._document=n,this._detectionMode=(null==i?void 0:i.detectionMode)||0}monitor(e,t=!1){if(!this._platform.isBrowser)return Gu(null);const n=ag(e),i=Lp(n)||this._getDocument(),r=this._elementInfo.get(n);if(r)return t&&(r.checkChildren=!0),r.subject.asObservable();const o={checkChildren:t,subject:new x,rootNode:i};return this._elementInfo.set(n,o),this._registerGlobalListeners(o),o.subject.asObservable()}stopMonitoring(e){const t=ag(e),n=this._elementInfo.get(t);n&&(n.subject.complete(),this._setClasses(t),this._elementInfo.delete(t),this._removeGlobalListeners(n))}focusVia(e,t,n){const i=ag(e);this._setOriginForCurrentEventQueue(t),"function"==typeof i.focus&&i.focus(n)}ngOnDestroy(){this._elementInfo.forEach((e,t)=>this.stopMonitoring(t))}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_toggleClass(e,t,n){n?e.classList.add(t):e.classList.remove(t)}_getFocusOrigin(e){return this._origin?this._origin:this._windowFocused&&this._lastFocusOrigin?this._lastFocusOrigin:this._wasCausedByTouch(e)?"touch":"program"}_setClasses(e,t){this._toggleClass(e,"cdk-focused",!!t),this._toggleClass(e,"cdk-touch-focused","touch"===t),this._toggleClass(e,"cdk-keyboard-focused","keyboard"===t),this._toggleClass(e,"cdk-mouse-focused","mouse"===t),this._toggleClass(e,"cdk-program-focused","program"===t)}_setOriginForCurrentEventQueue(e){this._ngZone.runOutsideAngular(()=>{this._origin=e,0===this._detectionMode&&(this._originTimeoutId=setTimeout(()=>this._origin=null,1))})}_wasCausedByTouch(e){const t=Ag(e);return this._lastTouchTarget instanceof Node&&t instanceof Node&&(t===this._lastTouchTarget||t.contains(this._lastTouchTarget))}_onFocus(e,t){const n=this._elementInfo.get(t);if(!n||!n.checkChildren&&t!==Ag(e))return;const i=this._getFocusOrigin(e);this._setClasses(t,i),this._emitOrigin(n.subject,i),this._lastFocusOrigin=i}_onBlur(e,t){const n=this._elementInfo.get(t);!n||n.checkChildren&&e.relatedTarget instanceof Node&&t.contains(e.relatedTarget)||(this._setClasses(t),this._emitOrigin(n.subject,null))}_emitOrigin(e,t){this._ngZone.run(()=>e.next(t))}_registerGlobalListeners(e){if(!this._platform.isBrowser)return;const t=e.rootNode,n=this._rootNodeFocusListenerCount.get(t)||0;n||this._ngZone.runOutsideAngular(()=>{t.addEventListener("focus",this._rootNodeFocusAndBlurListener,xg),t.addEventListener("blur",this._rootNodeFocusAndBlurListener,xg)}),this._rootNodeFocusListenerCount.set(t,n+1),1==++this._monitoredElementCount&&this._ngZone.runOutsideAngular(()=>{const e=this._getDocument(),t=this._getWindow();e.addEventListener("keydown",this._documentKeydownListener,xg),e.addEventListener("mousedown",this._documentMousedownListener,xg),e.addEventListener("touchstart",this._documentTouchstartListener,xg),t.addEventListener("focus",this._windowFocusListener)})}_removeGlobalListeners(e){const t=e.rootNode;if(this._rootNodeFocusListenerCount.has(t)){const e=this._rootNodeFocusListenerCount.get(t);e>1?this._rootNodeFocusListenerCount.set(t,e-1):(t.removeEventListener("focus",this._rootNodeFocusAndBlurListener,xg),t.removeEventListener("blur",this._rootNodeFocusAndBlurListener,xg),this._rootNodeFocusListenerCount.delete(t))}if(!--this._monitoredElementCount){const e=this._getDocument(),t=this._getWindow();e.removeEventListener("keydown",this._documentKeydownListener,xg),e.removeEventListener("mousedown",this._documentMousedownListener,xg),e.removeEventListener("touchstart",this._documentTouchstartListener,xg),t.removeEventListener("focus",this._windowFocusListener),clearTimeout(this._windowFocusTimeoutId),clearTimeout(this._touchTimeoutId),clearTimeout(this._originTimeoutId)}}}return e.\u0275fac=function(t){return new(t||e)(Ke(mc),Ke(Tp),Ke(Kc,8),Ke(_g,8))},e.\u0275prov=ce({factory:function(){return new e(Ke(mc),Ke(Tp),Ke(Kc,8),Ke(_g,8))},token:e,providedIn:"root"}),e})();function Ag(e){return e.composedPath?e.composedPath()[0]:e.target}let kg=(()=>{class e{constructor(e,t){this._platform=e,this._document=t}getHighContrastMode(){if(!this._platform.isBrowser)return 0;const e=this._document.createElement("div");e.style.backgroundColor="rgb(1,2,3)",e.style.position="absolute",this._document.body.appendChild(e);const t=this._document.defaultView||window,n=t&&t.getComputedStyle?t.getComputedStyle(e):null,i=(n&&n.backgroundColor||"").replace(/ /g,"");switch(this._document.body.removeChild(e),i){case"rgb(0,0,0)":return 2;case"rgb(255,255,255)":return 1}return 0}_applyBodyHighContrastModeCssClasses(){if(this._platform.isBrowser&&this._document.body){const e=this._document.body.classList;e.remove("cdk-high-contrast-active"),e.remove("cdk-high-contrast-black-on-white"),e.remove("cdk-high-contrast-white-on-black");const t=this.getHighContrastMode();1===t?(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-black-on-white")):2===t&&(e.add("cdk-high-contrast-active"),e.add("cdk-high-contrast-white-on-black"))}}}return e.\u0275fac=function(t){return new(t||e)(Ke(Tp),Ke(Kc))},e.\u0275prov=ce({factory:function(){return new e(Ke(Tp),Ke(Kc))},token:e,providedIn:"root"}),e})(),Sg=(()=>{class e{constructor(e){e._applyBodyHighContrastModeCssClasses()}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(Ke(kg))},imports:[[Rp,cg]]}),e})(),Eg=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})();function Og(e,t,n,r){return i(n)&&(r=n,n=void 0),r?Og(e,t,n).pipe(N(e=>l(e)?r(...e):r(e))):new y(i=>{!function e(t,n,i,r,o){let s;if(function(e){return e&&"function"==typeof e.addEventListener&&"function"==typeof e.removeEventListener}(t)){const e=t;t.addEventListener(n,i,o),s=()=>e.removeEventListener(n,i,o)}else if(function(e){return e&&"function"==typeof e.on&&"function"==typeof e.off}(t)){const e=t;t.on(n,i),s=()=>e.off(n,i)}else if(function(e){return e&&"function"==typeof e.addListener&&"function"==typeof e.removeListener}(t)){const e=t;t.addListener(n,i),s=()=>e.removeListener(n,i)}else{if(!t||!t.length)throw new TypeError("Invalid event target");for(let s=0,a=t.length;s<a;s++)e(t[s],n,i,r,o)}r.add(s)}(e,t,(function(e){i.next(arguments.length>1?Array.prototype.slice.call(arguments):e)}),i,n)})}class Pg extends Wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=requestAnimationFrame(()=>e.flush(null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(cancelAnimationFrame(t),e.scheduled=void 0)}}class Mg extends Gp{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}const Tg=new Mg(Pg);let Rg=1;const Dg=(()=>Promise.resolve())(),Ng={};function Lg(e){return e in Ng&&(delete Ng[e],!0)}const Bg={setImmediate(e){const t=Rg++;return Ng[t]=!0,Dg.then(()=>Lg(t)&&e()),t},clearImmediate(e){Lg(e)}};class Fg extends Wp{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,n=0){return null!==n&&n>0?super.requestAsyncId(e,t,n):(e.actions.push(this),e.scheduled||(e.scheduled=Bg.setImmediate(e.flush.bind(e,null))))}recycleAsyncId(e,t,n=0){if(null!==n&&n>0||null===n&&this.delay>0)return super.recycleAsyncId(e,t,n);0===e.actions.length&&(Bg.clearImmediate(t),e.scheduled=void 0)}}class Vg extends Gp{flush(e){this.active=!0,this.scheduled=void 0;const{actions:t}=this;let n,i=-1,r=t.length;e=e||t.shift();do{if(n=e.execute(e.state,e.delay))break}while(++i<r&&(e=t.shift()));if(this.active=!1,n){for(;++i<r&&(e=t.shift());)e.unsubscribe();throw n}}}const $g=new Vg(Fg);function Hg(e){return!!e&&(e instanceof y||"function"==typeof e.lift&&"function"==typeof e.subscribe)}class jg{constructor(e,t){this.compare=e,this.keySelector=t}call(e,t){return t.subscribe(new Wg(e,this.compare,this.keySelector))}}class Wg extends g{constructor(e,t,n){super(e),this.keySelector=n,this.hasKey=!1,"function"==typeof t&&(this.compare=t)}compare(e,t){return e===t}_next(e){let t;try{const{keySelector:n}=this;t=n?n(e):e}catch(i){return this.destination.error(i)}let n=!1;if(this.hasKey)try{const{compare:e}=this;n=e(this.key,t)}catch(i){return this.destination.error(i)}else this.hasKey=!0;n||(this.key=t,this.destination.next(e))}}class zg{constructor(e){this.durationSelector=e}call(e,t){return t.subscribe(new Gg(e,this.durationSelector))}}class Gg extends D{constructor(e,t){super(e),this.durationSelector=t,this.hasValue=!1}_next(e){if(this.value=e,this.hasValue=!0,!this.throttled){let n;try{const{durationSelector:t}=this;n=t(e)}catch(t){return this.destination.error(t)}const i=R(this,n);!i||i.closed?this.clearThrottle():this.add(this.throttled=i)}}clearThrottle(){const{value:e,hasValue:t,throttled:n}=this;n&&(this.remove(n),this.throttled=null,n.unsubscribe()),t&&(this.value=null,this.hasValue=!1,this.destination.next(e))}notifyNext(e,t,n,i){this.clearThrottle()}notifyComplete(){this.clearThrottle()}}function Zg(e){return!l(e)&&e-parseFloat(e)+1>=0}function Kg(e){const{index:t,period:n,subscriber:i}=e;if(i.next(t),!i.closed){if(-1===n)return i.complete();e.index=t+1,this.schedule(e,n)}}function Xg(e,t=Zp){return n=()=>function(e=0,t,n){let i=-1;return Zg(t)?i=Number(t)<1?1:Number(t):A(t)&&(n=t),A(n)||(n=Zp),new y(t=>{const r=Zg(e)?e:+e-n.now();return n.schedule(Kg,r,{index:0,period:i,subscriber:t})})}(e,t),function(e){return e.lift(new zg(n))};var n}function Yg(e){return t=>t.lift(new Ug(e))}class Ug{constructor(e){this.notifier=e}call(e,t){const n=new Jg(e),i=R(n,this.notifier);return i&&!n.seenValue?(n.add(i),t.subscribe(n)):n}}class Jg extends D{constructor(e){super(e),this.seenValue=!1}notifyNext(e,t,n,i,r){this.seenValue=!0,this.complete()}notifyComplete(){}}function qg(){return W(1)}function Qg(...e){return qg()(Gu(...e))}function ef(...e){const t=e[e.length-1];return A(t)?(e.pop(),n=>Qg(e,n,t)):t=>Qg(e,t)}function tf(e,t){return"function"==typeof t?n=>n.pipe(tf((n,i)=>V(e(n,i)).pipe(N((e,r)=>t(n,e,i,r))))):t=>t.lift(new nf(e))}class nf{constructor(e){this.project=e}call(e,t){return t.subscribe(new rf(e,this.project))}}class rf extends D{constructor(e,t){super(e),this.project=t,this.index=0}_next(e){let t;const n=this.index++;try{t=this.project(e,n)}catch(i){return void this.destination.error(i)}this._innerSub(t,e,n)}_innerSub(e,t,n){const i=this.innerSubscription;i&&i.unsubscribe();const r=new k(this,t,n),o=this.destination;o.add(r),this.innerSubscription=R(this,e,void 0,void 0,r),this.innerSubscription!==r&&o.add(this.innerSubscription)}_complete(){const{innerSubscription:e}=this;e&&!e.closed||super._complete(),this.unsubscribe()}_unsubscribe(){this.innerSubscription=null}notifyComplete(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&super._complete()}notifyNext(e,t,n,i,r){this.destination.next(t)}}function of(e,t){return new y(t?n=>t.schedule(sf,0,{error:e,subscriber:n}):t=>t.error(e))}function sf({error:e,subscriber:t}){t.error(e)}let af=(()=>{class e{constructor(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}observe(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}}do(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}}accept(e,t,n){return e&&"function"==typeof e.next?this.observe(e):this.do(e,t,n)}toObservable(){switch(this.kind){case"N":return Gu(this.value);case"E":return of(this.error);case"C":return Qp()}throw new Error("unexpected notification kind value")}static createNext(t){return void 0!==t?new e("N",t):e.undefinedValueNotification}static createError(t){return new e("E",void 0,t)}static createComplete(){return e.completeNotification}}return e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e})();const lf=new Be("cdk-dir-doc",{providedIn:"root",factory:function(){return Xe(Kc)}});let cf=(()=>{class e{constructor(e){if(this.value="ltr",this.change=new Ol,e){const t=e.documentElement?e.documentElement.dir:null,n=(e.body?e.body.dir:null)||t;this.value="ltr"===n||"rtl"===n?n:"ltr"}}ngOnDestroy(){this.change.complete()}}return e.\u0275fac=function(t){return new(t||e)(Ke(lf,8))},e.\u0275prov=ce({factory:function(){return new e(Ke(lf,8))},token:e,providedIn:"root"}),e})(),hf=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})();function df(e){return e&&"function"==typeof e.connect}class uf{constructor(e=!1,t,n=!0){this._multiple=e,this._emitChanges=n,this._selection=new Set,this._deselectedToEmit=[],this._selectedToEmit=[],this.changed=new x,t&&t.length&&(e?t.forEach(e=>this._markSelected(e)):this._markSelected(t[0]),this._selectedToEmit.length=0)}get selected(){return this._selected||(this._selected=Array.from(this._selection.values())),this._selected}select(...e){this._verifyValueAssignment(e),e.forEach(e=>this._markSelected(e)),this._emitChangeEvent()}deselect(...e){this._verifyValueAssignment(e),e.forEach(e=>this._unmarkSelected(e)),this._emitChangeEvent()}toggle(e){this.isSelected(e)?this.deselect(e):this.select(e)}clear(){this._unmarkAll(),this._emitChangeEvent()}isSelected(e){return this._selection.has(e)}isEmpty(){return 0===this._selection.size}hasValue(){return!this.isEmpty()}sort(e){this._multiple&&this.selected&&this._selected.sort(e)}isMultipleSelection(){return this._multiple}_emitChangeEvent(){this._selected=null,(this._selectedToEmit.length||this._deselectedToEmit.length)&&(this.changed.next({source:this,added:this._selectedToEmit,removed:this._deselectedToEmit}),this._deselectedToEmit=[],this._selectedToEmit=[])}_markSelected(e){this.isSelected(e)||(this._multiple||this._unmarkAll(),this._selection.add(e),this._emitChanges&&this._selectedToEmit.push(e))}_unmarkSelected(e){this.isSelected(e)&&(this._selection.delete(e),this._emitChanges&&this._deselectedToEmit.push(e))}_unmarkAll(){this.isEmpty()||this._selection.forEach(e=>this._unmarkSelected(e))}_verifyValueAssignment(e){if(e.length>1&&!this._multiple)throw Error("Cannot pass multiple values into SelectionModel with single-value mode.")}}let pf=(()=>{class e{constructor(e,t,n){this._ngZone=e,this._platform=t,this._scrolled=new x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=n}register(e){this.scrollContainers.has(e)||this.scrollContainers.set(e,e.elementScrolled().subscribe(()=>this._scrolled.next(e)))}deregister(e){const t=this.scrollContainers.get(e);t&&(t.unsubscribe(),this.scrollContainers.delete(e))}scrolled(e=20){return this._platform.isBrowser?new y(t=>{this._globalSubscription||this._addGlobalListener();const n=e>0?this._scrolled.pipe(Xg(e)).subscribe(t):this._scrolled.subscribe(t);return this._scrolledCount++,()=>{n.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Gu()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((e,t)=>this.deregister(t)),this._scrolled.complete()}ancestorScrolled(e,t){const n=this.getAncestorScrollContainers(e);return this.scrolled(t).pipe(Ku(e=>!e||n.indexOf(e)>-1))}getAncestorScrollContainers(e){const t=[];return this.scrollContainers.forEach((n,i)=>{this._scrollableContainsElement(i,e)&&t.push(i)}),t}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_scrollableContainsElement(e,t){let n=t.nativeElement,i=e.getElementRef().nativeElement;do{if(n==i)return!0}while(n=n.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Og(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return e.\u0275fac=function(t){return new(t||e)(Ke(mc),Ke(Tp),Ke(Kc,8))},e.\u0275prov=ce({factory:function(){return new e(Ke(mc),Ke(Tp),Ke(Kc,8))},token:e,providedIn:"root"}),e})(),gf=(()=>{class e{constructor(e,t,n,i){this.elementRef=e,this.scrollDispatcher=t,this.ngZone=n,this.dir=i,this._destroyed=new x,this._elementScrolled=new y(e=>this.ngZone.runOutsideAngular(()=>Og(this.elementRef.nativeElement,"scroll").pipe(Yg(this._destroyed)).subscribe(e)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(e){const t=this.elementRef.nativeElement,n=this.dir&&"rtl"==this.dir.value;null==e.left&&(e.left=n?e.end:e.start),null==e.right&&(e.right=n?e.start:e.end),null!=e.bottom&&(e.top=t.scrollHeight-t.clientHeight-e.bottom),n&&0!=Np()?(null!=e.left&&(e.right=t.scrollWidth-t.clientWidth-e.left),2==Np()?e.left=e.right:1==Np()&&(e.left=e.right?-e.right:e.right)):null!=e.right&&(e.left=t.scrollWidth-t.clientWidth-e.right),this._applyScrollToOptions(e)}_applyScrollToOptions(e){const t=this.elementRef.nativeElement;"object"==typeof document&&"scrollBehavior"in document.documentElement.style?t.scrollTo(e):(null!=e.top&&(t.scrollTop=e.top),null!=e.left&&(t.scrollLeft=e.left))}measureScrollOffset(e){const t=this.elementRef.nativeElement;if("top"==e)return t.scrollTop;if("bottom"==e)return t.scrollHeight-t.clientHeight-t.scrollTop;const n=this.dir&&"rtl"==this.dir.value;return"start"==e?e=n?"right":"left":"end"==e&&(e=n?"left":"right"),n&&2==Np()?"left"==e?t.scrollWidth-t.clientWidth-t.scrollLeft:t.scrollLeft:n&&1==Np()?"left"==e?t.scrollLeft+t.scrollWidth-t.clientWidth:-t.scrollLeft:"left"==e?t.scrollLeft:t.scrollWidth-t.clientWidth-t.scrollLeft}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(pf),As(mc),As(cf,8))},e.\u0275dir=yt({type:e,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]]}),e})(),ff=(()=>{class e{constructor(e,t,n){this._platform=e,this._change=new x,this._changeListener=e=>{this._change.next(e)},this._document=n,t.runOutsideAngular(()=>{if(e.isBrowser){const e=this._getWindow();e.addEventListener("resize",this._changeListener),e.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._updateViewportSize())})}ngOnDestroy(){if(this._platform.isBrowser){const e=this._getWindow();e.removeEventListener("resize",this._changeListener),e.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const e={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),e}getViewportRect(){const e=this.getViewportScrollPosition(),{width:t,height:n}=this.getViewportSize();return{top:e.top,left:e.left,bottom:e.top+n,right:e.left+t,height:n,width:t}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const e=this._getDocument(),t=this._getWindow(),n=e.documentElement,i=n.getBoundingClientRect();return{top:-i.top||e.body.scrollTop||t.scrollY||n.scrollTop||0,left:-i.left||e.body.scrollLeft||t.scrollX||n.scrollLeft||0}}change(e=20){return e>0?this._change.pipe(Xg(e)):this._change}_getDocument(){return this._document||document}_getWindow(){return this._getDocument().defaultView||window}_updateViewportSize(){const e=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:e.innerWidth,height:e.innerHeight}:{width:0,height:0}}}return e.\u0275fac=function(t){return new(t||e)(Ke(Tp),Ke(mc),Ke(Kc,8))},e.\u0275prov=ce({factory:function(){return new e(Ke(Tp),Ke(mc),Ke(Kc,8))},token:e,providedIn:"root"}),e})(),mf=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),vf=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[hf,Rp,mf],hf,mf]}),e})();function yf(e=0,t=Zp){return(!Zg(e)||e<0)&&(e=0),t&&"function"==typeof t.schedule||(t=Zp),new y(n=>(n.add(t.schedule(bf,e,{subscriber:n,counter:0,period:e})),n))}function bf(e){const{subscriber:t,counter:n,period:i}=e;t.next(n),this.schedule({subscriber:t,counter:n+1,period:i},i)}function Cf(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function wf(e,t){const n=t?"":"none";Cf(e.style,{touchAction:t?"":"none",webkitUserDrag:t?"":"none",webkitTapHighlightColor:t?"":"transparent",userSelect:n,msUserSelect:n,webkitUserSelect:n,MozUserSelect:n})}function _f(e){const t=e.toLowerCase().indexOf("ms")>-1?1:1e3;return parseFloat(e)*t}function xf(e,t){return e.getPropertyValue(t).split(",").map(e=>e.trim())}function If(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}function Af(e,t,n){const{top:i,bottom:r,left:o,right:s}=e;return n>=i&&n<=r&&t>=o&&t<=s}function kf(e,t,n){e.top+=t,e.bottom=e.top+e.height,e.left+=n,e.right=e.left+e.width}function Sf(e,t,n,i){const{top:r,right:o,bottom:s,left:a,width:l,height:c}=e,h=l*t,d=c*t;return i>r-d&&i<s+d&&n>a-h&&n<o+h}class Ef{constructor(e,t){this._document=e,this._viewportRuler=t,this.positions=new Map}clear(){this.positions.clear()}cache(e){this.clear(),this.positions.set(this._document,{scrollPosition:this._viewportRuler.getViewportScrollPosition()}),e.forEach(e=>{this.positions.set(e,{scrollPosition:{top:e.scrollTop,left:e.scrollLeft},clientRect:If(e)})})}handleScroll(e){const t=e.target,n=this.positions.get(t);if(!n)return null;const i=t===this._document?t.documentElement:t,r=n.scrollPosition;let o,s;if(t===this._document){const e=this._viewportRuler.getViewportScrollPosition();o=e.top,s=e.left}else o=t.scrollTop,s=t.scrollLeft;const a=r.top-o,l=r.left-s;return this.positions.forEach((e,n)=>{e.clientRect&&t!==n&&i.contains(n)&&kf(e.clientRect,a,l)}),r.top=o,r.left=s,{top:a,left:l}}}function Of(e){const t=e.cloneNode(!0),n=t.querySelectorAll("[id]"),i=e.nodeName.toLowerCase();t.removeAttribute("id");for(let r=0;r<n.length;r++)n[r].removeAttribute("id");return"canvas"===i?Tf(e,t):"input"!==i&&"select"!==i&&"textarea"!==i||Mf(e,t),Pf("canvas",e,t,Tf),Pf("input, textarea, select",e,t,Mf),t}function Pf(e,t,n,i){const r=t.querySelectorAll(e);if(r.length){const t=n.querySelectorAll(e);for(let e=0;e<r.length;e++)i(r[e],t[e])}}function Mf(e,t){t.value=e.value}function Tf(e,t){const n=t.getContext("2d");if(n)try{n.drawImage(e,0,0)}catch(AM){}}const Rf=Dp({passive:!0}),Df=Dp({passive:!1});class Nf{constructor(e,t,n,i,r,o){this._config=t,this._document=n,this._ngZone=i,this._viewportRuler=r,this._dragDropRegistry=o,this._passiveTransform={x:0,y:0},this._activeTransform={x:0,y:0},this._moveEvents=new x,this._pointerMoveSubscription=d.EMPTY,this._pointerUpSubscription=d.EMPTY,this._scrollSubscription=d.EMPTY,this._resizeSubscription=d.EMPTY,this._boundaryElement=null,this._nativeInteractionsEnabled=!0,this._handles=[],this._disabledHandles=new Set,this._direction="ltr",this.dragStartDelay=0,this._disabled=!1,this.beforeStarted=new x,this.started=new x,this.released=new x,this.ended=new x,this.entered=new x,this.exited=new x,this.dropped=new x,this.moved=this._moveEvents.asObservable(),this._pointerDown=e=>{if(this.beforeStarted.next(),this._handles.length){const t=this._handles.find(t=>{const n=e.target;return!!n&&(n===t||t.contains(n))});!t||this._disabledHandles.has(t)||this.disabled||this._initializeDragSequence(t,e)}else this.disabled||this._initializeDragSequence(this._rootElement,e)},this._pointerMove=e=>{e.preventDefault();const t=this._getPointerPositionOnPage(e);if(!this._hasStartedDragging){if(Math.abs(t.x-this._pickupPositionOnPage.x)+Math.abs(t.y-this._pickupPositionOnPage.y)>=this._config.dragStartThreshold){if(!(Date.now()>=this._dragStartTime+this._getDragStartDelay(e)))return void this._endDragSequence(e);this._dropContainer&&this._dropContainer.isDragging()||(this._hasStartedDragging=!0,this._ngZone.run(()=>this._startDragSequence(e)))}return}this._boundaryElement&&(this._previewRect&&(this._previewRect.width||this._previewRect.height)||(this._previewRect=(this._preview||this._rootElement).getBoundingClientRect()));const n=this._getConstrainedPointerPosition(t);if(this._hasMoved=!0,this._lastKnownPointerPosition=t,this._updatePointerDirectionDelta(n),this._dropContainer)this._updateActiveDropContainer(n,t);else{const e=this._activeTransform;e.x=n.x-this._pickupPositionOnPage.x+this._passiveTransform.x,e.y=n.y-this._pickupPositionOnPage.y+this._passiveTransform.y,this._applyRootElementTransform(e.x,e.y),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&this._rootElement.setAttribute("transform",`translate(${e.x} ${e.y})`)}this._moveEvents.observers.length&&this._ngZone.run(()=>{this._moveEvents.next({source:this,pointerPosition:n,event:e,distance:this._getDragDistance(n),delta:this._pointerDirectionDelta})})},this._pointerUp=e=>{this._endDragSequence(e)},this.withRootElement(e),this._parentPositions=new Ef(n,r),o.registerDragItem(this)}get disabled(){return this._disabled||!(!this._dropContainer||!this._dropContainer.disabled)}set disabled(e){const t=ig(e);t!==this._disabled&&(this._disabled=t,this._toggleNativeDragInteractions())}getPlaceholderElement(){return this._placeholder}getRootElement(){return this._rootElement}getVisibleElement(){return this.isDragging()?this.getPlaceholderElement():this.getRootElement()}withHandles(e){return this._handles=e.map(e=>ag(e)),this._handles.forEach(e=>wf(e,!1)),this._toggleNativeDragInteractions(),this}withPreviewTemplate(e){return this._previewTemplate=e,this}withPlaceholderTemplate(e){return this._placeholderTemplate=e,this}withRootElement(e){const t=ag(e);return t!==this._rootElement&&(this._rootElement&&this._removeRootElementListeners(this._rootElement),this._ngZone.runOutsideAngular(()=>{t.addEventListener("mousedown",this._pointerDown,Df),t.addEventListener("touchstart",this._pointerDown,Rf)}),this._initialTransform=void 0,this._rootElement=t),"undefined"!=typeof SVGElement&&this._rootElement instanceof SVGElement&&(this._ownerSVGElement=this._rootElement.ownerSVGElement),this}withBoundaryElement(e){return this._boundaryElement=e?ag(e):null,this._resizeSubscription.unsubscribe(),e&&(this._resizeSubscription=this._viewportRuler.change(10).subscribe(()=>this._containInsideBoundaryOnResize())),this}dispose(){this._removeRootElementListeners(this._rootElement),this.isDragging()&&Ff(this._rootElement),Ff(this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._dragDropRegistry.removeDragItem(this),this._removeSubscriptions(),this.beforeStarted.complete(),this.started.complete(),this.released.complete(),this.ended.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this._moveEvents.complete(),this._handles=[],this._disabledHandles.clear(),this._dropContainer=void 0,this._resizeSubscription.unsubscribe(),this._parentPositions.clear(),this._boundaryElement=this._rootElement=this._ownerSVGElement=this._placeholderTemplate=this._previewTemplate=this._anchor=null}isDragging(){return this._hasStartedDragging&&this._dragDropRegistry.isDragging(this)}reset(){this._rootElement.style.transform=this._initialTransform||"",this._activeTransform={x:0,y:0},this._passiveTransform={x:0,y:0}}disableHandle(e){this._handles.indexOf(e)>-1&&this._disabledHandles.add(e)}enableHandle(e){this._disabledHandles.delete(e)}withDirection(e){return this._direction=e,this}_withDropContainer(e){this._dropContainer=e}getFreeDragPosition(){const e=this.isDragging()?this._activeTransform:this._passiveTransform;return{x:e.x,y:e.y}}setFreeDragPosition(e){return this._activeTransform={x:0,y:0},this._passiveTransform.x=e.x,this._passiveTransform.y=e.y,this._dropContainer||this._applyRootElementTransform(e.x,e.y),this}_sortFromLastPointerPosition(){const e=this._lastKnownPointerPosition;e&&this._dropContainer&&this._updateActiveDropContainer(this._getConstrainedPointerPosition(e),e)}_removeSubscriptions(){this._pointerMoveSubscription.unsubscribe(),this._pointerUpSubscription.unsubscribe(),this._scrollSubscription.unsubscribe()}_destroyPreview(){this._preview&&Ff(this._preview),this._previewRef&&this._previewRef.destroy(),this._preview=this._previewRef=null}_destroyPlaceholder(){this._placeholder&&Ff(this._placeholder),this._placeholderRef&&this._placeholderRef.destroy(),this._placeholder=this._placeholderRef=null}_endDragSequence(e){this._dragDropRegistry.isDragging(this)&&(this._removeSubscriptions(),this._dragDropRegistry.stopDragging(this),this._toggleNativeDragInteractions(),this._handles&&(this._rootElement.style.webkitTapHighlightColor=this._rootElementTapHighlight),this._hasStartedDragging&&(this.released.next({source:this}),this._dropContainer?(this._dropContainer._stopScrolling(),this._animatePreviewToPlaceholder().then(()=>{this._cleanupDragArtifacts(e),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this)})):(this._passiveTransform.x=this._activeTransform.x,this._passiveTransform.y=this._activeTransform.y,this._ngZone.run(()=>{this.ended.next({source:this,distance:this._getDragDistance(this._getPointerPositionOnPage(e))})}),this._cleanupCachedDimensions(),this._dragDropRegistry.stopDragging(this))))}_startDragSequence(e){Vf(e)&&(this._lastTouchEventTime=Date.now()),this._toggleNativeDragInteractions();const t=this._dropContainer;if(t){const e=this._rootElement,i=e.parentNode,r=this._preview=this._createPreviewElement(),o=this._placeholder=this._createPlaceholderElement(),s=this._anchor=this._anchor||this._document.createComment("");i.insertBefore(s,e),e.style.display="none",this._document.body.appendChild(i.replaceChild(o,e)),(n=this._document,n.fullscreenElement||n.webkitFullscreenElement||n.mozFullScreenElement||n.msFullscreenElement||n.body).appendChild(r),this.started.next({source:this}),t.start(),this._initialContainer=t,this._initialIndex=t.getItemIndex(this)}else this.started.next({source:this}),this._initialContainer=this._initialIndex=void 0;var n;this._parentPositions.cache(t?t.getScrollableParents():[])}_initializeDragSequence(e,t){t.stopPropagation();const n=this.isDragging(),i=Vf(t),r=!i&&0!==t.button,o=this._rootElement,s=!i&&this._lastTouchEventTime&&this._lastTouchEventTime+800>Date.now();if(t.target&&t.target.draggable&&"mousedown"===t.type&&t.preventDefault(),n||r||s)return;this._handles.length&&(this._rootElementTapHighlight=o.style.webkitTapHighlightColor||"",o.style.webkitTapHighlightColor="transparent"),this._hasStartedDragging=this._hasMoved=!1,this._removeSubscriptions(),this._pointerMoveSubscription=this._dragDropRegistry.pointerMove.subscribe(this._pointerMove),this._pointerUpSubscription=this._dragDropRegistry.pointerUp.subscribe(this._pointerUp),this._scrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{this._updateOnScroll(e)}),this._boundaryElement&&(this._boundaryRect=If(this._boundaryElement));const a=this._previewTemplate;this._pickupPositionInElement=a&&a.template&&!a.matchSize?{x:0,y:0}:this._getPointerPositionInElement(e,t);const l=this._pickupPositionOnPage=this._lastKnownPointerPosition=this._getPointerPositionOnPage(t);this._pointerDirectionDelta={x:0,y:0},this._pointerPositionAtLastDirectionChange={x:l.x,y:l.y},this._dragStartTime=Date.now(),this._dragDropRegistry.startDragging(this,t)}_cleanupDragArtifacts(e){this._rootElement.style.display="",this._anchor.parentNode.replaceChild(this._rootElement,this._anchor),this._destroyPreview(),this._destroyPlaceholder(),this._boundaryRect=this._previewRect=void 0,this._ngZone.run(()=>{const t=this._dropContainer,n=t.getItemIndex(this),i=this._getPointerPositionOnPage(e),r=this._getDragDistance(this._getPointerPositionOnPage(e)),o=t._isOverContainer(i.x,i.y);this.ended.next({source:this,distance:r}),this.dropped.next({item:this,currentIndex:n,previousIndex:this._initialIndex,container:t,previousContainer:this._initialContainer,isPointerOverContainer:o,distance:r}),t.drop(this,n,this._initialContainer,o,r,this._initialIndex),this._dropContainer=this._initialContainer})}_updateActiveDropContainer({x:e,y:t},{x:n,y:i}){let r=this._initialContainer._getSiblingContainerFromPosition(this,e,t);!r&&this._dropContainer!==this._initialContainer&&this._initialContainer._isOverContainer(e,t)&&(r=this._initialContainer),r&&r!==this._dropContainer&&this._ngZone.run(()=>{this.exited.next({item:this,container:this._dropContainer}),this._dropContainer.exit(this),this._dropContainer=r,this._dropContainer.enter(this,e,t,r===this._initialContainer&&r.sortingDisabled?this._initialIndex:void 0),this.entered.next({item:this,container:r,currentIndex:r.getItemIndex(this)})}),this._dropContainer._startScrollingIfNecessary(n,i),this._dropContainer._sortItem(this,e,t,this._pointerDirectionDelta),this._preview.style.transform=Lf(e-this._pickupPositionInElement.x,t-this._pickupPositionInElement.y)}_createPreviewElement(){const e=this._previewTemplate,t=this.previewClass,n=e?e.template:null;let i;if(n&&e){const t=e.matchSize?this._rootElement.getBoundingClientRect():null,r=e.viewContainer.createEmbeddedView(n,e.context);r.detectChanges(),i=$f(r,this._document),this._previewRef=r,e.matchSize?Hf(i,t):i.style.transform=Lf(this._pickupPositionOnPage.x,this._pickupPositionOnPage.y)}else{const e=this._rootElement;i=Of(e),Hf(i,e.getBoundingClientRect())}return Cf(i.style,{pointerEvents:"none",margin:"0",position:"fixed",top:"0",left:"0",zIndex:""+(this._config.zIndex||1e3)}),wf(i,!1),i.classList.add("cdk-drag-preview"),i.setAttribute("dir",this._direction),t&&(Array.isArray(t)?t.forEach(e=>i.classList.add(e)):i.classList.add(t)),i}_animatePreviewToPlaceholder(){if(!this._hasMoved)return Promise.resolve();const e=this._placeholder.getBoundingClientRect();this._preview.classList.add("cdk-drag-animating"),this._preview.style.transform=Lf(e.left,e.top);const t=function(e){const t=getComputedStyle(e),n=xf(t,"transition-property"),i=n.find(e=>"transform"===e||"all"===e);if(!i)return 0;const r=n.indexOf(i),o=xf(t,"transition-duration"),s=xf(t,"transition-delay");return _f(o[r])+_f(s[r])}(this._preview);return 0===t?Promise.resolve():this._ngZone.runOutsideAngular(()=>new Promise(e=>{const n=t=>{(!t||t.target===this._preview&&"transform"===t.propertyName)&&(this._preview.removeEventListener("transitionend",n),e(),clearTimeout(i))},i=setTimeout(n,1.5*t);this._preview.addEventListener("transitionend",n)}))}_createPlaceholderElement(){const e=this._placeholderTemplate,t=e?e.template:null;let n;return t?(this._placeholderRef=e.viewContainer.createEmbeddedView(t,e.context),this._placeholderRef.detectChanges(),n=$f(this._placeholderRef,this._document)):n=Of(this._rootElement),n.classList.add("cdk-drag-placeholder"),n}_getPointerPositionInElement(e,t){const n=this._rootElement.getBoundingClientRect(),i=e===this._rootElement?null:e,r=i?i.getBoundingClientRect():n,o=Vf(t)?t.targetTouches[0]:t,s=this._getViewportScrollPosition();return{x:r.left-n.left+(o.pageX-r.left-s.left),y:r.top-n.top+(o.pageY-r.top-s.top)}}_getPointerPositionOnPage(e){const t=this._getViewportScrollPosition(),n=Vf(e)?e.touches[0]||e.changedTouches[0]||{pageX:0,pageY:0}:e,i=n.pageX-t.left,r=n.pageY-t.top;if(this._ownerSVGElement){const e=this._ownerSVGElement.getScreenCTM();if(e){const t=this._ownerSVGElement.createSVGPoint();return t.x=i,t.y=r,t.matrixTransform(e.inverse())}}return{x:i,y:r}}_getConstrainedPointerPosition(e){const t=this._dropContainer?this._dropContainer.lockAxis:null;let{x:n,y:i}=this.constrainPosition?this.constrainPosition(e,this):e;if("x"===this.lockAxis||"x"===t?i=this._pickupPositionOnPage.y:"y"!==this.lockAxis&&"y"!==t||(n=this._pickupPositionOnPage.x),this._boundaryRect){const{x:e,y:t}=this._pickupPositionInElement,r=this._boundaryRect,o=this._previewRect,s=r.top+t,a=r.bottom-(o.height-t);n=Bf(n,r.left+e,r.right-(o.width-e)),i=Bf(i,s,a)}return{x:n,y:i}}_updatePointerDirectionDelta(e){const{x:t,y:n}=e,i=this._pointerDirectionDelta,r=this._pointerPositionAtLastDirectionChange,o=Math.abs(t-r.x),s=Math.abs(n-r.y);return o>this._config.pointerDirectionChangeThreshold&&(i.x=t>r.x?1:-1,r.x=t),s>this._config.pointerDirectionChangeThreshold&&(i.y=n>r.y?1:-1,r.y=n),i}_toggleNativeDragInteractions(){if(!this._rootElement||!this._handles)return;const e=this._handles.length>0||!this.isDragging();e!==this._nativeInteractionsEnabled&&(this._nativeInteractionsEnabled=e,wf(this._rootElement,e))}_removeRootElementListeners(e){e.removeEventListener("mousedown",this._pointerDown,Df),e.removeEventListener("touchstart",this._pointerDown,Rf)}_applyRootElementTransform(e,t){const n=Lf(e,t);null==this._initialTransform&&(this._initialTransform=this._rootElement.style.transform||""),this._rootElement.style.transform=this._initialTransform?n+" "+this._initialTransform:n}_getDragDistance(e){const t=this._pickupPositionOnPage;return t?{x:e.x-t.x,y:e.y-t.y}:{x:0,y:0}}_cleanupCachedDimensions(){this._boundaryRect=this._previewRect=void 0,this._parentPositions.clear()}_containInsideBoundaryOnResize(){let{x:e,y:t}=this._passiveTransform;if(0===e&&0===t||this.isDragging()||!this._boundaryElement)return;const n=this._boundaryElement.getBoundingClientRect(),i=this._rootElement.getBoundingClientRect();if(0===n.width&&0===n.height||0===i.width&&0===i.height)return;const r=n.left-i.left,o=i.right-n.right,s=n.top-i.top,a=i.bottom-n.bottom;n.width>i.width?(r>0&&(e+=r),o>0&&(e-=o)):e=0,n.height>i.height?(s>0&&(t+=s),a>0&&(t-=a)):t=0,e===this._passiveTransform.x&&t===this._passiveTransform.y||this.setFreeDragPosition({y:t,x:e})}_getDragStartDelay(e){const t=this.dragStartDelay;return"number"==typeof t?t:Vf(e)?t.touch:t?t.mouse:0}_updateOnScroll(e){const t=this._parentPositions.handleScroll(e);if(t){const n=e.target;this._boundaryRect&&(n===this._document||n!==this._boundaryElement&&n.contains(this._boundaryElement))&&kf(this._boundaryRect,t.top,t.left),this._pickupPositionOnPage.x+=t.left,this._pickupPositionOnPage.y+=t.top,this._dropContainer||(this._activeTransform.x-=t.left,this._activeTransform.y-=t.top,this._applyRootElementTransform(this._activeTransform.x,this._activeTransform.y))}}_getViewportScrollPosition(){const e=this._parentPositions.positions.get(this._document);return e?e.scrollPosition:this._viewportRuler.getViewportScrollPosition()}}function Lf(e,t){return`translate3d(${Math.round(e)}px, ${Math.round(t)}px, 0)`}function Bf(e,t,n){return Math.max(t,Math.min(n,e))}function Ff(e){e&&e.parentNode&&e.parentNode.removeChild(e)}function Vf(e){return"t"===e.type[0]}function $f(e,t){const n=e.rootNodes;if(1===n.length&&n[0].nodeType===t.ELEMENT_NODE)return n[0];const i=t.createElement("div");return n.forEach(e=>i.appendChild(e)),i}function Hf(e,t){e.style.width=t.width+"px",e.style.height=t.height+"px",e.style.transform=Lf(t.left,t.top)}function jf(e,t){return Math.max(0,Math.min(t,e))}class Wf{constructor(e,t,n,i,r){this._dragDropRegistry=t,this._ngZone=i,this._viewportRuler=r,this.disabled=!1,this.sortingDisabled=!1,this.autoScrollDisabled=!1,this.enterPredicate=()=>!0,this.beforeStarted=new x,this.entered=new x,this.exited=new x,this.dropped=new x,this.sorted=new x,this._isDragging=!1,this._itemPositions=[],this._previousSwap={drag:null,delta:0,overlaps:!1},this._siblings=[],this._orientation="vertical",this._activeSiblings=new Set,this._direction="ltr",this._viewportScrollSubscription=d.EMPTY,this._verticalScrollDirection=0,this._horizontalScrollDirection=0,this._stopScrollTimers=new x,this._cachedShadowRoot=null,this._startScrollInterval=()=>{this._stopScrolling(),yf(0,Tg).pipe(Yg(this._stopScrollTimers)).subscribe(()=>{const e=this._scrollNode;1===this._verticalScrollDirection?Gf(e,-2):2===this._verticalScrollDirection&&Gf(e,2),1===this._horizontalScrollDirection?Zf(e,-2):2===this._horizontalScrollDirection&&Zf(e,2)})},this.element=ag(e),this._document=n,this.withScrollableParents([this.element]),t.registerDropContainer(this),this._parentPositions=new Ef(n,r)}dispose(){this._stopScrolling(),this._stopScrollTimers.complete(),this._viewportScrollSubscription.unsubscribe(),this.beforeStarted.complete(),this.entered.complete(),this.exited.complete(),this.dropped.complete(),this.sorted.complete(),this._activeSiblings.clear(),this._scrollNode=null,this._parentPositions.clear(),this._dragDropRegistry.removeDropContainer(this)}isDragging(){return this._isDragging}start(){const e=ag(this.element).style;this.beforeStarted.next(),this._isDragging=!0,this._initialScrollSnap=e.msScrollSnapType||e.scrollSnapType||"",e.scrollSnapType=e.msScrollSnapType="none",this._cacheItems(),this._siblings.forEach(e=>e._startReceiving(this)),this._viewportScrollSubscription.unsubscribe(),this._listenToScrollEvents()}enter(e,t,n,i){let r;this.start(),null==i?(r=this.sortingDisabled?this._draggables.indexOf(e):-1,-1===r&&(r=this._getItemIndexFromPointerPosition(e,t,n))):r=i;const o=this._activeDraggables,s=o.indexOf(e),a=e.getPlaceholderElement();let l=o[r];if(l===e&&(l=o[r+1]),s>-1&&o.splice(s,1),l&&!this._dragDropRegistry.isDragging(l)){const t=l.getRootElement();t.parentElement.insertBefore(a,t),o.splice(r,0,e)}else if(this._shouldEnterAsFirstChild(t,n)){const t=o[0].getRootElement();t.parentNode.insertBefore(a,t),o.unshift(e)}else ag(this.element).appendChild(a),o.push(e);a.style.transform="",this._cacheItemPositions(),this._cacheParentPositions(),this.entered.next({item:e,container:this,currentIndex:this.getItemIndex(e)})}exit(e){this._reset(),this.exited.next({item:e,container:this})}drop(e,t,n,i,r,o){this._reset(),null==o&&(o=n.getItemIndex(e)),this.dropped.next({item:e,currentIndex:t,previousIndex:o,container:this,previousContainer:n,isPointerOverContainer:i,distance:r})}withItems(e){const t=this._draggables;return this._draggables=e,e.forEach(e=>e._withDropContainer(this)),this.isDragging()&&(t.filter(e=>e.isDragging()).every(t=>-1===e.indexOf(t))?this._reset():this._cacheItems()),this}withDirection(e){return this._direction=e,this}connectedTo(e){return this._siblings=e.slice(),this}withOrientation(e){return this._orientation=e,this}withScrollableParents(e){const t=ag(this.element);return this._scrollableElements=-1===e.indexOf(t)?[t,...e]:e.slice(),this}getScrollableParents(){return this._scrollableElements}getItemIndex(e){return this._isDragging?zf("horizontal"===this._orientation&&"rtl"===this._direction?this._itemPositions.slice().reverse():this._itemPositions,t=>t.drag===e):this._draggables.indexOf(e)}isReceiving(){return this._activeSiblings.size>0}_sortItem(e,t,n,i){if(this.sortingDisabled||!Sf(this._clientRect,.05,t,n))return;const r=this._itemPositions,o=this._getItemIndexFromPointerPosition(e,t,n,i);if(-1===o&&r.length>0)return;const s="horizontal"===this._orientation,a=zf(r,t=>t.drag===e),l=r[o],c=l.clientRect,h=a>o?1:-1,d=this._getItemOffsetPx(r[a].clientRect,c,h),u=this._getSiblingOffsetPx(a,r,h),p=r.slice();!function(e,t,n){const i=jf(t,e.length-1),r=jf(n,e.length-1);if(i===r)return;const o=e[i],s=r<i?-1:1;for(let a=i;a!==r;a+=s)e[a]=e[a+s];e[r]=o}(r,a,o),this.sorted.next({previousIndex:a,currentIndex:o,container:this,item:e}),r.forEach((t,n)=>{if(p[n]===t)return;const i=t.drag===e,r=i?d:u,o=i?e.getPlaceholderElement():t.drag.getRootElement();t.offset+=r,s?(o.style.transform=`translate3d(${Math.round(t.offset)}px, 0, 0)`,kf(t.clientRect,0,r)):(o.style.transform=`translate3d(0, ${Math.round(t.offset)}px, 0)`,kf(t.clientRect,r,0))}),this._previousSwap.overlaps=Af(c,t,n),this._previousSwap.drag=l.drag,this._previousSwap.delta=s?i.x:i.y}_startScrollingIfNecessary(e,t){if(this.autoScrollDisabled)return;let n,i=0,r=0;if(this._parentPositions.positions.forEach((o,s)=>{s!==this._document&&o.clientRect&&!n&&Sf(o.clientRect,.05,e,t)&&([i,r]=function(e,t,n,i){const r=Kf(t,i),o=Xf(t,n);let s=0,a=0;if(r){const t=e.scrollTop;1===r?t>0&&(s=1):e.scrollHeight-t>e.clientHeight&&(s=2)}if(o){const t=e.scrollLeft;1===o?t>0&&(a=1):e.scrollWidth-t>e.clientWidth&&(a=2)}return[s,a]}(s,o.clientRect,e,t),(i||r)&&(n=s))}),!i&&!r){const{width:o,height:s}=this._viewportRuler.getViewportSize(),a={width:o,height:s,top:0,right:o,bottom:s,left:0};i=Kf(a,t),r=Xf(a,e),n=window}!n||i===this._verticalScrollDirection&&r===this._horizontalScrollDirection&&n===this._scrollNode||(this._verticalScrollDirection=i,this._horizontalScrollDirection=r,this._scrollNode=n,(i||r)&&n?this._ngZone.runOutsideAngular(this._startScrollInterval):this._stopScrolling())}_stopScrolling(){this._stopScrollTimers.next()}_cacheParentPositions(){const e=ag(this.element);this._parentPositions.cache(this._scrollableElements),this._clientRect=this._parentPositions.positions.get(e).clientRect}_cacheItemPositions(){const e="horizontal"===this._orientation;this._itemPositions=this._activeDraggables.map(e=>{const t=e.getVisibleElement();return{drag:e,offset:0,clientRect:If(t)}}).sort((t,n)=>e?t.clientRect.left-n.clientRect.left:t.clientRect.top-n.clientRect.top)}_reset(){this._isDragging=!1;const e=ag(this.element).style;e.scrollSnapType=e.msScrollSnapType=this._initialScrollSnap,this._activeDraggables.forEach(e=>{const t=e.getRootElement();t&&(t.style.transform="")}),this._siblings.forEach(e=>e._stopReceiving(this)),this._activeDraggables=[],this._itemPositions=[],this._previousSwap.drag=null,this._previousSwap.delta=0,this._previousSwap.overlaps=!1,this._stopScrolling(),this._viewportScrollSubscription.unsubscribe(),this._parentPositions.clear()}_getSiblingOffsetPx(e,t,n){const i="horizontal"===this._orientation,r=t[e].clientRect,o=t[e+-1*n];let s=r[i?"width":"height"]*n;if(o){const e=i?"left":"top",t=i?"right":"bottom";-1===n?s-=o.clientRect[e]-r[t]:s+=r[e]-o.clientRect[t]}return s}_getItemOffsetPx(e,t,n){const i="horizontal"===this._orientation;let r=i?t.left-e.left:t.top-e.top;return-1===n&&(r+=i?t.width-e.width:t.height-e.height),r}_shouldEnterAsFirstChild(e,t){if(!this._activeDraggables.length)return!1;const n=this._itemPositions,i="horizontal"===this._orientation;if(n[0].drag!==this._activeDraggables[0]){const r=n[n.length-1].clientRect;return i?e>=r.right:t>=r.bottom}{const r=n[0].clientRect;return i?e<=r.left:t<=r.top}}_getItemIndexFromPointerPosition(e,t,n,i){const r="horizontal"===this._orientation;return zf(this._itemPositions,({drag:o,clientRect:s},a,l)=>{if(o===e)return l.length<2;if(i){const e=r?i.x:i.y;if(o===this._previousSwap.drag&&this._previousSwap.overlaps&&e===this._previousSwap.delta)return!1}return r?t>=Math.floor(s.left)&&t<Math.floor(s.right):n>=Math.floor(s.top)&&n<Math.floor(s.bottom)})}_cacheItems(){this._activeDraggables=this._draggables.slice(),this._cacheItemPositions(),this._cacheParentPositions()}_isOverContainer(e,t){return Af(this._clientRect,e,t)}_getSiblingContainerFromPosition(e,t,n){return this._siblings.find(i=>i._canReceive(e,t,n))}_canReceive(e,t,n){if(!Af(this._clientRect,t,n)||!this.enterPredicate(e,this))return!1;const i=this._getShadowRoot().elementFromPoint(t,n);if(!i)return!1;const r=ag(this.element);return i===r||r.contains(i)}_startReceiving(e){const t=this._activeSiblings;t.has(e)||(t.add(e),this._cacheParentPositions(),this._listenToScrollEvents())}_stopReceiving(e){this._activeSiblings.delete(e),this._viewportScrollSubscription.unsubscribe()}_listenToScrollEvents(){this._viewportScrollSubscription=this._dragDropRegistry.scroll.subscribe(e=>{if(this.isDragging()){const t=this._parentPositions.handleScroll(e);t&&(this._itemPositions.forEach(({clientRect:e})=>{kf(e,t.top,t.left)}),this._itemPositions.forEach(({drag:e})=>{this._dragDropRegistry.isDragging(e)&&e._sortFromLastPointerPosition()}))}else this.isReceiving()&&this._cacheParentPositions()})}_getShadowRoot(){if(!this._cachedShadowRoot){const e=Lp(ag(this.element));this._cachedShadowRoot=e||this._document}return this._cachedShadowRoot}}function zf(e,t){for(let n=0;n<e.length;n++)if(t(e[n],n,e))return n;return-1}function Gf(e,t){e===window?e.scrollBy(0,t):e.scrollTop+=t}function Zf(e,t){e===window?e.scrollBy(t,0):e.scrollLeft+=t}function Kf(e,t){const{top:n,bottom:i,height:r}=e,o=.05*r;return t>=n-o&&t<=n+o?1:t>=i-o&&t<=i+o?2:0}function Xf(e,t){const{left:n,right:i,width:r}=e,o=.05*r;return t>=n-o&&t<=n+o?1:t>=i-o&&t<=i+o?2:0}const Yf=Dp({passive:!1,capture:!0});let Uf=(()=>{class e{constructor(e,t){this._ngZone=e,this._dropInstances=new Set,this._dragInstances=new Set,this._activeDragInstances=new Set,this._globalListeners=new Map,this.pointerMove=new x,this.pointerUp=new x,this.scroll=new x,this._preventDefaultWhileDragging=e=>{this._activeDragInstances.size&&e.preventDefault()},this._document=t}registerDropContainer(e){this._dropInstances.has(e)||this._dropInstances.add(e)}registerDragItem(e){this._dragInstances.add(e),1===this._dragInstances.size&&this._ngZone.runOutsideAngular(()=>{this._document.addEventListener("touchmove",this._preventDefaultWhileDragging,Yf)})}removeDropContainer(e){this._dropInstances.delete(e)}removeDragItem(e){this._dragInstances.delete(e),this.stopDragging(e),0===this._dragInstances.size&&this._document.removeEventListener("touchmove",this._preventDefaultWhileDragging,Yf)}startDragging(e,t){if(!this._activeDragInstances.has(e)&&(this._activeDragInstances.add(e),1===this._activeDragInstances.size)){const e=t.type.startsWith("touch"),n=e?"touchend":"mouseup";this._globalListeners.set(e?"touchmove":"mousemove",{handler:e=>this.pointerMove.next(e),options:Yf}).set(n,{handler:e=>this.pointerUp.next(e),options:!0}).set("scroll",{handler:e=>this.scroll.next(e),options:!0}).set("selectstart",{handler:this._preventDefaultWhileDragging,options:Yf}),this._ngZone.runOutsideAngular(()=>{this._globalListeners.forEach((e,t)=>{this._document.addEventListener(t,e.handler,e.options)})})}}stopDragging(e){this._activeDragInstances.delete(e),0===this._activeDragInstances.size&&this._clearGlobalListeners()}isDragging(e){return this._activeDragInstances.has(e)}ngOnDestroy(){this._dragInstances.forEach(e=>this.removeDragItem(e)),this._dropInstances.forEach(e=>this.removeDropContainer(e)),this._clearGlobalListeners(),this.pointerMove.complete(),this.pointerUp.complete()}_clearGlobalListeners(){this._globalListeners.forEach((e,t)=>{this._document.removeEventListener(t,e.handler,e.options)}),this._globalListeners.clear()}}return e.\u0275fac=function(t){return new(t||e)(Ke(mc),Ke(Kc))},e.\u0275prov=ce({factory:function(){return new e(Ke(mc),Ke(Kc))},token:e,providedIn:"root"}),e})();const Jf={dragStartThreshold:5,pointerDirectionChangeThreshold:5};let qf=(()=>{class e{constructor(e,t,n,i){this._document=e,this._ngZone=t,this._viewportRuler=n,this._dragDropRegistry=i}createDrag(e,t=Jf){return new Nf(e,t,this._document,this._ngZone,this._viewportRuler,this._dragDropRegistry)}createDropList(e){return new Wf(e,this._dragDropRegistry,this._document,this._ngZone,this._viewportRuler)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc),Ke(mc),Ke(ff),Ke(Uf))},e.\u0275prov=ce({factory:function(){return new e(Ke(Kc),Ke(mc),Ke(ff),Ke(Uf))},token:e,providedIn:"root"}),e})(),Qf=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[qf],imports:[mf]}),e})();function em(){throw Error("Host already has a portal attached")}class tm{attach(e){return null==e&&function(){throw Error("Attempting to attach a portal to a null PortalOutlet")}(),e.hasAttached()&&em(),this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null==e?function(){throw Error("Attempting to detach a portal that is not attached to a host")}():(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class nm extends tm{constructor(e,t,n,i){super(),this.component=e,this.viewContainerRef=t,this.injector=n,this.componentFactoryResolver=i}}class im extends tm{constructor(e,t,n){super(),this.templateRef=e,this.viewContainerRef=t,this.context=n}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class rm extends tm{constructor(e){super(),this.element=e instanceof Ba?e.nativeElement:e}}class om{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e||function(){throw Error("Must provide a portal to attach")}(),this.hasAttached()&&em(),this._isDisposed&&function(){throw Error("This PortalOutlet has already been disposed")}(),e instanceof nm?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof im?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof rm?(this._attachedPortal=e,this.attachDomPortal(e)):void function(){throw Error("Attempting to attach an unknown Portal type. BasePortalOutlet accepts either a ComponentPortal or a TemplatePortal.")}()}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class sm extends om{constructor(e,t,n,i,r){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=n,this._defaultInjector=i,this.attachDomPortal=e=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");t.parentNode.insertBefore(n,t),this.outletElement.appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=r}attachComponentPortal(e){const t=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let n;return e.viewContainerRef?(n=e.viewContainerRef.createComponent(t,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector),this.setDisposeFn(()=>n.destroy())):(n=t.create(e.injector||this._defaultInjector),this._appRef.attachView(n.hostView),this.setDisposeFn(()=>{this._appRef.detachView(n.hostView),n.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(n)),n}attachTemplatePortal(e){let t=e.viewContainerRef,n=t.createEmbeddedView(e.templateRef,e.context);return n.rootNodes.forEach(e=>this.outletElement.appendChild(e)),n.detectChanges(),this.setDisposeFn(()=>{let e=t.indexOf(n);-1!==e&&t.remove(e)}),n}dispose(){super.dispose(),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let am=(()=>{class e extends om{constructor(e,t,n){super(),this._componentFactoryResolver=e,this._viewContainerRef=t,this._isInitialized=!1,this.attached=new Ol,this.attachDomPortal=e=>{if(!this._document)throw Error("Cannot attach DOM portal without _document constructor parameter");const t=e.element;if(!t.parentNode)throw Error("DOM portal content must be attached to a parent node.");const n=this._document.createComment("dom-portal");e.setAttachedHost(this),t.parentNode.insertBefore(n,t),this._getRootNode().appendChild(t),super.setDisposeFn(()=>{n.parentNode&&n.parentNode.replaceChild(t,n)})},this._document=n}get portal(){return this._attachedPortal}set portal(e){(!this.hasAttached()||e||this._isInitialized)&&(this.hasAttached()&&super.detach(),e&&super.attach(e),this._attachedPortal=e)}get attachedRef(){return this._attachedRef}ngOnInit(){this._isInitialized=!0}ngOnDestroy(){super.dispose(),this._attachedPortal=null,this._attachedRef=null}attachComponentPortal(e){e.setAttachedHost(this);const t=null!=e.viewContainerRef?e.viewContainerRef:this._viewContainerRef,n=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component),i=t.createComponent(n,t.length,e.injector||t.injector);return t!==this._viewContainerRef&&this._getRootNode().appendChild(i.hostView.rootNodes[0]),super.setDisposeFn(()=>i.destroy()),this._attachedPortal=e,this._attachedRef=i,this.attached.emit(i),i}attachTemplatePortal(e){e.setAttachedHost(this);const t=this._viewContainerRef.createEmbeddedView(e.templateRef,e.context);return super.setDisposeFn(()=>this._viewContainerRef.clear()),this._attachedPortal=e,this._attachedRef=t,this.attached.emit(t),t}_getRootNode(){const e=this._viewContainerRef.element.nativeElement;return e.nodeType===e.ELEMENT_NODE?e:e.parentNode}}return e.\u0275fac=function(t){return new(t||e)(As(La),As(cl),As(Kc))},e.\u0275dir=yt({type:e,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[wa]}),e})(),lm=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),cm=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[hf]]}),e})();class hm extends x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return t&&!t.closed&&e.next(this._value),t}getValue(){if(this.hasError)throw this.thrownError;if(this.closed)throw new C;return this._value}next(e){super.next(this._value=e)}}const dm=[[["caption"]],[["colgroup"],["col"]]],um=["caption","colgroup, col"];function pm(e){return class extends e{constructor(...e){super(...e),this._sticky=!1,this._hasStickyChanged=!1}get sticky(){return this._sticky}set sticky(e){const t=this._sticky;this._sticky=ig(e),this._hasStickyChanged=t!==this._sticky}hasStickyChanged(){const e=this._hasStickyChanged;return this._hasStickyChanged=!1,e}resetStickyChanged(){this._hasStickyChanged=!1}}}const gm=new Be("CDK_TABLE");let fm=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(As(al))},e.\u0275dir=yt({type:e,selectors:[["","cdkCellDef",""]]}),e})(),mm=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(As(al))},e.\u0275dir=yt({type:e,selectors:[["","cdkHeaderCellDef",""]]}),e})(),vm=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(As(al))},e.\u0275dir=yt({type:e,selectors:[["","cdkFooterCellDef",""]]}),e})();class ym{}const bm=pm(ym);let Cm=(()=>{class e extends bm{constructor(e){super(),this._table=e,this._stickyEnd=!1}get name(){return this._name}set name(e){e&&(this._name=e,this.cssClassFriendlyName=e.replace(/[^a-z0-9_-]/gi,"-"),this._updateColumnCssClassName())}get stickyEnd(){return this._stickyEnd}set stickyEnd(e){const t=this._stickyEnd;this._stickyEnd=ig(e),this._hasStickyChanged=t!==this._stickyEnd}_updateColumnCssClassName(){this._columnCssClassName=["cdk-column-"+this.cssClassFriendlyName]}}return e.\u0275fac=function(t){return new(t||e)(As(gm,8))},e.\u0275dir=yt({type:e,selectors:[["","cdkColumnDef",""]],contentQueries:function(e,t,n){var i;1&e&&(zl(n,fm,!0),zl(n,mm,!0),zl(n,vm,!0)),2&e&&($l(i=Gl())&&(t.cell=i.first),$l(i=Gl())&&(t.headerCell=i.first),$l(i=Gl())&&(t.footerCell=i.first))},inputs:{sticky:"sticky",name:["cdkColumnDef","name"],stickyEnd:"stickyEnd"},features:[Ra([{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),wa]}),e})();class wm{constructor(e,t){const n=t.nativeElement.classList;for(const i of e._columnCssClassName)n.add(i)}}let _m=(()=>{class e extends wm{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(As(Cm),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["cdk-header-cell"],["th","cdk-header-cell",""]],hostAttrs:["role","columnheader",1,"cdk-header-cell"],features:[wa]}),e})(),xm=(()=>{class e extends wm{constructor(e,t){super(e,t)}}return e.\u0275fac=function(t){return new(t||e)(As(Cm),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["cdk-cell"],["td","cdk-cell",""]],hostAttrs:["role","gridcell",1,"cdk-cell"],features:[wa]}),e})();class Im{constructor(){this.tasks=[],this.endTasks=[]}}let Am=(()=>{class e{constructor(e){this._ngZone=e,this._currentSchedule=null,this._destroyed=new x}schedule(e){this._createScheduleIfNeeded(),this._currentSchedule.tasks.push(e)}scheduleEnd(e){this._createScheduleIfNeeded(),this._currentSchedule.endTasks.push(e)}ngOnDestroy(){this._destroyed.next(),this._destroyed.complete()}_createScheduleIfNeeded(){this._currentSchedule||(this._currentSchedule=new Im,this._getScheduleObservable().pipe(Yg(this._destroyed)).subscribe(()=>{for(;this._currentSchedule.tasks.length||this._currentSchedule.endTasks.length;){const e=this._currentSchedule;this._currentSchedule=new Im;for(const t of e.tasks)t();for(const t of e.endTasks)t()}this._currentSchedule=null}))}_getScheduleObservable(){return this._ngZone.isStable?V(Promise.resolve(void 0)):this._ngZone.onStable.pipe(eg(1))}}return e.\u0275fac=function(t){return new(t||e)(Ke(mc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),km=(()=>{class e{constructor(e,t){this.template=e,this._differs=t}ngOnChanges(e){if(!this._columnsDiffer){const t=e.columns&&e.columns.currentValue||[];this._columnsDiffer=this._differs.find(t).create(),this._columnsDiffer.diff(t)}}getColumnsDiff(){return this._columnsDiffer.diff(this.columns)}extractCellTemplate(e){return this instanceof Om?e.headerCell.template:this instanceof Tm?e.footerCell.template:e.cell.template}}return e.\u0275fac=function(t){return new(t||e)(As(al),As(nl))},e.\u0275dir=yt({type:e,features:[Mt]}),e})();class Sm extends km{}const Em=pm(Sm);let Om=(()=>{class e extends Em{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(As(al),As(nl),As(gm,8))},e.\u0275dir=yt({type:e,selectors:[["","cdkHeaderRowDef",""]],inputs:{columns:["cdkHeaderRowDef","columns"],sticky:["cdkHeaderRowDefSticky","sticky"]},features:[wa,Mt]}),e})();class Pm extends km{}const Mm=pm(Pm);let Tm=(()=>{class e extends Mm{constructor(e,t,n){super(e,t),this._table=n}ngOnChanges(e){super.ngOnChanges(e)}}return e.\u0275fac=function(t){return new(t||e)(As(al),As(nl),As(gm,8))},e.\u0275dir=yt({type:e,selectors:[["","cdkFooterRowDef",""]],inputs:{columns:["cdkFooterRowDef","columns"],sticky:["cdkFooterRowDefSticky","sticky"]},features:[wa,Mt]}),e})(),Rm=(()=>{class e extends km{constructor(e,t,n){super(e,t),this._table=n}}return e.\u0275fac=function(t){return new(t||e)(As(al),As(nl),As(gm,8))},e.\u0275dir=yt({type:e,selectors:[["","cdkRowDef",""]],inputs:{columns:["cdkRowDefColumns","columns"],when:["cdkRowDefWhen","when"]},features:[wa]}),e})(),Dm=(()=>{class e{constructor(t){this._viewContainer=t,e.mostRecentCellOutlet=this}ngOnDestroy(){e.mostRecentCellOutlet===this&&(e.mostRecentCellOutlet=null)}}return e.\u0275fac=function(t){return new(t||e)(As(cl))},e.\u0275dir=yt({type:e,selectors:[["","cdkCellOutlet",""]]}),e.mostRecentCellOutlet=null,e})(),Nm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["cdk-header-row"],["tr","cdk-header-row",""]],hostAttrs:["role","row",1,"cdk-header-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Ds(0,0)},directives:[Dm],encapsulation:2}),e})(),Lm=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["cdk-row"],["tr","cdk-row",""]],hostAttrs:["role","row",1,"cdk-row"],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Ds(0,0)},directives:[Dm],encapsulation:2}),e})(),Bm=(()=>{class e{constructor(e){this.templateRef=e}}return e.\u0275fac=function(t){return new(t||e)(As(al))},e.\u0275dir=yt({type:e,selectors:[["ng-template","cdkNoDataRow",""]]}),e})();const Fm=["top","bottom","left","right"];class Vm{constructor(e,t,n,i,r=!0,o=!0){this._isNativeHtmlTable=e,this._stickCellCss=t,this.direction=n,this._coalescedStyleScheduler=i,this._isBrowser=r,this._needsPositionStickyOnElement=o}clearStickyPositioning(e,t){const n=[];for(const i of e)if(i.nodeType===i.ELEMENT_NODE){n.push(i);for(let e=0;e<i.children.length;e++)n.push(i.children[e])}this._coalescedStyleScheduler.schedule(()=>{for(const e of n)this._removeStickyStyle(e,t)})}updateStickyColumns(e,t,n){if(!e.length||!this._isBrowser||!t.some(e=>e)&&!n.some(e=>e))return;const i=e[0],r=i.children.length,o=this._getCellWidths(i),s=this._getStickyStartColumnPositions(o,t),a=this._getStickyEndColumnPositions(o,n);this._coalescedStyleScheduler.schedule(()=>{const i="rtl"===this.direction,o=i?"right":"left",l=i?"left":"right";for(const c of e)for(let e=0;e<r;e++){const i=c.children[e];t[e]&&this._addStickyStyle(i,o,s[e]),n[e]&&this._addStickyStyle(i,l,a[e])}})}stickRows(e,t,n){if(!this._isBrowser)return;const i="bottom"===n?e.slice().reverse():e,r="bottom"===n?t.slice().reverse():t,o=[],s=[];for(let a=0,l=0;a<i.length;a++){if(o[a]=l,!r[a])continue;const e=i[a];s[a]=this._isNativeHtmlTable?Array.from(e.children):[e],a!==i.length-1&&(l+=e.getBoundingClientRect().height)}this._coalescedStyleScheduler.schedule(()=>{for(let e=0;e<i.length;e++){if(!r[e])continue;const t=o[e];for(const i of s[e])this._addStickyStyle(i,n,t)}})}updateStickyFooterContainer(e,t){if(!this._isNativeHtmlTable)return;const n=e.querySelector("tfoot");this._coalescedStyleScheduler.schedule(()=>{t.some(e=>!e)?this._removeStickyStyle(n,["bottom"]):this._addStickyStyle(n,"bottom",0)})}_removeStickyStyle(e,t){for(const n of t)e.style[n]="";Fm.some(n=>-1===t.indexOf(n)&&e.style[n])?e.style.zIndex=this._getCalculatedZIndex(e):(e.style.zIndex="",this._needsPositionStickyOnElement&&(e.style.position=""),e.classList.remove(this._stickCellCss))}_addStickyStyle(e,t,n){e.classList.add(this._stickCellCss),e.style[t]=n+"px",e.style.zIndex=this._getCalculatedZIndex(e),this._needsPositionStickyOnElement&&(e.style.cssText+="position: -webkit-sticky; position: sticky; ")}_getCalculatedZIndex(e){const t={top:100,bottom:10,left:1,right:1};let n=0;for(const i of Fm)e.style[i]&&(n+=t[i]);return n?""+n:""}_getCellWidths(e){const t=[],n=e.children;for(let i=0;i<n.length;i++)t.push(n[i].getBoundingClientRect().width);return t}_getStickyStartColumnPositions(e,t){const n=[];let i=0;for(let r=0;r<e.length;r++)t[r]&&(n[r]=i,i+=e[r]);return n}_getStickyEndColumnPositions(e,t){const n=[];let i=0;for(let r=e.length;r>0;r--)t[r]&&(n[r]=i,i+=e[r]);return n}}function $m(e){return Error(`Could not find column with id "${e}".`)}let Hm=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["","rowOutlet",""]]}),e})(),jm=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["","headerRowOutlet",""]]}),e})(),Wm=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["","footerRowOutlet",""]]}),e})(),zm=(()=>{class e{constructor(e,t){this.viewContainer=e,this.elementRef=t}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(Ba))},e.\u0275dir=yt({type:e,selectors:[["","noDataRowOutlet",""]]}),e})(),Gm=(()=>{class e{constructor(e,t,n,i,r,o,s,a){this._differs=e,this._changeDetectorRef=t,this._coalescedStyleScheduler=n,this._elementRef=i,this._dir=o,this._platform=a,this._onDestroy=new x,this._columnDefsByName=new Map,this._customColumnDefs=new Set,this._customRowDefs=new Set,this._customHeaderRowDefs=new Set,this._customFooterRowDefs=new Set,this._headerRowDefChanged=!0,this._footerRowDefChanged=!0,this._cachedRenderRowsMap=new Map,this.stickyCssClass="cdk-table-sticky",this.needsPositionStickyOnElement=!0,this._isShowingNoDataRow=!1,this._multiTemplateDataRows=!1,this.viewChange=new hm({start:0,end:Number.MAX_VALUE}),r||this._elementRef.nativeElement.setAttribute("role","grid"),this._document=s,this._isNativeHtmlTable="TABLE"===this._elementRef.nativeElement.nodeName}get trackBy(){return this._trackByFn}set trackBy(e){Ei()&&null!=e&&"function"!=typeof e&&console&&console.warn&&console.warn(`trackBy must be a function, but received ${JSON.stringify(e)}.`),this._trackByFn=e}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}get multiTemplateDataRows(){return this._multiTemplateDataRows}set multiTemplateDataRows(e){this._multiTemplateDataRows=ig(e),this._rowOutlet&&this._rowOutlet.viewContainer.length&&(this._forceRenderDataRows(),this.updateStickyColumnStyles())}ngOnInit(){this._setupStickyStyler(),this._isNativeHtmlTable&&this._applyNativeTableSections(),this._dataDiffer=this._differs.find([]).create((e,t)=>this.trackBy?this.trackBy(t.dataIndex,t.data):t)}ngAfterContentChecked(){if(this._cacheRowDefs(),this._cacheColumnDefs(),!this._headerRowDefs.length&&!this._footerRowDefs.length&&!this._rowDefs.length)throw Error("Missing definitions for header, footer, and row; cannot determine which columns should be rendered.");const e=this._renderUpdatedColumns()||this._headerRowDefChanged||this._footerRowDefChanged;this._headerRowDefChanged&&(this._forceRenderHeaderRows(),this._headerRowDefChanged=!1),this._footerRowDefChanged&&(this._forceRenderFooterRows(),this._footerRowDefChanged=!1),this.dataSource&&this._rowDefs.length>0&&!this._renderChangeSubscription?this._observeRenderChanges():e&&this.updateStickyColumnStyles(),this._checkStickyStates()}ngOnDestroy(){this._rowOutlet.viewContainer.clear(),this._noDataRowOutlet.viewContainer.clear(),this._headerRowOutlet.viewContainer.clear(),this._footerRowOutlet.viewContainer.clear(),this._cachedRenderRowsMap.clear(),this._onDestroy.next(),this._onDestroy.complete(),df(this.dataSource)&&this.dataSource.disconnect(this)}renderRows(){this._renderRows=this._getAllRenderRows();const e=this._dataDiffer.diff(this._renderRows);if(!e)return void this._updateNoDataRow();const t=this._rowOutlet.viewContainer;e.forEachOperation((e,n,i)=>{if(null==e.previousIndex)this._insertRow(e.item,i);else if(null==i)t.remove(n);else{const e=t.get(n);t.move(e,i)}}),this._updateRowIndexContext(),e.forEachIdentityChange(e=>{t.get(e.currentIndex).context.$implicit=e.item.data}),this._updateNoDataRow(),this.updateStickyColumnStyles()}addColumnDef(e){this._customColumnDefs.add(e)}removeColumnDef(e){this._customColumnDefs.delete(e)}addRowDef(e){this._customRowDefs.add(e)}removeRowDef(e){this._customRowDefs.delete(e)}addHeaderRowDef(e){this._customHeaderRowDefs.add(e),this._headerRowDefChanged=!0}removeHeaderRowDef(e){this._customHeaderRowDefs.delete(e),this._headerRowDefChanged=!0}addFooterRowDef(e){this._customFooterRowDefs.add(e),this._footerRowDefChanged=!0}removeFooterRowDef(e){this._customFooterRowDefs.delete(e),this._footerRowDefChanged=!0}updateStickyHeaderRowStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._elementRef.nativeElement.querySelector("thead");t&&(t.style.display=e.length?"":"none");const n=this._headerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["top"]),this._stickyStyler.stickRows(e,n,"top"),this._headerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyFooterRowStyles(){const e=this._getRenderedRows(this._footerRowOutlet),t=this._elementRef.nativeElement.querySelector("tfoot");t&&(t.style.display=e.length?"":"none");const n=this._footerRowDefs.map(e=>e.sticky);this._stickyStyler.clearStickyPositioning(e,["bottom"]),this._stickyStyler.stickRows(e,n,"bottom"),this._stickyStyler.updateStickyFooterContainer(this._elementRef.nativeElement,n),this._footerRowDefs.forEach(e=>e.resetStickyChanged())}updateStickyColumnStyles(){const e=this._getRenderedRows(this._headerRowOutlet),t=this._getRenderedRows(this._rowOutlet),n=this._getRenderedRows(this._footerRowOutlet);this._stickyStyler.clearStickyPositioning([...e,...t,...n],["left","right"]),e.forEach((e,t)=>{this._addStickyColumnStyles([e],this._headerRowDefs[t])}),this._rowDefs.forEach(e=>{const n=[];for(let i=0;i<t.length;i++)this._renderRows[i].rowDef===e&&n.push(t[i]);this._addStickyColumnStyles(n,e)}),n.forEach((e,t)=>{this._addStickyColumnStyles([e],this._footerRowDefs[t])}),Array.from(this._columnDefsByName.values()).forEach(e=>e.resetStickyChanged())}_getAllRenderRows(){const e=[],t=this._cachedRenderRowsMap;this._cachedRenderRowsMap=new Map;for(let n=0;n<this._data.length;n++){let i=this._data[n];const r=this._getRenderRowsForData(i,n,t.get(i));this._cachedRenderRowsMap.has(i)||this._cachedRenderRowsMap.set(i,new WeakMap);for(let t=0;t<r.length;t++){let n=r[t];const i=this._cachedRenderRowsMap.get(n.data);i.has(n.rowDef)?i.get(n.rowDef).push(n):i.set(n.rowDef,[n]),e.push(n)}}return e}_getRenderRowsForData(e,t,n){return this._getRowDefs(e,t).map(i=>{const r=n&&n.has(i)?n.get(i):[];if(r.length){const e=r.shift();return e.dataIndex=t,e}return{data:e,rowDef:i,dataIndex:t}})}_cacheColumnDefs(){this._columnDefsByName.clear(),Zm(this._getOwnDefs(this._contentColumnDefs),this._customColumnDefs).forEach(e=>{if(this._columnDefsByName.has(e.name))throw Error(`Duplicate column definition name provided: "${e.name}".`);this._columnDefsByName.set(e.name,e)})}_cacheRowDefs(){this._headerRowDefs=Zm(this._getOwnDefs(this._contentHeaderRowDefs),this._customHeaderRowDefs),this._footerRowDefs=Zm(this._getOwnDefs(this._contentFooterRowDefs),this._customFooterRowDefs),this._rowDefs=Zm(this._getOwnDefs(this._contentRowDefs),this._customRowDefs);const e=this._rowDefs.filter(e=>!e.when);if(!this.multiTemplateDataRows&&e.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultRowDef=e[0]}_renderUpdatedColumns(){const e=(e,t)=>e||!!t.getColumnsDiff(),t=this._rowDefs.reduce(e,!1);t&&this._forceRenderDataRows();const n=this._headerRowDefs.reduce(e,!1);n&&this._forceRenderHeaderRows();const i=this._footerRowDefs.reduce(e,!1);return i&&this._forceRenderFooterRows(),t||n||i}_switchDataSource(e){this._data=[],df(this.dataSource)&&this.dataSource.disconnect(this),this._renderChangeSubscription&&(this._renderChangeSubscription.unsubscribe(),this._renderChangeSubscription=null),e||(this._dataDiffer&&this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear()),this._dataSource=e}_observeRenderChanges(){if(!this.dataSource)return;let e;if(df(this.dataSource)?e=this.dataSource.connect(this):Hg(this.dataSource)?e=this.dataSource:Array.isArray(this.dataSource)&&(e=Gu(this.dataSource)),void 0===e)throw Error("Provided data source did not match an array, Observable, or DataSource");this._renderChangeSubscription=e.pipe(Yg(this._onDestroy)).subscribe(e=>{this._data=e||[],this.renderRows()})}_forceRenderHeaderRows(){this._headerRowOutlet.viewContainer.length>0&&this._headerRowOutlet.viewContainer.clear(),this._headerRowDefs.forEach((e,t)=>this._renderRow(this._headerRowOutlet,e,t)),this.updateStickyHeaderRowStyles()}_forceRenderFooterRows(){this._footerRowOutlet.viewContainer.length>0&&this._footerRowOutlet.viewContainer.clear(),this._footerRowDefs.forEach((e,t)=>this._renderRow(this._footerRowOutlet,e,t)),this.updateStickyFooterRowStyles()}_addStickyColumnStyles(e,t){const n=Array.from(t.columns||[]).map(e=>{const t=this._columnDefsByName.get(e);if(!t)throw $m(e);return t}),i=n.map(e=>e.sticky),r=n.map(e=>e.stickyEnd);this._stickyStyler.updateStickyColumns(e,i,r)}_getRenderedRows(e){const t=[];for(let n=0;n<e.viewContainer.length;n++){const i=e.viewContainer.get(n);t.push(i.rootNodes[0])}return t}_getRowDefs(e,t){if(1==this._rowDefs.length)return[this._rowDefs[0]];let n=[];if(this.multiTemplateDataRows)n=this._rowDefs.filter(n=>!n.when||n.when(t,e));else{let i=this._rowDefs.find(n=>n.when&&n.when(t,e))||this._defaultRowDef;i&&n.push(i)}if(!n.length)throw function(e){return Error("Could not find a matching row definition for theprovided row data: "+JSON.stringify(e))}(e);return n}_insertRow(e,t){this._renderRow(this._rowOutlet,e.rowDef,t,{$implicit:e.data})}_renderRow(e,t,n,i={}){e.viewContainer.createEmbeddedView(t.template,i,n);for(let r of this._getCellTemplates(t))Dm.mostRecentCellOutlet&&Dm.mostRecentCellOutlet._viewContainer.createEmbeddedView(r,i);this._changeDetectorRef.markForCheck()}_updateRowIndexContext(){const e=this._rowOutlet.viewContainer;for(let t=0,n=e.length;t<n;t++){const i=e.get(t).context;i.count=n,i.first=0===t,i.last=t===n-1,i.even=t%2==0,i.odd=!i.even,this.multiTemplateDataRows?(i.dataIndex=this._renderRows[t].dataIndex,i.renderIndex=t):i.index=this._renderRows[t].dataIndex}}_getCellTemplates(e){return e&&e.columns?Array.from(e.columns,t=>{const n=this._columnDefsByName.get(t);if(!n)throw $m(t);return e.extractCellTemplate(n)}):[]}_applyNativeTableSections(){const e=this._document.createDocumentFragment(),t=[{tag:"thead",outlets:[this._headerRowOutlet]},{tag:"tbody",outlets:[this._rowOutlet,this._noDataRowOutlet]},{tag:"tfoot",outlets:[this._footerRowOutlet]}];for(const n of t){const t=this._document.createElement(n.tag);t.setAttribute("role","rowgroup");for(const e of n.outlets)t.appendChild(e.elementRef.nativeElement);e.appendChild(t)}this._elementRef.nativeElement.appendChild(e)}_forceRenderDataRows(){this._dataDiffer.diff([]),this._rowOutlet.viewContainer.clear(),this.renderRows()}_checkStickyStates(){const e=(e,t)=>e||t.hasStickyChanged();this._headerRowDefs.reduce(e,!1)&&this.updateStickyHeaderRowStyles(),this._footerRowDefs.reduce(e,!1)&&this.updateStickyFooterRowStyles(),Array.from(this._columnDefsByName.values()).reduce(e,!1)&&this.updateStickyColumnStyles()}_setupStickyStyler(){this._stickyStyler=new Vm(this._isNativeHtmlTable,this.stickyCssClass,this._dir?this._dir.value:"ltr",this._coalescedStyleScheduler,this._platform.isBrowser,this.needsPositionStickyOnElement),(this._dir?this._dir.change:Gu()).pipe(Yg(this._onDestroy)).subscribe(e=>{this._stickyStyler.direction=e,this.updateStickyColumnStyles()})}_getOwnDefs(e){return e.filter(e=>!e._table||e._table===this)}_updateNoDataRow(){if(this._noDataRow){const e=0===this._rowOutlet.viewContainer.length;if(e!==this._isShowingNoDataRow){const t=this._noDataRowOutlet.viewContainer;e?t.createEmbeddedView(this._noDataRow.templateRef):t.clear(),this._isShowingNoDataRow=e}}}}return e.\u0275fac=function(t){return new(t||e)(As(nl),As(Xo),As(Am),As(Ba),ks("role"),As(cf,8),As(Kc),As(Tp))},e.\u0275cmp=ut({type:e,selectors:[["cdk-table"],["table","cdk-table",""]],contentQueries:function(e,t,n){var i;1&e&&(zl(n,Bm,!0),zl(n,Cm,!0),zl(n,Rm,!0),zl(n,Om,!0),zl(n,Tm,!0)),2&e&&($l(i=Gl())&&(t._noDataRow=i.first),$l(i=Gl())&&(t._contentColumnDefs=i),$l(i=Gl())&&(t._contentRowDefs=i),$l(i=Gl())&&(t._contentHeaderRowDefs=i),$l(i=Gl())&&(t._contentFooterRowDefs=i))},viewQuery:function(e,t){var n;1&e&&(Hl(Hm,!0),Hl(jm,!0),Hl(Wm,!0),Hl(zm,!0)),2&e&&($l(n=Gl())&&(t._rowOutlet=n.first),$l(n=Gl())&&(t._headerRowOutlet=n.first),$l(n=Gl())&&(t._footerRowOutlet=n.first),$l(n=Gl())&&(t._noDataRowOutlet=n.first))},hostAttrs:[1,"cdk-table"],inputs:{trackBy:"trackBy",dataSource:"dataSource",multiTemplateDataRows:"multiTemplateDataRows"},exportAs:["cdkTable"],features:[Ra([{provide:gm,useExisting:e},Am])],ngContentSelectors:um,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(Gs(dm),Zs(0),Zs(1,1),Ds(2,0),Ds(3,1),Ds(4,2),Ds(5,3))},directives:[jm,Hm,zm,Wm],encapsulation:2}),e})();function Zm(e,t){return e.concat(Array.from(t))}let Km=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})();class Xm extends class{constructor(){this.expansionModel=new uf(!0)}toggle(e){this.expansionModel.toggle(this._trackByValue(e))}expand(e){this.expansionModel.select(this._trackByValue(e))}collapse(e){this.expansionModel.deselect(this._trackByValue(e))}isExpanded(e){return this.expansionModel.isSelected(this._trackByValue(e))}toggleDescendants(e){this.expansionModel.isSelected(this._trackByValue(e))?this.collapseDescendants(e):this.expandDescendants(e)}collapseAll(){this.expansionModel.clear()}expandDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.select(...t.map(e=>this._trackByValue(e)))}collapseDescendants(e){let t=[e];t.push(...this.getDescendants(e)),this.expansionModel.deselect(...t.map(e=>this._trackByValue(e)))}_trackByValue(e){return this.trackBy?this.trackBy(e):e}}{constructor(e,t){super(),this.getChildren=e,this.options=t,this.options&&(this.trackBy=this.options.trackBy)}expandAll(){this.expansionModel.clear();const e=this.dataNodes.reduce((e,t)=>[...e,...this.getDescendants(t),t],[]);this.expansionModel.select(...e.map(e=>this._trackByValue(e)))}getDescendants(e){const t=[];return this._getDescendants(t,e),t.splice(1)}_getDescendants(e,t){e.push(t);const n=this.getChildren(t);Array.isArray(n)?n.forEach(t=>this._getDescendants(e,t)):Hg(n)&&n.pipe(eg(1),Ku(Boolean)).subscribe(t=>{for(const n of t)this._getDescendants(e,n)})}}const Ym=new Be("CDK_TREE_NODE_OUTLET_NODE");let Um=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(Ym,8))},e.\u0275dir=yt({type:e,selectors:[["","cdkTreeNodeOutlet",""]]}),e})();class Jm{constructor(e){this.$implicit=e}}let qm=(()=>{class e{constructor(e){this.template=e}}return e.\u0275fac=function(t){return new(t||e)(As(al))},e.\u0275dir=yt({type:e,selectors:[["","cdkTreeNodeDef",""]],inputs:{when:["cdkTreeNodeDefWhen","when"]}}),e})();function Qm(){return Error("Could not find functions for nested/flat tree in tree control.")}let ev=(()=>{class e{constructor(e,t){this._differs=e,this._changeDetectorRef=t,this._onDestroy=new x,this._levels=new Map,this.viewChange=new hm({start:0,end:Number.MAX_VALUE})}get dataSource(){return this._dataSource}set dataSource(e){this._dataSource!==e&&this._switchDataSource(e)}ngOnInit(){if(this._dataDiffer=this._differs.find([]).create(this.trackBy),!this.treeControl)throw Error("Could not find a tree control for the tree.")}ngOnDestroy(){this._nodeOutlet.viewContainer.clear(),this.viewChange.complete(),this._onDestroy.next(),this._onDestroy.complete(),this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null)}ngAfterContentChecked(){const e=this._nodeDefs.filter(e=>!e.when);if(e.length>1)throw Error("There can only be one default row without a when predicate function.");this._defaultNodeDef=e[0],this.dataSource&&this._nodeDefs&&!this._dataSubscription&&this._observeRenderChanges()}_switchDataSource(e){this._dataSource&&"function"==typeof this._dataSource.disconnect&&this.dataSource.disconnect(this),this._dataSubscription&&(this._dataSubscription.unsubscribe(),this._dataSubscription=null),e||this._nodeOutlet.viewContainer.clear(),this._dataSource=e,this._nodeDefs&&this._observeRenderChanges()}_observeRenderChanges(){let e;if(df(this._dataSource)?e=this._dataSource.connect(this):Hg(this._dataSource)?e=this._dataSource:Array.isArray(this._dataSource)&&(e=Gu(this._dataSource)),!e)throw Error("A valid data source must be provided.");this._dataSubscription=e.pipe(Yg(this._onDestroy)).subscribe(e=>this.renderNodeChanges(e))}renderNodeChanges(e,t=this._dataDiffer,n=this._nodeOutlet.viewContainer,i){const r=t.diff(e);r&&(r.forEachOperation((t,r,o)=>{if(null==t.previousIndex)this.insertNode(e[o],o,n,i);else if(null==o)n.remove(r),this._levels.delete(t.item);else{const e=n.get(r);n.move(e,o)}}),this._changeDetectorRef.detectChanges())}_getNodeDef(e,t){if(1===this._nodeDefs.length)return this._nodeDefs.first;const n=this._nodeDefs.find(n=>n.when&&n.when(t,e))||this._defaultNodeDef;if(!n)throw Error("Could not find a matching node definition for the provided node data.");return n}insertNode(e,t,n,i){const r=this._getNodeDef(e,t),o=new Jm(e);o.level=this.treeControl.getLevel?this.treeControl.getLevel(e):void 0!==i&&this._levels.has(i)?this._levels.get(i)+1:0,this._levels.set(e,o.level),(n||this._nodeOutlet.viewContainer).createEmbeddedView(r.template,o,t),tv.mostRecentTreeNode&&(tv.mostRecentTreeNode.data=e)}}return e.\u0275fac=function(t){return new(t||e)(As(nl),As(Xo))},e.\u0275cmp=ut({type:e,selectors:[["cdk-tree"]],contentQueries:function(e,t,n){var i;1&e&&zl(n,qm,!0),2&e&&$l(i=Gl())&&(t._nodeDefs=i)},viewQuery:function(e,t){var n;1&e&&Hl(Um,!0),2&e&&$l(n=Gl())&&(t._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"cdk-tree"],inputs:{dataSource:"dataSource",treeControl:"treeControl",trackBy:"trackBy"},exportAs:["cdkTree"],decls:1,vars:0,consts:[["cdkTreeNodeOutlet",""]],template:function(e,t){1&e&&Ds(0,0)},directives:[Um],encapsulation:2}),e})(),tv=(()=>{class e{constructor(t,n){this._elementRef=t,this._tree=n,this._destroyed=new x,this._dataChanges=new x,this.role="treeitem",e.mostRecentTreeNode=this}get data(){return this._data}set data(e){e!==this._data&&(this._data=e,this._setRoleFromData(),this._dataChanges.next())}get isExpanded(){return this._tree.treeControl.isExpanded(this._data)}get level(){return this._tree.treeControl.getLevel?this._tree.treeControl.getLevel(this._data):0}ngOnDestroy(){e.mostRecentTreeNode===this&&(e.mostRecentTreeNode=null),this._dataChanges.complete(),this._destroyed.next(),this._destroyed.complete()}focus(){this._elementRef.nativeElement.focus()}_setRoleFromData(){if(!this._tree.treeControl.isExpandable&&!this._tree.treeControl.getChildren)throw Qm();this.role="treeitem"}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(ev))},e.\u0275dir=yt({type:e,selectors:[["cdk-tree-node"]],hostAttrs:[1,"cdk-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&ws("aria-expanded",t.isExpanded)("aria-level",t.level+1)("role",t.role)},inputs:{role:"role"},exportAs:["cdkTreeNode"]}),e.mostRecentTreeNode=null,e})(),nv=(()=>{class e extends tv{constructor(e,t,n){super(e,t),this._elementRef=e,this._tree=t,this._differs=n}ngAfterContentInit(){if(this._dataDiffer=this._differs.find([]).create(this._tree.trackBy),!this._tree.treeControl.getChildren)throw Qm();const e=this._tree.treeControl.getChildren(this.data);Array.isArray(e)?this.updateChildrenNodes(e):Hg(e)&&e.pipe(Yg(this._destroyed)).subscribe(e=>this.updateChildrenNodes(e)),this.nodeOutlet.changes.pipe(Yg(this._destroyed)).subscribe(()=>this.updateChildrenNodes())}ngOnDestroy(){this._clear(),super.ngOnDestroy()}updateChildrenNodes(e){const t=this._getNodeOutlet();e&&(this._children=e),t&&this._children?this._tree.renderNodeChanges(this._children,this._dataDiffer,t.viewContainer,this._data):this._dataDiffer.diff([])}_clear(){const e=this._getNodeOutlet();e&&(e.viewContainer.clear(),this._dataDiffer.diff([]))}_getNodeOutlet(){const e=this.nodeOutlet;return e&&e.find(e=>!e._node||e._node===this)}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(ev),As(nl))},e.\u0275dir=yt({type:e,selectors:[["cdk-nested-tree-node"]],contentQueries:function(e,t,n){var i;1&e&&zl(n,Um,!0),2&e&&$l(i=Gl())&&(t.nodeOutlet=i)},hostAttrs:[1,"cdk-tree-node","cdk-nested-tree-node"],hostVars:2,hostBindings:function(e,t){2&e&&ws("aria-expanded",t.isExpanded)("role",t.role)},exportAs:["cdkNestedTreeNode"],features:[Ra([{provide:tv,useExisting:e},{provide:Ym,useExisting:e}]),wa]}),e})(),iv=(()=>{class e{constructor(e,t){this._tree=e,this._treeNode=t,this._recursive=!1}get recursive(){return this._recursive}set recursive(e){this._recursive=ig(e)}_toggle(e){this.recursive?this._tree.treeControl.toggleDescendants(this._treeNode.data):this._tree.treeControl.toggle(this._treeNode.data),e.stopPropagation()}}return e.\u0275fac=function(t){return new(t||e)(As(ev),As(tv))},e.\u0275dir=yt({type:e,selectors:[["","cdkTreeNodeToggle",""]],hostBindings:function(e,t){1&e&&Fs("click",(function(e){return t._toggle(e)}))},inputs:{recursive:["cdkTreeNodeToggleRecursive","recursive"]}}),e})(),rv=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Ig,qm]}),e})();const ov=new za("10.1.3");class sv{}function av(e,t){return{type:7,name:e,definitions:t,options:{}}}function lv(e,t=null){return{type:4,styles:t,timings:e}}function cv(e,t=null){return{type:3,steps:e,options:t}}function hv(e,t=null){return{type:2,steps:e,options:t}}function dv(e){return{type:6,styles:e,offset:null}}function uv(e,t,n){return{type:0,name:e,styles:t,options:n}}function pv(e){return{type:5,steps:e}}function gv(e,t,n=null){return{type:1,expr:e,animation:t,options:n}}function fv(e,t,n=null){return{type:11,selector:e,animation:t,options:n}}function mv(e){Promise.resolve(null).then(e)}class vv{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){mv(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){}setPosition(e){}getPosition(){return 0}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class yv{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,n=0,i=0;const r=this.players.length;0==r?mv(()=>this._onFinish()):this.players.forEach(e=>{e.onDone(()=>{++t==r&&this._onFinish()}),e.onDestroy(()=>{++n==r&&this._onDestroy()}),e.onStart(()=>{++i==r&&this._onStart()})}),this.totalTime=this.players.reduce((e,t)=>Math.max(e,t.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(e=>{const n=e.totalTime?Math.min(1,t/e.totalTime):1;e.setPosition(n)})}getPosition(){let e=0;return this.players.forEach(t=>{const n=t.getPosition();e=Math.min(n,e)}),e}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}function bv(){return"undefined"!=typeof process&&"[object process]"==={}.toString.call(process)}function Cv(e){switch(e.length){case 0:return new vv;case 1:return e[0];default:return new yv(e)}}function wv(e,t,n,i,r={},o={}){const s=[],a=[];let l=-1,c=null;if(i.forEach(e=>{const n=e.offset,i=n==l,h=i&&c||{};Object.keys(e).forEach(n=>{let i=n,a=e[n];if("offset"!==n)switch(i=t.normalizePropertyName(i,s),a){case"!":a=r[n];break;case"*":a=o[n];break;default:a=t.normalizeStyleValue(n,i,a,s)}h[i]=a}),i||a.push(h),c=h,l=n}),s.length){const e="\n - ";throw new Error(`Unable to animate due to the following errors:${e}${s.join(e)}`)}return a}function _v(e,t,n,i){switch(t){case"start":e.onStart(()=>i(n&&xv(n,"start",e)));break;case"done":e.onDone(()=>i(n&&xv(n,"done",e)));break;case"destroy":e.onDestroy(()=>i(n&&xv(n,"destroy",e)))}}function xv(e,t,n){const i=n.totalTime,r=Iv(e.element,e.triggerName,e.fromState,e.toState,t||e.phaseName,null==i?e.totalTime:i,!!n.disabled),o=e._data;return null!=o&&(r._data=o),r}function Iv(e,t,n,i,r="",o=0,s){return{element:e,triggerName:t,fromState:n,toState:i,phaseName:r,totalTime:o,disabled:!!s}}function Av(e,t,n){let i;return e instanceof Map?(i=e.get(t),i||e.set(t,i=n)):(i=e[t],i||(i=e[t]=n)),i}function kv(e){const t=e.indexOf(":");return[e.substring(1,t),e.substr(t+1)]}let Sv=(e,t)=>!1,Ev=(e,t)=>!1,Ov=(e,t,n)=>[];const Pv=bv();(Pv||"undefined"!=typeof Element)&&(Sv=(e,t)=>e.contains(t),Ev=(()=>{if(Pv||Element.prototype.matches)return(e,t)=>e.matches(t);{const e=Element.prototype,t=e.matchesSelector||e.mozMatchesSelector||e.msMatchesSelector||e.oMatchesSelector||e.webkitMatchesSelector;return t?(e,n)=>t.apply(e,[n]):Ev}})(),Ov=(e,t,n)=>{let i=[];if(n)i.push(...e.querySelectorAll(t));else{const n=e.querySelector(t);n&&i.push(n)}return i});let Mv=null,Tv=!1;function Rv(e){Mv||(Mv=("undefined"!=typeof document?document.body:null)||{},Tv=!!Mv.style&&"WebkitAppearance"in Mv.style);let t=!0;return Mv.style&&!function(e){return"ebkit"==e.substring(1,6)}(e)&&(t=e in Mv.style,!t&&Tv)&&(t="Webkit"+e.charAt(0).toUpperCase()+e.substr(1)in Mv.style),t}const Dv=Ev,Nv=Sv,Lv=Ov;function Bv(e){const t={};return Object.keys(e).forEach(n=>{const i=n.replace(/([a-z])([A-Z])/g,"$1-$2");t[i]=e[n]}),t}let Fv=(()=>{class e{validateStyleProperty(e){return Rv(e)}matchesElement(e,t){return Dv(e,t)}containsElement(e,t){return Nv(e,t)}query(e,t,n){return Lv(e,t,n)}computeStyle(e,t,n){return n||""}animate(e,t,n,i,r,o=[],s){return new vv(n,i)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Vv=(()=>{class e{}return e.NOOP=new Fv,e})();function $v(e){if("number"==typeof e)return e;const t=e.match(/^(-?[\.\d]+)(m?s)/);return!t||t.length<2?0:Hv(parseFloat(t[1]),t[2])}function Hv(e,t){switch(t){case"s":return 1e3*e;default:return e}}function jv(e,t,n){return e.hasOwnProperty("duration")?e:function(e,t,n){let i,r=0,o="";if("string"==typeof e){const n=e.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===n)return t.push(`The provided timing value "${e}" is invalid.`),{duration:0,delay:0,easing:""};i=Hv(parseFloat(n[1]),n[2]);const s=n[3];null!=s&&(r=Hv(parseFloat(s),n[4]));const a=n[5];a&&(o=a)}else i=e;if(!n){let n=!1,o=t.length;i<0&&(t.push("Duration values below 0 are not allowed for this animation step."),n=!0),r<0&&(t.push("Delay values below 0 are not allowed for this animation step."),n=!0),n&&t.splice(o,0,`The provided timing value "${e}" is invalid.`)}return{duration:i,delay:r,easing:o}}(e,t,n)}function Wv(e,t={}){return Object.keys(e).forEach(n=>{t[n]=e[n]}),t}function zv(e,t,n={}){if(t)for(let i in e)n[i]=e[i];else Wv(e,n);return n}function Gv(e,t,n){return n?t+":"+n+";":""}function Zv(e){let t="";for(let n=0;n<e.style.length;n++){const i=e.style.item(n);t+=Gv(0,i,e.style.getPropertyValue(i))}for(const n in e.style)e.style.hasOwnProperty(n)&&!n.startsWith("_")&&(t+=Gv(0,n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),e.style[n]));e.setAttribute("style",t)}function Kv(e,t,n){e.style&&(Object.keys(t).forEach(i=>{const r=ty(i);n&&!n.hasOwnProperty(i)&&(n[i]=e.style[r]),e.style[r]=t[i]}),bv()&&Zv(e))}function Xv(e,t){e.style&&(Object.keys(t).forEach(t=>{const n=ty(t);e.style[n]=""}),bv()&&Zv(e))}function Yv(e){return Array.isArray(e)?1==e.length?e[0]:hv(e):e}const Uv=new RegExp("{{\\s*(.+?)\\s*}}","g");function Jv(e){let t=[];if("string"==typeof e){let n;for(;n=Uv.exec(e);)t.push(n[1]);Uv.lastIndex=0}return t}function qv(e,t,n){const i=e.toString(),r=i.replace(Uv,(e,i)=>{let r=t[i];return t.hasOwnProperty(i)||(n.push("Please provide a value for the animation param "+i),r=""),r.toString()});return r==i?e:r}function Qv(e){const t=[];let n=e.next();for(;!n.done;)t.push(n.value),n=e.next();return t}const ey=/-+([a-z0-9])/g;function ty(e){return e.replace(ey,(...e)=>e[1].toUpperCase())}function ny(e,t){return 0===e||0===t}function iy(e,t,n){const i=Object.keys(n);if(i.length&&t.length){let o=t[0],s=[];if(i.forEach(e=>{o.hasOwnProperty(e)||s.push(e),o[e]=n[e]}),s.length)for(var r=1;r<t.length;r++){let n=t[r];s.forEach((function(t){n[t]=oy(e,t)}))}}return t}function ry(e,t,n){switch(t.type){case 7:return e.visitTrigger(t,n);case 0:return e.visitState(t,n);case 1:return e.visitTransition(t,n);case 2:return e.visitSequence(t,n);case 3:return e.visitGroup(t,n);case 4:return e.visitAnimate(t,n);case 5:return e.visitKeyframes(t,n);case 6:return e.visitStyle(t,n);case 8:return e.visitReference(t,n);case 9:return e.visitAnimateChild(t,n);case 10:return e.visitAnimateRef(t,n);case 11:return e.visitQuery(t,n);case 12:return e.visitStagger(t,n);default:throw new Error("Unable to resolve animation metadata node #"+t.type)}}function oy(e,t){return window.getComputedStyle(e)[t]}function sy(e,t){const n=[];return"string"==typeof e?e.split(/\s*,\s*/).forEach(e=>function(e,t,n){if(":"==e[0]){const i=function(e,t){switch(e){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(e,t)=>parseFloat(t)>parseFloat(e);case":decrement":return(e,t)=>parseFloat(t)<parseFloat(e);default:return t.push(`The transition alias value "${e}" is not supported`),"* => *"}}(e,n);if("function"==typeof i)return void t.push(i);e=i}const i=e.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==i||i.length<4)return n.push(`The provided transition expression "${e}" is not supported`),t;const r=i[1],o=i[2],s=i[3];t.push(cy(r,s)),"<"!=o[0]||"*"==r&&"*"==s||t.push(cy(s,r))}(e,n,t)):n.push(e),n}const ay=new Set(["true","1"]),ly=new Set(["false","0"]);function cy(e,t){const n=ay.has(e)||ly.has(e),i=ay.has(t)||ly.has(t);return(r,o)=>{let s="*"==e||e==r,a="*"==t||t==o;return!s&&n&&"boolean"==typeof r&&(s=r?ay.has(e):ly.has(e)),!a&&i&&"boolean"==typeof o&&(a=o?ay.has(t):ly.has(t)),s&&a}}const hy=new RegExp("s*:selfs*,?","g");function dy(e,t,n){return new uy(e).build(t,n)}class uy{constructor(e){this._driver=e}build(e,t){const n=new py(t);return this._resetContextStyleTimingState(n),ry(this,Yv(e),n)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles={},e.collectedStyles[""]={},e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0;const r=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push("animation triggers cannot be prefixed with an `@` sign (e.g. trigger('@foo', [...]))"),e.definitions.forEach(e=>{if(this._resetContextStyleTimingState(t),0==e.type){const n=e,i=n.name;i.toString().split(/\s*,\s*/).forEach(e=>{n.name=e,r.push(this.visitState(n,t))}),n.name=i}else if(1==e.type){const r=this.visitTransition(e,t);n+=r.queryCount,i+=r.depCount,o.push(r)}else t.errors.push("only state() and transition() definitions can sit inside of a trigger()")}),{type:7,name:e.name,states:r,transitions:o,queryCount:n,depCount:i,options:null}}visitState(e,t){const n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){const r=new Set,o=i||{};if(n.styles.forEach(e=>{if(gy(e)){const t=e;Object.keys(t).forEach(e=>{Jv(t[e]).forEach(e=>{o.hasOwnProperty(e)||r.add(e)})})}}),r.size){const n=Qv(r.values());t.errors.push(`state("${e.name}", ...) must define default values for all the following style substitutions: ${n.join(", ")}`)}}return{type:0,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const n=ry(this,Yv(e.animation),t);return{type:1,matchers:sy(e.expr,t.errors),animation:n,queryCount:t.queryCount,depCount:t.depCount,options:fy(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(e=>ry(this,e,t)),options:fy(e.options)}}visitGroup(e,t){const n=t.currentTime;let i=0;const r=e.steps.map(e=>{t.currentTime=n;const r=ry(this,e,t);return i=Math.max(i,t.currentTime),r});return t.currentTime=i,{type:3,steps:r,options:fy(e.options)}}visitAnimate(e,t){const n=function(e,t){let n=null;if(e.hasOwnProperty("duration"))n=e;else if("number"==typeof e)return my(jv(e,t).duration,0,"");const i=e;if(i.split(/\s+/).some(e=>"{"==e.charAt(0)&&"{"==e.charAt(1))){const e=my(0,0,"");return e.dynamic=!0,e.strValue=i,e}return n=n||jv(i,t),my(n.duration,n.delay,n.easing)}(e.timings,t.errors);let i;t.currentAnimateTimings=n;let r=e.styles?e.styles:dv({});if(5==r.type)i=this.visitKeyframes(r,t);else{let r=e.styles,o=!1;if(!r){o=!0;const e={};n.easing&&(e.easing=n.easing),r=dv(e)}t.currentTime+=n.duration+n.delay;const s=this.visitStyle(r,t);s.isEmptyStep=o,i=s}return t.currentAnimateTimings=null,{type:4,timings:n,style:i,options:null}}visitStyle(e,t){const n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){const n=[];Array.isArray(e.styles)?e.styles.forEach(e=>{"string"==typeof e?"*"==e?n.push(e):t.errors.push(`The provided style string value ${e} is not allowed.`):n.push(e)}):n.push(e.styles);let i=!1,r=null;return n.forEach(e=>{if(gy(e)){const t=e,n=t.easing;if(n&&(r=n,delete t.easing),!i)for(let e in t)if(t[e].toString().indexOf("{{")>=0){i=!0;break}}}),{type:6,styles:n,easing:r,offset:e.offset,containsDynamicStyles:i,options:null}}_validateStyleAst(e,t){const n=t.currentAnimateTimings;let i=t.currentTime,r=t.currentTime;n&&r>0&&(r-=n.duration+n.delay),e.styles.forEach(e=>{"string"!=typeof e&&Object.keys(e).forEach(n=>{if(!this._driver.validateStyleProperty(n))return void t.errors.push(`The provided animation property "${n}" is not a supported CSS property for animations`);const o=t.collectedStyles[t.currentQuerySelector],s=o[n];let a=!0;s&&(r!=i&&r>=s.startTime&&i<=s.endTime&&(t.errors.push(`The CSS property "${n}" that exists between the times of "${s.startTime}ms" and "${s.endTime}ms" is also being animated in a parallel animation between the times of "${r}ms" and "${i}ms"`),a=!1),r=s.startTime),a&&(o[n]={startTime:r,endTime:i}),t.options&&function(e,t,n){const i=t.params||{},r=Jv(e);r.length&&r.forEach(e=>{i.hasOwnProperty(e)||n.push(`Unable to resolve the local animation param ${e} in the given list of values`)})}(e[n],t.options,t.errors)})})}visitKeyframes(e,t){const n={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push("keyframes() must be placed inside of a call to animate()"),n;let i=0;const r=[];let o=!1,s=!1,a=0;const l=e.steps.map(e=>{const n=this._makeStyleAst(e,t);let l=null!=n.offset?n.offset:function(e){if("string"==typeof e)return null;let t=null;if(Array.isArray(e))e.forEach(e=>{if(gy(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}});else if(gy(e)&&e.hasOwnProperty("offset")){const n=e;t=parseFloat(n.offset),delete n.offset}return t}(n.styles),c=0;return null!=l&&(i++,c=n.offset=l),s=s||c<0||c>1,o=o||c<a,a=c,r.push(c),n});s&&t.errors.push("Please ensure that all keyframe offsets are between 0 and 1"),o&&t.errors.push("Please ensure that all keyframe offsets are in order");const c=e.steps.length;let h=0;i>0&&i<c?t.errors.push("Not all style() steps within the declared keyframes() contain offsets"):0==i&&(h=1/(c-1));const d=c-1,u=t.currentTime,p=t.currentAnimateTimings,g=p.duration;return l.forEach((e,i)=>{const o=h>0?i==d?1:h*i:r[i],s=o*g;t.currentTime=u+p.delay+s,p.duration=s,this._validateStyleAst(e,t),e.offset=o,n.styles.push(e)}),n}visitReference(e,t){return{type:8,animation:ry(this,Yv(e.animation),t),options:fy(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:fy(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:fy(e.options)}}visitQuery(e,t){const n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[r,o]=function(e){const t=!!e.split(/\s*,\s*/).find(e=>":self"==e);return t&&(e=e.replace(hy,"")),[e=e.replace(/@\*/g,".ng-trigger").replace(/@\w+/g,e=>".ng-trigger-"+e.substr(1)).replace(/:animating/g,".ng-animating"),t]}(e.selector);t.currentQuerySelector=n.length?n+" "+r:r,Av(t.collectedStyles,t.currentQuerySelector,{});const s=ry(this,Yv(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:11,selector:r,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:s,originalSelector:e.selector,options:fy(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push("stagger() can only be used inside of query()");const n="full"===e.timings?{duration:0,delay:0,easing:"full"}:jv(e.timings,t.errors,!0);return{type:12,animation:ry(this,Yv(e.animation),t),timings:n,options:null}}}class py{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles={},this.options=null}}function gy(e){return!Array.isArray(e)&&"object"==typeof e}function fy(e){var t;return e?(e=Wv(e)).params&&(e.params=(t=e.params)?Wv(t):null):e={},e}function my(e,t,n){return{duration:e,delay:t,easing:n}}function vy(e,t,n,i,r,o,s=null,a=!1){return{type:1,element:e,keyframes:t,preStyleProps:n,postStyleProps:i,duration:r,delay:o,totalTime:r+o,easing:s,subTimeline:a}}class yy{constructor(){this._map=new Map}consume(e){let t=this._map.get(e);return t?this._map.delete(e):t=[],t}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const by=new RegExp(":enter","g"),Cy=new RegExp(":leave","g");function wy(e,t,n,i,r,o={},s={},a,l,c=[]){return(new _y).buildKeyframes(e,t,n,i,r,o,s,a,l,c)}class _y{buildKeyframes(e,t,n,i,r,o,s,a,l,c=[]){l=l||new yy;const h=new Iy(e,t,l,i,r,c,[]);h.options=a,h.currentTimeline.setStyles([o],null,h.errors,a),ry(this,n,h);const d=h.timelines.filter(e=>e.containsAnimation());if(d.length&&Object.keys(s).length){const e=d[d.length-1];e.allowOnlyTimelineStyles()||e.setStyles([s],null,h.errors,a)}return d.length?d.map(e=>e.buildKeyframes()):[vy(t,[],[],[],0,0,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const n=t.subInstructions.consume(t.element);if(n){const i=t.createSubContext(e.options),r=t.currentTimeline.currentTime,o=this._visitSubInstructions(n,i,i.options);r!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_visitSubInstructions(e,t,n){let i=t.currentTimeline.currentTime;const r=null!=n.duration?$v(n.duration):null,o=null!=n.delay?$v(n.delay):null;return 0!==r&&e.forEach(e=>{const n=t.appendInstructionToTimeline(e,r,o);i=Math.max(i,n.duration+n.delay)}),i}visitReference(e,t){t.updateOptions(e.options,!0),ry(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const n=t.subContextCount;let i=t;const r=e.options;if(r&&(r.params||r.delay)&&(i=t.createSubContext(r),i.transformIntoNewTimeline(),null!=r.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=xy);const e=$v(r.delay);i.delayNextStep(e)}e.steps.length&&(e.steps.forEach(e=>ry(this,e,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const n=[];let i=t.currentTimeline.currentTime;const r=e.options&&e.options.delay?$v(e.options.delay):0;e.steps.forEach(o=>{const s=t.createSubContext(e.options);r&&s.delayNextStep(r),ry(this,o,s),i=Math.max(i,s.currentTimeline.currentTime),n.push(s.currentTimeline)}),n.forEach(e=>t.currentTimeline.mergeTimelineCollectedStyles(e)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const n=e.strValue;return jv(t.params?qv(n,t.params,t.errors):n,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());const r=e.style;5==r.type?this.visitKeyframes(r,t):(t.incrementTime(n.duration),this.visitStyle(r,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.getCurrentStyleProperties().length&&n.forwardFrame();const r=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(r):n.setStyles(e.styles,r,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const n=t.currentAnimateTimings,i=t.currentTimeline.duration,r=n.duration,o=t.createSubContext().currentTimeline;o.easing=n.easing,e.styles.forEach(e=>{o.forwardTime((e.offset||0)*r),o.setStyles(e.styles,e.easing,t.errors,t.options),o.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(o),t.transformIntoNewTimeline(i+r),t.previousNode=e}visitQuery(e,t){const n=t.currentTimeline.currentTime,i=e.options||{},r=i.delay?$v(i.delay):0;r&&(6===t.previousNode.type||0==n&&t.currentTimeline.getCurrentStyleProperties().length)&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=xy);let o=n;const s=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=s.length;let a=null;s.forEach((n,i)=>{t.currentQueryIndex=i;const s=t.createSubContext(e.options,n);r&&s.delayNextStep(r),n===t.element&&(a=s.currentTimeline),ry(this,e.animation,s),s.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,s.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),a&&(t.currentTimeline.mergeTimelineCollectedStyles(a),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const n=t.parentContext,i=t.currentTimeline,r=e.timings,o=Math.abs(r.duration),s=o*(t.currentQueryTotal-1);let a=o*t.currentQueryIndex;switch(r.duration<0?"reverse":r.easing){case"reverse":a=s-a;break;case"full":a=n.currentStaggerTime}const l=t.currentTimeline;a&&l.delayNextStep(a);const c=l.currentTime;ry(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-c+(i.startTime-n.currentTimeline.startTime)}}const xy={};class Iy{constructor(e,t,n,i,r,o,s,a){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=r,this.errors=o,this.timelines=s,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=xy,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=a||new Ay(this._driver,t,0),s.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const n=e;let i=this.options;null!=n.duration&&(i.duration=$v(n.duration)),null!=n.delay&&(i.delay=$v(n.delay));const r=n.params;if(r){let e=i.params;e||(e=this.options.params={}),Object.keys(r).forEach(n=>{t&&e.hasOwnProperty(n)||(e[n]=qv(r[n],e,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const n=e.params={};Object.keys(t).forEach(e=>{n[e]=t[e]})}}return e}createSubContext(e=null,t,n){const i=t||this.element,r=new Iy(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return r.previousNode=this.previousNode,r.currentAnimateTimings=this.currentAnimateTimings,r.options=this._copyOptions(),r.updateOptions(e),r.currentQueryIndex=this.currentQueryIndex,r.currentQueryTotal=this.currentQueryTotal,r.parentContext=this,this.subContextCount++,r}transformIntoNewTimeline(e){return this.previousNode=xy,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){const i={duration:null!=t?t:e.duration,delay:this.currentTimeline.currentTime+(null!=n?n:0)+e.delay,easing:""},r=new ky(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(r),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,r,o){let s=[];if(i&&s.push(this.element),e.length>0){e=(e=e.replace(by,"."+this._enterClassName)).replace(Cy,"."+this._leaveClassName);let t=this._driver.query(this.element,e,1!=n);0!==n&&(t=n<0?t.slice(t.length+n,t.length):t.slice(0,n)),s.push(...t)}return r||0!=s.length||o.push(`\`query("${t}")\` returned zero elements. (Use \`query("${t}", { optional: true })\` if you wish to allow this.)`),s}}class Ay{constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this.duration=0,this._previousKeyframe={},this._currentKeyframe={},this._keyframes=new Map,this._styleSummary={},this._pendingStyles={},this._backFill={},this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._localTimelineStyles=Object.create(this._backFill,{}),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.getCurrentStyleProperties().length>0;default:return!0}}getCurrentStyleProperties(){return Object.keys(this._currentKeyframe)}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1==this._keyframes.size&&Object.keys(this._pendingStyles).length;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new Ay(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=Object.create(this._backFill,{}),this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles[e]=t,this._globalTimelineStyles[e]=t,this._styleSummary[e]={time:this.currentTime,value:t}}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&(this._previousKeyframe.easing=e),Object.keys(this._globalTimelineStyles).forEach(e=>{this._backFill[e]=this._globalTimelineStyles[e]||"*",this._currentKeyframe[e]="*"}),this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&(this._previousKeyframe.easing=t);const r=i&&i.params||{},o=function(e,t){const n={};let i;return e.forEach(e=>{"*"===e?(i=i||Object.keys(t),i.forEach(e=>{n[e]="*"})):zv(e,!1,n)}),n}(e,this._globalTimelineStyles);Object.keys(o).forEach(e=>{const t=qv(o[e],r,n);this._pendingStyles[e]=t,this._localTimelineStyles.hasOwnProperty(e)||(this._backFill[e]=this._globalTimelineStyles.hasOwnProperty(e)?this._globalTimelineStyles[e]:"*"),this._updateStyle(e,t)})}applyStylesToKeyframe(){const e=this._pendingStyles,t=Object.keys(e);0!=t.length&&(this._pendingStyles={},t.forEach(t=>{this._currentKeyframe[t]=e[t]}),Object.keys(this._localTimelineStyles).forEach(e=>{this._currentKeyframe.hasOwnProperty(e)||(this._currentKeyframe[e]=this._localTimelineStyles[e])}))}snapshotCurrentStyles(){Object.keys(this._localTimelineStyles).forEach(e=>{const t=this._localTimelineStyles[e];this._pendingStyles[e]=t,this._updateStyle(e,t)})}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){Object.keys(e._styleSummary).forEach(t=>{const n=this._styleSummary[t],i=e._styleSummary[t];(!n||i.time>n.time)&&this._updateStyle(t,i.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,n=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((r,o)=>{const s=zv(r,!0);Object.keys(s).forEach(n=>{const i=s[n];"!"==i?e.add(n):"*"==i&&t.add(n)}),n||(s.offset=o/this.duration),i.push(s)});const r=e.size?Qv(e.values()):[],o=t.size?Qv(t.values()):[];if(n){const e=i[0],t=Wv(e);e.offset=0,t.offset=1,i=[e,t]}return vy(this.element,i,r,o,this.duration,this.startTime,this.easing,!1)}}class ky extends Ay{constructor(e,t,n,i,r,o,s=!1){super(e,t,o.delay),this.element=t,this.keyframes=n,this.preStyleProps=i,this.postStyleProps=r,this._stretchStartingKeyframe=s,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const r=[],o=n+t,s=t/o,a=zv(e[0],!1);a.offset=0,r.push(a);const l=zv(e[0],!1);l.offset=Sy(s),r.push(l);const c=e.length-1;for(let i=1;i<=c;i++){let s=zv(e[i],!1);s.offset=Sy((t+s.offset*n)/o),r.push(s)}n=o,t=0,i="",e=r}return vy(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}}function Sy(e,t=3){const n=Math.pow(10,t-1);return Math.round(e*n)/n}class Ey{}class Oy extends Ey{normalizePropertyName(e,t){return ty(e)}normalizeStyleValue(e,t,n,i){let r="";const o=n.toString().trim();if(Py[t]&&0!==n&&"0"!==n)if("number"==typeof n)r="px";else{const t=n.match(/^[+-]?[\d\.]+([a-z]*)$/);t&&0==t[1].length&&i.push(`Please provide a CSS unit value for ${e}:${n}`)}return o+r}}const Py=(()=>function(e){const t={};return e.forEach(e=>t[e]=!0),t}("width,height,minWidth,minHeight,maxWidth,maxHeight,left,top,bottom,right,fontSize,outlineWidth,outlineOffset,paddingTop,paddingLeft,paddingBottom,paddingRight,marginTop,marginLeft,marginBottom,marginRight,borderRadius,borderWidth,borderTopWidth,borderLeftWidth,borderRightWidth,borderBottomWidth,textIndent,perspective".split(",")))();function My(e,t,n,i,r,o,s,a,l,c,h,d,u){return{type:0,element:e,triggerName:t,isRemovalTransition:r,fromState:n,fromStyles:o,toState:i,toStyles:s,timelines:a,queriedElements:l,preStyleProps:c,postStyleProps:h,totalTime:d,errors:u}}const Ty={};class Ry{constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return function(e,t,n,i,r){return e.some(e=>e(t,n,i,r))}(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){const i=this._stateStyles["*"],r=this._stateStyles[e],o=i?i.buildStyles(t,n):{};return r?r.buildStyles(t,n):o}build(e,t,n,i,r,o,s,a,l,c){const h=[],d=this.ast.options&&this.ast.options.params||Ty,u=this.buildStyles(n,s&&s.params||Ty,h),p=a&&a.params||Ty,g=this.buildStyles(i,p,h),f=new Set,m=new Map,v=new Map,y="void"===i,b={params:Object.assign(Object.assign({},d),p)},C=c?[]:wy(e,t,this.ast.animation,r,o,u,g,b,l,h);let w=0;if(C.forEach(e=>{w=Math.max(e.duration+e.delay,w)}),h.length)return My(t,this._triggerName,n,i,y,u,g,[],[],m,v,w,h);C.forEach(e=>{const n=e.element,i=Av(m,n,{});e.preStyleProps.forEach(e=>i[e]=!0);const r=Av(v,n,{});e.postStyleProps.forEach(e=>r[e]=!0),n!==t&&f.add(n)});const _=Qv(f.values());return My(t,this._triggerName,n,i,y,u,g,C,_,m,v,w)}}class Dy{constructor(e,t){this.styles=e,this.defaultParams=t}buildStyles(e,t){const n={},i=Wv(this.defaultParams);return Object.keys(e).forEach(t=>{const n=e[t];null!=n&&(i[t]=n)}),this.styles.styles.forEach(e=>{if("string"!=typeof e){const r=e;Object.keys(r).forEach(e=>{let o=r[e];o.length>1&&(o=qv(o,i,t)),n[e]=o})}}),n}}class Ny{constructor(e,t){this.name=e,this.ast=t,this.transitionFactories=[],this.states={},t.states.forEach(e=>{this.states[e.name]=new Dy(e.style,e.options&&e.options.params||{})}),Ly(this.states,"true","1"),Ly(this.states,"false","0"),t.transitions.forEach(t=>{this.transitionFactories.push(new Ry(e,t,this.states))}),this.fallbackTransition=new Ry(e,{type:1,animation:{type:2,steps:[],options:null},matchers:[(e,t)=>!0],options:null,queryCount:0,depCount:0},this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(r=>r.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}}function Ly(e,t,n){e.hasOwnProperty(t)?e.hasOwnProperty(n)||(e[n]=e[t]):e.hasOwnProperty(n)&&(e[t]=e[n])}const By=new yy;class Fy{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n,this._animations={},this._playersById={},this.players=[]}register(e,t){const n=[],i=dy(this._driver,t,n);if(n.length)throw new Error("Unable to build the animation due to the following errors: "+n.join("\n"));this._animations[e]=i}_buildPlayer(e,t,n){const i=e.element,r=wv(0,this._normalizer,0,e.keyframes,t,n);return this._driver.animate(i,r,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){const i=[],r=this._animations[e];let o;const s=new Map;if(r?(o=wy(this._driver,t,r,"ng-enter","ng-leave",{},{},n,By,i),o.forEach(e=>{const t=Av(s,e.element,{});e.postStyleProps.forEach(e=>t[e]=null)})):(i.push("The requested animation doesn't exist or has already been destroyed"),o=[]),i.length)throw new Error("Unable to create the animation due to the following errors: "+i.join("\n"));s.forEach((e,t)=>{Object.keys(e).forEach(n=>{e[n]=this._driver.computeStyle(t,n,"*")})});const a=Cv(o.map(e=>{const t=s.get(e.element);return this._buildPlayer(e,{},t)}));return this._playersById[e]=a,a.onDestroy(()=>this.destroy(e)),this.players.push(a),a}destroy(e){const t=this._getPlayer(e);t.destroy(),delete this._playersById[e];const n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){const t=this._playersById[e];if(!t)throw new Error("Unable to find the timeline player referenced by "+e);return t}listen(e,t,n,i){const r=Iv(t,"","","");return _v(this._getPlayer(e),n,r,i),()=>{}}command(e,t,n,i){if("register"==n)return void this.register(e,i[0]);if("create"==n)return void this.create(e,t,i[0]||{});const r=this._getPlayer(e);switch(n){case"play":r.play();break;case"pause":r.pause();break;case"reset":r.reset();break;case"restart":r.restart();break;case"finish":r.finish();break;case"init":r.init();break;case"setPosition":r.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const Vy=[],$y={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Hy={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0};class jy{constructor(e,t=""){this.namespaceId=t;const n=e&&e.hasOwnProperty("value");if(this.value=null!=(i=n?e.value:e)?i:null,n){const t=Wv(e);delete t.value,this.options=t}else this.options={};var i;this.options.params||(this.options.params={})}get params(){return this.options.params}absorbOptions(e){const t=e.params;if(t){const e=this.options.params;Object.keys(t).forEach(n=>{null==e[n]&&(e[n]=t[n])})}}}const Wy=new jy("void");class zy{constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this.players=[],this._triggers={},this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Jy(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.hasOwnProperty(t))throw new Error(`Unable to listen on the animation trigger event "${n}" because the animation trigger "${t}" doesn't exist!`);if(null==n||0==n.length)throw new Error(`Unable to listen on the animation trigger "${t}" because the provided event is undefined!`);if("start"!=(r=n)&&"done"!=r)throw new Error(`The provided animation trigger event "${n}" for the animation trigger "${t}" is not supported!`);var r;const o=Av(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);const a=Av(this._engine.statesByElement,e,{});return a.hasOwnProperty(t)||(Jy(e,"ng-trigger"),Jy(e,"ng-trigger-"+t),a[t]=Wy),()=>{this._engine.afterFlush(()=>{const e=o.indexOf(s);e>=0&&o.splice(e,1),this._triggers[t]||delete a[t]})}}register(e,t){return!this._triggers[e]&&(this._triggers[e]=t,!0)}_getTrigger(e){const t=this._triggers[e];if(!t)throw new Error(`The provided animation trigger "${e}" has not been registered!`);return t}trigger(e,t,n,i=!0){const r=this._getTrigger(t),o=new Zy(this.id,t,e);let s=this._engine.statesByElement.get(e);s||(Jy(e,"ng-trigger"),Jy(e,"ng-trigger-"+t),this._engine.statesByElement.set(e,s={}));let a=s[t];const l=new jy(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&a&&l.absorbOptions(a.options),s[t]=l,a||(a=Wy),"void"!==l.value&&a.value===l.value){if(!function(e,t){const n=Object.keys(e),i=Object.keys(t);if(n.length!=i.length)return!1;for(let r=0;r<n.length;r++){const i=n[r];if(!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(a.params,l.params)){const t=[],n=r.matchStyles(a.value,a.params,t),i=r.matchStyles(l.value,l.params,t);t.length?this._engine.reportError(t):this._engine.afterFlush(()=>{Xv(e,n),Kv(e,i)})}return}const c=Av(this._engine.playersByElement,e,[]);c.forEach(e=>{e.namespaceId==this.id&&e.triggerName==t&&e.queued&&e.destroy()});let h=r.matchTransition(a.value,l.value,e,l.params),d=!1;if(!h){if(!i)return;h=r.fallbackTransition,d=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:h,fromState:a,toState:l,player:o,isFallbackTransition:d}),d||(Jy(e,"ng-animate-queued"),o.onStart(()=>{qy(e,"ng-animate-queued")})),o.onDone(()=>{let t=this.players.indexOf(o);t>=0&&this.players.splice(t,1);const n=this._engine.playersByElement.get(e);if(n){let e=n.indexOf(o);e>=0&&n.splice(e,1)}}),this.players.push(o),c.push(o),o}deregister(e){delete this._triggers[e],this._engine.statesByElement.forEach((t,n)=>{delete t[e]}),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(t=>t.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(e=>e.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const n=this._engine.driver.query(e,".ng-trigger",!0);n.forEach(e=>{if(e.__ng_removed)return;const n=this._engine.fetchNamespacesByElement(e);n.size?n.forEach(n=>n.triggerLeaveAnimation(e,t,!1,!0)):this.clearElementCache(e)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(e=>this.clearElementCache(e)))}triggerLeaveAnimation(e,t,n,i){const r=this._engine.statesByElement.get(e);if(r){const o=[];if(Object.keys(r).forEach(t=>{if(this._triggers[t]){const n=this.trigger(e,t,"void",i);n&&o.push(n)}}),o.length)return this._engine.markElementAsRemoved(this.id,e,!0,t),n&&Cv(o).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e);if(t){const n=new Set;t.forEach(t=>{const i=t.name;if(n.has(i))return;n.add(i);const r=this._triggers[i].fallbackTransition,o=this._engine.statesByElement.get(e)[i]||Wy,s=new jy("void"),a=new Zy(this.id,i,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:i,transition:r,fromState:o,toState:s,player:a,isFallbackTransition:!0})})}}removeNode(e,t){const n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){const t=n.players.length?n.playersByQueriedElement.get(e):[];if(t&&t.length)i=!0;else{let t=e;for(;t=t.parentNode;)if(n.statesByElement.get(t)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{const i=e.__ng_removed;i&&i!==$y||(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){Jy(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(n=>{const i=n.player;if(i.destroyed)return;const r=n.element,o=this._elementListeners.get(r);o&&o.forEach(t=>{if(t.name==n.triggerName){const i=Iv(r,n.triggerName,n.fromState.value,n.toState.value);i._data=e,_v(n.player,t.phase,i,t.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((e,t)=>{const n=e.transition.ast.depCount,i=t.transition.ast.depCount;return 0==n||0==i?n-i:this._engine.driver.containsElement(e.element,t.element)?1:-1})}destroy(e){this.players.forEach(e=>e.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(t=>t.element===e)||t,t}}class Gy{constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(e,t)=>{}}_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(t=>{t.queued&&e.push(t)})}),e}createNamespace(e,t){const n=new zy(e,t,this);return t.parentNode?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){const n=this._namespaceList.length-1;if(n>=0){let i=!1;for(let r=n;r>=0;r--)if(this.driver.containsElement(this._namespaceList[r].hostElement,t)){this._namespaceList.splice(r+1,0,e),i=!0;break}i||this._namespaceList.splice(0,0,e)}else this._namespaceList.push(e);return this.namespacesByHostElement.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){if(!e)return;const n=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(n.hostElement),delete this._namespaceLookup[e];const t=this._namespaceList.indexOf(n);t>=0&&this._namespaceList.splice(t,1)}),this.afterFlushAnimationsDone(()=>n.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,n=this.statesByElement.get(e);if(n){const e=Object.keys(n);for(let i=0;i<e.length;i++){const r=n[e[i]].namespaceId;if(r){const e=this._fetchNamespace(r);e&&t.add(e)}}}return t}trigger(e,t,n,i){if(Ky(t)){const r=this._fetchNamespace(e);if(r)return r.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Ky(t))return;const r=t.__ng_removed;if(r&&r.setForRemoval){r.setForRemoval=!1,r.setForMove=!0;const e=this.collectedLeaveElements.indexOf(t);e>=0&&this.collectedLeaveElements.splice(e,1)}if(e){const i=this._fetchNamespace(e);i&&i.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Jy(e,"ng-animate-disabled")):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qy(e,"ng-animate-disabled"))}removeNode(e,t,n,i){if(Ky(t)){const r=e?this._fetchNamespace(e):null;if(r?r.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),n){const n=this.namespacesByHostElement.get(t);n&&n.id!==e&&n.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,n,i){this.collectedLeaveElements.push(t),t.__ng_removed={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1}}listen(e,t,n,i,r){return Ky(t)?this._fetchNamespace(e).listen(t,n,i,r):()=>{}}_buildInstruction(e,t,n,i,r){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,r)}destroyInnerAnimations(e){let t=this.driver.query(e,".ng-trigger",!0);t.forEach(e=>this.destroyActiveAnimationsForElement(e)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,".ng-animating",!0),t.forEach(e=>this.finishActiveQueriedAnimationOnElement(e)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(e=>{e.queued?e.markedForDestroy=!0:e.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(e=>e.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Cv(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e.__ng_removed;if(t&&t.setForRemoval){if(e.__ng_removed=$y,t.namespaceId){this.destroyInnerAnimations(e);const n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}this.driver.matchesElement(e,".ng-animate-disabled")&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(e=>{this.markElementAsDisabled(e,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((e,t)=>this._balanceNamespaceList(e,t)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++)Jy(this.collectedEnterElements[n],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const n=[];try{t=this._flushAnimations(n,e)}finally{for(let e=0;e<n.length;e++)n[e]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++)this.processLeaveNode(this.collectedLeaveElements[n]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(e=>e()),this._flushFns=[],this._whenQuietFns.length){const e=this._whenQuietFns;this._whenQuietFns=[],t.length?Cv(t).onDone(()=>{e.forEach(e=>e())}):e.forEach(e=>e())}}reportError(e){throw new Error("Unable to process animations due to the following failed trigger transitions\n "+e.join("\n"))}_flushAnimations(e,t){const n=new yy,i=[],r=new Map,o=[],s=new Map,a=new Map,l=new Map,c=new Set;this.disabledNodes.forEach(e=>{c.add(e);const t=this.driver.query(e,".ng-animate-queued",!0);for(let n=0;n<t.length;n++)c.add(t[n])});const h=this.bodyNode,d=Array.from(this.statesByElement.keys()),u=Uy(d,this.collectedEnterElements),p=new Map;let g=0;u.forEach((e,t)=>{const n="ng-enter"+g++;p.set(t,n),e.forEach(e=>Jy(e,n))});const f=[],m=new Set,v=new Set;for(let P=0;P<this.collectedLeaveElements.length;P++){const e=this.collectedLeaveElements[P],t=e.__ng_removed;t&&t.setForRemoval&&(f.push(e),m.add(e),t.hasAnimation?this.driver.query(e,".ng-star-inserted",!0).forEach(e=>m.add(e)):v.add(e))}const y=new Map,b=Uy(d,Array.from(m));b.forEach((e,t)=>{const n="ng-leave"+g++;y.set(t,n),e.forEach(e=>Jy(e,n))}),e.push(()=>{u.forEach((e,t)=>{const n=p.get(t);e.forEach(e=>qy(e,n))}),b.forEach((e,t)=>{const n=y.get(t);e.forEach(e=>qy(e,n))}),f.forEach(e=>{this.processLeaveNode(e)})});const C=[],w=[];for(let P=this._namespaceList.length-1;P>=0;P--)this._namespaceList[P].drainQueuedTransitions(t).forEach(e=>{const t=e.player,r=e.element;if(C.push(t),this.collectedEnterElements.length){const e=r.__ng_removed;if(e&&e.setForMove)return void t.destroy()}const c=!h||!this.driver.containsElement(h,r),d=y.get(r),u=p.get(r),g=this._buildInstruction(e,n,u,d,c);if(g.errors&&g.errors.length)w.push(g);else{if(c)return t.onStart(()=>Xv(r,g.fromStyles)),t.onDestroy(()=>Kv(r,g.toStyles)),void i.push(t);if(e.isFallbackTransition)return t.onStart(()=>Xv(r,g.fromStyles)),t.onDestroy(()=>Kv(r,g.toStyles)),void i.push(t);g.timelines.forEach(e=>e.stretchStartingKeyframe=!0),n.append(r,g.timelines),o.push({instruction:g,player:t,element:r}),g.queriedElements.forEach(e=>Av(s,e,[]).push(t)),g.preStyleProps.forEach((e,t)=>{const n=Object.keys(e);if(n.length){let e=a.get(t);e||a.set(t,e=new Set),n.forEach(t=>e.add(t))}}),g.postStyleProps.forEach((e,t)=>{const n=Object.keys(e);let i=l.get(t);i||l.set(t,i=new Set),n.forEach(e=>i.add(e))})}});if(w.length){const e=[];w.forEach(t=>{e.push(`@${t.triggerName} has failed due to:\n`),t.errors.forEach(t=>e.push(`- ${t}\n`))}),C.forEach(e=>e.destroy()),this.reportError(e)}const _=new Map,x=new Map;o.forEach(e=>{const t=e.element;n.has(t)&&(x.set(t,t),this._beforeAnimationBuild(e.player.namespaceId,e.instruction,_))}),i.forEach(e=>{const t=e.element;this._getPreviousPlayers(t,!1,e.namespaceId,e.triggerName,null).forEach(e=>{Av(_,t,[]).push(e),e.destroy()})});const I=f.filter(e=>eb(e,a,l)),A=new Map;Yy(A,this.driver,v,l,"*").forEach(e=>{eb(e,a,l)&&I.push(e)});const k=new Map;u.forEach((e,t)=>{Yy(k,this.driver,new Set(e),a,"!")}),I.forEach(e=>{const t=A.get(e),n=k.get(e);A.set(e,Object.assign(Object.assign({},t),n))});const S=[],E=[],O={};o.forEach(e=>{const{element:t,player:o,instruction:s}=e;if(n.has(t)){if(c.has(t))return o.onDestroy(()=>Kv(t,s.toStyles)),o.disabled=!0,o.overrideTotalTime(s.totalTime),void i.push(o);let e=O;if(x.size>1){let n=t;const i=[];for(;n=n.parentNode;){const t=x.get(n);if(t){e=t;break}i.push(n)}i.forEach(t=>x.set(t,e))}const n=this._buildAnimation(o.namespaceId,s,_,r,k,A);if(o.setRealPlayer(n),e===O)S.push(o);else{const t=this.playersByElement.get(e);t&&t.length&&(o.parentPlayer=Cv(t)),i.push(o)}}else Xv(t,s.fromStyles),o.onDestroy(()=>Kv(t,s.toStyles)),E.push(o),c.has(t)&&i.push(o)}),E.forEach(e=>{const t=r.get(e.element);if(t&&t.length){const n=Cv(t);e.setRealPlayer(n)}}),i.forEach(e=>{e.parentPlayer?e.syncPlayerEvents(e.parentPlayer):e.destroy()});for(let P=0;P<f.length;P++){const e=f[P],t=e.__ng_removed;if(qy(e,"ng-leave"),t&&t.hasAnimation)continue;let n=[];if(s.size){let t=s.get(e);t&&t.length&&n.push(...t);let i=this.driver.query(e,".ng-animating",!0);for(let e=0;e<i.length;e++){let t=s.get(i[e]);t&&t.length&&n.push(...t)}}const i=n.filter(e=>!e.destroyed);i.length?Qy(this,e,i):this.processLeaveNode(e)}return f.length=0,S.forEach(e=>{this.players.push(e),e.onDone(()=>{e.destroy();const t=this.players.indexOf(e);this.players.splice(t,1)}),e.play()}),S}elementContainsData(e,t){let n=!1;const i=t.__ng_removed;return i&&i.setForRemoval&&(n=!0),this.playersByElement.has(t)&&(n=!0),this.playersByQueriedElement.has(t)&&(n=!0),this.statesByElement.has(t)&&(n=!0),this._fetchNamespace(e).elementContainsData(t)||n}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,r){let o=[];if(t){const t=this.playersByQueriedElement.get(e);t&&(o=t)}else{const t=this.playersByElement.get(e);if(t){const e=!r||"void"==r;t.forEach(t=>{t.queued||(e||t.triggerName==i)&&o.push(t)})}}return(n||i)&&(o=o.filter(e=>!(n&&n!=e.namespaceId||i&&i!=e.triggerName))),o}_beforeAnimationBuild(e,t,n){const i=t.element,r=t.isRemovalTransition?void 0:e,o=t.isRemovalTransition?void 0:t.triggerName;for(const s of t.timelines){const e=s.element,a=e!==i,l=Av(n,e,[]);this._getPreviousPlayers(e,a,r,o,t.toState).forEach(e=>{const t=e.getRealPlayer();t.beforeDestroy&&t.beforeDestroy(),e.destroy(),l.push(e)})}Xv(i,t.fromStyles)}_buildAnimation(e,t,n,i,r,o){const s=t.triggerName,a=t.element,l=[],c=new Set,h=new Set,d=t.timelines.map(t=>{const d=t.element;c.add(d);const u=d.__ng_removed;if(u&&u.removedBeforeQueried)return new vv(t.duration,t.delay);const p=d!==a,g=function(e){const t=[];return function e(t,n){for(let i=0;i<t.length;i++){const r=t[i];r instanceof yv?e(r.players,n):n.push(r)}}(e,t),t}((n.get(d)||Vy).map(e=>e.getRealPlayer())).filter(e=>!!e.element&&e.element===d),f=r.get(d),m=o.get(d),v=wv(0,this._normalizer,0,t.keyframes,f,m),y=this._buildPlayer(t,v,g);if(t.subTimeline&&i&&h.add(d),p){const t=new Zy(e,s,d);t.setRealPlayer(y),l.push(t)}return y});l.forEach(e=>{Av(this.playersByQueriedElement,e.element,[]).push(e),e.onDone(()=>function(e,t,n){let i;if(e instanceof Map){if(i=e.get(t),i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&e.delete(t)}}else if(i=e[t],i){if(i.length){const e=i.indexOf(n);i.splice(e,1)}0==i.length&&delete e[t]}return i}(this.playersByQueriedElement,e.element,e))}),c.forEach(e=>Jy(e,"ng-animating"));const u=Cv(d);return u.onDestroy(()=>{c.forEach(e=>qy(e,"ng-animating")),Kv(a,t.toStyles)}),h.forEach(e=>{Av(i,e,[]).push(u)}),u}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new vv(e.duration,e.delay)}}class Zy{constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n,this._player=new vv,this._containsRealPlayer=!1,this._queuedCallbacks={},this.destroyed=!1,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,Object.keys(this._queuedCallbacks).forEach(t=>{this._queuedCallbacks[t].forEach(n=>_v(e,t,void 0,n))}),this._queuedCallbacks={},this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){Av(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function Ky(e){return e&&1===e.nodeType}function Xy(e,t){const n=e.style.display;return e.style.display=null!=t?t:"none",n}function Yy(e,t,n,i,r){const o=[];n.forEach(e=>o.push(Xy(e)));const s=[];i.forEach((n,i)=>{const o={};n.forEach(e=>{const n=o[e]=t.computeStyle(i,e,r);n&&0!=n.length||(i.__ng_removed=Hy,s.push(i))}),e.set(i,o)});let a=0;return n.forEach(e=>Xy(e,o[a++])),s}function Uy(e,t){const n=new Map;if(e.forEach(e=>n.set(e,[])),0==t.length)return n;const i=new Set(t),r=new Map;return t.forEach(e=>{const t=function e(t){if(!t)return 1;let o=r.get(t);if(o)return o;const s=t.parentNode;return o=n.has(s)?s:i.has(s)?1:e(s),r.set(t,o),o}(e);1!==t&&n.get(t).push(e)}),n}function Jy(e,t){if(e.classList)e.classList.add(t);else{let n=e.$$classes;n||(n=e.$$classes={}),n[t]=!0}}function qy(e,t){if(e.classList)e.classList.remove(t);else{let n=e.$$classes;n&&delete n[t]}}function Qy(e,t,n){Cv(n).onDone(()=>e.processLeaveNode(t))}function eb(e,t,n){const i=n.get(e);if(!i)return!1;let r=t.get(e);return r?i.forEach(e=>r.add(e)):t.set(e,i),n.delete(e),!0}class tb{constructor(e,t,n){this.bodyNode=e,this._driver=t,this._triggerCache={},this.onRemovalComplete=(e,t)=>{},this._transitionEngine=new Gy(e,t,n),this._timelineEngine=new Fy(e,t,n),this._transitionEngine.onRemovalComplete=(e,t)=>this.onRemovalComplete(e,t)}registerTrigger(e,t,n,i,r){const o=e+"-"+i;let s=this._triggerCache[o];if(!s){const e=[],t=dy(this._driver,r,e);if(e.length)throw new Error(`The animation trigger "${i}" has failed to build due to the following errors:\n - ${e.join("\n - ")}`);s=function(e,t){return new Ny(e,t)}(i,t),this._triggerCache[o]=s}this._transitionEngine.registerTrigger(t,i,s)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n,i){this._transitionEngine.removeNode(e,t,i||!1,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if("@"==n.charAt(0)){const[e,r]=kv(n);this._timelineEngine.command(e,t,r,i)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,r){if("@"==n.charAt(0)){const[e,i]=kv(n);return this._timelineEngine.listen(e,t,i,r)}return this._transitionEngine.listen(e,t,n,i,r)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}function nb(e,t){let n=null,i=null;return Array.isArray(t)&&t.length?(n=rb(t[0]),t.length>1&&(i=rb(t[t.length-1]))):t&&(n=rb(t)),n||i?new ib(e,n,i):null}let ib=(()=>{class e{constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i,this._state=0;let r=e.initialStylesByElement.get(t);r||e.initialStylesByElement.set(t,r={}),this._initialStyles=r}start(){this._state<1&&(this._startStyles&&Kv(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(Kv(this._element,this._initialStyles),this._endStyles&&(Kv(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(e.initialStylesByElement.delete(this._element),this._startStyles&&(Xv(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Xv(this._element,this._endStyles),this._endStyles=null),Kv(this._element,this._initialStyles),this._state=3)}}return e.initialStylesByElement=new WeakMap,e})();function rb(e){let t=null;const n=Object.keys(e);for(let i=0;i<n.length;i++){const r=n[i];ob(r)&&(t=t||{},t[r]=e[r])}return t}function ob(e){return"display"===e||"position"===e}class sb{constructor(e,t,n,i,r,o,s){this._element=e,this._name=t,this._duration=n,this._delay=i,this._easing=r,this._fillMode=o,this._onDoneFn=s,this._finished=!1,this._destroyed=!1,this._startTime=0,this._position=0,this._eventFn=e=>this._handleCallback(e)}apply(){!function(e,t){const n=ub(e,"").trim();n.length&&(function(e,t){let n=0;for(let i=0;i<e.length;i++)","===e.charAt(i)&&n++}(n),t=`${n}, ${t}`),db(e,"",t)}(this._element,`${this._duration}ms ${this._easing} ${this._delay}ms 1 normal ${this._fillMode} ${this._name}`),hb(this._element,this._eventFn,!1),this._startTime=Date.now()}pause(){ab(this._element,this._name,"paused")}resume(){ab(this._element,this._name,"running")}setPosition(e){const t=lb(this._element,this._name);this._position=e*this._duration,db(this._element,"Delay",`-${this._position}ms`,t)}getPosition(){return this._position}_handleCallback(e){const t=e._ngTestManualTimestamp||Date.now(),n=1e3*parseFloat(e.elapsedTime.toFixed(3));e.animationName==this._name&&Math.max(t-this._startTime,0)>=this._delay&&n>=this._duration&&this.finish()}finish(){this._finished||(this._finished=!0,this._onDoneFn(),hb(this._element,this._eventFn,!0))}destroy(){this._destroyed||(this._destroyed=!0,this.finish(),function(e,t){const n=ub(e,"").split(","),i=cb(n,t);i>=0&&(n.splice(i,1),db(e,"",n.join(",")))}(this._element,this._name))}}function ab(e,t,n){db(e,"PlayState",n,lb(e,t))}function lb(e,t){const n=ub(e,"");return n.indexOf(",")>0?cb(n.split(","),t):cb([n],t)}function cb(e,t){for(let n=0;n<e.length;n++)if(e[n].indexOf(t)>=0)return n;return-1}function hb(e,t,n){n?e.removeEventListener("animationend",t):e.addEventListener("animationend",t)}function db(e,t,n,i){const r="animation"+t;if(null!=i){const t=e.style[r];if(t.length){const e=t.split(",");e[i]=n,n=e.join(",")}}e.style[r]=n}function ub(e,t){return e.style["animation"+t]}class pb{constructor(e,t,n,i,r,o,s,a){this.element=e,this.keyframes=t,this.animationName=n,this._duration=i,this._delay=r,this._finalStyles=s,this._specialStyles=a,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._started=!1,this.currentSnapshot={},this._state=0,this.easing=o||"linear",this.totalTime=i+r,this._buildStyler()}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}destroy(){this.init(),this._state>=4||(this._state=4,this._styler.destroy(),this._flushStartFns(),this._flushDoneFns(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}_flushDoneFns(){this._onDoneFns.forEach(e=>e()),this._onDoneFns=[]}_flushStartFns(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}finish(){this.init(),this._state>=3||(this._state=3,this._styler.finish(),this._flushStartFns(),this._specialStyles&&this._specialStyles.finish(),this._flushDoneFns())}setPosition(e){this._styler.setPosition(e)}getPosition(){return this._styler.getPosition()}hasStarted(){return this._state>=2}init(){this._state>=1||(this._state=1,this._styler.apply(),this._delay&&this._styler.pause())}play(){this.init(),this.hasStarted()||(this._flushStartFns(),this._state=2,this._specialStyles&&this._specialStyles.start()),this._styler.resume()}pause(){this.init(),this._styler.pause()}restart(){this.reset(),this.play()}reset(){this._styler.destroy(),this._buildStyler(),this._styler.apply()}_buildStyler(){this._styler=new sb(this.element,this.animationName,this._duration,this._delay,this.easing,"forwards",()=>this.finish())}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}beforeDestroy(){this.init();const e={};if(this.hasStarted()){const t=this._state>=3;Object.keys(this._finalStyles).forEach(n=>{"offset"!=n&&(e[n]=t?this._finalStyles[n]:oy(this.element,n))})}this.currentSnapshot=e}}class gb extends vv{constructor(e,t){super(),this.element=e,this._startingStyles={},this.__initialized=!1,this._styles=Bv(t)}init(){!this.__initialized&&this._startingStyles&&(this.__initialized=!0,Object.keys(this._styles).forEach(e=>{this._startingStyles[e]=this.element.style[e]}),super.init())}play(){this._startingStyles&&(this.init(),Object.keys(this._styles).forEach(e=>this.element.style.setProperty(e,this._styles[e])),super.play())}destroy(){this._startingStyles&&(Object.keys(this._startingStyles).forEach(e=>{const t=this._startingStyles[e];t?this.element.style.setProperty(e,t):this.element.style.removeProperty(e)}),this._startingStyles=null,super.destroy())}}class fb{constructor(){this._count=0,this._head=document.querySelector("head"),this._warningIssued=!1}validateStyleProperty(e){return Rv(e)}matchesElement(e,t){return Dv(e,t)}containsElement(e,t){return Nv(e,t)}query(e,t,n){return Lv(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}buildKeyframeElement(e,t,n){n=n.map(e=>Bv(e));let i=`@keyframes ${t} {\n`,r="";n.forEach(e=>{r=" ";const t=parseFloat(e.offset);i+=`${r}${100*t}% {\n`,r+=" ",Object.keys(e).forEach(t=>{const n=e[t];switch(t){case"offset":return;case"easing":return void(n&&(i+=`${r}animation-timing-function: ${n};\n`));default:return void(i+=`${r}${t}: ${n};\n`)}}),i+=r+"}\n"}),i+="}\n";const o=document.createElement("style");return o.innerHTML=i,o}animate(e,t,n,i,r,o=[],s){s&&this._notifyFaultyScrubber();const a=o.filter(e=>e instanceof pb),l={};ny(n,i)&&a.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const c=function(e){let t={};return e&&(Array.isArray(e)?e:[e]).forEach(e=>{Object.keys(e).forEach(n=>{"offset"!=n&&"easing"!=n&&(t[n]=e[n])})}),t}(t=iy(e,t,l));if(0==n)return new gb(e,c);const h="gen_css_kf_"+this._count++,d=this.buildKeyframeElement(e,h,t);document.querySelector("head").appendChild(d);const u=nb(e,t),p=new pb(e,t,h,n,i,r,c,u);return p.onDestroy(()=>{var e;(e=d).parentNode.removeChild(e)}),p}_notifyFaultyScrubber(){this._warningIssued||(console.warn("@angular/animations: please load the web-animations.js polyfill to allow programmatic access...\n","  visit http://bit.ly/IWukam to learn more about using the web-animation-js polyfill."),this._warningIssued=!0)}}class mb{constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this.time=0,this.parentPlayer=null,this.currentSnapshot={},this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:{},this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_triggerWebAnimation(e,t,n){return e.animate(t,n)}onStart(e){this._onStartFns.push(e)}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e={};this.hasStarted()&&Object.keys(this._finalKeyframe).forEach(t=>{"offset"!=t&&(e[t]=this._finished?this._finalKeyframe[t]:oy(this.element,t))}),this.currentSnapshot=e}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(e=>e()),t.length=0}}class vb{constructor(){this._isNativeImpl=/\{\s*\[native\s+code\]\s*\}/.test(yb().toString()),this._cssKeyframesDriver=new fb}validateStyleProperty(e){return Rv(e)}matchesElement(e,t){return Dv(e,t)}containsElement(e,t){return Nv(e,t)}query(e,t,n){return Lv(e,t,n)}computeStyle(e,t,n){return window.getComputedStyle(e)[t]}overrideWebAnimationsSupport(e){this._isNativeImpl=e}animate(e,t,n,i,r,o=[],s){if(!s&&!this._isNativeImpl)return this._cssKeyframesDriver.animate(e,t,n,i,r,o);const a={duration:n,delay:i,fill:0==i?"both":"forwards"};r&&(a.easing=r);const l={},c=o.filter(e=>e instanceof mb);ny(n,i)&&c.forEach(e=>{let t=e.currentSnapshot;Object.keys(t).forEach(e=>l[e]=t[e])});const h=nb(e,t=iy(e,t=t.map(e=>zv(e,!1)),l));return new mb(e,t,a,h)}}function yb(){return"undefined"!=typeof window&&void 0!==window.document&&Element.prototype.animate||{}}let bb=(()=>{class e extends sv{constructor(e,t){super(),this._nextAnimationId=0,this._renderer=e.createRenderer(t.body,{id:"0",encapsulation:lt.None,styles:[],data:{animation:[]}})}build(e){const t=this._nextAnimationId.toString();this._nextAnimationId++;const n=Array.isArray(e)?hv(e):e;return _b(this._renderer,null,t,"register",[n]),new Cb(t,this._renderer)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Va),Ke(Kc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Cb extends class{}{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new wb(this._id,e,t||{},this._renderer)}}class wb{constructor(e,t,n,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",n)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return _b(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset")}setPosition(e){this._command("setPosition",e)}getPosition(){return 0}}function _b(e,t,n,i,r){return e.setProperty(t,`@@${n}:${i}`,r)}let xb=(()=>{class e{constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),t.onRemovalComplete=(e,t)=>{t&&t.parentNode(e)&&t.removeChild(e.parentNode,e)}}createRenderer(e,t){const n=this.delegate.createRenderer(e,t);if(!(e&&t&&t.data&&t.data.animation)){let e=this._rendererCache.get(n);return e||(e=new Ib("",n,this.engine),this._rendererCache.set(n,e)),e}const i=t.id,r=t.id+"-"+this._currentId;this._currentId++,this.engine.register(r,e);const o=t=>{Array.isArray(t)?t.forEach(o):this.engine.registerTrigger(i,r,e,t.name,t)};return t.data.animation.forEach(o),new Ab(this,r,n,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){e>=0&&e<this._microtaskId?this._zone.run(()=>t(n)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(e=>{const[t,n]=e;t(n)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([t,n]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return e.\u0275fac=function(t){return new(t||e)(Ke(Va),Ke(tb),Ke(mc))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();class Ib{constructor(e,t,n){this.namespaceId=e,this.delegate=t,this.engine=n,this.destroyNode=this.delegate.destroyNode?e=>t.destroyNode(e):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,!0)}removeChild(e,t,n){this.engine.onRemove(this.namespaceId,t,this.delegate,n)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){"@"==t.charAt(0)&&"@.disabled"==t?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n){return this.delegate.listen(e,t,n)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class Ab extends Ib{constructor(e,t,n,i){super(t,n,i),this.factory=e,this.namespaceId=t}setProperty(e,t,n){"@"==t.charAt(0)?"."==t.charAt(1)&&"@.disabled"==t?this.disableAnimations(e,n=void 0===n||!!n):this.engine.process(this.namespaceId,e,t.substr(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n){if("@"==t.charAt(0)){const i=function(e){switch(e){case"body":return document.body;case"document":return document;case"window":return window;default:return e}}(e);let r=t.substr(1),o="";return"@"!=r.charAt(0)&&([r,o]=function(e){const t=e.indexOf(".");return[e.substring(0,t),e.substr(t+1)]}(r)),this.engine.listen(this.namespaceId,i,r,o,e=>{this.factory.scheduleListenerCallback(e._data||-1,n,e)})}return this.delegate.listen(e,t,n)}}let kb=(()=>{class e extends tb{constructor(e,t,n){super(e.body,t,n)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc),Ke(Vv),Ke(Ey))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const Sb=new Be("AnimationModuleType"),Eb=[{provide:Vv,useFactory:function(){return"function"==typeof yb()?new vb:new fb}},{provide:Sb,useValue:"BrowserAnimations"},{provide:sv,useClass:bb},{provide:Ey,useFactory:function(){return new Oy}},{provide:tb,useClass:kb},{provide:Va,useFactory:function(e,t,n){return new xb(e,t,n)},deps:[Zh,tb,mc]}];let Ob=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:Eb,imports:[sd]}),e})();const Pb=new za("10.1.3"),Mb=new Be("mat-sanity-checks",{providedIn:"root",factory:function(){return!0}});let Tb=(()=>{class e{constructor(e,t,n){this._hasDoneGlobalChecks=!1,this._document=n,e._applyBodyHighContrastModeCssClasses(),this._sanityChecks=t,this._hasDoneGlobalChecks||(this._checkDoctypeIsDefined(),this._checkThemeIsPresent(),this._checkCdkVersionMatch(),this._hasDoneGlobalChecks=!0)}_getDocument(){const e=this._document||document;return"object"==typeof e&&e?e:null}_getWindow(){const e=this._getDocument(),t=(null==e?void 0:e.defaultView)||window;return"object"==typeof t&&t?t:null}_checksAreEnabled(){return Ei()&&!this._isTestEnv()}_isTestEnv(){const e=this._getWindow();return e&&(e.__karma__||e.jasmine)}_checkDoctypeIsDefined(){const e=this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.doctype),t=this._getDocument();e&&t&&!t.doctype&&console.warn("Current document does not have a doctype. This may cause some Angular Material components not to behave as expected.")}_checkThemeIsPresent(){const e=!this._checksAreEnabled()||!1===this._sanityChecks||!this._sanityChecks.theme,t=this._getDocument();if(e||!t||!t.body||"function"!=typeof getComputedStyle)return;const n=t.createElement("div");n.classList.add("mat-theme-loaded-marker"),t.body.appendChild(n);const i=getComputedStyle(n);i&&"none"!==i.display&&console.warn("Could not find Angular Material core theme. Most Material components may not work as expected. For more info refer to the theming guide: https://material.angular.io/guide/theming"),t.body.removeChild(n)}_checkCdkVersionMatch(){this._checksAreEnabled()&&(!0===this._sanityChecks||this._sanityChecks.version)&&Pb.full!==ov.full&&console.warn("The Angular Material version ("+Pb.full+") does not match the Angular CDK version ("+ov.full+").\nPlease ensure the versions of these two packages exactly match.")}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(Ke(kg),Ke(Mb,8),Ke(Kc,8))},imports:[[hf],hf]}),e})();function Rb(e){return class extends e{constructor(...e){super(...e),this._disabled=!1}get disabled(){return this._disabled}set disabled(e){this._disabled=ig(e)}}}function Db(e,t){return class extends e{constructor(...e){super(...e),this.color=t}get color(){return this._color}set color(e){const n=e||t;n!==this._color&&(this._color&&this._elementRef.nativeElement.classList.remove("mat-"+this._color),n&&this._elementRef.nativeElement.classList.add("mat-"+n),this._color=n)}}}function Nb(e){return class extends e{constructor(...e){super(...e),this._disableRipple=!1}get disableRipple(){return this._disableRipple}set disableRipple(e){this._disableRipple=ig(e)}}}function Lb(e,t=0){return class extends e{constructor(...e){super(...e),this._tabIndex=t}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?rg(e):t}}}const Bb=new Be("MAT_DATE_LOCALE",{providedIn:"root",factory:function(){return Xe(rc)}});class Fb{constructor(){this._localeChanges=new x}get localeChanges(){return this._localeChanges}deserialize(e){return null==e||this.isDateInstance(e)&&this.isValid(e)?e:this.invalid()}setLocale(e){this.locale=e,this._localeChanges.next()}compareDate(e,t){return this.getYear(e)-this.getYear(t)||this.getMonth(e)-this.getMonth(t)||this.getDate(e)-this.getDate(t)}sameDate(e,t){if(e&&t){let n=this.isValid(e),i=this.isValid(t);return n&&i?!this.compareDate(e,t):n==i}return e==t}clampDate(e,t,n){return t&&this.compareDate(e,t)<0?t:n&&this.compareDate(e,n)>0?n:e}}const Vb=new Be("mat-date-formats");let $b;try{$b="undefined"!=typeof Intl}catch(AM){$b=!1}const Hb={long:["January","February","March","April","May","June","July","August","September","October","November","December"],short:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],narrow:["J","F","M","A","M","J","J","A","S","O","N","D"]},jb=Gb(31,e=>String(e+1)),Wb={long:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],short:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],narrow:["S","M","T","W","T","F","S"]},zb=/^\d{4}-\d{2}-\d{2}(?:T\d{2}:\d{2}:\d{2}(?:\.\d+)?(?:Z|(?:(?:\+|-)\d{2}:\d{2}))?)?$/;function Gb(e,t){const n=Array(e);for(let i=0;i<e;i++)n[i]=t(i);return n}let Zb=(()=>{class e extends Fb{constructor(e,t){super(),this.useUtcForDisplay=!0,super.setLocale(e),this.useUtcForDisplay=!t.TRIDENT,this._clampDate=t.TRIDENT||t.EDGE}getYear(e){return e.getFullYear()}getMonth(e){return e.getMonth()}getDate(e){return e.getDate()}getDayOfWeek(e){return e.getDay()}getMonthNames(e){if($b){const t=new Intl.DateTimeFormat(this.locale,{month:e,timeZone:"utc"});return Gb(12,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,e,1))))}return Hb[e]}getDateNames(){if($b){const e=new Intl.DateTimeFormat(this.locale,{day:"numeric",timeZone:"utc"});return Gb(31,t=>this._stripDirectionalityCharacters(this._format(e,new Date(2017,0,t+1))))}return jb}getDayOfWeekNames(e){if($b){const t=new Intl.DateTimeFormat(this.locale,{weekday:e,timeZone:"utc"});return Gb(7,e=>this._stripDirectionalityCharacters(this._format(t,new Date(2017,0,e+1))))}return Wb[e]}getYearName(e){if($b){const t=new Intl.DateTimeFormat(this.locale,{year:"numeric",timeZone:"utc"});return this._stripDirectionalityCharacters(this._format(t,e))}return String(this.getYear(e))}getFirstDayOfWeek(){return 0}getNumDaysInMonth(e){return this.getDate(this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+1,0))}clone(e){return new Date(e.getTime())}createDate(e,t,n){if(t<0||t>11)throw Error(`Invalid month index "${t}". Month index has to be between 0 and 11.`);if(n<1)throw Error(`Invalid date "${n}". Date has to be greater than 0.`);let i=this._createDateWithOverflow(e,t,n);if(i.getMonth()!=t)throw Error(`Invalid date "${n}" for month with index "${t}".`);return i}today(){return new Date}parse(e){return"number"==typeof e?new Date(e):e?new Date(Date.parse(e)):null}format(e,t){if(!this.isValid(e))throw Error("NativeDateAdapter: Cannot format invalid date.");if($b){this._clampDate&&(e.getFullYear()<1||e.getFullYear()>9999)&&(e=this.clone(e)).setFullYear(Math.max(1,Math.min(9999,e.getFullYear()))),t=Object.assign(Object.assign({},t),{timeZone:"utc"});const n=new Intl.DateTimeFormat(this.locale,t);return this._stripDirectionalityCharacters(this._format(n,e))}return this._stripDirectionalityCharacters(e.toDateString())}addCalendarYears(e,t){return this.addCalendarMonths(e,12*t)}addCalendarMonths(e,t){let n=this._createDateWithOverflow(this.getYear(e),this.getMonth(e)+t,this.getDate(e));return this.getMonth(n)!=((this.getMonth(e)+t)%12+12)%12&&(n=this._createDateWithOverflow(this.getYear(n),this.getMonth(n),0)),n}addCalendarDays(e,t){return this._createDateWithOverflow(this.getYear(e),this.getMonth(e),this.getDate(e)+t)}toIso8601(e){return[e.getUTCFullYear(),this._2digit(e.getUTCMonth()+1),this._2digit(e.getUTCDate())].join("-")}deserialize(e){if("string"==typeof e){if(!e)return null;if(zb.test(e)){let t=new Date(e);if(this.isValid(t))return t}}return super.deserialize(e)}isDateInstance(e){return e instanceof Date}isValid(e){return!isNaN(e.getTime())}invalid(){return new Date(NaN)}_createDateWithOverflow(e,t,n){const i=new Date(e,t,n);return e>=0&&e<100&&i.setFullYear(this.getYear(i)-1900),i}_2digit(e){return("00"+e).slice(-2)}_stripDirectionalityCharacters(e){return e.replace(/[\u200e\u200f]/g,"")}_format(e,t){const n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return e.format(n)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Bb,8),Ke(Tp))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),Kb=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Fb,useClass:Zb}],imports:[[Rp]]}),e})();const Xb={parse:{dateInput:null},display:{dateInput:{year:"numeric",month:"numeric",day:"numeric"},monthYearLabel:{year:"numeric",month:"short"},dateA11yLabel:{year:"numeric",month:"long",day:"numeric"},monthYearA11yLabel:{year:"numeric",month:"long"}}};let Yb=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[{provide:Vb,useValue:Xb}],imports:[[Kb]]}),e})(),Ub=(()=>{class e{isErrorState(e,t){return!!(e&&e.invalid&&(e.touched||t&&t.submitted))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})(),Jb=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb],Tb]}),e})();class qb{constructor(e,t,n){this._renderer=e,this.element=t,this.config=n,this.state=3}fadeOut(){this._renderer.fadeOutRipple(this)}}const Qb={enterDuration:450,exitDuration:400},eC=Dp({passive:!0}),tC=["mousedown","touchstart"],nC=["mouseup","mouseleave","touchend","touchcancel"];class iC{constructor(e,t,n,i){this._target=e,this._ngZone=t,this._isPointerDown=!1,this._activeRipples=new Set,this._pointerUpEventsRegistered=!1,i.isBrowser&&(this._containerElement=ag(n))}fadeInRipple(e,t,n={}){const i=this._containerRect=this._containerRect||this._containerElement.getBoundingClientRect(),r=Object.assign(Object.assign({},Qb),n.animation);n.centered&&(e=i.left+i.width/2,t=i.top+i.height/2);const o=n.radius||function(e,t,n){const i=Math.max(Math.abs(e-n.left),Math.abs(e-n.right)),r=Math.max(Math.abs(t-n.top),Math.abs(t-n.bottom));return Math.sqrt(i*i+r*r)}(e,t,i),s=e-i.left,a=t-i.top,l=r.enterDuration,c=document.createElement("div");c.classList.add("mat-ripple-element"),c.style.left=s-o+"px",c.style.top=a-o+"px",c.style.height=2*o+"px",c.style.width=2*o+"px",null!=n.color&&(c.style.backgroundColor=n.color),c.style.transitionDuration=l+"ms",this._containerElement.appendChild(c),window.getComputedStyle(c).getPropertyValue("opacity"),c.style.transform="scale(1)";const h=new qb(this,c,n);return h.state=0,this._activeRipples.add(h),n.persistent||(this._mostRecentTransientRipple=h),this._runTimeoutOutsideZone(()=>{const e=h===this._mostRecentTransientRipple;h.state=1,n.persistent||e&&this._isPointerDown||h.fadeOut()},l),h}fadeOutRipple(e){const t=this._activeRipples.delete(e);if(e===this._mostRecentTransientRipple&&(this._mostRecentTransientRipple=null),this._activeRipples.size||(this._containerRect=null),!t)return;const n=e.element,i=Object.assign(Object.assign({},Qb),e.config.animation);n.style.transitionDuration=i.exitDuration+"ms",n.style.opacity="0",e.state=2,this._runTimeoutOutsideZone(()=>{e.state=3,n.parentNode.removeChild(n)},i.exitDuration)}fadeOutAll(){this._activeRipples.forEach(e=>e.fadeOut())}setupTriggerEvents(e){const t=ag(e);t&&t!==this._triggerElement&&(this._removeTriggerEvents(),this._triggerElement=t,this._registerEvents(tC))}handleEvent(e){"mousedown"===e.type?this._onMousedown(e):"touchstart"===e.type?this._onTouchStart(e):this._onPointerUp(),this._pointerUpEventsRegistered||(this._registerEvents(nC),this._pointerUpEventsRegistered=!0)}_onMousedown(e){const t=wg(e),n=this._lastTouchStartEvent&&Date.now()<this._lastTouchStartEvent+800;this._target.rippleDisabled||t||n||(this._isPointerDown=!0,this.fadeInRipple(e.clientX,e.clientY,this._target.rippleConfig))}_onTouchStart(e){if(!this._target.rippleDisabled){this._lastTouchStartEvent=Date.now(),this._isPointerDown=!0;const t=e.changedTouches;for(let e=0;e<t.length;e++)this.fadeInRipple(t[e].clientX,t[e].clientY,this._target.rippleConfig)}}_onPointerUp(){this._isPointerDown&&(this._isPointerDown=!1,this._activeRipples.forEach(e=>{!e.config.persistent&&(1===e.state||e.config.terminateOnPointerUp&&0===e.state)&&e.fadeOut()}))}_runTimeoutOutsideZone(e,t=0){this._ngZone.runOutsideAngular(()=>setTimeout(e,t))}_registerEvents(e){this._ngZone.runOutsideAngular(()=>{e.forEach(e=>{this._triggerElement.addEventListener(e,this,eC)})})}_removeTriggerEvents(){this._triggerElement&&(tC.forEach(e=>{this._triggerElement.removeEventListener(e,this,eC)}),this._pointerUpEventsRegistered&&nC.forEach(e=>{this._triggerElement.removeEventListener(e,this,eC)}))}}const rC=new Be("mat-ripple-global-options");let oC=(()=>{class e{constructor(e,t,n,i,r){this._elementRef=e,this._animationMode=r,this.radius=0,this._disabled=!1,this._isInitialized=!1,this._globalOptions=i||{},this._rippleRenderer=new iC(this,t,e,n)}get disabled(){return this._disabled}set disabled(e){this._disabled=e,this._setupTriggerEventsIfEnabled()}get trigger(){return this._trigger||this._elementRef.nativeElement}set trigger(e){this._trigger=e,this._setupTriggerEventsIfEnabled()}ngOnInit(){this._isInitialized=!0,this._setupTriggerEventsIfEnabled()}ngOnDestroy(){this._rippleRenderer._removeTriggerEvents()}fadeOutAll(){this._rippleRenderer.fadeOutAll()}get rippleConfig(){return{centered:this.centered,radius:this.radius,color:this.color,animation:Object.assign(Object.assign(Object.assign({},this._globalOptions.animation),"NoopAnimations"===this._animationMode?{enterDuration:0,exitDuration:0}:{}),this.animation),terminateOnPointerUp:this._globalOptions.terminateOnPointerUp}}get rippleDisabled(){return this.disabled||!!this._globalOptions.disabled}_setupTriggerEventsIfEnabled(){!this.disabled&&this._isInitialized&&this._rippleRenderer.setupTriggerEvents(this.trigger)}launch(e,t=0,n){return"number"==typeof e?this._rippleRenderer.fadeInRipple(e,t,Object.assign(Object.assign({},this.rippleConfig),n)):this._rippleRenderer.fadeInRipple(0,0,Object.assign(Object.assign({},this.rippleConfig),e))}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(mc),As(Tp),As(rC,8),As(Sb,8))},e.\u0275dir=yt({type:e,selectors:[["","mat-ripple",""],["","matRipple",""]],hostAttrs:[1,"mat-ripple"],hostVars:2,hostBindings:function(e,t){2&e&&ia("mat-ripple-unbounded",t.unbounded)},inputs:{radius:["matRippleRadius","radius"],disabled:["matRippleDisabled","disabled"],trigger:["matRippleTrigger","trigger"],color:["matRippleColor","color"],unbounded:["matRippleUnbounded","unbounded"],centered:["matRippleCentered","centered"],animation:["matRippleAnimation","animation"]},exportAs:["matRipple"]}),e})(),sC=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb,Rp],Tb]}),e})(),aC=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),lC=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[sC,Sh,aC]]}),e})();function cC(e){return new y(t=>{let n;try{n=e()}catch(i){return void t.error(i)}return(n?V(n):Qp()).subscribe(t)})}class hC{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=sg(-this._previousScrollPosition.left),e.style.top=sg(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,t=e.style,n=this._document.body.style,i=t.scrollBehavior||"",r=n.scrollBehavior||"";this._isEnabled=!1,t.left=this._previousHTMLStyles.left,t.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),t.scrollBehavior=n.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),t.scrollBehavior=i,n.scrollBehavior=r}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const e=this._document.body,t=this._viewportRuler.getViewportSize();return e.scrollHeight>t.height||e.scrollWidth>t.width}}function dC(){return Error("Scroll strategy has already been attached.")}class uC{constructor(e,t,n,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=n,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){if(this._overlayRef)throw dC();this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const e=this._viewportRuler.getViewportScrollPosition().top;Math.abs(e-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class pC{enable(){}disable(){}attach(){}}function gC(e,t){return t.some(t=>e.bottom<t.top||e.top>t.bottom||e.right<t.left||e.left>t.right)}function fC(e,t){return t.some(t=>e.top<t.top||e.bottom>t.bottom||e.left<t.left||e.right>t.right)}class mC{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this._config=i,this._scrollSubscription=null}attach(e){if(this._overlayRef)throw dC();this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const e=this._overlayRef.overlayElement.getBoundingClientRect(),{width:t,height:n}=this._viewportRuler.getViewportSize();gC(e,[{width:t,height:n,bottom:n,right:t,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let vC=(()=>{class e{constructor(e,t,n,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=n,this.noop=()=>new pC,this.close=e=>new uC(this._scrollDispatcher,this._ngZone,this._viewportRuler,e),this.block=()=>new hC(this._viewportRuler,this._document),this.reposition=e=>new mC(this._scrollDispatcher,this._viewportRuler,this._ngZone,e),this._document=i}}return e.\u0275fac=function(t){return new(t||e)(Ke(pf),Ke(ff),Ke(mc),Ke(Kc))},e.\u0275prov=ce({factory:function(){return new e(Ke(pf),Ke(ff),Ke(mc),Ke(Kc))},token:e,providedIn:"root"}),e})();class yC{constructor(e){if(this.scrollStrategy=new pC,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,this.excludeFromOutsideClick=[],e){const t=Object.keys(e);for(const n of t)void 0!==e[n]&&(this[n]=e[n])}}}class bC{constructor(e,t,n,i,r){this.offsetX=n,this.offsetY=i,this.panelClass=r,this.originX=e.originX,this.originY=e.originY,this.overlayX=t.overlayX,this.overlayY=t.overlayY}}class CC{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}function wC(e,t){if("top"!==t&&"bottom"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". Expected "top", "bottom" or "center".`)}function _C(e,t){if("start"!==t&&"end"!==t&&"center"!==t)throw Error(`ConnectedPosition: Invalid ${e} "${t}". Expected "start", "end" or "center".`)}let xC=(()=>{class e{constructor(e){this._attachedOverlays=[],this._document=e}ngOnDestroy(){this.detach()}add(e){this.remove(e),this._attachedOverlays.push(e)}remove(e){const t=this._attachedOverlays.indexOf(e);t>-1&&this._attachedOverlays.splice(t,1),0===this._attachedOverlays.length&&this.detach()}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({factory:function(){return new e(Ke(Kc))},token:e,providedIn:"root"}),e})(),IC=(()=>{class e extends xC{constructor(e){super(e),this._keydownListener=e=>{const t=this._attachedOverlays;for(let n=t.length-1;n>-1;n--)if(t[n]._keydownEvents.observers.length>0){t[n]._keydownEvents.next(e);break}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc))},e.\u0275prov=ce({factory:function(){return new e(Ke(Kc))},token:e,providedIn:"root"}),e})(),AC=(()=>{class e extends xC{constructor(e,t){super(e),this._platform=t,this._cursorStyleIsSet=!1,this._clickListener=e=>{const t=e.composedPath?e.composedPath()[0]:e.target,n=this._attachedOverlays;for(let i=n.length-1;i>-1;i--){const r=n[i];if(!(r._outsidePointerEvents.observers.length<1)){if([...r.getConfig().excludeFromOutsideClick,r.overlayElement].some(e=>e.contains(t)))break;r._outsidePointerEvents.next(e)}}}}add(e){super.add(e),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc),Ke(Tp))},e.\u0275prov=ce({factory:function(){return new e(Ke(Kc),Ke(Tp))},token:e,providedIn:"root"}),e})();const kC=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine);let SC=(()=>{class e{constructor(e,t){this._platform=t,this._document=e}ngOnDestroy(){const e=this._containerElement;e&&e.parentNode&&e.parentNode.removeChild(e)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const e=this._platform?this._platform.isBrowser:"undefined"!=typeof window;if(e||kC){const e=this._document.querySelectorAll('.cdk-overlay-container[platform="server"], .cdk-overlay-container[platform="test"]');for(let t=0;t<e.length;t++)e[t].parentNode.removeChild(e[t])}const t=this._document.createElement("div");t.classList.add("cdk-overlay-container"),kC?t.setAttribute("platform","test"):e||t.setAttribute("platform","server"),this._document.body.appendChild(t),this._containerElement=t}}return e.\u0275fac=function(t){return new(t||e)(Ke(Kc),Ke(Tp))},e.\u0275prov=ce({factory:function(){return new e(Ke(Kc),Ke(Tp))},token:e,providedIn:"root"}),e})();class EC{constructor(e,t,n,i,r,o,s,a,l){this._portalOutlet=e,this._host=t,this._pane=n,this._config=i,this._ngZone=r,this._keyboardDispatcher=o,this._document=s,this._location=a,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new x,this._attachments=new x,this._detachments=new x,this._locationChanges=d.EMPTY,this._backdropClickHandler=e=>this._backdropClick.next(e),this._keydownEvents=new x,this._outsidePointerEvents=new x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){let t=this._portalOutlet.attach(e);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.asObservable().pipe(eg(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick.asObservable()}attachments(){return this._attachments.asObservable()}detachments(){return this._detachments.asObservable()}keydownEvents(){return this._keydownEvents.asObservable()}outsidePointerEvents(){return this._outsidePointerEvents.asObservable()}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config=Object.assign(Object.assign({},this._config),e),this._updateElementSize()}setDirection(e){this._config=Object.assign(Object.assign({},this._config),{direction:e}),this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=sg(this._config.width),e.height=sg(this._config.height),e.minWidth=sg(this._config.minWidth),e.minHeight=sg(this._config.minHeight),e.maxWidth=sg(this._config.maxWidth),e.maxHeight=sg(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"auto":"none"}_attachBackdrop(){this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add("cdk-overlay-backdrop-showing")})}):this._backdropElement.classList.add("cdk-overlay-backdrop-showing")}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){let e,t=this._backdropElement;if(!t)return;let n=()=>{t&&(t.removeEventListener("click",this._backdropClickHandler),t.removeEventListener("transitionend",n),t.parentNode&&t.parentNode.removeChild(t)),this._backdropElement==t&&(this._backdropElement=null),this._config.backdropClass&&this._toggleClasses(t,this._config.backdropClass,!1),clearTimeout(e)};t.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{t.addEventListener("transitionend",n)}),t.style.pointerEvents="none",e=this._ngZone.runOutsideAngular(()=>setTimeout(n,500))}_toggleClasses(e,t,n){const i=e.classList;og(t).forEach(e=>{e&&(n?i.add(e):i.remove(e))})}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.asObservable().pipe(Yg(G(this._attachments,this._detachments))).subscribe(()=>{this._pane&&this._host&&0!==this._pane.children.length||(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._previousHostParent.removeChild(this._host)),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}}const OC=/([A-Za-z%]+)$/;class PC{constructor(e,t,n,i,r){this._viewportRuler=t,this._document=n,this._platform=i,this._overlayContainer=r,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new x,this._resizeSubscription=d.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges.asObservable(),this.setOrigin(e)}get positions(){return this._preferredPositions}attach(e){if(this._overlayRef&&e!==this._overlayRef)throw Error("This position strategy is already attached to an overlay");this._validatePositions(),e.hostElement.classList.add("cdk-overlay-connected-position-bounding-box"),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();const e=this._originRect,t=this._overlayRect,n=this._viewportRect,i=[];let r;for(let o of this._preferredPositions){let s=this._getOriginPoint(e,o),a=this._getOverlayPoint(s,t,o),l=this._getOverlayFit(a,t,n,o);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(o,s);this._canFitWithFlexibleDimensions(l,a,n)?i.push({position:o,origin:s,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(s,o)}):(!r||r.overlayFit.visibleArea<l.visibleArea)&&(r={overlayFit:l,overlayPoint:a,originPoint:s,position:o,overlayRect:t})}if(i.length){let e=null,t=-1;for(const n of i){const i=n.boundingBoxRect.width*n.boundingBoxRect.height*(n.position.weight||1);i>t&&(t=i,e=n)}return this._isPushed=!1,void this._applyPosition(e.position,e.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(r.position,r.originPoint);this._applyPosition(r.position,r.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&MC(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove("cdk-overlay-connected-position-bounding-box"),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();const e=this._lastPosition||this._preferredPositions[0],t=this._getOriginPoint(this._originRect,e);this._applyPosition(e,t)}}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t){let n,i;if("center"==t.originX)n=e.left+e.width/2;else{const i=this._isRtl()?e.right:e.left,r=this._isRtl()?e.left:e.right;n="start"==t.originX?i:r}return i="center"==t.originY?e.top+e.height/2:"top"==t.originY?e.top:e.bottom,{x:n,y:i}}_getOverlayPoint(e,t,n){let i,r;return i="center"==n.overlayX?-t.width/2:"start"===n.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,r="center"==n.overlayY?-t.height/2:"top"==n.overlayY?0:-t.height,{x:e.x+i,y:e.y+r}}_getOverlayFit(e,t,n,i){let{x:r,y:o}=e,s=this._getOffset(i,"x"),a=this._getOffset(i,"y");s&&(r+=s),a&&(o+=a);let l=0-o,c=o+t.height-n.height,h=this._subtractOverflows(t.width,0-r,r+t.width-n.width),d=this._subtractOverflows(t.height,l,c),u=h*d;return{visibleArea:u,isCompletelyWithinViewport:t.width*t.height===u,fitsInViewportVertically:d===t.height,fitsInViewportHorizontally:h==t.width}}_canFitWithFlexibleDimensions(e,t,n){if(this._hasFlexibleDimensions){const i=n.bottom-t.y,r=n.right-t.x,o=TC(this._overlayRef.getConfig().minHeight),s=TC(this._overlayRef.getConfig().minWidth),a=e.fitsInViewportHorizontally||null!=s&&s<=r;return(e.fitsInViewportVertically||null!=o&&o<=i)&&a}return!1}_pushOverlayOnScreen(e,t,n){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=this._viewportRect,r=Math.max(e.x+t.width-i.width,0),o=Math.max(e.y+t.height-i.height,0),s=Math.max(i.top-n.top-e.y,0),a=Math.max(i.left-n.left-e.x,0);let l=0,c=0;return l=t.width<=i.width?a||-r:e.x<this._viewportMargin?i.left-n.left-e.x:0,c=t.height<=i.height?s||-o:e.y<this._viewportMargin?i.top-n.top-e.y:0,this._previousPushAmount={x:l,y:c},{x:e.x+l,y:e.y+c}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const t=this._getScrollVisibility(),n=new CC(e,t);this._positionChanges.next(n)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let n,i=e.overlayY;n="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let r=0;r<t.length;r++)t[r].style.transformOrigin=`${n} ${i}`}_calculateBoundingBoxRect(e,t){const n=this._viewportRect,i=this._isRtl();let r,o,s,a,l,c;if("top"===t.overlayY)o=e.y,r=n.height-o+this._viewportMargin;else if("bottom"===t.overlayY)s=n.height-e.y+2*this._viewportMargin,r=n.height-s+this._viewportMargin;else{const t=Math.min(n.bottom-e.y+n.top,e.y),i=this._lastBoundingBoxSize.height;r=2*t,o=e.y-t,r>i&&!this._isInitialRender&&!this._growAfterOpen&&(o=e.y-i/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)c=n.width-e.x+this._viewportMargin,a=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)l=e.x,a=n.right-e.x;else{const t=Math.min(n.right-e.x+n.left,e.x),i=this._lastBoundingBoxSize.width;a=2*t,l=e.x-t,a>i&&!this._isInitialRender&&!this._growAfterOpen&&(l=e.x-i/2)}return{top:o,left:l,bottom:s,right:c,width:a,height:r}}_setBoundingBoxStyles(e,t){const n=this._calculateBoundingBoxRect(e,t);this._isInitialRender||this._growAfterOpen||(n.height=Math.min(n.height,this._lastBoundingBoxSize.height),n.width=Math.min(n.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const e=this._overlayRef.getConfig().maxHeight,r=this._overlayRef.getConfig().maxWidth;i.height=sg(n.height),i.top=sg(n.top),i.bottom=sg(n.bottom),i.width=sg(n.width),i.left=sg(n.left),i.right=sg(n.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",e&&(i.maxHeight=sg(e)),r&&(i.maxWidth=sg(r))}this._lastBoundingBoxSize=n,MC(this._boundingBox.style,i)}_resetBoundingBoxStyles(){MC(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){MC(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const n={},i=this._hasExactPosition(),r=this._hasFlexibleDimensions,o=this._overlayRef.getConfig();if(i){const i=this._viewportRuler.getViewportScrollPosition();MC(n,this._getExactOverlayY(t,e,i)),MC(n,this._getExactOverlayX(t,e,i))}else n.position="static";let s="",a=this._getOffset(t,"x"),l=this._getOffset(t,"y");a&&(s+=`translateX(${a}px) `),l&&(s+=`translateY(${l}px)`),n.transform=s.trim(),o.maxHeight&&(i?n.maxHeight=sg(o.maxHeight):r&&(n.maxHeight="")),o.maxWidth&&(i?n.maxWidth=sg(o.maxWidth):r&&(n.maxWidth="")),MC(this._pane.style,n)}_getExactOverlayY(e,t,n){let i={top:"",bottom:""},r=this._getOverlayPoint(t,this._overlayRect,e);this._isPushed&&(r=this._pushOverlayOnScreen(r,this._overlayRect,n));let o=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return r.y-=o,"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(r.y+this._overlayRect.height)+"px":i.top=sg(r.y),i}_getExactOverlayX(e,t,n){let i,r={left:"",right:""},o=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(o=this._pushOverlayOnScreen(o,this._overlayRect,n)),i=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===i?r.right=this._document.documentElement.clientWidth-(o.x+this._overlayRect.width)+"px":r.left=sg(o.x),r}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),n=this._scrollables.map(e=>e.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:fC(e,n),isOriginOutsideView:gC(e,n),isOverlayClipped:fC(t,n),isOverlayOutsideView:gC(t,n)}}_subtractOverflows(e,...t){return t.reduce((e,t)=>e-Math.max(t,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,n=this._viewportRuler.getViewportScrollPosition();return{top:n.top+this._viewportMargin,left:n.left+this._viewportMargin,right:n.left+e-this._viewportMargin,bottom:n.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){if(!this._preferredPositions.length)throw Error("FlexibleConnectedPositionStrategy: At least one position is required.");this._preferredPositions.forEach(e=>{_C("originX",e.originX),wC("originY",e.originY),_C("overlayX",e.overlayX),wC("overlayY",e.overlayY)})}_addPanelClasses(e){this._pane&&og(e).forEach(e=>{""!==e&&-1===this._appliedPanelClasses.indexOf(e)&&(this._appliedPanelClasses.push(e),this._pane.classList.add(e))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof Ba)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,n=e.height||0;return{top:e.y,bottom:e.y+n,left:e.x,right:e.x+t,height:n,width:t}}}function MC(e,t){for(let n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function TC(e){if("number"!=typeof e&&null!=e){const[t,n]=e.split(OC);return n&&"px"!==n?null:parseFloat(t)}return e||null}class RC{constructor(e,t,n,i,r,o,s){this._preferredPositions=[],this._positionStrategy=new PC(n,i,r,o,s).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,t)}get onPositionChange(){return this._positionStrategy.positionChanges}get positions(){return this._preferredPositions}attach(e){this._overlayRef=e,this._positionStrategy.attach(e),this._direction&&(e.setDirection(this._direction),this._direction=null)}dispose(){this._positionStrategy.dispose()}detach(){this._positionStrategy.detach()}apply(){this._positionStrategy.apply()}recalculateLastPosition(){this._positionStrategy.reapplyLastPosition()}withScrollableContainers(e){this._positionStrategy.withScrollableContainers(e)}withFallbackPosition(e,t,n,i){const r=new bC(e,t,n,i);return this._preferredPositions.push(r),this._positionStrategy.withPositions(this._preferredPositions),this}withDirection(e){return this._overlayRef?this._overlayRef.setDirection(e):this._direction=e,this}withOffsetX(e){return this._positionStrategy.withDefaultOffsetX(e),this}withOffsetY(e){return this._positionStrategy.withDefaultOffsetY(e),this}withLockedPosition(e){return this._positionStrategy.withLockedPosition(e),this}withPositions(e){return this._preferredPositions=e.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}setOrigin(e){return this._positionStrategy.setOrigin(e),this}}class DC{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add("cdk-global-overlay-wrapper"),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._rightOffset="",this._leftOffset=e,this._justifyContent="flex-start",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._leftOffset="",this._rightOffset=e,this._justifyContent="flex-end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._justifyContent="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,n=this._overlayRef.getConfig(),{width:i,height:r,maxWidth:o,maxHeight:s}=n,a=!("100%"!==i&&"100vw"!==i||o&&"100%"!==o&&"100vw"!==o),l=!("100%"!==r&&"100vh"!==r||s&&"100%"!==s&&"100vh"!==s);e.position=this._cssPosition,e.marginLeft=a?"0":this._leftOffset,e.marginTop=l?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=this._rightOffset,a?t.justifyContent="flex-start":"center"===this._justifyContent?t.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?t.justifyContent="flex-end":"flex-end"===this._justifyContent&&(t.justifyContent="flex-start"):t.justifyContent=this._justifyContent,t.alignItems=l?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,n=t.style;t.classList.remove("cdk-global-overlay-wrapper"),n.justifyContent=n.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let NC=(()=>{class e{constructor(e,t,n,i){this._viewportRuler=e,this._document=t,this._platform=n,this._overlayContainer=i}global(){return new DC}connectedTo(e,t,n){return new RC(t,n,e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}flexibleConnectedTo(e){return new PC(e,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return e.\u0275fac=function(t){return new(t||e)(Ke(ff),Ke(Kc),Ke(Tp),Ke(SC))},e.\u0275prov=ce({factory:function(){return new e(Ke(ff),Ke(Kc),Ke(Tp),Ke(SC))},token:e,providedIn:"root"}),e})(),LC=0,BC=(()=>{class e{constructor(e,t,n,i,r,o,s,a,l,c,h){this.scrollStrategies=e,this._overlayContainer=t,this._componentFactoryResolver=n,this._positionBuilder=i,this._keyboardDispatcher=r,this._injector=o,this._ngZone=s,this._document=a,this._directionality=l,this._location=c,this._outsideClickDispatcher=h}create(e){const t=this._createHostElement(),n=this._createPaneElement(t),i=this._createPortalOutlet(n),r=new yC(e);return r.direction=r.direction||this._directionality.value,new EC(i,t,n,r,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}position(){return this._positionBuilder}_createPaneElement(e){const t=this._document.createElement("div");return t.id="cdk-overlay-"+LC++,t.classList.add("cdk-overlay-pane"),e.appendChild(t),t}_createHostElement(){const e=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(e),e}_createPortalOutlet(e){return this._appRef||(this._appRef=this._injector.get(Nc)),new sm(e,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return e.\u0275fac=function(t){return new(t||e)(Ke(vC),Ke(SC),Ke(La),Ke(NC),Ke(IC),Ke(ds),Ke(mc),Ke(Kc),Ke(cf),Ke(lh,8),Ke(AC,8))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const FC={provide:new Be("cdk-connected-overlay-scroll-strategy"),deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let VC=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[BC,FC],imports:[[hf,lm,vf],vf]}),e})(),$C=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,Tb,cg],Tb]}),e})();function HC(e,t=Zp){var n;const i=(n=e)instanceof Date&&!isNaN(+n)?+e-t.now():Math.abs(e);return e=>e.lift(new jC(i,t))}class jC{constructor(e,t){this.delay=e,this.scheduler=t}call(e,t){return t.subscribe(new WC(e,this.delay,this.scheduler))}}class WC extends g{constructor(e,t,n){super(e),this.delay=t,this.scheduler=n,this.queue=[],this.active=!1,this.errored=!1}static dispatch(e){const t=e.source,n=t.queue,i=e.scheduler,r=e.destination;for(;n.length>0&&n[0].time-i.now()<=0;)n.shift().notification.observe(r);if(n.length>0){const t=Math.max(0,n[0].time-i.now());this.schedule(e,t)}else this.unsubscribe(),t.active=!1}_schedule(e){this.active=!0,this.destination.add(e.schedule(WC.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))}scheduleNotification(e){if(!0===this.errored)return;const t=this.scheduler,n=new zC(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}_next(e){this.scheduleNotification(af.createNext(e))}_error(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()}_complete(){this.scheduleNotification(af.createComplete()),this.unsubscribe()}}class zC{constructor(e,t){this.time=e,this.notification=t}}const GC={provide:new Be("mat-autocomplete-scroll-strategy"),deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let ZC=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[GC],imports:[[lC,VC,Tb,Sh],mf,lC,Tb]}),e})(),KC=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sg,Tb],Tb]}),e})();const XC={};function YC(...e){let t=null,n=null;return A(e[e.length-1])&&(n=e.pop()),"function"==typeof e[e.length-1]&&(t=e.pop()),1===e.length&&l(e[0])&&(e=e[0]),z(e,n).lift(new UC(t))}class UC{constructor(e){this.resultSelector=e}call(e,t){return t.subscribe(new JC(e,this.resultSelector))}}class JC extends D{constructor(e,t){super(e),this.resultSelector=t,this.active=0,this.values=[],this.observables=[]}_next(e){this.values.push(XC),this.observables.push(e)}_complete(){const e=this.observables,t=e.length;if(0===t)this.destination.complete();else{this.active=t,this.toRespond=t;for(let n=0;n<t;n++){const t=e[n];this.add(R(this,t,t,n))}}}notifyComplete(e){0==(this.active-=1)&&this.destination.complete()}notifyNext(e,t,n,i,r){const o=this.values,s=this.toRespond?o[n]===XC?--this.toRespond:this.toRespond:0;o[n]=t,0===s&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))}_tryResultSelector(e){let t;try{t=this.resultSelector.apply(this,e)}catch(n){return void this.destination.error(n)}this.destination.next(t)}}class qC{constructor(e){this.total=e}call(e,t){return t.subscribe(new QC(e,this.total))}}class QC extends g{constructor(e,t){super(e),this.total=t,this.count=0}_next(e){++this.count>this.total&&this.destination.next(e)}}const ew=new Set;let tw,nw=(()=>{class e{constructor(e){this._platform=e,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):iw}matchMedia(e){return this._platform.WEBKIT&&function(e){if(!ew.has(e))try{tw||(tw=document.createElement("style"),tw.setAttribute("type","text/css"),document.head.appendChild(tw)),tw.sheet&&(tw.sheet.insertRule(`@media ${e} {.fx-query-test{ }}`,0),ew.add(e))}catch(t){console.error(t)}}(e),this._matchMedia(e)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Tp))},e.\u0275prov=ce({factory:function(){return new e(Ke(Tp))},token:e,providedIn:"root"}),e})();function iw(e){return{matches:"all"===e||""===e,media:e,addListener:()=>{},removeListener:()=>{}}}let rw=(()=>{class e{constructor(e,t){this._mediaMatcher=e,this._zone=t,this._queries=new Map,this._destroySubject=new x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(e){return ow(og(e)).some(e=>this._registerQuery(e).mql.matches)}observe(e){let t=YC(ow(og(e)).map(e=>this._registerQuery(e).observable));return t=Qg(t.pipe(eg(1)),t.pipe(e=>e.lift(new qC(1)),Kp(0))),t.pipe(N(e=>{const t={matches:!1,breakpoints:{}};return e.forEach(e=>{t.matches=t.matches||e.matches,t.breakpoints[e.query]=e.matches}),t}))}_registerQuery(e){if(this._queries.has(e))return this._queries.get(e);const t=this._mediaMatcher.matchMedia(e),n={observable:new y(e=>{const n=t=>this._zone.run(()=>e.next(t));return t.addListener(n),()=>{t.removeListener(n)}}).pipe(ef(t),N(t=>({query:e,matches:t.matches})),Yg(this._destroySubject)),mql:t};return this._queries.set(e,n),n}}return e.\u0275fac=function(t){return new(t||e)(Ke(nw),Ke(mc))},e.\u0275prov=ce({factory:function(){return new e(Ke(nw),Ke(mc))},token:e,providedIn:"root"}),e})();function ow(e){return e.map(e=>e.split(",")).reduce((e,t)=>e.concat(t)).map(e=>e.trim())}let sw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[VC,Tb,lm],Tb]}),e})();const aw=["mat-button",""],lw=["*"],cw=["mat-button","mat-flat-button","mat-icon-button","mat-raised-button","mat-stroked-button","mat-mini-fab","mat-fab"];class hw{constructor(e){this._elementRef=e}}const dw=Db(Rb(Nb(hw)));let uw=(()=>{class e extends dw{constructor(e,t,n){super(e),this._focusMonitor=t,this._animationMode=n,this.isRoundButton=this._hasHostAttributes("mat-fab","mat-mini-fab"),this.isIconButton=this._hasHostAttributes("mat-icon-button");for(const i of cw)this._hasHostAttributes(i)&&this._getHostElement().classList.add(i);e.nativeElement.classList.add("mat-button-base"),this.isRoundButton&&(this.color="accent")}ngAfterViewInit(){this._focusMonitor.monitor(this._elementRef,!0)}ngOnDestroy(){this._focusMonitor.stopMonitoring(this._elementRef)}focus(e="program",t){this._focusMonitor.focusVia(this._getHostElement(),e,t)}_getHostElement(){return this._elementRef.nativeElement}_isRippleDisabled(){return this.disableRipple||this.disabled}_hasHostAttributes(...e){return e.some(e=>this._getHostElement().hasAttribute(e))}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Ig),As(Sb,8))},e.\u0275cmp=ut({type:e,selectors:[["button","mat-button",""],["button","mat-raised-button",""],["button","mat-icon-button",""],["button","mat-fab",""],["button","mat-mini-fab",""],["button","mat-stroked-button",""],["button","mat-flat-button",""]],viewQuery:function(e,t){var n;1&e&&jl(oC,!0),2&e&&$l(n=Gl())&&(t.ripple=n.first)},hostAttrs:[1,"mat-focus-indicator"],hostVars:5,hostBindings:function(e,t){2&e&&(ws("disabled",t.disabled||null),ia("_mat-animation-noopable","NoopAnimations"===t._animationMode)("mat-button-disabled",t.disabled))},inputs:{disabled:"disabled",disableRipple:"disableRipple",color:"color"},exportAs:["matButton"],features:[wa],attrs:aw,ngContentSelectors:lw,decls:4,vars:5,consts:[[1,"mat-button-wrapper"],["matRipple","",1,"mat-button-ripple",3,"matRippleDisabled","matRippleCentered","matRippleTrigger"],[1,"mat-button-focus-overlay"]],template:function(e,t){1&e&&(Gs(),Os(0,"span",0),Zs(1),Ps(),Ms(2,"div",1),Ms(3,"div",2)),2&e&&(br(2),ia("mat-button-ripple-round",t.isRoundButton||t.isIconButton),Ss("matRippleDisabled",t._isRippleDisabled())("matRippleCentered",t.isIconButton)("matRippleTrigger",t._getHostElement()))},directives:[oC],styles:[".mat-button .mat-button-focus-overlay,.mat-icon-button .mat-button-focus-overlay{opacity:0}.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:.04}@media(hover: none){.mat-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay,.mat-stroked-button:hover:not(.mat-button-disabled) .mat-button-focus-overlay{opacity:0}}.mat-button,.mat-icon-button,.mat-stroked-button,.mat-flat-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-button.mat-button-disabled,.mat-icon-button.mat-button-disabled,.mat-stroked-button.mat-button-disabled,.mat-flat-button.mat-button-disabled{cursor:default}.mat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-button.cdk-program-focused .mat-button-focus-overlay,.mat-icon-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-icon-button.cdk-program-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-stroked-button.cdk-program-focused .mat-button-focus-overlay,.mat-flat-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-flat-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-button::-moz-focus-inner,.mat-icon-button::-moz-focus-inner,.mat-stroked-button::-moz-focus-inner,.mat-flat-button::-moz-focus-inner{border:0}.mat-raised-button{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1)}.mat-raised-button::-moz-focus-inner{border:0}.mat-raised-button.mat-button-disabled{cursor:default}.mat-raised-button.cdk-keyboard-focused .mat-button-focus-overlay,.mat-raised-button.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-raised-button::-moz-focus-inner{border:0}._mat-animation-noopable.mat-raised-button{transition:none;animation:none}.mat-stroked-button{border:1px solid currentColor;padding:0 15px;line-height:34px}.mat-stroked-button .mat-button-ripple.mat-ripple,.mat-stroked-button .mat-button-focus-overlay{top:-1px;left:-1px;right:-1px;bottom:-1px}.mat-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:56px;height:56px;padding:0;flex-shrink:0}.mat-fab::-moz-focus-inner{border:0}.mat-fab.mat-button-disabled{cursor:default}.mat-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-fab{transition:none;animation:none}.mat-fab .mat-button-wrapper{padding:16px 0;display:inline-block;line-height:24px}.mat-mini-fab{box-sizing:border-box;position:relative;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;display:inline-block;white-space:nowrap;text-decoration:none;vertical-align:baseline;text-align:center;margin:0;min-width:64px;line-height:36px;padding:0 16px;border-radius:4px;overflow:visible;transform:translate3d(0, 0, 0);transition:background 400ms cubic-bezier(0.25, 0.8, 0.25, 1),box-shadow 280ms cubic-bezier(0.4, 0, 0.2, 1);min-width:0;border-radius:50%;width:40px;height:40px;padding:0;flex-shrink:0}.mat-mini-fab::-moz-focus-inner{border:0}.mat-mini-fab.mat-button-disabled{cursor:default}.mat-mini-fab.cdk-keyboard-focused .mat-button-focus-overlay,.mat-mini-fab.cdk-program-focused .mat-button-focus-overlay{opacity:.12}.mat-mini-fab::-moz-focus-inner{border:0}._mat-animation-noopable.mat-mini-fab{transition:none;animation:none}.mat-mini-fab .mat-button-wrapper{padding:8px 0;display:inline-block;line-height:24px}.mat-icon-button{padding:0;min-width:0;width:40px;height:40px;flex-shrink:0;line-height:40px;border-radius:50%}.mat-icon-button i,.mat-icon-button .mat-icon{line-height:24px}.mat-button-ripple.mat-ripple,.mat-button-focus-overlay{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none;border-radius:inherit}.mat-button-ripple.mat-ripple:not(:empty){transform:translateZ(0)}.mat-button-focus-overlay{opacity:0;transition:opacity 200ms cubic-bezier(0.35, 0, 0.25, 1),background-color 200ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable .mat-button-focus-overlay{transition:none}.cdk-high-contrast-active .mat-button-focus-overlay{background-color:#fff}.cdk-high-contrast-black-on-white .mat-button-focus-overlay{background-color:#000}.mat-button-ripple-round{border-radius:50%;z-index:1}.mat-button .mat-button-wrapper>*,.mat-flat-button .mat-button-wrapper>*,.mat-stroked-button .mat-button-wrapper>*,.mat-raised-button .mat-button-wrapper>*,.mat-icon-button .mat-button-wrapper>*,.mat-fab .mat-button-wrapper>*,.mat-mini-fab .mat-button-wrapper>*{vertical-align:middle}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button{display:block;font-size:inherit;width:2.5em;height:2.5em}.cdk-high-contrast-active .mat-button,.cdk-high-contrast-active .mat-flat-button,.cdk-high-contrast-active .mat-raised-button,.cdk-high-contrast-active .mat-icon-button,.cdk-high-contrast-active .mat-fab,.cdk-high-contrast-active .mat-mini-fab{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),e})(),pw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[sC,Tb],Tb]}),e})(),gw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb,sC],Tb]}),e})(),fw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb],Tb]}),e})(),mw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),vw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[sC,Tb,cg,mw],Tb,mw]}),e})();const yw=new Be("mat-chips-default-options"),bw={separatorKeyCodes:[13]};let Cw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Ub,{provide:yw,useValue:bw}]}),e})();function ww(e){return function(t){const n=new _w(e),i=t.lift(n);return n.caught=i}}class _w{constructor(e){this.selector=e}call(e,t){return t.subscribe(new xw(e,this.selector,this.caught))}}class xw extends D{constructor(e,t,n){super(e),this.selector=t,this.caught=n}error(e){if(!this.isStopped){let n;try{n=this.selector(e,this.caught)}catch(t){return void super.error(t)}this._unsubscribeAndRecycle();const i=new k(this,void 0,void 0);this.add(i);const r=R(this,n,void 0,void 0,i);r!==i&&this.add(r)}}}function Iw(e){return t=>t.lift(new Aw(e))}class Aw{constructor(e){this.callback=e}call(e,t){return t.subscribe(new kw(e,this.callback))}}class kw extends g{constructor(e,t){super(e),this.add(new d(t))}}const Sw=["*"];function Ew(e){return Error(`Unable to find icon with the name "${e}"`)}function Ow(e){return Error(`The URL provided to MatIconRegistry was not trusted as a resource URL via Angular's DomSanitizer. Attempted URL was "${e}".`)}function Pw(e){return Error(`The literal provided to MatIconRegistry was not trusted as safe HTML by Angular's DomSanitizer. Attempted literal was "${e}".`)}class Mw{constructor(e,t){this.options=t,e.nodeName?this.svgElement=e:this.url=e}}let Tw=(()=>{class e{constructor(e,t,n,i){this._httpClient=e,this._sanitizer=t,this._errorHandler=i,this._svgIconConfigs=new Map,this._iconSetConfigs=new Map,this._cachedIconsByUrl=new Map,this._inProgressUrlFetches=new Map,this._fontCssClassesByAlias=new Map,this._defaultFontSetClass="material-icons",this._document=n}addSvgIcon(e,t,n){return this.addSvgIconInNamespace("",e,t,n)}addSvgIconLiteral(e,t,n){return this.addSvgIconLiteralInNamespace("",e,t,n)}addSvgIconInNamespace(e,t,n,i){return this._addSvgIconConfig(e,t,new Mw(n,i))}addSvgIconLiteralInNamespace(e,t,n,i){const r=this._sanitizer.sanitize(qi.HTML,n);if(!r)throw Pw(n);const o=this._createSvgElementForSingleIcon(r,i);return this._addSvgIconConfig(e,t,new Mw(o,i))}addSvgIconSet(e,t){return this.addSvgIconSetInNamespace("",e,t)}addSvgIconSetLiteral(e,t){return this.addSvgIconSetLiteralInNamespace("",e,t)}addSvgIconSetInNamespace(e,t,n){return this._addSvgIconSetConfig(e,new Mw(t,n))}addSvgIconSetLiteralInNamespace(e,t,n){const i=this._sanitizer.sanitize(qi.HTML,t);if(!i)throw Pw(t);const r=this._svgElementFromString(i);return this._addSvgIconSetConfig(e,new Mw(r,n))}registerFontClassAlias(e,t=e){return this._fontCssClassesByAlias.set(e,t),this}classNameForFontAlias(e){return this._fontCssClassesByAlias.get(e)||e}setDefaultFontSetClass(e){return this._defaultFontSetClass=e,this}getDefaultFontSetClass(){return this._defaultFontSetClass}getSvgIconFromUrl(e){const t=this._sanitizer.sanitize(qi.RESOURCE_URL,e);if(!t)throw Ow(e);const n=this._cachedIconsByUrl.get(t);return n?Gu(Rw(n)):this._loadSvgIconFromConfig(new Mw(e)).pipe(Vp(e=>this._cachedIconsByUrl.set(t,e)),N(e=>Rw(e)))}getNamedSvgIcon(e,t=""){const n=Dw(t,e),i=this._svgIconConfigs.get(n);if(i)return this._getSvgFromConfig(i);const r=this._iconSetConfigs.get(t);return r?this._getSvgFromIconSetConfigs(e,r):of(Ew(n))}ngOnDestroy(){this._svgIconConfigs.clear(),this._iconSetConfigs.clear(),this._cachedIconsByUrl.clear()}_getSvgFromConfig(e){return e.svgElement?Gu(Rw(e.svgElement)):this._loadSvgIconFromConfig(e).pipe(Vp(t=>e.svgElement=t),N(e=>Rw(e)))}_getSvgFromIconSetConfigs(e,t){const n=this._extractIconWithNameFromAnySet(e,t);return n?Gu(n):ad(t.filter(e=>!e.svgElement).map(e=>this._loadSvgIconSetFromConfig(e).pipe(ww(t=>{const n=this._sanitizer.sanitize(qi.RESOURCE_URL,e.url);return this._errorHandler.handleError(new Error(`Loading icon set URL: ${n} failed: ${t.message}`)),Gu(null)})))).pipe(N(()=>{const n=this._extractIconWithNameFromAnySet(e,t);if(!n)throw Ew(e);return n}))}_extractIconWithNameFromAnySet(e,t){for(let n=t.length-1;n>=0;n--){const i=t[n];if(i.svgElement){const t=this._extractSvgIconFromSet(i.svgElement,e,i.options);if(t)return t}}return null}_loadSvgIconFromConfig(e){return this._fetchIcon(e).pipe(N(t=>this._createSvgElementForSingleIcon(t,e.options)))}_loadSvgIconSetFromConfig(e){return e.svgElement?Gu(e.svgElement):this._fetchIcon(e).pipe(N(t=>(e.svgElement||(e.svgElement=this._svgElementFromString(t)),e.svgElement)))}_createSvgElementForSingleIcon(e,t){const n=this._svgElementFromString(e);return this._setSvgAttributes(n,t),n}_extractSvgIconFromSet(e,t,n){const i=e.querySelector(`[id="${t}"]`);if(!i)return null;const r=i.cloneNode(!0);if(r.removeAttribute("id"),"svg"===r.nodeName.toLowerCase())return this._setSvgAttributes(r,n);if("symbol"===r.nodeName.toLowerCase())return this._setSvgAttributes(this._toSvgElement(r),n);const o=this._svgElementFromString("<svg></svg>");return o.appendChild(r),this._setSvgAttributes(o,n)}_svgElementFromString(e){const t=this._document.createElement("DIV");t.innerHTML=e;const n=t.querySelector("svg");if(!n)throw Error("<svg> tag not found");return n}_toSvgElement(e){const t=this._svgElementFromString("<svg></svg>"),n=e.attributes;for(let i=0;i<n.length;i++){const{name:e,value:r}=n[i];"id"!==e&&t.setAttribute(e,r)}for(let i=0;i<e.childNodes.length;i++)e.childNodes[i].nodeType===this._document.ELEMENT_NODE&&t.appendChild(e.childNodes[i].cloneNode(!0));return t}_setSvgAttributes(e,t){return e.setAttribute("fit",""),e.setAttribute("height","100%"),e.setAttribute("width","100%"),e.setAttribute("preserveAspectRatio","xMidYMid meet"),e.setAttribute("focusable","false"),t&&t.viewBox&&e.setAttribute("viewBox",t.viewBox),e}_fetchIcon(e){var t;const{url:n,options:i}=e,r=null!==(t=null==i?void 0:i.withCredentials)&&void 0!==t&&t;if(!this._httpClient)throw Error("Could not find HttpClient provider for use with Angular Material icons. Please include the HttpClientModule from @angular/common/http in your app imports.");if(null==n)throw Error(`Cannot fetch icon from URL "${n}".`);const o=this._sanitizer.sanitize(qi.RESOURCE_URL,n);if(!o)throw Ow(n);const s=this._inProgressUrlFetches.get(o);if(s)return s;const a=this._httpClient.get(o,{responseType:"text",withCredentials:r}).pipe(Iw(()=>this._inProgressUrlFetches.delete(o)),Q());return this._inProgressUrlFetches.set(o,a),a}_addSvgIconConfig(e,t,n){return this._svgIconConfigs.set(Dw(e,t),n),this}_addSvgIconSetConfig(e,t){const n=this._iconSetConfigs.get(e);return n?n.push(t):this._iconSetConfigs.set(e,[t]),this}}return e.\u0275fac=function(t){return new(t||e)(Ke(up,8),Ke(nd),Ke(Kc,8),Ke(mi))},e.\u0275prov=ce({factory:function(){return new e(Ke(up,8),Ke(nd),Ke(Kc,8),Ke(mi))},token:e,providedIn:"root"}),e})();function Rw(e){return e.cloneNode(!0)}function Dw(e,t){return e+":"+t}class Nw{constructor(e){this._elementRef=e}}const Lw=Db(Nw),Bw=new Be("mat-icon-location",{providedIn:"root",factory:function(){const e=Xe(Kc),t=e?e.location:null;return{getPathname:()=>t?t.pathname+t.search:""}}}),Fw=["clip-path","color-profile","src","cursor","fill","filter","marker","marker-start","marker-mid","marker-end","mask","stroke"],Vw=Fw.map(e=>`[${e}]`).join(", "),$w=/^url\(['"]?#(.*?)['"]?\)$/;let Hw=(()=>{class e extends Lw{constructor(e,t,n,i,r){super(e),this._iconRegistry=t,this._location=i,this._errorHandler=r,this._inline=!1,this._currentIconFetch=d.EMPTY,n||e.nativeElement.setAttribute("aria-hidden","true")}get inline(){return this._inline}set inline(e){this._inline=ig(e)}get fontSet(){return this._fontSet}set fontSet(e){this._fontSet=this._cleanupFontValue(e)}get fontIcon(){return this._fontIcon}set fontIcon(e){this._fontIcon=this._cleanupFontValue(e)}_splitIconName(e){if(!e)return["",""];const t=e.split(":");switch(t.length){case 1:return["",t[0]];case 2:return t;default:throw Error(`Invalid icon name: "${e}"`)}}ngOnChanges(e){const t=e.svgIcon;if(t)if(this._currentIconFetch.unsubscribe(),this.svgIcon){const[e,t]=this._splitIconName(this.svgIcon);this._currentIconFetch=this._iconRegistry.getNamedSvgIcon(t,e).pipe(eg(1)).subscribe(e=>this._setSvgElement(e),n=>{this._errorHandler.handleError(new Error(`Error retrieving icon ${e}:${t}! ${n.message}`))})}else t.previousValue&&this._clearSvgElement();this._usingFontIcon()&&this._updateFontIconClasses()}ngOnInit(){this._usingFontIcon()&&this._updateFontIconClasses()}ngAfterViewChecked(){const e=this._elementsWithExternalReferences;if(e&&e.size){const e=this._location.getPathname();e!==this._previousPath&&(this._previousPath=e,this._prependPathToReferences(e))}}ngOnDestroy(){this._currentIconFetch.unsubscribe(),this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear()}_usingFontIcon(){return!this.svgIcon}_setSvgElement(e){this._clearSvgElement();const t=e.querySelectorAll("style");for(let i=0;i<t.length;i++)t[i].textContent+=" ";const n=this._location.getPathname();this._previousPath=n,this._cacheChildrenWithExternalReferences(e),this._prependPathToReferences(n),this._elementRef.nativeElement.appendChild(e)}_clearSvgElement(){const e=this._elementRef.nativeElement;let t=e.childNodes.length;for(this._elementsWithExternalReferences&&this._elementsWithExternalReferences.clear();t--;){const n=e.childNodes[t];1===n.nodeType&&"svg"!==n.nodeName.toLowerCase()||e.removeChild(n)}}_updateFontIconClasses(){if(!this._usingFontIcon())return;const e=this._elementRef.nativeElement,t=this.fontSet?this._iconRegistry.classNameForFontAlias(this.fontSet):this._iconRegistry.getDefaultFontSetClass();t!=this._previousFontSetClass&&(this._previousFontSetClass&&e.classList.remove(this._previousFontSetClass),t&&e.classList.add(t),this._previousFontSetClass=t),this.fontIcon!=this._previousFontIconClass&&(this._previousFontIconClass&&e.classList.remove(this._previousFontIconClass),this.fontIcon&&e.classList.add(this.fontIcon),this._previousFontIconClass=this.fontIcon)}_cleanupFontValue(e){return"string"==typeof e?e.trim().split(" ")[0]:e}_prependPathToReferences(e){const t=this._elementsWithExternalReferences;t&&t.forEach((t,n)=>{t.forEach(t=>{n.setAttribute(t.name,`url('${e}#${t.value}')`)})})}_cacheChildrenWithExternalReferences(e){const t=e.querySelectorAll(Vw),n=this._elementsWithExternalReferences=this._elementsWithExternalReferences||new Map;for(let i=0;i<t.length;i++)Fw.forEach(e=>{const r=t[i],o=r.getAttribute(e),s=o?o.match($w):null;if(s){let t=n.get(r);t||(t=[],n.set(r,t)),t.push({name:e,value:s[1]})}})}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Tw),ks("aria-hidden"),As(Bw),As(mi))},e.\u0275cmp=ut({type:e,selectors:[["mat-icon"]],hostAttrs:["role","img",1,"mat-icon","notranslate"],hostVars:4,hostBindings:function(e,t){2&e&&ia("mat-icon-inline",t.inline)("mat-icon-no-color","primary"!==t.color&&"accent"!==t.color&&"warn"!==t.color)},inputs:{color:"color",inline:"inline",fontSet:"fontSet",fontIcon:"fontIcon",svgIcon:"svgIcon"},exportAs:["matIcon"],features:[wa,Mt],ngContentSelectors:Sw,decls:1,vars:0,template:function(e,t){1&e&&(Gs(),Zs(0))},styles:[".mat-icon{background-repeat:no-repeat;display:inline-block;fill:currentColor;height:24px;width:24px}.mat-icon.mat-icon-inline{font-size:inherit;height:inherit;line-height:inherit;width:inherit}[dir=rtl] .mat-icon-rtl-mirror{transform:scale(-1, 1)}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon{display:block}.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-prefix .mat-icon-button .mat-icon,.mat-form-field:not(.mat-form-field-appearance-legacy) .mat-form-field-suffix .mat-icon-button .mat-icon{margin:auto}\n"],encapsulation:2,changeDetection:0}),e})(),jw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb],Tb]}),e})(),Ww=(()=>{class e{constructor(){this.changes=new x,this.optionalLabel="Optional"}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();const zw={provide:Ww,deps:[[new ie,new oe,Ww]],useFactory:function(e){return e||new Ww}};let Gw=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[zw,Ub],imports:[[Tb,Sh,lm,pw,cm,jw,sC],Tb]}),e})();function Zw(e,t){}class Kw{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0}}const Xw={dialogContainer:av("dialogContainer",[uv("void, exit",dv({opacity:0,transform:"scale(0.7)"})),uv("enter",dv({transform:"none"})),gv("* => enter",lv("150ms cubic-bezier(0, 0, 0.2, 1)",dv({transform:"none",opacity:1}))),gv("* => void, * => exit",lv("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",dv({opacity:0})))])};function Yw(){throw Error("Attempting to attach dialog content after content is already attached")}let Uw=(()=>{class e extends om{constructor(e,t,n,i,r,o){super(),this._elementRef=e,this._focusTrapFactory=t,this._changeDetectorRef=n,this._config=r,this._focusMonitor=o,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this._state="enter",this._animationStateChanged=new Ol,this.attachDomPortal=e=>(this._portalOutlet.hasAttached()&&Yw(),this._setupFocusTrap(),this._portalOutlet.attachDomPortal(e)),this._ariaLabelledBy=r.ariaLabelledBy||null,this._document=i}attachComponentPortal(e){return this._portalOutlet.hasAttached()&&Yw(),this._setupFocusTrap(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._portalOutlet.hasAttached()&&Yw(),this._setupFocusTrap(),this._portalOutlet.attachTemplatePortal(e)}_recaptureFocus(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}_trapFocus(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}_restoreFocus(){const e=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&e&&"function"==typeof e.focus){const t=this._document.activeElement,n=this._elementRef.nativeElement;t&&t!==this._document.body&&t!==n&&!n.contains(t)||(this._focusMonitor?(this._focusMonitor.focusVia(e,this._closeInteractionType),this._closeInteractionType=null):e.focus())}this._focusTrap&&this._focusTrap.destroy()}_setupFocusTrap(){this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)),this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement,this._elementRef.nativeElement.focus&&Promise.resolve().then(()=>this._elementRef.nativeElement.focus()))}_containsFocus(){const e=this._elementRef.nativeElement,t=this._document.activeElement;return e===t||e.contains(t)}_onAnimationDone(e){"enter"===e.toState?this._trapFocus():"exit"===e.toState&&this._restoreFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_startExitAnimation(){this._state="exit",this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Cg),As(Xo),As(Kc,8),As(Kw),As(Ig))},e.\u0275cmp=ut({type:e,selectors:[["mat-dialog-container"]],viewQuery:function(e,t){var n;1&e&&Hl(am,!0),2&e&&$l(n=Gl())&&(t._portalOutlet=n.first)},hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(e,t){1&e&&Vs("@dialogContainer.start",(function(e){return t._onAnimationStart(e)}))("@dialogContainer.done",(function(e){return t._onAnimationDone(e)})),2&e&&(ws("id",t._id)("role",t._config.role)("aria-labelledby",t._config.ariaLabel?null:t._ariaLabelledBy)("aria-label",t._config.ariaLabel)("aria-describedby",t._config.ariaDescribedBy||null),ba("@dialogContainer",t._state))},features:[wa],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,t){1&e&&xs(0,Zw,0,0,"ng-template",0)},directives:[am],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Xw.dialogContainer]}}),e})(),Jw=0;class qw{constructor(e,t,n="mat-dialog-"+Jw++){this._overlayRef=e,this._containerInstance=t,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new x,this._afterClosed=new x,this._beforeClosed=new x,this._state=0,t._id=n,t._animationStateChanged.pipe(Ku(e=>"done"===e.phaseName&&"enter"===e.toState),eg(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),t._animationStateChanged.pipe(Ku(e=>"done"===e.phaseName&&"exit"===e.toState),eg(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._finishDialogClose()}),e.detachments().subscribe(()=>{this._beforeClosed.next(this._result),this._beforeClosed.complete(),this._afterClosed.next(this._result),this._afterClosed.complete(),this.componentInstance=null,this._overlayRef.dispose()}),e.keydownEvents().pipe(Ku(e=>27===e.keyCode&&!this.disableClose&&!Bp(e))).subscribe(e=>{e.preventDefault(),Qw(this,"keyboard")}),e.backdropClick().subscribe(()=>{this.disableClose?this._containerInstance._recaptureFocus():Qw(this,"mouse")})}close(e){this._result=e,this._containerInstance._animationStateChanged.pipe(Ku(e=>"start"===e.phaseName),eg(1)).subscribe(t=>{this._beforeClosed.next(e),this._beforeClosed.complete(),this._overlayRef.detachBackdrop(),this._closeFallbackTimeout=setTimeout(()=>this._finishDialogClose(),t.totalTime+100)}),this._containerInstance._startExitAnimation(),this._state=1}afterOpened(){return this._afterOpened.asObservable()}afterClosed(){return this._afterClosed.asObservable()}beforeClosed(){return this._beforeClosed.asObservable()}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}updatePosition(e){let t=this._getPositionStrategy();return e&&(e.left||e.right)?e.left?t.left(e.left):t.right(e.right):t.centerHorizontally(),e&&(e.top||e.bottom)?e.top?t.top(e.top):t.bottom(e.bottom):t.centerVertically(),this._overlayRef.updatePosition(),this}updateSize(e="",t=""){return this._getPositionStrategy().width(e).height(t),this._overlayRef.updatePosition(),this}addPanelClass(e){return this._overlayRef.addPanelClass(e),this}removePanelClass(e){return this._overlayRef.removePanelClass(e),this}getState(){return this._state}_finishDialogClose(){this._state=2,this._overlayRef.dispose()}_getPositionStrategy(){return this._overlayRef.getConfig().positionStrategy}}function Qw(e,t,n){return void 0!==e._containerInstance&&(e._containerInstance._closeInteractionType=t),e.close(n)}const e_=new Be("MatDialogData"),t_=new Be("mat-dialog-default-options"),n_=new Be("mat-dialog-scroll-strategy"),i_={provide:n_,deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.block()}};let r_=(()=>{class e{constructor(e,t,n,i,r,o,s){this._overlay=e,this._injector=t,this._defaultOptions=i,this._parentDialog=o,this._overlayContainer=s,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new x,this._afterOpenedAtThisLevel=new x,this._ariaHiddenElements=new Map,this.afterAllClosed=cC(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe(ef(void 0))),this._scrollStrategy=r}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}open(e,t){if((t=function(e,t){return Object.assign(Object.assign({},t),e)}(t,this._defaultOptions||new Kw)).id&&this.getDialogById(t.id))throw Error(`Dialog with id "${t.id}" exists already. The dialog id must be unique.`);const n=this._createOverlay(t),i=this._attachDialogContainer(n,t),r=this._attachDialogContent(e,i,n,t);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(r),r.afterClosed().subscribe(()=>this._removeOpenDialog(r)),this.afterOpened.next(r),r}closeAll(){this._closeDialogs(this.openDialogs)}getDialogById(e){return this.openDialogs.find(t=>t.id===e)}ngOnDestroy(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}_createOverlay(e){const t=this._getOverlayConfig(e);return this._overlay.create(t)}_getOverlayConfig(e){const t=new yC({positionStrategy:this._overlay.position().global(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(t.backdropClass=e.backdropClass),t}_attachDialogContainer(e,t){const n=ds.create({parent:t&&t.viewContainerRef&&t.viewContainerRef.injector||this._injector,providers:[{provide:Kw,useValue:t}]}),i=new nm(Uw,t.viewContainerRef,n,t.componentFactoryResolver);return e.attach(i).instance}_attachDialogContent(e,t,n,i){const r=new qw(n,t,i.id);if(e instanceof al)t.attachTemplatePortal(new im(e,null,{$implicit:i.data,dialogRef:r}));else{const n=this._createInjector(i,r,t),o=t.attachComponentPortal(new nm(e,i.viewContainerRef,n));r.componentInstance=o.instance}return r.updateSize(i.width,i.height).updatePosition(i.position),r}_createInjector(e,t,n){const i=e&&e.viewContainerRef&&e.viewContainerRef.injector,r=[{provide:Uw,useValue:n},{provide:e_,useValue:e.data},{provide:qw,useValue:t}];return!e.direction||i&&i.get(cf,null)||r.push({provide:cf,useValue:{value:e.direction,change:Gu()}}),ds.create({parent:i||this._injector,providers:r})}_removeOpenDialog(e){const t=this.openDialogs.indexOf(e);t>-1&&(this.openDialogs.splice(t,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((e,t)=>{e?t.setAttribute("aria-hidden",e):t.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const t=e.parentElement.children;for(let n=t.length-1;n>-1;n--){let i=t[n];i===e||"SCRIPT"===i.nodeName||"STYLE"===i.nodeName||i.hasAttribute("aria-live")||(this._ariaHiddenElements.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}}}_closeDialogs(e){let t=e.length;for(;t--;)e[t].close()}}return e.\u0275fac=function(t){return new(t||e)(Ke(BC),Ke(ds),Ke(lh,8),Ke(t_,8),Ke(n_),Ke(e,12),Ke(SC))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),o_=(()=>{class e{constructor(e,t,n){this.dialogRef=e,this._elementRef=t,this._dialog=n,this.type="button"}ngOnInit(){this.dialogRef||(this.dialogRef=function(e,t){let n=e.nativeElement.parentElement;for(;n&&!n.classList.contains("mat-dialog-container");)n=n.parentElement;return n?t.find(e=>e.id===n.id):null}(this._elementRef,this._dialog.openDialogs))}ngOnChanges(e){const t=e._matDialogClose||e._matDialogCloseResult;t&&(this.dialogResult=t.currentValue)}_onButtonClick(e){Qw(this.dialogRef,0===e.screenX&&0===e.screenY?"keyboard":"mouse",this.dialogResult)}}return e.\u0275fac=function(t){return new(t||e)(As(qw,8),As(Ba),As(r_))},e.\u0275dir=yt({type:e,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(e,t){1&e&&Fs("click",(function(e){return t._onButtonClick(e)})),2&e&&ws("aria-label",t.ariaLabel||null)("type",t.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[Mt]}),e})(),s_=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),e})(),a_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[r_,i_],imports:[[VC,lm,Tb],Tb]}),e})(),l_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Rp]]}),e})(),c_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Ub],imports:[[l_,$C],l_,$C]}),e})(),h_=(()=>{class e{constructor(){this.changes=new x,this.calendarLabel="Calendar",this.openCalendarLabel="Open calendar",this.prevMonthLabel="Previous month",this.nextMonthLabel="Next month",this.prevYearLabel="Previous year",this.nextYearLabel="Next year",this.prevMultiYearLabel="Previous 20 years",this.nextMultiYearLabel="Next 20 years",this.switchToMonthViewLabel="Choose date",this.switchToMultiYearViewLabel="Choose month and year"}formatYearRange(e,t){return`${e} \u2013 ${t}`}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();class d_{constructor(e,t){this.start=e,this.end=t}}const u_=new Be("MAT_DATE_RANGE_SELECTION_STRATEGY");let p_=(()=>{class e{constructor(e){this._dateAdapter=e}selectionFinished(e,t){let{start:n,end:i}=t;return null==n?n=e:null==i&&e&&this._dateAdapter.compareDate(e,n)>=0?i=e:(n=e,i=null),new d_(n,i)}createPreview(e,t){let n=null,i=null;return t.start&&!t.end&&e&&(n=t.start,i=e),new d_(n,i)}}return e.\u0275fac=function(t){return new(t||e)(Ke(Fb))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const g_={provide:new Be("mat-datepicker-scroll-strategy"),deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let f_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[h_,g_,{provide:u_,useClass:p_}],imports:[[Sh,pw,a_,VC,Sg,lm],mf]}),e})(),m_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb],Tb]}),e})(),v_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),y_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,v_,lm]]}),e})(),b_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Jb,Tb],Jb,Tb]}),e})(),C_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Jb,sC,Tb,aC,Sh],Jb,Tb,aC,m_]}),e})();const w_=["mat-menu-item",""],__=["*"];function x_(e,t){if(1&e){const e=Ns();Os(0,"div",0),Fs("keydown",(function(t){return nn(e),Ws()._handleKeydown(t)}))("click",(function(){return nn(e),Ws().closed.emit("click")}))("@transformMenu.start",(function(t){return nn(e),Ws()._onAnimationStart(t)}))("@transformMenu.done",(function(t){return nn(e),Ws()._onAnimationDone(t)})),Os(1,"div",1),Zs(2),Ps(),Ps()}if(2&e){const e=Ws();Ss("id",e.panelId)("ngClass",e._classList)("@transformMenu",e._panelAnimationState),ws("aria-label",e.ariaLabel||null)("aria-labelledby",e.ariaLabelledby||null)("aria-describedby",e.ariaDescribedby||null)}}const I_={transformMenu:av("transformMenu",[uv("void",dv({opacity:0,transform:"scale(0.8)"})),gv("void => enter",cv([fv(".mat-menu-content, .mat-mdc-menu-content",lv("100ms linear",dv({opacity:1}))),lv("120ms cubic-bezier(0, 0, 0.2, 1)",dv({transform:"scale(1)"}))])),gv("* => void",lv("100ms 25ms linear",dv({opacity:0})))]),fadeInItems:av("fadeInItems",[uv("showing",dv({opacity:1})),gv("void => *",[dv({opacity:0}),lv("400ms 100ms cubic-bezier(0.55, 0, 0.55, 0.2)")])])},A_=new Be("MatMenuContent"),k_=new Be("MAT_MENU_PANEL");class S_{}const E_=Nb(Rb(S_));let O_=(()=>{class e extends E_{constructor(e,t,n,i){super(),this._elementRef=e,this._focusMonitor=n,this._parentMenu=i,this.role="menuitem",this._hovered=new x,this._focused=new x,this._highlighted=!1,this._triggersSubmenu=!1,i&&i.addItem&&i.addItem(this),this._document=t}focus(e="program",t){this._focusMonitor?this._focusMonitor.focusVia(this._getHostElement(),e,t):this._getHostElement().focus(t),this._focused.next(this)}ngAfterViewInit(){this._focusMonitor&&this._focusMonitor.monitor(this._elementRef,!1)}ngOnDestroy(){this._focusMonitor&&this._focusMonitor.stopMonitoring(this._elementRef),this._parentMenu&&this._parentMenu.removeItem&&this._parentMenu.removeItem(this),this._hovered.complete(),this._focused.complete()}_getTabIndex(){return this.disabled?"-1":"0"}_getHostElement(){return this._elementRef.nativeElement}_checkDisabled(e){this.disabled&&(e.preventDefault(),e.stopPropagation())}_handleMouseEnter(){this._hovered.next(this)}getLabel(){const e=this._elementRef.nativeElement,t=this._document?this._document.TEXT_NODE:3;let n="";if(e.childNodes){const i=e.childNodes.length;for(let r=0;r<i;r++)e.childNodes[r].nodeType===t&&(n+=e.childNodes[r].textContent)}return n.trim()}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Kc),As(Ig),As(k_,8))},e.\u0275cmp=ut({type:e,selectors:[["","mat-menu-item",""]],hostAttrs:[1,"mat-focus-indicator"],hostVars:10,hostBindings:function(e,t){1&e&&Fs("click",(function(e){return t._checkDisabled(e)}))("mouseenter",(function(){return t._handleMouseEnter()})),2&e&&(ws("role",t.role)("tabindex",t._getTabIndex())("aria-disabled",t.disabled.toString())("disabled",t.disabled||null),ia("mat-menu-item",!0)("mat-menu-item-highlighted",t._highlighted)("mat-menu-item-submenu-trigger",t._triggersSubmenu))},inputs:{disabled:"disabled",disableRipple:"disableRipple",role:"role"},exportAs:["matMenuItem"],features:[wa],attrs:w_,ngContentSelectors:__,decls:2,vars:2,consts:[["matRipple","",1,"mat-menu-ripple",3,"matRippleDisabled","matRippleTrigger"]],template:function(e,t){1&e&&(Gs(),Zs(0),Ms(1,"div",0)),2&e&&(br(1),Ss("matRippleDisabled",t.disableRipple||t.disabled)("matRippleTrigger",t._getHostElement()))},directives:[oC],encapsulation:2,changeDetection:0}),e})();const P_=new Be("mat-menu-default-options",{providedIn:"root",factory:function(){return{overlapTrigger:!1,xPosition:"after",yPosition:"below",backdropClass:"cdk-overlay-transparent-backdrop"}}});let M_=0,T_=(()=>{class e{constructor(e,t,n){this._elementRef=e,this._ngZone=t,this._defaultOptions=n,this._xPosition=this._defaultOptions.xPosition,this._yPosition=this._defaultOptions.yPosition,this._directDescendantItems=new Ml,this._tabSubscription=d.EMPTY,this._classList={},this._panelAnimationState="void",this._animationDone=new x,this.overlayPanelClass=this._defaultOptions.overlayPanelClass||"",this.backdropClass=this._defaultOptions.backdropClass,this._overlapTrigger=this._defaultOptions.overlapTrigger,this._hasBackdrop=this._defaultOptions.hasBackdrop,this.closed=new Ol,this.close=this.closed,this.panelId="mat-menu-panel-"+M_++}get xPosition(){return this._xPosition}set xPosition(e){Ei()&&"before"!==e&&"after"!==e&&function(){throw Error('xPosition value must be either \'before\' or after\'.\n      Example: <mat-menu xPosition="before" #menu="matMenu"></mat-menu>')}(),this._xPosition=e,this.setPositionClasses()}get yPosition(){return this._yPosition}set yPosition(e){Ei()&&"above"!==e&&"below"!==e&&function(){throw Error('yPosition value must be either \'above\' or below\'.\n      Example: <mat-menu yPosition="above" #menu="matMenu"></mat-menu>')}(),this._yPosition=e,this.setPositionClasses()}get overlapTrigger(){return this._overlapTrigger}set overlapTrigger(e){this._overlapTrigger=ig(e)}get hasBackdrop(){return this._hasBackdrop}set hasBackdrop(e){this._hasBackdrop=ig(e)}set panelClass(e){const t=this._previousPanelClass;t&&t.length&&t.split(" ").forEach(e=>{this._classList[e]=!1}),this._previousPanelClass=e,e&&e.length&&(e.split(" ").forEach(e=>{this._classList[e]=!0}),this._elementRef.nativeElement.className="")}get classList(){return this.panelClass}set classList(e){this.panelClass=e}ngOnInit(){this.setPositionClasses()}ngAfterContentInit(){this._updateDirectDescendants(),this._keyManager=new fg(this._directDescendantItems).withWrap().withTypeAhead(),this._tabSubscription=this._keyManager.tabOut.subscribe(()=>this.closed.emit("tab")),this._directDescendantItems.changes.pipe(ef(this._directDescendantItems),tf(e=>G(...e.map(e=>e._focused)))).subscribe(e=>this._keyManager.updateActiveItem(e))}ngOnDestroy(){this._directDescendantItems.destroy(),this._tabSubscription.unsubscribe(),this.closed.complete()}_hovered(){return this._directDescendantItems.changes.pipe(ef(this._directDescendantItems),tf(e=>G(...e.map(e=>e._hovered))))}addItem(e){}removeItem(e){}_handleKeydown(e){const t=e.keyCode,n=this._keyManager;switch(t){case 27:Bp(e)||(e.preventDefault(),this.closed.emit("keydown"));break;case 37:this.parentMenu&&"ltr"===this.direction&&this.closed.emit("keydown");break;case 39:this.parentMenu&&"rtl"===this.direction&&this.closed.emit("keydown");break;case 36:case 35:Bp(e)||(36===t?n.setFirstItemActive():n.setLastItemActive(),e.preventDefault());break;default:38!==t&&40!==t||n.setFocusOrigin("keyboard"),n.onKeydown(e)}}focusFirstItem(e="program"){this.lazyContent?this._ngZone.onStable.asObservable().pipe(eg(1)).subscribe(()=>this._focusFirstItem(e)):this._focusFirstItem(e)}_focusFirstItem(e){const t=this._keyManager;if(t.setFocusOrigin(e).setFirstItemActive(),!t.activeItem&&this._directDescendantItems.length){let e=this._directDescendantItems.first._getHostElement().parentElement;for(;e;){if("menu"===e.getAttribute("role")){e.focus();break}e=e.parentElement}}}resetActiveItem(){this._keyManager.setActiveItem(-1)}setElevation(e){const t="mat-elevation-z"+Math.min(4+e,24),n=Object.keys(this._classList).find(e=>e.startsWith("mat-elevation-z"));n&&n!==this._previousElevation||(this._previousElevation&&(this._classList[this._previousElevation]=!1),this._classList[t]=!0,this._previousElevation=t)}setPositionClasses(e=this.xPosition,t=this.yPosition){const n=this._classList;n["mat-menu-before"]="before"===e,n["mat-menu-after"]="after"===e,n["mat-menu-above"]="above"===t,n["mat-menu-below"]="below"===t}_startAnimation(){this._panelAnimationState="enter"}_resetAnimation(){this._panelAnimationState="void"}_onAnimationDone(e){this._animationDone.next(e),this._isAnimating=!1}_onAnimationStart(e){this._isAnimating=!0,"enter"===e.toState&&0===this._keyManager.activeItemIndex&&(e.element.scrollTop=0)}_updateDirectDescendants(){this._allItems.changes.pipe(ef(this._allItems)).subscribe(e=>{this._directDescendantItems.reset(e.filter(e=>e._parentMenu===this)),this._directDescendantItems.notifyOnChanges()})}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(mc),As(P_))},e.\u0275dir=yt({type:e,contentQueries:function(e,t,n){var i;1&e&&(zl(n,A_,!0),zl(n,O_,!0),zl(n,O_,!1)),2&e&&($l(i=Gl())&&(t.lazyContent=i.first),$l(i=Gl())&&(t._allItems=i),$l(i=Gl())&&(t.items=i))},viewQuery:function(e,t){var n;1&e&&jl(al,!0),2&e&&$l(n=Gl())&&(t.templateRef=n.first)},inputs:{backdropClass:"backdropClass",xPosition:"xPosition",yPosition:"yPosition",overlapTrigger:"overlapTrigger",hasBackdrop:"hasBackdrop",panelClass:["class","panelClass"],classList:"classList",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{closed:"closed",close:"close"}}),e})(),R_=(()=>{class e extends T_{}return e.\u0275fac=function(t){return D_(t||e)},e.\u0275dir=yt({type:e,features:[wa]}),e})();const D_=ui(R_);let N_=(()=>{class e extends R_{constructor(e,t,n){super(e,t,n)}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(mc),As(P_))},e.\u0275cmp=ut({type:e,selectors:[["mat-menu"]],exportAs:["matMenu"],features:[Ra([{provide:k_,useExisting:R_},{provide:R_,useExisting:e}]),wa],ngContentSelectors:__,decls:1,vars:0,consts:[["tabindex","-1","role","menu",1,"mat-menu-panel",3,"id","ngClass","keydown","click"],[1,"mat-menu-content"]],template:function(e,t){1&e&&(Gs(),xs(0,x_,3,6,"ng-template"))},directives:[fh],styles:['.mat-menu-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;max-height:calc(100vh - 48px);border-radius:4px;outline:0;min-height:64px}.mat-menu-panel.ng-animating{pointer-events:none}.cdk-high-contrast-active .mat-menu-panel{outline:solid 1px}.mat-menu-content:not(:empty){padding-top:8px;padding-bottom:8px}.mat-menu-item{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:48px;height:48px;padding:0 16px;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-item::-moz-focus-inner{border:0}.mat-menu-item[disabled]{cursor:default}[dir=rtl] .mat-menu-item{text-align:right}.mat-menu-item .mat-icon{margin-right:16px;vertical-align:middle}.mat-menu-item .mat-icon svg{vertical-align:top}[dir=rtl] .mat-menu-item .mat-icon{margin-left:16px;margin-right:0}.mat-menu-item[disabled]{pointer-events:none}.cdk-high-contrast-active .mat-menu-item.cdk-program-focused,.cdk-high-contrast-active .mat-menu-item.cdk-keyboard-focused,.cdk-high-contrast-active .mat-menu-item-highlighted{outline:dotted 1px}.mat-menu-item-submenu-trigger{padding-right:32px}.mat-menu-item-submenu-trigger::after{width:0;height:0;border-style:solid;border-width:5px 0 5px 5px;border-color:transparent transparent transparent currentColor;content:"";display:inline-block;position:absolute;top:50%;right:16px;transform:translateY(-50%)}[dir=rtl] .mat-menu-item-submenu-trigger{padding-right:16px;padding-left:32px}[dir=rtl] .mat-menu-item-submenu-trigger::after{right:auto;left:16px;transform:rotateY(180deg) translateY(-50%)}button.mat-menu-item{width:100%}.mat-menu-item .mat-menu-ripple{top:0;left:0;right:0;bottom:0;position:absolute;pointer-events:none}\n'],encapsulation:2,data:{animation:[I_.transformMenu,I_.fadeInItems]},changeDetection:0}),e})();const L_=new Be("mat-menu-scroll-strategy"),B_={provide:L_,deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}},F_=Dp({passive:!0});let V_=(()=>{class e{constructor(e,t,n,i,r,o,s,a){this._overlay=e,this._element=t,this._viewContainerRef=n,this._parentMenu=r,this._menuItemInstance=o,this._dir=s,this._focusMonitor=a,this._overlayRef=null,this._menuOpen=!1,this._closingActionsSubscription=d.EMPTY,this._hoverSubscription=d.EMPTY,this._menuCloseSubscription=d.EMPTY,this._handleTouchStart=()=>this._openedBy="touch",this._openedBy=null,this.restoreFocus=!0,this.menuOpened=new Ol,this.onMenuOpen=this.menuOpened,this.menuClosed=new Ol,this.onMenuClose=this.menuClosed,t.nativeElement.addEventListener("touchstart",this._handleTouchStart,F_),o&&(o._triggersSubmenu=this.triggersSubmenu()),this._scrollStrategy=i}get _deprecatedMatMenuTriggerFor(){return this.menu}set _deprecatedMatMenuTriggerFor(e){this.menu=e}get menu(){return this._menu}set menu(e){e!==this._menu&&(this._menu=e,this._menuCloseSubscription.unsubscribe(),e&&(Ei()&&e===this._parentMenu&&function(){throw Error("matMenuTriggerFor: menu cannot contain its own trigger. Assign a menu that is not a parent of the trigger or move the trigger outside of the menu.")}(),this._menuCloseSubscription=e.close.asObservable().subscribe(e=>{this._destroyMenu(),"click"!==e&&"tab"!==e||!this._parentMenu||this._parentMenu.closed.emit(e)})))}ngAfterContentInit(){this._checkMenu(),this._handleHover()}ngOnDestroy(){this._overlayRef&&(this._overlayRef.dispose(),this._overlayRef=null),this._element.nativeElement.removeEventListener("touchstart",this._handleTouchStart,F_),this._menuCloseSubscription.unsubscribe(),this._closingActionsSubscription.unsubscribe(),this._hoverSubscription.unsubscribe()}get menuOpen(){return this._menuOpen}get dir(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}triggersSubmenu(){return!(!this._menuItemInstance||!this._parentMenu)}toggleMenu(){return this._menuOpen?this.closeMenu():this.openMenu()}openMenu(){if(this._menuOpen)return;this._checkMenu();const e=this._createOverlay(),t=e.getConfig();this._setPosition(t.positionStrategy),t.hasBackdrop=null==this.menu.hasBackdrop?!this.triggersSubmenu():this.menu.hasBackdrop,e.attach(this._getPortal()),this.menu.lazyContent&&this.menu.lazyContent.attach(this.menuData),this._closingActionsSubscription=this._menuClosingActions().subscribe(()=>this.closeMenu()),this._initMenu(),this.menu instanceof R_&&this.menu._startAnimation()}closeMenu(){this.menu.close.emit()}focus(e="program",t){this._focusMonitor?this._focusMonitor.focusVia(this._element,e,t):this._element.nativeElement.focus(t)}_destroyMenu(){if(!this._overlayRef||!this.menuOpen)return;const e=this.menu;this._closingActionsSubscription.unsubscribe(),this._overlayRef.detach(),this._restoreFocus(),e instanceof R_?(e._resetAnimation(),e.lazyContent?e._animationDone.pipe(Ku(e=>"void"===e.toState),eg(1),Yg(e.lazyContent._attached)).subscribe({next:()=>e.lazyContent.detach(),complete:()=>this._setIsMenuOpen(!1)}):this._setIsMenuOpen(!1)):(this._setIsMenuOpen(!1),e.lazyContent&&e.lazyContent.detach())}_initMenu(){this.menu.parentMenu=this.triggersSubmenu()?this._parentMenu:void 0,this.menu.direction=this.dir,this._setMenuElevation(),this._setIsMenuOpen(!0),this.menu.focusFirstItem(this._openedBy||"program")}_setMenuElevation(){if(this.menu.setElevation){let e=0,t=this.menu.parentMenu;for(;t;)e++,t=t.parentMenu;this.menu.setElevation(e)}}_restoreFocus(){this.restoreFocus&&(this._openedBy?this.triggersSubmenu()||this.focus(this._openedBy):this.focus()),this._openedBy=null}_setIsMenuOpen(e){this._menuOpen=e,this._menuOpen?this.menuOpened.emit():this.menuClosed.emit(),this.triggersSubmenu()&&(this._menuItemInstance._highlighted=e)}_checkMenu(){Ei()&&!this.menu&&function(){throw Error('matMenuTriggerFor: must pass in an mat-menu instance.\n\n    Example:\n      <mat-menu #menu="matMenu"></mat-menu>\n      <button [matMenuTriggerFor]="menu"></button>')}()}_createOverlay(){if(!this._overlayRef){const e=this._getOverlayConfig();this._subscribeToPositions(e.positionStrategy),this._overlayRef=this._overlay.create(e),this._overlayRef.keydownEvents().subscribe()}return this._overlayRef}_getOverlayConfig(){return new yC({positionStrategy:this._overlay.position().flexibleConnectedTo(this._element).withLockedPosition().withTransformOriginOn(".mat-menu-panel, .mat-mdc-menu-panel"),backdropClass:this.menu.backdropClass||"cdk-overlay-transparent-backdrop",panelClass:this.menu.overlayPanelClass,scrollStrategy:this._scrollStrategy(),direction:this._dir})}_subscribeToPositions(e){this.menu.setPositionClasses&&e.positionChanges.subscribe(e=>{this.menu.setPositionClasses("start"===e.connectionPair.overlayX?"after":"before","top"===e.connectionPair.overlayY?"below":"above")})}_setPosition(e){let[t,n]="before"===this.menu.xPosition?["end","start"]:["start","end"],[i,r]="above"===this.menu.yPosition?["bottom","top"]:["top","bottom"],[o,s]=[i,r],[a,l]=[t,n],c=0;this.triggersSubmenu()?(l=t="before"===this.menu.xPosition?"start":"end",n=a="end"===t?"start":"end",c="bottom"===i?8:-8):this.menu.overlapTrigger||(o="top"===i?"bottom":"top",s="top"===r?"bottom":"top"),e.withPositions([{originX:t,originY:o,overlayX:a,overlayY:i,offsetY:c},{originX:n,originY:o,overlayX:l,overlayY:i,offsetY:c},{originX:t,originY:s,overlayX:a,overlayY:r,offsetY:-c},{originX:n,originY:s,overlayX:l,overlayY:r,offsetY:-c}])}_menuClosingActions(){const e=this._overlayRef.backdropClick(),t=this._overlayRef.detachments();return G(e,this._parentMenu?this._parentMenu.closed:Gu(),this._parentMenu?this._parentMenu._hovered().pipe(Ku(e=>e!==this._menuItemInstance),Ku(()=>this._menuOpen)):Gu(),t)}_handleMousedown(e){wg(e)||(this._openedBy=0===e.button?"mouse":null,this.triggersSubmenu()&&e.preventDefault())}_handleKeydown(e){const t=e.keyCode;this.triggersSubmenu()&&(39===t&&"ltr"===this.dir||37===t&&"rtl"===this.dir)&&this.openMenu()}_handleClick(e){this.triggersSubmenu()?(e.stopPropagation(),this.openMenu()):this.toggleMenu()}_handleHover(){this.triggersSubmenu()&&(this._hoverSubscription=this._parentMenu._hovered().pipe(Ku(e=>e===this._menuItemInstance&&!e.disabled),HC(0,$g)).subscribe(()=>{this._openedBy="mouse",this.menu instanceof R_&&this.menu._isAnimating?this.menu._animationDone.pipe(eg(1),HC(0,$g),Yg(this._parentMenu._hovered())).subscribe(()=>this.openMenu()):this.openMenu()}))}_getPortal(){return this._portal&&this._portal.templateRef===this.menu.templateRef||(this._portal=new im(this.menu.templateRef,this._viewContainerRef)),this._portal}}return e.\u0275fac=function(t){return new(t||e)(As(BC),As(Ba),As(cl),As(L_),As(R_,8),As(O_,10),As(cf,8),As(Ig))},e.\u0275dir=yt({type:e,selectors:[["","mat-menu-trigger-for",""],["","matMenuTriggerFor",""]],hostAttrs:["aria-haspopup","true",1,"mat-menu-trigger"],hostVars:2,hostBindings:function(e,t){1&e&&Fs("mousedown",(function(e){return t._handleMousedown(e)}))("keydown",(function(e){return t._handleKeydown(e)}))("click",(function(e){return t._handleClick(e)})),2&e&&ws("aria-expanded",t.menuOpen||null)("aria-controls",t.menuOpen?t.menu.panelId:null)},inputs:{restoreFocus:["matMenuTriggerRestoreFocus","restoreFocus"],_deprecatedMatMenuTriggerFor:["mat-menu-trigger-for","_deprecatedMatMenuTriggerFor"],menu:["matMenuTriggerFor","menu"],menuData:["matMenuTriggerData","menuData"]},outputs:{menuOpened:"menuOpened",onMenuOpen:"onMenuOpen",menuClosed:"menuClosed",onMenuClose:"onMenuClose"},exportAs:["matMenuTrigger"]}),e})(),$_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[B_],imports:[Tb]}),e})(),H_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[B_],imports:[[Sh,Tb,sC,VC,$_],mf,Tb,$_]}),e})();const j_={provide:new Be("mat-select-scroll-strategy"),deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.reposition()}};let W_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[j_],imports:[[Sh,VC,lC,Tb],mf,$C,lC,Tb]}),e})();const z_={tooltipState:av("state",[uv("initial, void, hidden",dv({opacity:0,transform:"scale(0)"})),uv("visible",dv({transform:"scale(1)"})),gv("* => visible",lv("200ms cubic-bezier(0, 0, 0.2, 1)",pv([dv({opacity:0,transform:"scale(0)",offset:0}),dv({opacity:.5,transform:"scale(0.99)",offset:.5}),dv({opacity:1,transform:"scale(1)",offset:1})]))),gv("* => hidden",lv("100ms cubic-bezier(0, 0, 0.2, 1)",dv({opacity:0})))])},G_=Dp({passive:!0});function Z_(e){return Error(`Tooltip position "${e}" is invalid.`)}const K_=new Be("mat-tooltip-scroll-strategy"),X_={provide:K_,deps:[BC],useFactory:function(e){return()=>e.scrollStrategies.reposition({scrollThrottle:20})}},Y_=new Be("mat-tooltip-default-options",{providedIn:"root",factory:function(){return{showDelay:0,hideDelay:0,touchendHideDelay:1500}}});let U_=(()=>{class e{constructor(e,t,n,i,r,o,s,a,l,c,h){this._overlay=e,this._elementRef=t,this._scrollDispatcher=n,this._viewContainerRef=i,this._ngZone=r,this._platform=o,this._ariaDescriber=s,this._focusMonitor=a,this._dir=c,this._defaultOptions=h,this._position="below",this._disabled=!1,this._viewInitialized=!1,this._pointerExitEventsInitialized=!1,this.showDelay=this._defaultOptions.showDelay,this.hideDelay=this._defaultOptions.hideDelay,this.touchGestures="auto",this._message="",this._passiveListeners=[],this._destroyed=new x,this._handleKeydown=e=>{this._isTooltipVisible()&&27===e.keyCode&&!Bp(e)&&(e.preventDefault(),e.stopPropagation(),this._ngZone.run(()=>this.hide(0)))},this._scrollStrategy=l,h&&(h.position&&(this.position=h.position),h.touchGestures&&(this.touchGestures=h.touchGestures)),r.runOutsideAngular(()=>{t.nativeElement.addEventListener("keydown",this._handleKeydown)})}get position(){return this._position}set position(e){e!==this._position&&(this._position=e,this._overlayRef&&(this._updatePosition(),this._tooltipInstance&&this._tooltipInstance.show(0),this._overlayRef.updatePosition()))}get disabled(){return this._disabled}set disabled(e){this._disabled=ig(e),this._disabled?this.hide(0):this._setupPointerEnterEventsIfNeeded()}get message(){return this._message}set message(e){this._ariaDescriber.removeDescription(this._elementRef.nativeElement,this._message),this._message=null!=e?(""+e).trim():"",!this._message&&this._isTooltipVisible()?this.hide(0):(this._setupPointerEnterEventsIfNeeded(),this._updateTooltipMessage(),this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>{this._ariaDescriber.describe(this._elementRef.nativeElement,this.message)})}))}get tooltipClass(){return this._tooltipClass}set tooltipClass(e){this._tooltipClass=e,this._tooltipInstance&&this._setTooltipClass(this._tooltipClass)}ngAfterViewInit(){this._viewInitialized=!0,this._setupPointerEnterEventsIfNeeded(),this._focusMonitor.monitor(this._elementRef).pipe(Yg(this._destroyed)).subscribe(e=>{e?"keyboard"===e&&this._ngZone.run(()=>this.show()):this._ngZone.run(()=>this.hide(0))})}ngOnDestroy(){const e=this._elementRef.nativeElement;clearTimeout(this._touchstartTimeout),this._overlayRef&&(this._overlayRef.dispose(),this._tooltipInstance=null),e.removeEventListener("keydown",this._handleKeydown),this._passiveListeners.forEach(([t,n])=>{e.removeEventListener(t,n,G_)}),this._passiveListeners.length=0,this._destroyed.next(),this._destroyed.complete(),this._ariaDescriber.removeDescription(e,this.message),this._focusMonitor.stopMonitoring(e)}show(e=this.showDelay){if(this.disabled||!this.message||this._isTooltipVisible()&&!this._tooltipInstance._showTimeoutId&&!this._tooltipInstance._hideTimeoutId)return;const t=this._createOverlay();this._detach(),this._portal=this._portal||new nm(J_,this._viewContainerRef),this._tooltipInstance=t.attach(this._portal).instance,this._tooltipInstance.afterHidden().pipe(Yg(this._destroyed)).subscribe(()=>this._detach()),this._setTooltipClass(this._tooltipClass),this._updateTooltipMessage(),this._tooltipInstance.show(e)}hide(e=this.hideDelay){this._tooltipInstance&&this._tooltipInstance.hide(e)}toggle(){this._isTooltipVisible()?this.hide():this.show()}_isTooltipVisible(){return!!this._tooltipInstance&&this._tooltipInstance.isVisible()}_createOverlay(){if(this._overlayRef)return this._overlayRef;const e=this._scrollDispatcher.getAncestorScrollContainers(this._elementRef),t=this._overlay.position().flexibleConnectedTo(this._elementRef).withTransformOriginOn(".mat-tooltip").withFlexibleDimensions(!1).withViewportMargin(8).withScrollableContainers(e);return t.positionChanges.pipe(Yg(this._destroyed)).subscribe(e=>{this._tooltipInstance&&e.scrollableViewProperties.isOverlayClipped&&this._tooltipInstance.isVisible()&&this._ngZone.run(()=>this.hide(0))}),this._overlayRef=this._overlay.create({direction:this._dir,positionStrategy:t,panelClass:"mat-tooltip-panel",scrollStrategy:this._scrollStrategy()}),this._updatePosition(),this._overlayRef.detachments().pipe(Yg(this._destroyed)).subscribe(()=>this._detach()),this._overlayRef}_detach(){this._overlayRef&&this._overlayRef.hasAttached()&&this._overlayRef.detach(),this._tooltipInstance=null}_updatePosition(){const e=this._overlayRef.getConfig().positionStrategy,t=this._getOrigin(),n=this._getOverlayPosition();e.withPositions([Object.assign(Object.assign({},t.main),n.main),Object.assign(Object.assign({},t.fallback),n.fallback)])}_getOrigin(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;if("above"==t||"below"==t)n={originX:"center",originY:"above"==t?"top":"bottom"};else if("before"==t||"left"==t&&e||"right"==t&&!e)n={originX:"start",originY:"center"};else{if(!("after"==t||"right"==t&&e||"left"==t&&!e))throw Z_(t);n={originX:"end",originY:"center"}}const{x:i,y:r}=this._invertPosition(n.originX,n.originY);return{main:n,fallback:{originX:i,originY:r}}}_getOverlayPosition(){const e=!this._dir||"ltr"==this._dir.value,t=this.position;let n;if("above"==t)n={overlayX:"center",overlayY:"bottom"};else if("below"==t)n={overlayX:"center",overlayY:"top"};else if("before"==t||"left"==t&&e||"right"==t&&!e)n={overlayX:"end",overlayY:"center"};else{if(!("after"==t||"right"==t&&e||"left"==t&&!e))throw Z_(t);n={overlayX:"start",overlayY:"center"}}const{x:i,y:r}=this._invertPosition(n.overlayX,n.overlayY);return{main:n,fallback:{overlayX:i,overlayY:r}}}_updateTooltipMessage(){this._tooltipInstance&&(this._tooltipInstance.message=this.message,this._tooltipInstance._markForCheck(),this._ngZone.onMicrotaskEmpty.asObservable().pipe(eg(1),Yg(this._destroyed)).subscribe(()=>{this._tooltipInstance&&this._overlayRef.updatePosition()}))}_setTooltipClass(e){this._tooltipInstance&&(this._tooltipInstance.tooltipClass=e,this._tooltipInstance._markForCheck())}_invertPosition(e,t){return"above"===this.position||"below"===this.position?"top"===t?t="bottom":"bottom"===t&&(t="top"):"end"===e?e="start":"start"===e&&(e="end"),{x:e,y:t}}_setupPointerEnterEventsIfNeeded(){!this._disabled&&this.message&&this._viewInitialized&&!this._passiveListeners.length&&(this._platformSupportsMouseEvents()?this._passiveListeners.push(["mouseenter",()=>{this._setupPointerExitEventsIfNeeded(),this.show()}]):"off"!==this.touchGestures&&(this._disableNativeGesturesIfNecessary(),this._passiveListeners.push(["touchstart",()=>{this._setupPointerExitEventsIfNeeded(),clearTimeout(this._touchstartTimeout),this._touchstartTimeout=setTimeout(()=>this.show(),500)}])),this._addListeners(this._passiveListeners))}_setupPointerExitEventsIfNeeded(){if(this._pointerExitEventsInitialized)return;this._pointerExitEventsInitialized=!0;const e=[];if(this._platformSupportsMouseEvents())e.push(["mouseleave",()=>this.hide()]);else if("off"!==this.touchGestures){this._disableNativeGesturesIfNecessary();const t=()=>{clearTimeout(this._touchstartTimeout),this.hide(this._defaultOptions.touchendHideDelay)};e.push(["touchend",t],["touchcancel",t])}this._addListeners(e),this._passiveListeners.push(...e)}_addListeners(e){e.forEach(([e,t])=>{this._elementRef.nativeElement.addEventListener(e,t,G_)})}_platformSupportsMouseEvents(){return!this._platform.IOS&&!this._platform.ANDROID}_disableNativeGesturesIfNecessary(){const e=this.touchGestures;if("off"!==e){const t=this._elementRef.nativeElement,n=t.style;("on"===e||"INPUT"!==t.nodeName&&"TEXTAREA"!==t.nodeName)&&(n.userSelect=n.msUserSelect=n.webkitUserSelect=n.MozUserSelect="none"),"on"!==e&&t.draggable||(n.webkitUserDrag="none"),n.touchAction="none",n.webkitTapHighlightColor="transparent"}}}return e.\u0275fac=function(t){return new(t||e)(As(BC),As(Ba),As(pf),As(cl),As(mc),As(Tp),As(gg),As(Ig),As(K_),As(cf,8),As(Y_,8))},e.\u0275dir=yt({type:e,selectors:[["","matTooltip",""]],hostAttrs:[1,"mat-tooltip-trigger"],inputs:{showDelay:["matTooltipShowDelay","showDelay"],hideDelay:["matTooltipHideDelay","hideDelay"],touchGestures:["matTooltipTouchGestures","touchGestures"],position:["matTooltipPosition","position"],disabled:["matTooltipDisabled","disabled"],message:["matTooltip","message"],tooltipClass:["matTooltipClass","tooltipClass"]},exportAs:["matTooltip"]}),e})(),J_=(()=>{class e{constructor(e,t){this._changeDetectorRef=e,this._breakpointObserver=t,this._visibility="initial",this._closeOnInteraction=!1,this._onHide=new x,this._isHandset=this._breakpointObserver.observe("(max-width: 599.99px) and (orientation: portrait), (max-width: 959.99px) and (orientation: landscape)")}show(e){this._hideTimeoutId&&(clearTimeout(this._hideTimeoutId),this._hideTimeoutId=null),this._closeOnInteraction=!0,this._showTimeoutId=setTimeout(()=>{this._visibility="visible",this._showTimeoutId=null,this._markForCheck()},e)}hide(e){this._showTimeoutId&&(clearTimeout(this._showTimeoutId),this._showTimeoutId=null),this._hideTimeoutId=setTimeout(()=>{this._visibility="hidden",this._hideTimeoutId=null,this._markForCheck()},e)}afterHidden(){return this._onHide.asObservable()}isVisible(){return"visible"===this._visibility}ngOnDestroy(){this._onHide.complete()}_animationStart(){this._closeOnInteraction=!1}_animationDone(e){const t=e.toState;"hidden"!==t||this.isVisible()||this._onHide.next(),"visible"!==t&&"hidden"!==t||(this._closeOnInteraction=!0)}_handleBodyInteraction(){this._closeOnInteraction&&this.hide(0)}_markForCheck(){this._changeDetectorRef.markForCheck()}}return e.\u0275fac=function(t){return new(t||e)(As(Xo),As(rw))},e.\u0275cmp=ut({type:e,selectors:[["mat-tooltip-component"]],hostAttrs:["aria-hidden","true"],hostVars:2,hostBindings:function(e,t){1&e&&Fs("click",(function(){return t._handleBodyInteraction()}),!1,Kn),2&e&&na("zoom","visible"===t._visibility?1:null)},decls:3,vars:7,consts:[[1,"mat-tooltip",3,"ngClass"]],template:function(e,t){var n;1&e&&(Os(0,"div",0),Fs("@state.start",(function(){return t._animationStart()}))("@state.done",(function(e){return t._animationDone(e)})),Sl(1,"async"),ga(2),Ps()),2&e&&(ia("mat-tooltip-handset",null==(n=El(1,5,t._isHandset))?null:n.matches),Ss("ngClass",t.tooltipClass)("@state",t._visibility),br(2),fa(t.message))},directives:[fh],pipes:[kh],styles:[".mat-tooltip-panel{pointer-events:none !important}.mat-tooltip{color:#fff;border-radius:4px;margin:14px;max-width:250px;padding-left:8px;padding-right:8px;overflow:hidden;text-overflow:ellipsis}.cdk-high-contrast-active .mat-tooltip{outline:solid 1px}.mat-tooltip-handset{margin:24px;padding-left:16px;padding-right:16px}\n"],encapsulation:2,data:{animation:[z_.tooltipState]},changeDetection:0}),e})(),q_=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[X_],imports:[[Sg,Sh,VC,Tb],Tb,mf]}),e})(),Q_=(()=>{class e{constructor(){this.changes=new x,this.itemsPerPageLabel="Items per page:",this.nextPageLabel="Next page",this.previousPageLabel="Previous page",this.firstPageLabel="First page",this.lastPageLabel="Last page",this.getRangeLabel=(e,t,n)=>{if(0==n||0==t)return"0 of "+n;const i=e*t;return`${i+1} \u2013 ${i<(n=Math.max(n,0))?Math.min(i+t,n):i+t} of ${n}`}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();const ex={provide:Q_,deps:[[new ie,new oe,Q_]],useFactory:function(e){return e||new Q_}};let tx=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[ex],imports:[[Sh,pw,W_,q_]]}),e})(),nx=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,Tb],Tb]}),e})(),ix=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb,Sh],Tb]}),e})(),rx=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[sC,Tb],Tb]}),e})();const ox=["*"];function sx(e,t){if(1&e){const e=Ns();Os(0,"div",2),Fs("click",(function(){return nn(e),Ws()._onBackdropClicked()})),Ps()}2&e&&ia("mat-drawer-shown",Ws()._isShowingBackdrop())}function ax(e,t){1&e&&(Os(0,"mat-drawer-content"),Zs(1,2),Ps())}const lx=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],cx=["mat-drawer","mat-drawer-content","*"];function hx(e,t){if(1&e){const e=Ns();Os(0,"div",2),Fs("click",(function(){return nn(e),Ws()._onBackdropClicked()})),Ps()}2&e&&ia("mat-drawer-shown",Ws()._isShowingBackdrop())}function dx(e,t){1&e&&(Os(0,"mat-sidenav-content",3),Zs(1,2),Ps())}const ux=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],px=["mat-sidenav","mat-sidenav-content","*"],gx=".mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n",fx={transformDrawer:av("transform",[uv("open, open-instant",dv({transform:"none",visibility:"visible"})),uv("void",dv({"box-shadow":"none",visibility:"hidden"})),gv("void => open-instant",lv("0ms")),gv("void <=> open, open-instant => void",lv("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])};function mx(e){throw Error(`A drawer was already declared for 'position="${e}"'`)}const vx=new Be("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function(){return!1}}),yx=new Be("MAT_DRAWER_CONTAINER");let bx=(()=>{class e extends gf{constructor(e,t,n,i,r){super(n,i,r),this._changeDetectorRef=e,this._container=t}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return e.\u0275fac=function(t){return new(t||e)(As(Xo),As(_e(()=>wx)),As(Ba),As(pf),As(mc))},e.\u0275cmp=ut({type:e,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,t){2&e&&na("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[wa],ngContentSelectors:ox,decls:1,vars:0,template:function(e,t){1&e&&(Gs(),Zs(0))},encapsulation:2,changeDetection:0}),e})(),Cx=(()=>{class e{constructor(e,t,n,i,r,o,s){this._elementRef=e,this._focusTrapFactory=t,this._focusMonitor=n,this._platform=i,this._ngZone=r,this._doc=o,this._container=s,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new x,this._animationEnd=new x,this._animationState="void",this.openedChange=new Ol(!0),this._openedStream=this.openedChange.pipe(Ku(e=>e),N(()=>{})),this._closedStream=this.openedChange.pipe(Ku(e=>!e),N(()=>{})),this._destroyed=new x,this.onPositionChanged=new Ol,this._modeChanged=new x,this.openedChange.subscribe(e=>{e?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus()}),this._ngZone.runOutsideAngular(()=>{Og(this._elementRef.nativeElement,"keydown").pipe(Ku(e=>27===e.keyCode&&!this.disableClose&&!Bp(e)),Yg(this._destroyed)).subscribe(e=>this._ngZone.run(()=>{this.close(),e.stopPropagation(),e.preventDefault()}))}),this._animationEnd.pipe(function(e,t){return t=>t.lift(new jg(e,void 0))}((e,t)=>e.fromState===t.fromState&&e.toState===t.toState)).subscribe(e=>{const{fromState:t,toState:n}=e;(0===n.indexOf("open")&&"void"===t||"void"===n&&0===t.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!=this._position&&(this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=ig(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"!==this.mode:e}set autoFocus(e){this._autoFocus=ig(e)}get opened(){return this._opened}set opened(e){this.toggle(ig(e))}get openedStart(){return this._animationStarted.pipe(Ku(e=>e.fromState!==e.toState&&0===e.toState.indexOf("open")),N(()=>{}))}get closedStart(){return this._animationStarted.pipe(Ku(e=>e.fromState!==e.toState&&"void"===e.toState),N(()=>{}))}_takeFocus(){this.autoFocus&&this._focusTrap&&this._focusTrap.focusInitialElementWhenReady().then(e=>{e||"function"!=typeof this._elementRef.nativeElement.focus||this._elementRef.nativeElement.focus()})}_restoreFocus(){this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,this._openedVia):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null,this._openedVia=null)}_isFocusWithinDrawer(){var e;const t=null===(e=this._doc)||void 0===e?void 0:e.activeElement;return!!t&&this._elementRef.nativeElement.contains(t)}ngAfterContentInit(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState()}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0)}toggle(e=!this.opened,t){return this._setOpen(e,!e&&this._isFocusWithinDrawer(),t)}_setOpen(e,t,n="program"){return this._opened=e,e?(this._animationState=this._enableAnimations?"open":"open-instant",this._openedVia=n):(this._animationState="void",t&&this._restoreFocus()),this._updateFocusTrapState(),new Promise(e=>{this.openedChange.pipe(eg(1)).subscribe(t=>e(t?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_animationStartListener(e){this._animationStarted.next(e)}_animationDoneListener(e){this._animationEnd.next(e)}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Cg),As(Ig),As(Tp),As(mc),As(Kc,8),As(yx,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-drawer"]],hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,t){1&e&&Vs("@transform.start",(function(e){return t._animationStartListener(e)}))("@transform.done",(function(e){return t._animationDoneListener(e)})),2&e&&(ws("align",null),ba("@transform",t._animationState),ia("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",_closedStream:"closed",onPositionChanged:"positionChanged",openedStart:"openedStart",closedStart:"closedStart"},exportAs:["matDrawer"],ngContentSelectors:ox,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(Gs(),Os(0,"div",0),Zs(1),Ps())},encapsulation:2,data:{animation:[fx.transformDrawer]},changeDetection:0}),e})(),wx=(()=>{class e{constructor(e,t,n,i,r,o=!1,s){this._dir=e,this._element=t,this._ngZone=n,this._changeDetectorRef=i,this._animationMode=s,this._drawers=new Ml,this.backdropClick=new Ol,this._destroyed=new x,this._doCheckSubject=new x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new x,e&&e.change.pipe(Yg(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),r.change().pipe(Yg(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=o}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=ig(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:ig(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe(ef(this._allDrawers),Yg(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(e=>!e._container||e._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe(ef(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe(Kp(10),Yg(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,t=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const n=this._left._getWidth();e+=n,t-=n}if(this._right&&this._right.opened)if("side"==this._right.mode)t+=this._right._getWidth();else if("push"==this._right.mode){const n=this._right._getWidth();t+=n,e-=n}e=e||null,t=t||null,e===this._contentMargins.left&&t===this._contentMargins.right||(this._contentMargins={left:e,right:t},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe(Ku(e=>e.fromState!==e.toState),Yg(this._drawers.changes)).subscribe(e=>{"open-instant"!==e.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe(Yg(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){e&&e.onPositionChanged.pipe(Yg(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.asObservable().pipe(eg(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe(Yg(G(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const t=this._element.nativeElement.classList,n="mat-drawer-container-has-open";e?t.add(n):t.remove(n)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?(null!=this._end&&mx("end"),this._end=e):(null!=this._start&&mx("start"),this._start=e)}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return e.\u0275fac=function(t){return new(t||e)(As(cf,8),As(Ba),As(mc),As(Xo),As(ff),As(vx),As(Sb,8))},e.\u0275cmp=ut({type:e,selectors:[["mat-drawer-container"]],contentQueries:function(e,t,n){var i;1&e&&(zl(n,bx,!0),zl(n,Cx,!0)),2&e&&($l(i=Gl())&&(t._content=i.first),$l(i=Gl())&&(t._allDrawers=i))},viewQuery:function(e,t){var n;1&e&&jl(bx,!0),2&e&&$l(n=Gl())&&(t._userContent=n.first)},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,t){2&e&&ia("mat-drawer-container-explicit-backdrop",t._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[Ra([{provide:yx,useExisting:e}])],ngContentSelectors:cx,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,t){1&e&&(Gs(lx),xs(0,sx,1,2,"div",0),Zs(1),Zs(2,1),xs(3,ax,2,0,"mat-drawer-content",1)),2&e&&(Ss("ngIf",t.hasBackdrop),br(3),Ss("ngIf",!t._content))},directives:[bh,bx],styles:[gx],encapsulation:2,changeDetection:0}),e})(),_x=(()=>{class e extends bx{constructor(e,t,n,i,r){super(e,t,n,i,r)}}return e.\u0275fac=function(t){return new(t||e)(As(Xo),As(_e(()=>Ax)),As(Ba),As(pf),As(mc))},e.\u0275cmp=ut({type:e,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,t){2&e&&na("margin-left",t._container._contentMargins.left,"px")("margin-right",t._container._contentMargins.right,"px")},features:[wa],ngContentSelectors:ox,decls:1,vars:0,template:function(e,t){1&e&&(Gs(),Zs(0))},encapsulation:2,changeDetection:0}),e})(),xx=(()=>{class e extends Cx{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=ig(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=rg(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=rg(e)}}return e.\u0275fac=function(t){return Ix(t||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,t){2&e&&(ws("align",null),na("top",t.fixedInViewport?t.fixedTopGap:null,"px")("bottom",t.fixedInViewport?t.fixedBottomGap:null,"px"),ia("mat-drawer-end","end"===t.position)("mat-drawer-over","over"===t.mode)("mat-drawer-push","push"===t.mode)("mat-drawer-side","side"===t.mode)("mat-drawer-opened",t.opened)("mat-sidenav-fixed",t.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[wa],ngContentSelectors:ox,decls:2,vars:0,consts:[[1,"mat-drawer-inner-container"]],template:function(e,t){1&e&&(Gs(),Os(0,"div",0),Zs(1),Ps())},encapsulation:2,data:{animation:[fx.transformDrawer]},changeDetection:0}),e})();const Ix=ui(xx);let Ax=(()=>{class e extends wx{}return e.\u0275fac=function(t){return kx(t||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-sidenav-container"]],contentQueries:function(e,t,n){var i;1&e&&(zl(n,_x,!0),zl(n,xx,!0)),2&e&&($l(i=Gl())&&(t._content=i.first),$l(i=Gl())&&(t._allDrawers=i))},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,t){2&e&&ia("mat-drawer-container-explicit-backdrop",t._backdropOverride)},exportAs:["matSidenavContainer"],features:[Ra([{provide:yx,useExisting:e}]),wa],ngContentSelectors:px,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],["cdkScrollable","",4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"],["cdkScrollable",""]],template:function(e,t){1&e&&(Gs(ux),xs(0,hx,1,2,"div",0),Zs(1),Zs(2,1),xs(3,dx,2,0,"mat-sidenav-content",1)),2&e&&(Ss("ngIf",t.hasBackdrop),br(3),Ss("ngIf",!t._content))},directives:[bh,_x,gf],styles:[gx],encapsulation:2,changeDetection:0}),e})();const kx=ui(Ax);let Sx=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,Tb,Rp,mf],mf,Tb]}),e})(),Ex=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,Tb],Tb]}),e})(),Ox=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)}}),e})(),Px=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Ox,sC,Tb,cg],Ox,Tb]}),e})(),Mx=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[VC,lm,Sh,pw,Tb],Tb]}),e})(),Tx=(()=>{class e{constructor(){this.changes=new x,this.sortButtonLabel=e=>"Change sorting for "+e}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})();const Rx={provide:Tx,deps:[[new ie,new oe,Tx]],useFactory:function(e){return e||new Tx}};let Dx=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[Rx],imports:[[Sh]]}),e})();const Nx=[[["caption"]],[["colgroup"],["col"]]],Lx=["caption","colgroup, col"];let Bx=(()=>{class e extends Gm{constructor(){super(...arguments),this.stickyCssClass="mat-table-sticky",this.needsPositionStickyOnElement=!1}}return e.\u0275fac=function(t){return Fx(t||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-table"],["table","mat-table",""]],hostAttrs:[1,"mat-table"],exportAs:["matTable"],features:[Ra([{provide:Gm,useExisting:e},{provide:gm,useExisting:e},Am]),wa],ngContentSelectors:Lx,decls:6,vars:0,consts:[["headerRowOutlet",""],["rowOutlet",""],["noDataRowOutlet",""],["footerRowOutlet",""]],template:function(e,t){1&e&&(Gs(Nx),Zs(0),Zs(1,1),Ds(2,0),Ds(3,1),Ds(4,2),Ds(5,3))},directives:[jm,Hm,zm,Wm],styles:['mat-table{display:block}mat-header-row{min-height:56px}mat-row,mat-footer-row{min-height:48px}mat-row,mat-header-row,mat-footer-row{display:flex;border-width:0;border-bottom-width:1px;border-style:solid;align-items:center;box-sizing:border-box}mat-row::after,mat-header-row::after,mat-footer-row::after{display:inline-block;min-height:inherit;content:""}mat-cell:first-of-type,mat-header-cell:first-of-type,mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] mat-cell:first-of-type,[dir=rtl] mat-header-cell:first-of-type,[dir=rtl] mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}mat-cell:last-of-type,mat-header-cell:last-of-type,mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] mat-cell:last-of-type,[dir=rtl] mat-header-cell:last-of-type,[dir=rtl] mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}mat-cell,mat-header-cell,mat-footer-cell{flex:1;display:flex;align-items:center;overflow:hidden;word-wrap:break-word;min-height:inherit}table.mat-table{border-spacing:0}tr.mat-header-row{height:56px}tr.mat-row,tr.mat-footer-row{height:48px}th.mat-header-cell{text-align:left}[dir=rtl] th.mat-header-cell{text-align:right}th.mat-header-cell,td.mat-cell,td.mat-footer-cell{padding:0;border-bottom-width:1px;border-bottom-style:solid}th.mat-header-cell:first-of-type,td.mat-cell:first-of-type,td.mat-footer-cell:first-of-type{padding-left:24px}[dir=rtl] th.mat-header-cell:first-of-type,[dir=rtl] td.mat-cell:first-of-type,[dir=rtl] td.mat-footer-cell:first-of-type{padding-left:0;padding-right:24px}th.mat-header-cell:last-of-type,td.mat-cell:last-of-type,td.mat-footer-cell:last-of-type{padding-right:24px}[dir=rtl] th.mat-header-cell:last-of-type,[dir=rtl] td.mat-cell:last-of-type,[dir=rtl] td.mat-footer-cell:last-of-type{padding-right:0;padding-left:24px}.mat-table-sticky{position:-webkit-sticky;position:sticky}\n'],encapsulation:2}),e})();const Fx=ui(Bx);let Vx=(()=>{class e extends fm{}return e.\u0275fac=function(t){return $x(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matCellDef",""]],features:[Ra([{provide:fm,useExisting:e}]),wa]}),e})();const $x=ui(Vx);let Hx=(()=>{class e extends mm{}return e.\u0275fac=function(t){return jx(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matHeaderCellDef",""]],features:[Ra([{provide:mm,useExisting:e}]),wa]}),e})();const jx=ui(Hx);let Wx=(()=>{class e extends Cm{_updateColumnCssClassName(){super._updateColumnCssClassName(),this._columnCssClassName.push("mat-column-"+this.cssClassFriendlyName)}}return e.\u0275fac=function(t){return zx(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matColumnDef",""]],inputs:{sticky:"sticky",name:["matColumnDef","name"]},features:[Ra([{provide:Cm,useExisting:e},{provide:"MAT_SORT_HEADER_COLUMN_DEF",useExisting:e}]),wa]}),e})();const zx=ui(Wx);let Gx=(()=>{class e extends _m{}return e.\u0275fac=function(t){return Zx(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-header-cell"],["th","mat-header-cell",""]],hostAttrs:["role","columnheader",1,"mat-header-cell"],features:[wa]}),e})();const Zx=ui(Gx);let Kx=(()=>{class e extends xm{}return e.\u0275fac=function(t){return Xx(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-cell"],["td","mat-cell",""]],hostAttrs:["role","gridcell",1,"mat-cell"],features:[wa]}),e})();const Xx=ui(Kx);let Yx=(()=>{class e extends Om{}return e.\u0275fac=function(t){return Ux(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matHeaderRowDef",""]],inputs:{columns:["matHeaderRowDef","columns"],sticky:["matHeaderRowDefSticky","sticky"]},features:[Ra([{provide:Om,useExisting:e}]),wa]}),e})();const Ux=ui(Yx);let Jx=(()=>{class e extends Rm{}return e.\u0275fac=function(t){return qx(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matRowDef",""]],inputs:{columns:["matRowDefColumns","columns"],when:["matRowDefWhen","when"]},features:[Ra([{provide:Rm,useExisting:e}]),wa]}),e})();const qx=ui(Jx);let Qx=(()=>{class e extends Nm{}return e.\u0275fac=function(t){return eI(t||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-header-row"],["tr","mat-header-row",""]],hostAttrs:["role","row",1,"mat-header-row"],exportAs:["matHeaderRow"],features:[Ra([{provide:Nm,useExisting:e}]),wa],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Ds(0,0)},directives:[Dm],encapsulation:2}),e})();const eI=ui(Qx);let tI=(()=>{class e extends Lm{}return e.\u0275fac=function(t){return nI(t||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-row"],["tr","mat-row",""]],hostAttrs:["role","row",1,"mat-row"],exportAs:["matRow"],features:[Ra([{provide:Lm,useExisting:e}]),wa],decls:1,vars:0,consts:[["cdkCellOutlet",""]],template:function(e,t){1&e&&Ds(0,0)},directives:[Dm],encapsulation:2}),e})();const nI=ui(tI);let iI=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Km,Tb],Tb]}),e})(),rI=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,Tb,lm,sC,cg,Sg],Tb]}),e})();const oI=["*",[["mat-toolbar-row"]]],sI=["*","mat-toolbar-row"];class aI{constructor(e){this._elementRef=e}}const lI=Db(aI);let cI=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275dir=yt({type:e,selectors:[["mat-toolbar-row"]],hostAttrs:[1,"mat-toolbar-row"],exportAs:["matToolbarRow"]}),e})(),hI=(()=>{class e extends lI{constructor(e,t,n){super(e),this._platform=t,this._document=n}ngAfterViewInit(){Ei()&&this._platform.isBrowser&&(this._checkToolbarMixedModes(),this._toolbarRows.changes.subscribe(()=>this._checkToolbarMixedModes()))}_checkToolbarMixedModes(){this._toolbarRows.length&&Array.from(this._elementRef.nativeElement.childNodes).filter(e=>!(e.classList&&e.classList.contains("mat-toolbar-row"))).filter(e=>e.nodeType!==(this._document?this._document.COMMENT_NODE:8)).some(e=>!(!e.textContent||!e.textContent.trim()))&&function(){throw Error("MatToolbar: Attempting to combine different toolbar modes. Either specify multiple `<mat-toolbar-row>` elements explicitly or just place content inside of a `<mat-toolbar>` for a single row.")}()}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(Tp),As(Kc))},e.\u0275cmp=ut({type:e,selectors:[["mat-toolbar"]],contentQueries:function(e,t,n){var i;1&e&&zl(n,cI,!0),2&e&&$l(i=Gl())&&(t._toolbarRows=i)},hostAttrs:[1,"mat-toolbar"],hostVars:4,hostBindings:function(e,t){2&e&&ia("mat-toolbar-multiple-rows",t._toolbarRows.length>0)("mat-toolbar-single-row",0===t._toolbarRows.length)},inputs:{color:"color"},exportAs:["matToolbar"],features:[wa],ngContentSelectors:sI,decls:2,vars:0,template:function(e,t){1&e&&(Gs(oI),Zs(0),Zs(1,1))},styles:[".cdk-high-contrast-active .mat-toolbar{outline:solid 1px}.mat-toolbar-row,.mat-toolbar-single-row{display:flex;box-sizing:border-box;padding:0 16px;width:100%;flex-direction:row;align-items:center;white-space:nowrap}.mat-toolbar-multiple-rows{display:flex;box-sizing:border-box;flex-direction:column;width:100%}\n"],encapsulation:2,changeDetection:0}),e})(),dI=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Tb],Tb]}),e})();const uI=Lb(Rb(tv));let pI=(()=>{class e extends uI{constructor(e,t,n){super(e,t),this._elementRef=e,this._tree=t,this.role="treeitem",this.tabIndex=Number(n)||0}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(ev),ks("tabindex"))},e.\u0275dir=yt({type:e,selectors:[["mat-tree-node"]],hostAttrs:[1,"mat-tree-node"],hostVars:3,hostBindings:function(e,t){2&e&&ws("aria-expanded",t.isExpanded)("aria-level",t.level+1)("role",t.role)},inputs:{disabled:"disabled",tabIndex:"tabIndex",role:"role"},exportAs:["matTreeNode"],features:[Ra([{provide:tv,useExisting:e}]),wa]}),e})(),gI=(()=>{class e extends qm{}return e.\u0275fac=function(t){return fI(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matTreeNodeDef",""]],inputs:{when:["matTreeNodeDefWhen","when"],data:["matTreeNode","data"]},features:[Ra([{provide:qm,useExisting:e}]),wa]}),e})();const fI=ui(gI);let mI=(()=>{class e extends nv{constructor(e,t,n,i){super(e,t,n),this._elementRef=e,this._tree=t,this._differs=n,this._disabled=!1,this.tabIndex=Number(i)||0}get disabled(){return this._disabled}set disabled(e){this._disabled=ig(e)}get tabIndex(){return this.disabled?-1:this._tabIndex}set tabIndex(e){this._tabIndex=null!=e?e:0}ngAfterContentInit(){super.ngAfterContentInit()}ngOnDestroy(){super.ngOnDestroy()}}return e.\u0275fac=function(t){return new(t||e)(As(Ba),As(ev),As(nl),ks("tabindex"))},e.\u0275dir=yt({type:e,selectors:[["mat-nested-tree-node"]],hostAttrs:[1,"mat-nested-tree-node"],hostVars:2,hostBindings:function(e,t){2&e&&ws("aria-expanded",t.isExpanded)("role",t.role)},inputs:{tabIndex:"tabIndex",disabled:"disabled",node:["matNestedTreeNode","node"]},exportAs:["matNestedTreeNode"],features:[Ra([{provide:nv,useExisting:e},{provide:tv,useExisting:e},{provide:Ym,useExisting:e}]),wa]}),e})(),vI=(()=>{class e{constructor(e,t){this.viewContainer=e,this._node=t}}return e.\u0275fac=function(t){return new(t||e)(As(cl),As(Ym,8))},e.\u0275dir=yt({type:e,selectors:[["","matTreeNodeOutlet",""]],features:[Ra([{provide:Um,useExisting:e}])]}),e})(),yI=(()=>{class e extends ev{}return e.\u0275fac=function(t){return bI(t||e)},e.\u0275cmp=ut({type:e,selectors:[["mat-tree"]],viewQuery:function(e,t){var n;1&e&&Hl(vI,!0),2&e&&$l(n=Gl())&&(t._nodeOutlet=n.first)},hostAttrs:["role","tree",1,"mat-tree"],exportAs:["matTree"],features:[Ra([{provide:ev,useExisting:e}]),wa],decls:1,vars:0,consts:[["matTreeNodeOutlet",""]],template:function(e,t){1&e&&Ds(0,0)},directives:[vI],styles:[".mat-tree{display:block}.mat-tree-node{display:flex;align-items:center;flex:1;word-wrap:break-word}.mat-nested-tree-node{border-bottom-width:0}\n"],encapsulation:2}),e})();const bI=ui(yI);let CI=(()=>{class e extends iv{constructor(){super(...arguments),this.recursive=!1}}return e.\u0275fac=function(t){return wI(t||e)},e.\u0275dir=yt({type:e,selectors:[["","matTreeNodeToggle",""]],inputs:{recursive:["matTreeNodeToggleRecursive","recursive"]},features:[Ra([{provide:iv,useExisting:e}]),wa]}),e})();const wI=ui(CI);let _I=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[rv,Tb],Tb]}),e})();class xI extends class{}{constructor(){super(...arguments),this._data=new hm([])}get data(){return this._data.value}set data(e){this._data.next(e)}connect(e){return G(e.viewChange,this._data).pipe(N(()=>this.data))}disconnect(){}}function II(e,t){1&e&&Ms(0,"div")}function AI(e,t){if(1&e&&(Os(0,"div"),xs(1,II,1,0,"div",5),Ps()),2&e){const e=Ws(2);(function(e,t,n,i){const r=tn(),o=un(2);r.firstUpdatePass&&aa(r,null,o,!0);const s=en();if(n!==gr&&bs(s,o,n)){const i=r.data[An()+20];if(pa(i,!0)&&!sa(r,o)){let e=i.classesWithoutHost;null!==e&&(n=Ce(e,n||"")),Es(r,i,s,n,!0)}else!function(e,t,n,i,r,o,s,a){r===gr&&(r=Ys);let l=0,c=0,h=0<r.length?r[0]:null,d=0<o.length?o[0]:null;for(;null!==h||null!==d;){const s=l<r.length?r[l+1]:void 0,u=c<o.length?o[c+1]:void 0;let p=null,g=void 0;h===d?(l+=2,c+=2,s!==u&&(p=d,g=u)):null===d||null!==h&&h<d?(l+=2,p=h):(c+=2,p=d,g=u),null!==p&&ha(e,t,n,i,p,g,!0,a),h=l<r.length?r[l]:null,d=c<o.length?o[c]:null}}(r,i,s,s[11],s[o+1],s[o+1]=function(e,t,n){if(null==n||""===n)return Ys;const i=[],r=xi(n);if(Array.isArray(r))for(let o=0;o<r.length;o++)e(i,r[o],!0);else if("object"==typeof r)for(const o in r)r.hasOwnProperty(o)&&e(i,o,r[o]);else"string"==typeof r&&t(i,r);return i}(e,t,n),0,o)}})(rt,ra,e.spinner.class),na("color",e.spinner.color),br(1),Ss("ngForOf",e.spinner.divArray)}}function kI(e,t){1&e&&(Ms(0,"div",6),Sl(1,"safeHtml")),2&e&&Ss("innerHTML",El(1,1,Ws(2).template),Qi)}function SI(e,t){if(1&e&&(Os(0,"div",1),xs(1,AI,2,5,"div",2),xs(2,kI,2,3,"div",3),Os(3,"div",4),Zs(4),Ps(),Ps()),2&e){const e=Ws();na("background-color",e.spinner.bdColor)("z-index",e.spinner.zIndex)("position",e.spinner.fullScreen?"fixed":"absolute"),Ss("@fadeIn","in"),br(1),Ss("ngIf",!e.template),br(1),Ss("ngIf",e.template),br(1),na("z-index",e.spinner.zIndex)}}const EI=["*"],OI={"ball-8bits":16,"ball-atom":4,"ball-beat":3,"ball-circus":5,"ball-climbing-dot":4,"ball-clip-rotate":1,"ball-clip-rotate-multiple":2,"ball-clip-rotate-pulse":2,"ball-elastic-dots":5,"ball-fall":3,"ball-fussion":4,"ball-grid-beat":9,"ball-grid-pulse":9,"ball-newton-cradle":4,"ball-pulse":3,"ball-pulse-rise":5,"ball-pulse-sync":3,"ball-rotate":1,"ball-running-dots":5,"ball-scale":1,"ball-scale-multiple":3,"ball-scale-pulse":2,"ball-scale-ripple":1,"ball-scale-ripple-multiple":3,"ball-spin":8,"ball-spin-clockwise":8,"ball-spin-clockwise-fade":8,"ball-spin-clockwise-fade-rotating":8,"ball-spin-fade":8,"ball-spin-fade-rotating":8,"ball-spin-rotate":2,"ball-square-clockwise-spin":8,"ball-square-spin":8,"ball-triangle-path":3,"ball-zig-zag":2,"ball-zig-zag-deflect":2,cog:1,"cube-transition":2,fire:3,"line-scale":5,"line-scale-party":5,"line-scale-pulse-out":5,"line-scale-pulse-out-rapid":5,"line-spin-clockwise-fade":8,"line-spin-clockwise-fade-rotating":8,"line-spin-fade":8,"line-spin-fade-rotating":8,pacman:6,"square-jelly-box":2,"square-loader":1,"square-spin":1,timer:1,"triangle-skew-spin":1};class PI{constructor(e){Object.assign(this,e)}}let MI=(()=>{class e{constructor(){this.spinnerObservable=new hm(null)}getSpinner(e){return this.spinnerObservable.asObservable().pipe(Ku(t=>t&&t.name===e))}show(e="primary",t){setTimeout(()=>new Promise((n,i)=>{t&&Object.keys(t).length?(t.name=e,this.spinnerObservable.next(new PI(Object.assign(Object.assign({},t),{show:!0}))),n(!0)):(this.spinnerObservable.next(new PI({name:e,show:!0})),n(!0))}),10)}hide(e="primary",t=10){setTimeout(()=>new Promise((t,n)=>{this.spinnerObservable.next(new PI({name:e,show:!1})),t(!0)}),t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=ce({factory:function(){return new e},token:e,providedIn:"root"}),e})(),TI=(()=>{class e{constructor(e,t){this.spinnerService=e,this.changeDetector=t,this.spinner=new PI,this.ngUnsubscribe=new x,this.setDefaultOptions=()=>{this.spinner=new PI({name:this.name,bdColor:this.bdColor,size:this.size,color:this.color,type:this.type,fullScreen:this.fullScreen,divArray:this.divArray,divCount:this.divCount,show:this.show,zIndex:this.zIndex,template:this.template})},this.bdColor="rgba(51,51,51,0.8)",this.zIndex=99999,this.color="#fff",this.type="ball-scale-multiple",this.size="large",this.fullScreen=!0,this.name="primary",this.template=null,this.divArray=[],this.divCount=0,this.show=!1}ngOnInit(){this.setDefaultOptions(),this.spinnerService.getSpinner(this.name).pipe(Yg(this.ngUnsubscribe)).subscribe(e=>{this.setDefaultOptions(),Object.assign(this.spinner,e),e.show&&this.onInputChange(),this.changeDetector.markForCheck()})}ngOnChanges(e){for(const t in e)if(t){const n=e[t];if(n.isFirstChange())return;void 0!==n.currentValue&&n.currentValue!==n.previousValue&&""!==n.currentValue&&(this.spinner[t]=n.currentValue)}}getClass(e,t){this.spinner.divCount=OI[e],this.spinner.divArray=Array(this.spinner.divCount).fill(0).map((e,t)=>t);let n="";switch(t.toLowerCase()){case"small":n="la-sm";break;case"medium":n="la-2x";break;case"large":n="la-3x"}return"la-"+e+" "+n}onInputChange(){this.spinner.class=this.getClass(this.spinner.type,this.spinner.size)}ngOnDestroy(){this.ngUnsubscribe.next(),this.ngUnsubscribe.complete()}}return e.\u0275fac=function(t){return new(t||e)(As(MI),As(Xo))},e.\u0275cmp=ut({type:e,selectors:[["ngx-spinner"]],inputs:{bdColor:"bdColor",zIndex:"zIndex",color:"color",type:"type",size:"size",fullScreen:"fullScreen",name:"name",template:"template"},features:[Mt],ngContentSelectors:EI,decls:1,vars:1,consts:[["class","overlay",3,"background-color","z-index","position",4,"ngIf"],[1,"overlay"],[3,"class","color",4,"ngIf"],[3,"innerHTML",4,"ngIf"],[1,"loading-text"],[4,"ngFor","ngForOf"],[3,"innerHTML"]],template:function(e,t){1&e&&(Gs(),xs(0,SI,5,11,"div",0)),2&e&&Ss("ngIf",t.spinner.show)},directives:function(){return[bh,vh]},pipes:function(){return[RI]},styles:['.la-ball-8bits[_ngcontent-%COMP%], .la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-8bits[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-8bits.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-8bits[_ngcontent-%COMP%]{height:12px;width:12px}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-8bits 1s ease 0s infinite;animation:ball-8bits 1s ease 0s infinite;border-radius:0;height:4px;left:50%;opacity:0;position:absolute;top:50%;transform:translate(100%,100%);width:4px}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.9375s;animation-delay:-.9375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.875s;animation-delay:-.875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8125s;animation-delay:-.8125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.75s;animation-delay:-.75s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.6875s;animation-delay:-.6875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.625s;animation-delay:-.625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.5625s;animation-delay:-.5625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.4375s;animation-delay:-.4375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-.375s;animation-delay:-.375s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){-webkit-animation-delay:-.3125s;animation-delay:-.3125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){-webkit-animation-delay:-.25s;animation-delay:-.25s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){-webkit-animation-delay:-.1875s;animation-delay:-.1875s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){-webkit-animation-delay:-.125s;animation-delay:-.125s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){-webkit-animation-delay:-.0625s;animation-delay:-.0625s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{left:0;top:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){left:33.3333333333%;top:-100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){left:66.6666666667%;top:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){left:100%;top:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){left:100%;top:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){left:100%;top:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){left:66.6666666667%;top:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){left:33.3333333333%;top:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){left:0;top:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){left:-33.3333333333%;top:100%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(11){left:-66.6666666667%;top:66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(12){left:-100%;top:33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(13){left:-100%;top:0}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(14){left:-100%;top:-33.3333333333%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(15){left:-66.6666666667%;top:-66.6666666667%}.la-ball-8bits[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(16){left:-33.3333333333%;top:-100%}.la-ball-8bits.la-sm[_ngcontent-%COMP%]{height:6px;width:6px}.la-ball-8bits.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:2px;width:2px}.la-ball-8bits.la-2x[_ngcontent-%COMP%]{height:24px;width:24px}.la-ball-8bits.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:8px;width:8px}.la-ball-8bits.la-3x[_ngcontent-%COMP%]{height:36px;width:36px}.la-ball-8bits.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:12px;width:12px}@-webkit-keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}@keyframes ball-8bits{0%{opacity:1}50%{opacity:1}51%{opacity:0}}.la-ball-atom[_ngcontent-%COMP%], .la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-atom[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-atom.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-atom[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-atom-shrink 4.5s linear infinite;animation:ball-atom-shrink 4.5s linear infinite;background:#aaa;border-radius:100%;height:60%;left:50%;position:absolute;top:50%;transform:translate(-50%,-50%);width:60%;z-index:1}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){-webkit-animation:ball-atom-zindex 1.5s steps(2) 0s infinite;animation:ball-atom-zindex 1.5s steps(2) 0s infinite;background:none;height:100%;left:0;position:absolute;width:100%;z-index:0}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{-webkit-animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite;animation:ball-atom-position 1.5s ease 0s infinite,ball-atom-size 1.5s ease 0s infinite;background:currentColor;border-radius:50%;content:"";height:10px;left:0;margin-left:-5px;margin-top:-5px;opacity:.75;position:absolute;top:0;width:10px}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.75s;animation-delay:.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2):before{-webkit-animation-delay:0s,-1.125s;animation-delay:0s,-1.125s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.25s;animation-delay:-.25s;transform:rotate(120deg)}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3):before{-webkit-animation-delay:-1s,-.75s;animation-delay:-1s,-.75s}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:.25s;animation-delay:.25s;transform:rotate(240deg)}.la-ball-atom[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4):before{-webkit-animation-delay:-.5s,-.125s;animation-delay:-.5s,-.125s}.la-ball-atom.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-atom.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-atom.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-atom.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{height:20px;margin-left:-10px;margin-top:-10px;width:20px}.la-ball-atom.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-atom.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):before{height:30px;margin-left:-15px;margin-top:-15px;width:30px}@-webkit-keyframes ball-atom-position{50%{left:100%;top:100%}}@keyframes ball-atom-position{50%{left:100%;top:100%}}@-webkit-keyframes ball-atom-size{50%{transform:scale(.5)}}@keyframes ball-atom-size{50%{transform:scale(.5)}}@-webkit-keyframes ball-atom-zindex{50%{z-index:10}}@keyframes ball-atom-zindex{50%{z-index:10}}@-webkit-keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}@keyframes ball-atom-shrink{50%{transform:translate(-50%,-50%) scale(.8)}}.la-ball-beat[_ngcontent-%COMP%], .la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-beat[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-beat[_ngcontent-%COMP%]{height:18px;width:54px}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-beat .7s linear -.15s infinite;animation:ball-beat .7s linear -.15s infinite;border-radius:100%;height:10px;margin:4px;width:10px}.la-ball-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-ball-beat.la-sm[_ngcontent-%COMP%]{height:8px;width:26px}.la-ball-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:2px;width:4px}.la-ball-beat.la-2x[_ngcontent-%COMP%]{height:36px;width:108px}.la-ball-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin:8px;width:20px}.la-ball-beat.la-3x[_ngcontent-%COMP%]{height:54px;width:162px}.la-ball-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin:12px;width:30px}@-webkit-keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}@keyframes ball-beat{50%{opacity:.2;transform:scale(.75)}to{opacity:1;transform:scale(1)}}.la-ball-circus[_ngcontent-%COMP%], .la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-circus[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-circus.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-circus[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite;animation:ball-circus-position 2.5s cubic-bezier(.25,0,.75,1) infinite,ball-circus-size 2.5s cubic-bezier(.25,0,.75,1) infinite;border-radius:100%;display:block;height:16px;height:100%;left:-100%;opacity:.5;position:absolute;top:0;width:16px;width:100%}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s,-.5s;animation-delay:0s,-.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.5s,-1s;animation-delay:-.5s,-1s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s,-1.5s;animation-delay:-1s,-1.5s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s,-2s;animation-delay:-1.5s,-2s}.la-ball-circus[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2s,-2.5s;animation-delay:-2s,-2.5s}.la-ball-circus.la-sm[_ngcontent-%COMP%], .la-ball-circus.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:8px;width:8px}.la-ball-circus.la-2x[_ngcontent-%COMP%], .la-ball-circus.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-circus.la-3x[_ngcontent-%COMP%], .la-ball-circus.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:48px;width:48px}@-webkit-keyframes ball-circus-position{50%{left:100%}}@keyframes ball-circus-position{50%{left:100%}}@-webkit-keyframes ball-circus-size{50%{transform:scale(.3)}}@keyframes ball-circus-size{50%{transform:scale(.3)}}.la-ball-climbing-dot[_ngcontent-%COMP%], .la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-climbing-dot[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-climbing-dot.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-climbing-dot[_ngcontent-%COMP%]{height:32px;width:42px}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-climbing-dot-jump .6s ease-in-out infinite;animation:ball-climbing-dot-jump .6s ease-in-out infinite;border-radius:100%;bottom:32%;height:14px;left:18%;position:absolute;transform-origin:center bottom;width:14px}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){-webkit-animation:ball-climbing-dot-steps 1.8s linear infinite;animation:ball-climbing-dot-steps 1.8s linear infinite;border-radius:0;height:2px;position:absolute;right:0;top:0;transform:translate(60%);width:14px}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(2){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(3){-webkit-animation-delay:-.6s;animation-delay:-.6s}.la-ball-climbing-dot[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child):nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%]{height:16px;width:20px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:6px;width:6px}.la-ball-climbing-dot.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){height:1px;width:6px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%]{height:64px;width:84px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:28px;width:28px}.la-ball-climbing-dot.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){height:4px;width:28px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%]{height:96px;width:126px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:42px;width:42px}.la-ball-climbing-dot.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(:first-child){height:6px;width:42px}@-webkit-keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@keyframes ball-climbing-dot-jump{0%{transform:scaleY(.7)}20%{transform:scale(.7,1.2)}40%{transform:scale(1)}50%{bottom:125%}46%{transform:scale(1)}80%{transform:scale(.7,1.2)}90%{transform:scale(.7,1.2)}to{transform:scaleY(.7)}}@-webkit-keyframes ball-climbing-dot-steps{0%{opacity:0;right:0;top:0}50%{opacity:1}to{opacity:0;right:100%;top:100%}}@keyframes ball-climbing-dot-steps{0%{opacity:0;right:0;top:0}50%{opacity:1}to{opacity:0;right:100%;top:100%}}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%], .la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-clip-rotate-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite;animation:ball-clip-rotate-multiple-rotate 1s ease-in-out infinite;background:transparent;border-radius:100%;border-style:solid;border-width:2px;left:50%;position:absolute;top:50%}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-left-color:transparent;border-right-color:transparent;height:32px;position:absolute;width:32px}.la-ball-clip-rotate-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-direction:reverse;-webkit-animation-duration:.5s;animation-direction:reverse;animation-duration:.5s;border-bottom-color:transparent;border-top-color:transparent;height:16px;width:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:16px;width:16px}.la-ball-clip-rotate-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:8px;width:8px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:64px;width:64px}.la-ball-clip-rotate-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:32px;width:32px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{height:96px;width:96px}.la-ball-clip-rotate-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:48px;width:48px}@-webkit-keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-multiple-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%], .la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-clip-rotate-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;left:50%;position:absolute;top:50%}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-rotate 1s cubic-bezier(.09,.57,.49,.9) infinite;background:transparent;border-bottom-style:solid;border-bottom-width:2px;border-left:2px solid transparent;border-right:2px solid transparent;border-top-style:solid;border-top-width:2px;height:32px;position:absolute;width:32px}.la-ball-clip-rotate-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite;animation:ball-clip-rotate-pulse-scale 1s cubic-bezier(.09,.57,.49,.9) infinite;height:16px;width:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-width:1px;height:16px;width:16px}.la-ball-clip-rotate-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:8px;width:8px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-width:4px;height:64px;width:64px}.la-ball-clip-rotate-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:32px;width:32px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{border-width:6px;height:96px;width:96px}.la-ball-clip-rotate-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{height:48px;width:48px}@-webkit-keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@keyframes ball-clip-rotate-pulse-rotate{0%{transform:translate(-50%,-50%) rotate(0deg)}50%{transform:translate(-50%,-50%) rotate(180deg)}to{transform:translate(-50%,-50%) rotate(1turn)}}@-webkit-keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}@keyframes ball-clip-rotate-pulse-scale{0%,to{opacity:1;transform:translate(-50%,-50%) scale(1)}30%{opacity:.3;transform:translate(-50%,-50%) scale(.15)}}.la-ball-clip-rotate[_ngcontent-%COMP%], .la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-clip-rotate[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-clip-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-clip-rotate[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-clip-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-clip-rotate .75s linear infinite;animation:ball-clip-rotate .75s linear infinite;background:transparent;border-bottom-color:transparent;border-radius:100%;border-width:2px;height:32px;width:32px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-clip-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px;height:16px;width:16px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-clip-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px;height:64px;width:64px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-clip-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px;height:96px;width:96px}@-webkit-keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-clip-rotate{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-elastic-dots[_ngcontent-%COMP%], .la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-elastic-dots[_ngcontent-%COMP%]{color:#fff;display:block}.la-ball-elastic-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;float:none}.la-ball-elastic-dots[_ngcontent-%COMP%]{font-size:0;height:10px;text-align:center;width:120px}.la-ball-elastic-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-elastic-dots-anim 1s infinite;animation:ball-elastic-dots-anim 1s infinite;border-radius:100%;display:inline-block;height:10px;white-space:nowrap;width:10px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%]{height:4px;width:60px}.la-ball-elastic-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;width:4px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%]{height:20px;width:240px}.la-ball-elastic-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;width:20px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%]{height:30px;width:360px}.la-ball-elastic-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;width:30px}@-webkit-keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}@keyframes ball-elastic-dots-anim{0%,to{margin:0;transform:scale(1)}50%{margin:0 5%;transform:scale(.65)}}.la-ball-fall[_ngcontent-%COMP%], .la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-fall[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-fall.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-fall[_ngcontent-%COMP%]{height:18px;width:54px}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-fall 1s ease-in-out infinite;animation:ball-fall 1s ease-in-out infinite;border-radius:100%;height:10px;margin:4px;opacity:0;width:10px}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-fall[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-fall.la-sm[_ngcontent-%COMP%]{height:8px;width:26px}.la-ball-fall.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:2px;width:4px}.la-ball-fall.la-2x[_ngcontent-%COMP%]{height:36px;width:108px}.la-ball-fall.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin:8px;width:20px}.la-ball-fall.la-3x[_ngcontent-%COMP%]{height:54px;width:162px}.la-ball-fall.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin:12px;width:30px}@-webkit-keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}@keyframes ball-fall{0%{opacity:0;transform:translateY(-145%)}10%{opacity:.5}20%{opacity:1;transform:translateY(0)}80%{opacity:1;transform:translateY(0)}90%{opacity:.5}to{opacity:0;transform:translateY(145%)}}.la-ball-fussion[_ngcontent-%COMP%], .la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-fussion[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-fussion.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-fussion[_ngcontent-%COMP%]{height:8px;width:8px}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-fussion-ball1 1s ease 0s infinite;animation:ball-fussion-ball1 1s ease 0s infinite;border-radius:100%;height:12px;position:absolute;transform:translate(-50%,-50%);width:12px}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{left:50%;top:0;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-name:ball-fussion-ball2;animation-name:ball-fussion-ball2;left:100%;top:50%;z-index:2}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-name:ball-fussion-ball3;animation-name:ball-fussion-ball3;left:50%;top:100%;z-index:1}.la-ball-fussion[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-name:ball-fussion-ball4;animation-name:ball-fussion-ball4;left:0;top:50%;z-index:2}.la-ball-fussion.la-sm[_ngcontent-%COMP%]{height:4px;width:4px}.la-ball-fussion.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:6px;width:6px}.la-ball-fussion.la-2x[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-fussion.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-ball-fussion.la-3x[_ngcontent-%COMP%]{height:24px;width:24px}.la-ball-fussion.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:36px;width:36px}@-webkit-keyframes ball-fussion-ball1{0%{opacity:.35}50%{left:200%;opacity:1;top:-100%}to{left:100%;opacity:.35;top:50%;z-index:2}}@keyframes ball-fussion-ball1{0%{opacity:.35}50%{left:200%;opacity:1;top:-100%}to{left:100%;opacity:.35;top:50%;z-index:2}}@-webkit-keyframes ball-fussion-ball2{0%{opacity:.35}50%{left:200%;opacity:1;top:200%}to{left:50%;opacity:.35;top:100%;z-index:1}}@keyframes ball-fussion-ball2{0%{opacity:.35}50%{left:200%;opacity:1;top:200%}to{left:50%;opacity:.35;top:100%;z-index:1}}@-webkit-keyframes ball-fussion-ball3{0%{opacity:.35}50%{left:-100%;opacity:1;top:200%}to{left:0;opacity:.35;top:50%;z-index:2}}@keyframes ball-fussion-ball3{0%{opacity:.35}50%{left:-100%;opacity:1;top:200%}to{left:0;opacity:.35;top:50%;z-index:2}}@-webkit-keyframes ball-fussion-ball4{0%{opacity:.35}50%{left:-100%;opacity:1;top:-100%}to{left:50%;opacity:.35;top:0;z-index:1}}@keyframes ball-fussion-ball4{0%{opacity:.35}50%{left:-100%;opacity:1;top:-100%}to{left:50%;opacity:.35;top:0;z-index:1}}.la-ball-grid-beat[_ngcontent-%COMP%], .la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-grid-beat[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-grid-beat.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-grid-beat[_ngcontent-%COMP%]{height:36px;width:36px}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation-iteration-count:infinite;-webkit-animation-name:ball-grid-beat;animation-iteration-count:infinite;animation-name:ball-grid-beat;border-radius:100%;height:8px;margin:2px;width:8px}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.03s;-webkit-animation-duration:.65s;animation-delay:.03s;animation-duration:.65s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.09s;-webkit-animation-duration:1.02s;animation-delay:.09s;animation-duration:1.02s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.69s;-webkit-animation-duration:1.06s;animation-delay:-.69s;animation-duration:1.06s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.41s;-webkit-animation-duration:1.5s;animation-delay:-.41s;animation-duration:1.5s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:.04s;-webkit-animation-duration:1.6s;animation-delay:.04s;animation-duration:1.6s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:.07s;-webkit-animation-duration:.84s;animation-delay:.07s;animation-duration:.84s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.66s;-webkit-animation-duration:.68s;animation-delay:-.66s;animation-duration:.68s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.76s;-webkit-animation-duration:.93s;animation-delay:-.76s;animation-duration:.93s}.la-ball-grid-beat[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.76s;-webkit-animation-duration:1.24s;animation-delay:-.76s;animation-duration:1.24s}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%]{height:18px;width:18px}.la-ball-grid-beat.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:1px;width:4px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%]{height:72px;width:72px}.la-ball-grid-beat.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin:4px;width:16px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%]{height:108px;width:108px}.la-ball-grid-beat.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin:6px;width:24px}@-webkit-keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}@keyframes ball-grid-beat{0%{opacity:1}50%{opacity:.35}to{opacity:1}}.la-ball-grid-pulse[_ngcontent-%COMP%], .la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-grid-pulse[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-grid-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-grid-pulse[_ngcontent-%COMP%]{height:36px;width:36px}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation-iteration-count:infinite;-webkit-animation-name:ball-grid-pulse;animation-iteration-count:infinite;animation-name:ball-grid-pulse;border-radius:100%;height:8px;margin:2px;width:8px}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:.03s;-webkit-animation-duration:.65s;animation-delay:.03s;animation-duration:.65s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.09s;-webkit-animation-duration:1.02s;animation-delay:.09s;animation-duration:1.02s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.69s;-webkit-animation-duration:1.06s;animation-delay:-.69s;animation-duration:1.06s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.41s;-webkit-animation-duration:1.5s;animation-delay:-.41s;animation-duration:1.5s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:.04s;-webkit-animation-duration:1.6s;animation-delay:.04s;animation-duration:1.6s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:.07s;-webkit-animation-duration:.84s;animation-delay:.07s;animation-duration:.84s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.66s;-webkit-animation-duration:.68s;animation-delay:-.66s;animation-duration:.68s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-.76s;-webkit-animation-duration:.93s;animation-delay:-.76s;animation-duration:.93s}.la-ball-grid-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-.76s;-webkit-animation-duration:1.24s;animation-delay:-.76s;animation-duration:1.24s}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%]{height:18px;width:18px}.la-ball-grid-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:1px;width:4px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%]{height:72px;width:72px}.la-ball-grid-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin:4px;width:16px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%]{height:108px;width:108px}.la-ball-grid-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin:6px;width:24px}@-webkit-keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}@keyframes ball-grid-pulse{0%{opacity:1;transform:scale(1)}50%{opacity:.35;transform:scale(.45)}to{opacity:1;transform:scale(1)}}.la-ball-newton-cradle[_ngcontent-%COMP%], .la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-newton-cradle[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-newton-cradle.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-newton-cradle[_ngcontent-%COMP%]{height:10px;width:40px}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;height:10px;width:10px}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-newton-cradle-left 1s ease-out 0s infinite;animation:ball-newton-cradle-left 1s ease-out 0s infinite;transform:translateX(0)}.la-ball-newton-cradle[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-newton-cradle-right 1s ease-out 0s infinite;animation:ball-newton-cradle-right 1s ease-out 0s infinite;transform:translateX(0)}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%]{height:4px;width:20px}.la-ball-newton-cradle.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;width:4px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%]{height:20px;width:80px}.la-ball-newton-cradle.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;width:20px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%]{height:30px;width:120px}.la-ball-newton-cradle.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;width:30px}@-webkit-keyframes ball-newton-cradle-left{25%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:translateX(-100%)}50%{transform:translateX(0)}}@keyframes ball-newton-cradle-left{25%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:translateX(-100%)}50%{transform:translateX(0)}}@-webkit-keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:translateX(100%)}to{transform:translateX(0)}}@keyframes ball-newton-cradle-right{50%{transform:translateX(0)}75%{-webkit-animation-timing-function:ease-in;animation-timing-function:ease-in;transform:translateX(100%)}to{transform:translateX(0)}}.la-ball-pulse-rise[_ngcontent-%COMP%], .la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-pulse-rise[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-pulse-rise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-pulse-rise[_ngcontent-%COMP%]{height:14px;width:70px}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite;animation:ball-pulse-rise-even 1s cubic-bezier(.15,.36,.9,.6) 0s infinite;border-radius:100%;height:10px;margin:2px;width:10px}.la-ball-pulse-rise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2n-1){-webkit-animation-name:ball-pulse-rise-odd;animation-name:ball-pulse-rise-odd}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%]{height:6px;width:34px}.la-ball-pulse-rise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:1px;width:4px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%]{height:28px;width:140px}.la-ball-pulse-rise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin:4px;width:20px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%]{height:42px;width:210px}.la-ball-pulse-rise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin:6px;width:30px}@-webkit-keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@keyframes ball-pulse-rise-even{0%{opacity:1;transform:scale(1.1)}25%{transform:translateY(-200%)}50%{opacity:.35;transform:scale(.3)}75%{transform:translateY(200%)}to{opacity:1;transform:translateY(0);transform:scale(1)}}@-webkit-keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}@keyframes ball-pulse-rise-odd{0%{opacity:.35;transform:scale(.4)}25%{transform:translateY(200%)}50%{opacity:1;transform:scale(1.1)}75%{transform:translateY(-200%)}to{opacity:.35;transform:translateY(0);transform:scale(.75)}}.la-ball-pulse-sync[_ngcontent-%COMP%], .la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-pulse-sync[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-pulse-sync.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-pulse-sync[_ngcontent-%COMP%]{height:18px;width:54px}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-pulse-sync .6s ease-in-out infinite;animation:ball-pulse-sync .6s ease-in-out infinite;border-radius:100%;height:10px;margin:4px;width:10px}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.14s;animation-delay:-.14s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.07s;animation-delay:-.07s}.la-ball-pulse-sync[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0s;animation-delay:0s}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%]{height:8px;width:26px}.la-ball-pulse-sync.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:2px;width:4px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%]{height:36px;width:108px}.la-ball-pulse-sync.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin:8px;width:20px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%]{height:54px;width:162px}.la-ball-pulse-sync.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin:12px;width:30px}@-webkit-keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}@keyframes ball-pulse-sync{33%{transform:translateY(100%)}66%{transform:translateY(-100%)}to{transform:translateY(0)}}.la-ball-pulse[_ngcontent-%COMP%], .la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-pulse[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-pulse[_ngcontent-%COMP%]{height:18px;width:54px}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.2s;animation-delay:-.2s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.1s;animation-delay:-.1s}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:0ms;animation-delay:0ms}.la-ball-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-pulse 1s ease infinite;animation:ball-pulse 1s ease infinite;border-radius:100%;height:10px;margin:4px;width:10px}.la-ball-pulse.la-sm[_ngcontent-%COMP%]{height:8px;width:26px}.la-ball-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin:2px;width:4px}.la-ball-pulse.la-2x[_ngcontent-%COMP%]{height:36px;width:108px}.la-ball-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin:8px;width:20px}.la-ball-pulse.la-3x[_ngcontent-%COMP%]{height:54px;width:162px}.la-ball-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin:12px;width:30px}@-webkit-keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}@keyframes ball-pulse{0%,60%,to{opacity:1;transform:scale(1)}30%{opacity:.1;transform:scale(.01)}}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-rotate[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-rotate[_ngcontent-%COMP%], .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:10px;width:10px}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite;animation:ball-rotate-animation 1s cubic-bezier(.7,-.13,.22,.86) infinite;border-radius:100%}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{background:currentColor;border-radius:inherit;content:"";height:inherit;margin:inherit;opacity:.8;position:absolute;width:inherit}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{left:-150%;top:0}.la-ball-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{left:150%;top:0}.la-ball-rotate.la-sm[_ngcontent-%COMP%], .la-ball-rotate.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;width:4px}.la-ball-rotate.la-2x[_ngcontent-%COMP%], .la-ball-rotate.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;width:20px}.la-ball-rotate.la-3x[_ngcontent-%COMP%], .la-ball-rotate.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;width:30px}@-webkit-keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}@keyframes ball-rotate-animation{0%{transform:rotate(0deg)}50%{transform:rotate(180deg)}to{transform:rotate(1turn)}}.la-ball-running-dots[_ngcontent-%COMP%], .la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-running-dots[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-running-dots.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-running-dots[_ngcontent-%COMP%]{height:10px;width:10px}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-running-dots-animate 2s linear infinite;animation:ball-running-dots-animate 2s linear infinite;border-radius:100%;height:10px;margin-left:-25px;position:absolute;width:10px}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.6s;animation-delay:-1.6s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2s;animation-delay:-2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-2.4s;animation-delay:-2.4s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2.8s;animation-delay:-2.8s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(9){-webkit-animation-delay:-3.2s;animation-delay:-3.2s}.la-ball-running-dots[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(10){-webkit-animation-delay:-3.6s;animation-delay:-3.6s}.la-ball-running-dots.la-sm[_ngcontent-%COMP%]{height:4px;width:4px}.la-ball-running-dots.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-12px;width:4px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%]{height:20px;width:20px}.la-ball-running-dots.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-50px;width:20px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%]{height:30px;width:30px}.la-ball-running-dots.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-75px;width:30px}@-webkit-keyframes ball-running-dots-animate{0%,to{height:100%;transform:translateY(0) translateX(500%);width:100%}80%{transform:translateY(0) translateX(0)}85%{height:100%;transform:translateY(-125%) translateX(0);width:100%}90%{height:75%;width:200%}95%{height:100%;transform:translateY(-100%) translateX(500%);width:100%}}@keyframes ball-running-dots-animate{0%,to{height:100%;transform:translateY(0) translateX(500%);width:100%}80%{transform:translateY(0) translateX(0)}85%{height:100%;transform:translateY(-125%) translateX(0);width:100%}90%{height:75%;width:200%}95%{height:100%;transform:translateY(-100%) translateX(500%);width:100%}}.la-ball-scale-multiple[_ngcontent-%COMP%], .la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-scale-multiple[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-scale-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-scale-multiple[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-scale-multiple 1s linear 0s infinite;animation:ball-scale-multiple 1s linear 0s infinite;border-radius:100%;height:32px;left:0;opacity:0;position:absolute;top:0;width:32px}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.2s;animation-delay:.2s}.la-ball-scale-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.4s;animation-delay:.4s}.la-ball-scale-multiple.la-sm[_ngcontent-%COMP%], .la-ball-scale-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-scale-multiple.la-2x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-scale-multiple.la-3x[_ngcontent-%COMP%], .la-ball-scale-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;width:96px}@-webkit-keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}@keyframes ball-scale-multiple{0%{opacity:0;transform:scale(0)}5%{opacity:.75}to{opacity:0;transform:scale(1)}}.la-ball-scale-pulse[_ngcontent-%COMP%], .la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-scale-pulse[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-scale-pulse.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-scale-pulse[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-scale-pulse 2s ease-in-out infinite;animation:ball-scale-pulse 2s ease-in-out infinite;border-radius:100%;height:32px;left:0;opacity:.5;position:absolute;top:0;width:32px}.la-ball-scale-pulse[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s}.la-ball-scale-pulse.la-sm[_ngcontent-%COMP%], .la-ball-scale-pulse.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-scale-pulse.la-2x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-scale-pulse.la-3x[_ngcontent-%COMP%], .la-ball-scale-pulse.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;width:96px}@-webkit-keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-scale-pulse{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%], .la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-scale-ripple-multiple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple-multiple 1.25s cubic-bezier(.21,.53,.56,.8) 0s infinite;background:transparent;border-radius:100%;border-width:2px;height:32px;left:0;opacity:0;position:absolute;top:0;width:32px}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:0s;animation-delay:0s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:.25s;animation-delay:.25s}.la-ball-scale-ripple-multiple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:.5s;animation-delay:.5s}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-scale-ripple-multiple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px;height:16px;width:16px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-scale-ripple-multiple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px;height:64px;width:64px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-scale-ripple-multiple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px;height:96px;width:96px}@-webkit-keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}@keyframes ball-scale-ripple-multiple{0%{opacity:1;transform:scale(.1)}70%{opacity:.5;transform:scale(1)}95%{opacity:0}}.la-ball-scale-ripple[_ngcontent-%COMP%], .la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-scale-ripple[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-scale-ripple.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-scale-ripple[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-scale-ripple[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite;animation:ball-scale-ripple 1s cubic-bezier(.21,.53,.56,.8) 0s infinite;background:transparent;border-radius:100%;border-width:2px;height:32px;opacity:0;width:32px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-scale-ripple.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px;height:16px;width:16px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-scale-ripple.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px;height:64px;width:64px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-scale-ripple.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px;height:96px;width:96px}@-webkit-keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}@keyframes ball-scale-ripple{0%{opacity:1;transform:scale(.1)}70%{opacity:.65;transform:scale(1)}to{opacity:0}}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-scale[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-scale[_ngcontent-%COMP%], .la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-scale 1s ease-in-out 0s infinite;animation:ball-scale 1s ease-in-out 0s infinite;border-radius:100%;opacity:0}.la-ball-scale.la-sm[_ngcontent-%COMP%], .la-ball-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-scale.la-2x[_ngcontent-%COMP%], .la-ball-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-scale.la-3x[_ngcontent-%COMP%], .la-ball-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;width:96px}@-webkit-keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}@keyframes ball-scale{0%{opacity:1;transform:scale(0)}to{opacity:0;transform:scale(1)}}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{-webkit-animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:ball-spin-clockwise-fade-rotating-rotate 6s linear infinite;height:32px;width:32px}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin-clockwise-fade-rotating 1s linear infinite;animation:ball-spin-clockwise-fade-rotating 1s linear infinite;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.875s;animation-delay:-.875s;left:50%;top:5%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:95%;top:50%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:18.1803700518%;top:18.179464974%}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes ball-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade-rotating{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%], .la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin-clockwise-fade 1s linear infinite;animation:ball-spin-clockwise-fade 1s linear infinite;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.875s;animation-delay:-.875s;left:50%;top:5%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:95%;top:50%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:18.1803700518%;top:18.179464974%}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}@keyframes ball-spin-clockwise-fade{50%{opacity:.25;transform:scale(.5)}to{opacity:1;transform:scale(1)}}.la-ball-spin-clockwise[_ngcontent-%COMP%], .la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin-clockwise[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin-clockwise.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin-clockwise[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin-clockwise 1s ease-in-out infinite;animation:ball-spin-clockwise 1s ease-in-out infinite;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.875s;animation-delay:-.875s;left:50%;top:5%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:95%;top:50%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin-clockwise[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:18.1803700518%;top:18.179464974%}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin-clockwise.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin-clockwise.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-spin-clockwise.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin-clockwise{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-spin-fade-rotating[_ngcontent-%COMP%], .la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin-fade-rotating[_ngcontent-%COMP%]{-webkit-animation:ball-spin-fade-rotate 6s linear infinite;animation:ball-spin-fade-rotate 6s linear infinite;height:32px;width:32px}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.125s;animation-delay:-1.125s;left:50%;top:5%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.25s;animation-delay:-1.25s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.375s;animation-delay:-1.375s;left:95%;top:50%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s;animation-delay:-1.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.625s;animation-delay:-1.625s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-1.75s;animation-delay:-1.75s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-1.875s;animation-delay:-1.875s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2s;animation-delay:-2s;left:18.1803700518%;top:18.179464974%}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotate{to{transform:rotate(1turn)}}.la-ball-spin-fade[_ngcontent-%COMP%], .la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin-fade[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin-fade[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin-fade 1s linear infinite;animation:ball-spin-fade 1s linear infinite;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.125s;animation-delay:-1.125s;left:50%;top:5%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.25s;animation-delay:-1.25s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.375s;animation-delay:-1.375s;left:95%;top:50%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s;animation-delay:-1.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.625s;animation-delay:-1.625s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-1.75s;animation-delay:-1.75s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-1.875s;animation-delay:-1.875s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2s;animation-delay:-2s;left:18.1803700518%;top:18.179464974%}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}@keyframes ball-spin-fade{0%,to{opacity:1;transform:scale(1)}50%{opacity:.25;transform:scale(.5)}}.la-ball-spin-rotate[_ngcontent-%COMP%], .la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin-rotate[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin-rotate.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin-rotate[_ngcontent-%COMP%]{-webkit-animation:ball-spin-rotate 2s linear infinite;animation:ball-spin-rotate 2s linear infinite;height:32px;width:32px}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin-bounce 2s ease-in-out infinite;animation:ball-spin-bounce 2s ease-in-out infinite;border-radius:100%;height:60%;position:absolute;top:0;width:60%}.la-ball-spin-rotate[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-1s;animation-delay:-1s;bottom:0;top:auto}.la-ball-spin-rotate.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin-rotate.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin-rotate.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}@-webkit-keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}@keyframes ball-spin-bounce{0%,to{transform:scale(0)}50%{transform:scale(1)}}.la-ball-spin[_ngcontent-%COMP%], .la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-spin[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-spin[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-spin 1s ease-in-out infinite;animation:ball-spin 1s ease-in-out infinite;border-radius:100%;height:8px;left:50%;margin-left:-4px;margin-top:-4px;position:absolute;top:50%;width:8px}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.125s;animation-delay:-1.125s;left:50%;top:5%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.25s;animation-delay:-1.25s;left:81.8198051534%;top:18.1801948466%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.375s;animation-delay:-1.375s;left:95%;top:50%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s;animation-delay:-1.5s;left:81.8198051534%;top:81.8198051534%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.625s;animation-delay:-1.625s;left:50.0000000005%;top:94.9999999966%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-1.75s;animation-delay:-1.75s;left:18.1801949248%;top:81.8198046966%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-1.875s;animation-delay:-1.875s;left:5.0000051215%;top:49.9999750815%}.la-ball-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2s;animation-delay:-2s;left:18.1803700518%;top:18.179464974%}.la-ball-spin.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-spin.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin-left:-8px;margin-top:-8px;width:16px}.la-ball-spin.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}@-webkit-keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}@keyframes ball-spin{0%,to{opacity:1;transform:scale(1)}20%{opacity:1}80%{opacity:0;transform:scale(0)}}.la-ball-square-clockwise-spin[_ngcontent-%COMP%], .la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-square-clockwise-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-square-clockwise-spin[_ngcontent-%COMP%]{height:26px;width:26px}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-square-clockwise-spin 1s ease-in-out infinite;animation:ball-square-clockwise-spin 1s ease-in-out infinite;border-radius:100%;height:12px;left:50%;margin-left:-6px;margin-top:-6px;position:absolute;top:50%;width:12px}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.875s;animation-delay:-.875s;left:0;top:0}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:50%;top:0}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:100%;top:0}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:100%;top:50%}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:100%;top:100%}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:50%;top:100%}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:0;top:100%}.la-ball-square-clockwise-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:0;top:50%}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%]{height:12px;width:12px}.la-ball-square-clockwise-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:6px;margin-left:-3px;margin-top:-3px;width:6px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%]{height:52px;width:52px}.la-ball-square-clockwise-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%]{height:78px;width:78px}.la-ball-square-clockwise-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:36px;margin-left:-18px;margin-top:-18px;width:36px}@-webkit-keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-clockwise-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-square-spin[_ngcontent-%COMP%], .la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-square-spin[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-square-spin[_ngcontent-%COMP%]{height:26px;width:26px}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:ball-square-spin 1s ease-in-out infinite;animation:ball-square-spin 1s ease-in-out infinite;border-radius:100%;height:12px;left:50%;margin-left:-6px;margin-top:-6px;position:absolute;top:50%;width:12px}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.125s;animation-delay:-1.125s;left:0;top:0}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.25s;animation-delay:-1.25s;left:50%;top:0}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.375s;animation-delay:-1.375s;left:100%;top:0}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s;animation-delay:-1.5s;left:100%;top:50%}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.625s;animation-delay:-1.625s;left:100%;top:100%}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-1.75s;animation-delay:-1.75s;left:50%;top:100%}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-1.875s;animation-delay:-1.875s;left:0;top:100%}.la-ball-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2s;animation-delay:-2s;left:0;top:50%}.la-ball-square-spin.la-sm[_ngcontent-%COMP%]{height:12px;width:12px}.la-ball-square-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:6px;margin-left:-3px;margin-top:-3px;width:6px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%]{height:52px;width:52px}.la-ball-square-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;margin-left:-12px;margin-top:-12px;width:24px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%]{height:78px;width:78px}.la-ball-square-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:36px;margin-left:-18px;margin-top:-18px;width:36px}@-webkit-keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}@keyframes ball-square-spin{0%,40%,to{transform:scale(.4)}70%{transform:scale(1)}}.la-ball-triangle-path[_ngcontent-%COMP%], .la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-triangle-path[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-triangle-path.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-triangle-path[_ngcontent-%COMP%]{height:32px;width:32px}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;height:10px;left:0;position:absolute;top:0;width:10px}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-one 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-two 2s ease-in-out 0s infinite}.la-ball-triangle-path[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite;animation:ball-triangle-path-ball-tree 2s ease-in-out 0s infinite}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-triangle-path.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;width:4px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-triangle-path.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;width:20px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-triangle-path.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;width:30px}@-webkit-keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@keyframes ball-triangle-path-ball-one{0%{transform:translateY(220%)}17%{opacity:.25}33%{opacity:1;transform:translate(110%)}50%{opacity:.25}66%{opacity:1;transform:translate(220%,220%)}83%{opacity:.25}to{opacity:1;transform:translateY(220%)}}@-webkit-keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@keyframes ball-triangle-path-ball-two{0%{transform:translate(110%)}17%{opacity:.25}33%{opacity:1;transform:translate(220%,220%)}50%{opacity:.25}66%{opacity:1;transform:translateY(220%)}83%{opacity:.25}to{opacity:1;transform:translate(110%)}}@-webkit-keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}@keyframes ball-triangle-path-ball-tree{0%{transform:translate(220%,220%)}17%{opacity:.25}33%{opacity:1;transform:translateY(220%)}50%{opacity:.25}66%{opacity:1;transform:translate(110%)}83%{opacity:.25}to{opacity:1;transform:translate(220%,220%)}}.la-ball-zig-zag-deflect[_ngcontent-%COMP%], .la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-zig-zag-deflect.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-zig-zag-deflect[_ngcontent-%COMP%]{height:32px;position:relative;width:32px}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;height:10px;left:50%;margin-left:-5px;margin-top:-5px;position:absolute;top:50%;width:10px}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-deflect 1.5s linear 0s infinite;animation:ball-zig-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-deflect 1.5s linear 0s infinite;animation:ball-zag-deflect 1.5s linear 0s infinite}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-zig-zag-deflect.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-zig-zag-deflect.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-10px;margin-top:-10px;width:20px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-zig-zag-deflect.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-15px;margin-top:-15px;width:30px}@-webkit-keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@keyframes ball-zig-deflect{17%{transform:translate(-80%,-160%)}34%{transform:translate(80%,-160%)}50%{transform:translate(0)}67%{transform:translate(80%,-160%)}84%{transform:translate(-80%,-160%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}@keyframes ball-zag-deflect{17%{transform:translate(80%,160%)}34%{transform:translate(-80%,160%)}50%{transform:translate(0)}67%{transform:translate(-80%,160%)}84%{transform:translate(80%,160%)}to{transform:translate(0)}}.la-ball-zig-zag[_ngcontent-%COMP%], .la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-ball-zig-zag[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-ball-zig-zag.la-dark[_ngcontent-%COMP%]{color:#333}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-ball-zig-zag[_ngcontent-%COMP%]{height:32px;position:relative;width:32px}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-radius:100%;height:10px;left:50%;margin-left:-5px;margin-top:-5px;position:absolute;top:50%;width:10px}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:ball-zig-effect .7s linear 0s infinite;animation:ball-zig-effect .7s linear 0s infinite}.la-ball-zig-zag[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation:ball-zag-effect .7s linear 0s infinite;animation:ball-zag-effect .7s linear 0s infinite}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-ball-zig-zag.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:-2px;margin-top:-2px;width:4px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-ball-zig-zag.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-10px;margin-top:-10px;width:20px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-ball-zig-zag.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-15px;margin-top:-15px;width:30px}@-webkit-keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@keyframes ball-zig-effect{0%{transform:translate(0)}33%{transform:translate(-75%,-150%)}66%{transform:translate(75%,-150%)}to{transform:translate(0)}}@-webkit-keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}@keyframes ball-zag-effect{0%{transform:translate(0)}33%{transform:translate(75%,150%)}66%{transform:translate(-75%,150%)}to{transform:translate(0)}}.la-cog[_ngcontent-%COMP%], .la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-cog[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-cog.la-dark[_ngcontent-%COMP%]{color:#333}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-cog[_ngcontent-%COMP%]{height:31px;width:31px}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:cog-rotate 4s linear infinite;animation:cog-rotate 4s linear infinite;background-color:transparent;border-radius:100%;border-style:dashed;border-width:2px;height:100%;width:100%}.la-cog[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border:2px solid;border-radius:100%;content:"";height:100%;left:0;position:absolute;top:0;width:100%}.la-cog.la-sm[_ngcontent-%COMP%]{height:15px;width:15px}.la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:1px}.la-cog.la-2x[_ngcontent-%COMP%]{height:61px;width:61px}.la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:4px}.la-cog.la-3x[_ngcontent-%COMP%]{height:91px;width:91px}.la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%], .la-cog.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{border-width:6px}@-webkit-keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes cog-rotate{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-cube-transition[_ngcontent-%COMP%], .la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-cube-transition[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-cube-transition.la-dark[_ngcontent-%COMP%]{color:#333}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-cube-transition[_ngcontent-%COMP%]{height:32px;width:32px}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:cube-transition 1.6s ease-in-out 0s infinite;animation:cube-transition 1.6s ease-in-out 0s infinite;border-radius:0;height:14px;left:0;margin-left:-7px;margin-top:-7px;position:absolute;top:0;width:14px}.la-cube-transition[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:last-child{-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-cube-transition.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-cube-transition.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:6px;margin-left:-3px;margin-top:-3px;width:6px}.la-cube-transition.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-cube-transition.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:28px;margin-left:-14px;margin-top:-14px;width:28px}.la-cube-transition.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-cube-transition.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:42px;margin-left:-21px;margin-top:-21px;width:42px}@-webkit-keyframes cube-transition{25%{left:100%;top:0;transform:scale(.5) rotate(-90deg)}50%{left:100%;top:100%;transform:scale(1) rotate(-180deg)}75%{left:0;top:100%;transform:scale(.5) rotate(-270deg)}to{left:0;top:0;transform:scale(1) rotate(-1turn)}}@keyframes cube-transition{25%{left:100%;top:0;transform:scale(.5) rotate(-90deg)}50%{left:100%;top:100%;transform:scale(1) rotate(-180deg)}75%{left:0;top:100%;transform:scale(.5) rotate(-270deg)}to{left:0;top:0;transform:scale(1) rotate(-1turn)}}.la-fire[_ngcontent-%COMP%], .la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-fire[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-fire.la-dark[_ngcontent-%COMP%]{color:#333}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-fire[_ngcontent-%COMP%]{height:32px;width:32px}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:fire-diamonds 1.5s linear infinite;animation:fire-diamonds 1.5s linear infinite;border-radius:0;border-radius:2px;bottom:0;height:12px;left:50%;position:absolute;transform:translateY(0) translateX(-50%) rotate(45deg) scale(0);width:12px}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.85s;animation-delay:-.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.85s;animation-delay:-1.85s}.la-fire[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-2.85s;animation-delay:-2.85s}.la-fire.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-fire.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:6px;width:6px}.la-fire.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-fire.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:24px;width:24px}.la-fire.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-fire.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:36px;width:36px}@-webkit-keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}@keyframes fire-diamonds{0%{transform:translateY(75%) translateX(-50%) rotate(45deg) scale(0)}50%{transform:translateY(-87.5%) translateX(-50%) rotate(45deg) scale(1)}to{transform:translateY(-212.5%) translateX(-50%) rotate(45deg) scale(0)}}.la-line-scale-party[_ngcontent-%COMP%], .la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-scale-party[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-scale-party.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-scale-party[_ngcontent-%COMP%]{height:32px;width:40px}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation-iteration-count:infinite;-webkit-animation-name:line-scale-party;animation-iteration-count:infinite;animation-name:line-scale-party;border-radius:0;height:32px;margin:0 2px;width:4px}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.23s;-webkit-animation-duration:.43s;animation-delay:-.23s;animation-duration:.43s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.32s;-webkit-animation-duration:.62s;animation-delay:-.32s;animation-duration:.62s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.44s;-webkit-animation-duration:.43s;animation-delay:-.44s;animation-duration:.43s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.31s;-webkit-animation-duration:.8s;animation-delay:-.31s;animation-duration:.8s}.la-line-scale-party[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.24s;-webkit-animation-duration:.74s;animation-delay:-.24s;animation-duration:.74s}.la-line-scale-party.la-sm[_ngcontent-%COMP%]{height:16px;width:20px}.la-line-scale-party.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin:0 1px;width:2px}.la-line-scale-party.la-2x[_ngcontent-%COMP%]{height:64px;width:80px}.la-line-scale-party.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;margin:0 4px;width:8px}.la-line-scale-party.la-3x[_ngcontent-%COMP%]{height:96px;width:120px}.la-line-scale-party.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;margin:0 6px;width:12px}@-webkit-keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}@keyframes line-scale-party{0%{transform:scaleY(1)}50%{transform:scaleY(.3)}to{transform:scaleY(1)}}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%], .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-scale-pulse-out-rapid.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%]{height:32px;width:40px}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite;animation:line-scale-pulse-out-rapid .9s cubic-bezier(.11,.49,.38,.78) infinite;border-radius:0;height:32px;margin:0 2px;width:4px}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.65s;animation-delay:-.65s}.la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out-rapid[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.4s;animation-delay:-.4s}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%]{height:16px;width:20px}.la-line-scale-pulse-out-rapid.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin:0 1px;width:2px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%]{height:64px;width:80px}.la-line-scale-pulse-out-rapid.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;margin:0 4px;width:8px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%]{height:96px;width:120px}.la-line-scale-pulse-out-rapid.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;margin:0 6px;width:12px}@-webkit-keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}@keyframes line-scale-pulse-out-rapid{0%{transform:scaley(1)}80%{transform:scaley(.3)}90%{transform:scaley(1)}}.la-line-scale-pulse-out[_ngcontent-%COMP%], .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-scale-pulse-out[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-scale-pulse-out.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-scale-pulse-out[_ngcontent-%COMP%]{height:32px;width:40px}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite;animation:line-scale-pulse-out .9s cubic-bezier(.85,.25,.37,.85) infinite;border-radius:0;height:32px;margin:0 2px;width:4px}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2), .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.7s;animation-delay:-.7s}.la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-line-scale-pulse-out[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.5s;animation-delay:-.5s}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%]{height:16px;width:20px}.la-line-scale-pulse-out.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin:0 1px;width:2px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%]{height:64px;width:80px}.la-line-scale-pulse-out.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;margin:0 4px;width:8px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%]{height:96px;width:120px}.la-line-scale-pulse-out.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;margin:0 6px;width:12px}@-webkit-keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}@keyframes line-scale-pulse-out{0%{transform:scaley(1)}50%{transform:scaley(.3)}to{transform:scaley(1)}}.la-line-scale[_ngcontent-%COMP%], .la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-scale[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-scale.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-scale[_ngcontent-%COMP%]{height:32px;width:40px}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-scale 1.2s ease infinite;animation:line-scale 1.2s ease infinite;border-radius:0;height:32px;margin:0 2px;width:4px}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.2s;animation-delay:-1.2s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.1s;animation-delay:-1.1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1s;animation-delay:-1s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.9s;animation-delay:-.9s}.la-line-scale[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.8s;animation-delay:-.8s}.la-line-scale.la-sm[_ngcontent-%COMP%]{height:16px;width:20px}.la-line-scale.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;margin:0 1px;width:2px}.la-line-scale.la-2x[_ngcontent-%COMP%]{height:64px;width:80px}.la-line-scale.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;margin:0 4px;width:8px}.la-line-scale.la-3x[_ngcontent-%COMP%]{height:96px;width:120px}.la-line-scale.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;margin:0 6px;width:12px}@-webkit-keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}@keyframes line-scale{0%,40%,to{transform:scaleY(.4)}20%{transform:scaleY(1)}}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%], .la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-spin-clockwise-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%]{-webkit-animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite;animation:line-spin-clockwise-fade-rotating-rotate 6s linear infinite;height:32px;width:32px}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite;animation:line-spin-clockwise-fade-rotating 1s ease-in-out infinite;border-radius:0;height:10px;margin:-5px 2px 2px -1px;position:absolute;width:2px}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.875s;animation-delay:-.875s;left:50%;top:15%;transform:rotate(0deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:74.7487373415%;top:25.2512626585%;transform:rotate(45deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:85%;top:50%;transform:rotate(90deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:74.7487373415%;top:74.7487373415%;transform:rotate(135deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:50.0000000004%;top:84.9999999974%;transform:rotate(180deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:25.2512627193%;top:74.7487369862%;transform:rotate(225deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:15.0000039834%;top:49.9999806189%;transform:rotate(270deg)}.la-line-spin-clockwise-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:25.2513989292%;top:25.2506949798%;transform:rotate(315deg)}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-line-spin-clockwise-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:0;margin-top:-2px;width:1px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-line-spin-clockwise-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-2px;margin-top:-10px;width:4px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-line-spin-clockwise-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-3px;margin-top:-15px;width:6px}@-webkit-keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@keyframes line-spin-clockwise-fade-rotating-rotate{to{transform:rotate(-1turn)}}@-webkit-keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-clockwise-fade[_ngcontent-%COMP%], .la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-spin-clockwise-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-spin-clockwise-fade[_ngcontent-%COMP%]{height:32px;width:32px}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-spin-clockwise-fade 1s ease-in-out infinite;animation:line-spin-clockwise-fade 1s ease-in-out infinite;border-radius:0;height:10px;margin:-5px 2px 2px -1px;position:absolute;width:2px}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-.875s;animation-delay:-.875s;left:50%;top:15%;transform:rotate(0deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-.75s;animation-delay:-.75s;left:74.7487373415%;top:25.2512626585%;transform:rotate(45deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-.625s;animation-delay:-.625s;left:85%;top:50%;transform:rotate(90deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-.5s;animation-delay:-.5s;left:74.7487373415%;top:74.7487373415%;transform:rotate(135deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-.375s;animation-delay:-.375s;left:50.0000000004%;top:84.9999999974%;transform:rotate(180deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-.25s;animation-delay:-.25s;left:25.2512627193%;top:74.7487369862%;transform:rotate(225deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-.125s;animation-delay:-.125s;left:15.0000039834%;top:49.9999806189%;transform:rotate(270deg)}.la-line-spin-clockwise-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:0s;animation-delay:0s;left:25.2513989292%;top:25.2506949798%;transform:rotate(315deg)}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-line-spin-clockwise-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:0;margin-top:-2px;width:1px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-line-spin-clockwise-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-2px;margin-top:-10px;width:4px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-line-spin-clockwise-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-3px;margin-top:-15px;width:6px}@-webkit-keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-clockwise-fade{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade-rotating[_ngcontent-%COMP%], .la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-spin-fade-rotating.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-spin-fade-rotating[_ngcontent-%COMP%]{-webkit-animation:ball-spin-fade-rotating-rotate 6s linear infinite;animation:ball-spin-fade-rotating-rotate 6s linear infinite;height:32px;width:32px}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-spin-fade-rotating 1s ease-in-out infinite;animation:line-spin-fade-rotating 1s ease-in-out infinite;border-radius:0;height:10px;margin:-5px 2px 2px -1px;position:absolute;width:2px}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.125s;animation-delay:-1.125s;left:50%;top:15%;transform:rotate(0deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.25s;animation-delay:-1.25s;left:74.7487373415%;top:25.2512626585%;transform:rotate(45deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.375s;animation-delay:-1.375s;left:85%;top:50%;transform:rotate(90deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s;animation-delay:-1.5s;left:74.7487373415%;top:74.7487373415%;transform:rotate(135deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.625s;animation-delay:-1.625s;left:50.0000000004%;top:84.9999999974%;transform:rotate(180deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-1.75s;animation-delay:-1.75s;left:25.2512627193%;top:74.7487369862%;transform:rotate(225deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-1.875s;animation-delay:-1.875s;left:15.0000039834%;top:49.9999806189%;transform:rotate(270deg)}.la-line-spin-fade-rotating[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2s;animation-delay:-2s;left:25.2513989292%;top:25.2506949798%;transform:rotate(315deg)}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-line-spin-fade-rotating.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:0;margin-top:-2px;width:1px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-line-spin-fade-rotating.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-2px;margin-top:-10px;width:4px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-line-spin-fade-rotating.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-3px;margin-top:-15px;width:6px}@-webkit-keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@keyframes ball-spin-fade-rotating-rotate{to{transform:rotate(1turn)}}@-webkit-keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade-rotating{50%{opacity:.2}to{opacity:1}}.la-line-spin-fade[_ngcontent-%COMP%], .la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-line-spin-fade[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-line-spin-fade.la-dark[_ngcontent-%COMP%]{color:#333}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-line-spin-fade[_ngcontent-%COMP%]{height:32px;width:32px}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:line-spin-fade 1s ease-in-out infinite;animation:line-spin-fade 1s ease-in-out infinite;border-radius:0;height:10px;margin:-5px 2px 2px -1px;position:absolute;width:2px}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation-delay:-1.125s;animation-delay:-1.125s;left:50%;top:15%;transform:rotate(0deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-delay:-1.25s;animation-delay:-1.25s;left:74.7487373415%;top:25.2512626585%;transform:rotate(45deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.375s;animation-delay:-1.375s;left:85%;top:50%;transform:rotate(90deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.5s;animation-delay:-1.5s;left:74.7487373415%;top:74.7487373415%;transform:rotate(135deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-1.625s;animation-delay:-1.625s;left:50.0000000004%;top:84.9999999974%;transform:rotate(180deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-1.75s;animation-delay:-1.75s;left:25.2512627193%;top:74.7487369862%;transform:rotate(225deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(7){-webkit-animation-delay:-1.875s;animation-delay:-1.875s;left:15.0000039834%;top:49.9999806189%;transform:rotate(270deg)}.la-line-spin-fade[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(8){-webkit-animation-delay:-2s;animation-delay:-2s;left:25.2513989292%;top:25.2506949798%;transform:rotate(315deg)}.la-line-spin-fade.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-line-spin-fade.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:4px;margin-left:0;margin-top:-2px;width:1px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-line-spin-fade.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:20px;margin-left:-2px;margin-top:-10px;width:4px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-line-spin-fade.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:30px;margin-left:-3px;margin-top:-15px;width:6px}@-webkit-keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}@keyframes line-spin-fade{50%{opacity:.2}to{opacity:1}}.la-pacman[_ngcontent-%COMP%], .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-pacman[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-pacman.la-dark[_ngcontent-%COMP%]{color:#333}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-pacman[_ngcontent-%COMP%]{height:32px;width:32px}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:pacman-rotate-half-up .5s 0s infinite;animation:pacman-rotate-half-up .5s 0s infinite;background:transparent;border-radius:100%;border-right:solid transparent;border-style:solid;border-width:16px;height:0;position:absolute;width:0}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation-name:pacman-rotate-half-down;animation-name:pacman-rotate-half-down;top:0}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation:pacman-balls 2s linear 0s infinite;animation:pacman-balls 2s linear 0s infinite;border-radius:100%;height:8px;left:200%;opacity:0;position:absolute;top:50%;width:8px}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3){-webkit-animation-delay:-1.44s;animation-delay:-1.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4){-webkit-animation-delay:-1.94s;animation-delay:-1.94s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5){-webkit-animation-delay:-2.44s;animation-delay:-2.44s}.la-pacman[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){-webkit-animation-delay:-2.94s;animation-delay:-2.94s}.la-pacman.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:8px;position:absolute}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){height:4px;width:4px}.la-pacman.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:32px;position:absolute}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){height:16px;width:16px}.la-pacman.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){border-width:48px;position:absolute}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){top:0}.la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(3), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(4), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(5), .la-pacman.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(6){height:24px;width:24px}@-webkit-keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@keyframes pacman-rotate-half-up{0%,to{transform:rotate(270deg)}50%{transform:rotate(1turn)}}@-webkit-keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@keyframes pacman-rotate-half-down{0%,to{transform:rotate(90deg)}50%{transform:rotate(0deg)}}@-webkit-keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}@keyframes pacman-balls{0%{left:200%;opacity:0;transform:translateY(-50%)}5%{opacity:.5}66%{opacity:1}67%{opacity:0}to{left:0;transform:translateY(-50%)}}.la-square-jelly-box[_ngcontent-%COMP%], .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-square-jelly-box[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-square-jelly-box.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-square-jelly-box[_ngcontent-%COMP%]{height:32px;width:32px}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child, .la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){left:0;position:absolute;width:100%}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:first-child{-webkit-animation:square-jelly-box-animate .6s linear -.1s infinite;animation:square-jelly-box-animate .6s linear -.1s infinite;border-radius:10%;height:100%;top:-25%;z-index:1}.la-square-jelly-box[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:nth-child(2){-webkit-animation:square-jelly-box-shadow .6s linear -.1s infinite;animation:square-jelly-box-shadow .6s linear -.1s infinite;background:#000;border-radius:50%;bottom:-9%;height:10%;opacity:.2}.la-square-jelly-box.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-square-jelly-box.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-square-jelly-box.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}@-webkit-keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@keyframes square-jelly-box-animate{17%{border-bottom-right-radius:10%}25%{transform:translateY(25%) rotate(22.5deg)}50%{border-bottom-right-radius:100%;transform:translateY(50%) scaleY(.9) rotate(45deg)}75%{transform:translateY(25%) rotate(67.5deg)}to{transform:translateY(0) rotate(90deg)}}@-webkit-keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}@keyframes square-jelly-box-shadow{50%{transform:scaleX(1.25)}}.la-square-loader[_ngcontent-%COMP%], .la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-square-loader[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-square-loader.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-square-loader[_ngcontent-%COMP%]{height:32px;width:32px}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:square-loader 2s ease infinite;animation:square-loader 2s ease infinite;background:transparent;border-radius:0;border-width:2px;height:100%;width:100%}.la-square-loader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{-webkit-animation:square-loader-inner 2s ease-in infinite;animation:square-loader-inner 2s ease-in infinite;background-color:currentColor;content:"";display:inline-block;vertical-align:top;width:100%}.la-square-loader.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-square-loader.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-square-loader.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-square-loader.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-square-loader.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}.la-square-loader.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}@-webkit-keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@keyframes square-loader{0%{transform:rotate(0deg)}25%{transform:rotate(180deg)}50%{transform:rotate(180deg)}75%{transform:rotate(1turn)}to{transform:rotate(1turn)}}@-webkit-keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}@keyframes square-loader-inner{0%{height:0}25%{height:0}50%{height:100%}75%{height:100%}to{height:0}}.la-square-spin[_ngcontent-%COMP%], .la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-square-spin[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-square-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-square-spin[_ngcontent-%COMP%]{height:32px;width:32px}.la-square-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:square-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;border-radius:0;height:100%;width:100%}.la-square-spin.la-sm[_ngcontent-%COMP%]{height:16px;width:16px}.la-square-spin.la-2x[_ngcontent-%COMP%]{height:64px;width:64px}.la-square-spin.la-3x[_ngcontent-%COMP%]{height:96px;width:96px}@-webkit-keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes square-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-timer[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-timer.la-dark[_ngcontent-%COMP%]{color:#333}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-timer[_ngcontent-%COMP%], .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:32px;width:32px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background:transparent;border-radius:100%;border-width:2px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{-webkit-animation:timer-loader 1.25s linear infinite;-webkit-animation-delay:-625ms;animation:timer-loader 1.25s linear infinite;animation-delay:-625ms;background:currentColor;border-radius:2px;content:"";display:block;left:14px;margin-left:-1px;margin-top:-1px;position:absolute;top:14px;transform-origin:1px 1px 0;width:2px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:12px}.la-timer[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{-webkit-animation-delay:-7.5s;-webkit-animation-duration:15s;animation-delay:-7.5s;animation-duration:15s;height:8px}.la-timer.la-sm[_ngcontent-%COMP%], .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:16px;width:16px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{border-radius:1px;left:7px;margin-left:-.5px;margin-top:-.5px;top:7px;transform-origin:.5px .5px 0;width:1px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:6px}.la-timer.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:4px}.la-timer.la-2x[_ngcontent-%COMP%], .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:64px;width:64px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{border-radius:4px;left:28px;margin-left:-2px;margin-top:-2px;top:28px;transform-origin:2px 2px 0;width:4px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:24px}.la-timer.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:16px}.la-timer.la-3x[_ngcontent-%COMP%], .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{height:96px;width:96px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after, .la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{border-radius:6px;left:42px;margin-left:-3px;margin-top:-3px;top:42px;transform-origin:3px 3px 0;width:6px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:before{height:36px}.la-timer.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:after{height:24px}@-webkit-keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}@keyframes timer-loader{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}.la-triangle-skew-spin[_ngcontent-%COMP%], .la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{box-sizing:border-box;position:relative}.la-triangle-skew-spin[_ngcontent-%COMP%]{color:#fff;display:block;font-size:0}.la-triangle-skew-spin.la-dark[_ngcontent-%COMP%]{color:#333}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{background-color:currentColor;border:0 solid;display:inline-block;float:none}.la-triangle-skew-spin[_ngcontent-%COMP%]{height:16px;width:32px}.la-triangle-skew-spin[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{-webkit-animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;animation:triangle-skew-spin 3s cubic-bezier(.09,.57,.49,.9) 0s infinite;background:transparent;border-color:currentcolor transparent;border-left:none;border-right:none;border-style:solid;border-width:0 16px 16px;height:0;width:0}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%]{height:8px;width:16px}.la-triangle-skew-spin.la-sm[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 8px 8px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%]{height:32px;width:64px}.la-triangle-skew-spin.la-2x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 32px 32px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%]{height:48px;width:96px}.la-triangle-skew-spin.la-3x[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{border-width:0 48px 48px}@-webkit-keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}@keyframes triangle-skew-spin{0%{transform:perspective(100px) rotateX(0) rotateY(0)}25%{transform:perspective(100px) rotateX(180deg) rotateY(0)}50%{transform:perspective(100px) rotateX(180deg) rotateY(180deg)}75%{transform:perspective(100px) rotateX(0) rotateY(180deg)}to{transform:perspective(100px) rotateX(0) rotateY(1turn)}}.overlay[_ngcontent-%COMP%]{height:100%;left:0;position:fixed;top:0;width:100%}.overlay[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.loading-text){left:50%;margin:0;position:absolute;top:50%;transform:translate(-50%,-50%)}.loading-text[_ngcontent-%COMP%]{left:50%;position:absolute;top:60%;transform:translate(-50%,-60%)}'],data:{animation:[av("fadeIn",[uv("in",dv({opacity:1})),gv(":enter",[dv({opacity:0}),lv(300)]),gv(":leave",lv(200,dv({opacity:0})))])]},changeDetection:0}),e})(),RI=(()=>{class e{constructor(e){this._sanitizer=e}transform(e){if(e)return this._sanitizer.bypassSecurityTrustHtml(e)}}return e.\u0275fac=function(t){return new(t||e)(As(nd))},e.\u0275pipe=bt({name:"safeHtml",type:e,pure:!0}),e})(),DI=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh]]}),e})();const NI=(()=>{function e(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return e.prototype=Object.create(Error.prototype),e})();function LI(e){return function(t){return 0===e?Qp():t.lift(new BI(e))}}class BI{constructor(e){if(this.total=e,this.total<0)throw new Jp}call(e,t){return t.subscribe(new FI(e,this.total))}}class FI extends g{constructor(e,t){super(e),this.total=t,this.ring=new Array,this.count=0}_next(e){const t=this.ring,n=this.total,i=this.count++;t.length<n?t.push(e):t[i%n]=e}_complete(){const e=this.destination;let t=this.count;if(t>0){const n=this.count>=this.total?this.total:this.count,i=this.ring;for(let r=0;r<n;r++){const r=t++%n;e.next(i[r])}}e.complete()}}function VI(e=jI){return t=>t.lift(new $I(e))}class $I{constructor(e){this.errorFactory=e}call(e,t){return t.subscribe(new HI(e,this.errorFactory))}}class HI extends g{constructor(e,t){super(e),this.errorFactory=t,this.hasValue=!1}_next(e){this.hasValue=!0,this.destination.next(e)}_complete(){if(this.hasValue)return this.destination.complete();{let t;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)}}}function jI(){return new NI}function WI(e=null){return t=>t.lift(new zI(e))}class zI{constructor(e){this.defaultValue=e}call(e,t){return t.subscribe(new GI(e,this.defaultValue))}}class GI extends g{constructor(e,t){super(e),this.defaultValue=t,this.isEmpty=!0}_next(e){this.isEmpty=!1,this.destination.next(e)}_complete(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()}}function ZI(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Ku((t,n)=>e(t,n,i)):v,eg(1),n?WI(t):VI(()=>new NI))}class KI{constructor(e,t,n){this.predicate=e,this.thisArg=t,this.source=n}call(e,t){return t.subscribe(new XI(e,this.predicate,this.thisArg,this.source))}}class XI extends g{constructor(e,t,n,i){super(e),this.predicate=t,this.thisArg=n,this.source=i,this.index=0,this.thisArg=n||this}notifyComplete(e){this.destination.next(e),this.destination.complete()}_next(e){let t=!1;try{t=this.predicate.call(this.thisArg,e,this.index++,this.source)}catch(n){return void this.destination.error(n)}t||this.notifyComplete(!1)}_complete(){this.notifyComplete(!0)}}class YI{constructor(e,t,n=!1){this.accumulator=e,this.seed=t,this.hasSeed=n}call(e,t){return t.subscribe(new UI(e,this.accumulator,this.seed,this.hasSeed))}}class UI extends g{constructor(e,t,n,i){super(e),this.accumulator=t,this._seed=n,this.hasSeed=i,this.index=0}get seed(){return this._seed}set seed(e){this.hasSeed=!0,this._seed=e}_next(e){if(this.hasSeed)return this._tryNext(e);this.seed=e,this.destination.next(e)}_tryNext(e){const t=this.index++;let n;try{n=this.accumulator(this.seed,e,t)}catch(i){this.destination.error(i)}this.seed=n,this.destination.next(n)}}class JI{constructor(e,t){this.id=e,this.url=t}}class qI extends JI{constructor(e,t,n="imperative",i=null){super(e,t),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class QI extends JI{constructor(e,t,n){super(e,t),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class eA extends JI{constructor(e,t,n){super(e,t),this.reason=n}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class tA extends JI{constructor(e,t,n){super(e,t),this.error=n}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class nA extends JI{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iA extends JI{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rA extends JI{constructor(e,t,n,i,r){super(e,t),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=r}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class oA extends JI{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class sA extends JI{constructor(e,t,n,i){super(e,t),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class aA{constructor(e){this.route=e}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class lA{constructor(e){this.route=e}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class cA{constructor(e){this.snapshot=e}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class hA{constructor(e){this.snapshot=e}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class dA{constructor(e){this.snapshot=e}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class uA{constructor(e){this.snapshot=e}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class pA{constructor(e,t,n){this.routerEvent=e,this.position=t,this.anchor=n}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class gA{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function fA(e){return new gA(e)}function mA(e){const t=Error("NavigationCancelingError: "+e);return t.ngNavigationCancelingError=!0,t}function vA(e,t,n){const i=n.path.split("/");if(i.length>e.length)return null;if("full"===n.pathMatch&&(t.hasChildren()||i.length<e.length))return null;const r={};for(let o=0;o<i.length;o++){const t=i[o],n=e[o];if(t.startsWith(":"))r[t.substring(1)]=n;else if(t!==n.path)return null}return{consumed:e.slice(0,i.length),posParams:r}}function yA(e,t){const n=Object.keys(e),i=Object.keys(t);if(!n||!i||n.length!=i.length)return!1;let r;for(let o=0;o<n.length;o++)if(r=n[o],!bA(e[r],t[r]))return!1;return!0}function bA(e,t){return Array.isArray(e)&&Array.isArray(t)?e.length==t.length&&e.every(e=>t.indexOf(e)>-1):e===t}function CA(e){return Array.prototype.concat.apply([],e)}function wA(e){return e.length>0?e[e.length-1]:null}function _A(e,t){for(const n in e)e.hasOwnProperty(n)&&t(e[n],n)}function xA(e){return Bs(e)?e:Ls(e)?V(Promise.resolve(e)):Gu(e)}function IA(e,t,n){return n?function(e,t){return yA(e,t)}(e.queryParams,t.queryParams)&&function e(t,n){if(!EA(t.segments,n.segments))return!1;if(t.numberOfChildren!==n.numberOfChildren)return!1;for(const i in n.children){if(!t.children[i])return!1;if(!e(t.children[i],n.children[i]))return!1}return!0}(e.root,t.root):function(e,t){return Object.keys(t).length<=Object.keys(e).length&&Object.keys(t).every(n=>bA(e[n],t[n]))}(e.queryParams,t.queryParams)&&function e(t,n){return function t(n,i,r){if(n.segments.length>r.length)return!!EA(n.segments.slice(0,r.length),r)&&!i.hasChildren();if(n.segments.length===r.length){if(!EA(n.segments,r))return!1;for(const t in i.children){if(!n.children[t])return!1;if(!e(n.children[t],i.children[t]))return!1}return!0}{const e=r.slice(0,n.segments.length),o=r.slice(n.segments.length);return!!EA(n.segments,e)&&!!n.children.primary&&t(n.children.primary,i,o)}}(t,n,n.segments)}(e.root,t.root)}class AA{constructor(e,t,n){this.root=e,this.queryParams=t,this.fragment=n}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fA(this.queryParams)),this._queryParamMap}toString(){return TA.serialize(this)}}class kA{constructor(e,t){this.segments=e,this.children=t,this.parent=null,_A(t,(e,t)=>e.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return RA(this)}}class SA{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=fA(this.parameters)),this._parameterMap}toString(){return VA(this)}}function EA(e,t){return e.length===t.length&&e.every((e,n)=>e.path===t[n].path)}function OA(e,t){let n=[];return _A(e.children,(e,i)=>{"primary"===i&&(n=n.concat(t(e,i)))}),_A(e.children,(e,i)=>{"primary"!==i&&(n=n.concat(t(e,i)))}),n}class PA{}class MA{parse(e){const t=new zA(e);return new AA(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){return`${"/"+function e(t,n){if(!t.hasChildren())return RA(t);if(n){const n=t.children.primary?e(t.children.primary,!1):"",i=[];return _A(t.children,(t,n)=>{"primary"!==n&&i.push(`${n}:${e(t,!1)}`)}),i.length>0?`${n}(${i.join("//")})`:n}{const n=OA(t,(n,i)=>"primary"===i?[e(t.children.primary,!1)]:[`${i}:${e(n,!1)}`]);return`${RA(t)}/(${n.join("//")})`}}(e.root,!0)}${function(e){const t=Object.keys(e).map(t=>{const n=e[t];return Array.isArray(n)?n.map(e=>`${NA(t)}=${NA(e)}`).join("&"):`${NA(t)}=${NA(n)}`});return t.length?"?"+t.join("&"):""}(e.queryParams)}${"string"==typeof e.fragment?"#"+(t=e.fragment,encodeURI(t)):""}`;var t}}const TA=new MA;function RA(e){return e.segments.map(e=>VA(e)).join("/")}function DA(e){return encodeURIComponent(e).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function NA(e){return DA(e).replace(/%3B/gi,";")}function LA(e){return DA(e).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function BA(e){return decodeURIComponent(e)}function FA(e){return BA(e.replace(/\+/g,"%20"))}function VA(e){return`${LA(e.path)}${t=e.parameters,Object.keys(t).map(e=>`;${LA(e)}=${LA(t[e])}`).join("")}`;var t}const $A=/^[^\/()?;=#]+/;function HA(e){const t=e.match($A);return t?t[0]:""}const jA=/^[^=?&#]+/,WA=/^[^?&#]+/;class zA{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new kA([],{}):new kA([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(n.primary=new kA(e,t)),n}parseSegment(){const e=HA(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(e),new SA(BA(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=HA(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=HA(this.remaining);e&&(n=e,this.capture(n))}e[BA(t)]=BA(n)}parseQueryParam(e){const t=function(e){const t=e.match(jA);return t?t[0]:""}(this.remaining);if(!t)return;this.capture(t);let n="";if(this.consumeOptional("=")){const e=function(e){const t=e.match(WA);return t?t[0]:""}(this.remaining);e&&(n=e,this.capture(n))}const i=FA(t),r=FA(n);if(e.hasOwnProperty(i)){let t=e[i];Array.isArray(t)||(t=[t],e[i]=t),t.push(r)}else e[i]=r}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const n=HA(this.remaining),i=this.remaining[n.length];if("/"!==i&&")"!==i&&";"!==i)throw new Error(`Cannot parse url '${this.url}'`);let r=void 0;n.indexOf(":")>-1?(r=n.substr(0,n.indexOf(":")),this.capture(r),this.capture(":")):e&&(r="primary");const o=this.parseChildren();t[r]=1===Object.keys(o).length?o.primary:new kA([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new Error(`Expected "${e}".`)}}class GA{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ZA(e,this._root);return t?t.children.map(e=>e.value):[]}firstChild(e){const t=ZA(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=KA(e,this._root);return t.length<2?[]:t[t.length-2].children.map(e=>e.value).filter(t=>t!==e)}pathFromRoot(e){return KA(e,this._root).map(e=>e.value)}}function ZA(e,t){if(e===t.value)return t;for(const n of t.children){const t=ZA(e,n);if(t)return t}return null}function KA(e,t){if(e===t.value)return[t];for(const n of t.children){const i=KA(e,n);if(i.length)return i.unshift(t),i}return[]}class XA{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function YA(e){const t={};return e&&e.children.forEach(e=>t[e.value.outlet]=e),t}class UA extends GA{constructor(e,t){super(e),this.snapshot=t,nk(this,e)}toString(){return this.snapshot.toString()}}function JA(e,t){const n=function(e,t){const n=new ek([],{},{},"",{},"primary",t,null,e.root,-1,{});return new tk("",new XA(n,[]))}(e,t),i=new hm([new SA("",{})]),r=new hm({}),o=new hm({}),s=new hm({}),a=new hm(""),l=new qA(i,r,s,a,o,"primary",t,n.root);return l.snapshot=n.root,new UA(new XA(l,[]),n)}class qA{constructor(e,t,n,i,r,o,s,a){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this._futureSnapshot=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(N(e=>fA(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(N(e=>fA(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function QA(e,t="emptyOnly"){const n=e.pathFromRoot;let i=0;if("always"!==t)for(i=n.length-1;i>=1;){const e=n[i],t=n[i-1];if(e.routeConfig&&""===e.routeConfig.path)i--;else{if(t.component)break;i--}}return function(e){return e.reduce((e,t)=>({params:Object.assign(Object.assign({},e.params),t.params),data:Object.assign(Object.assign({},e.data),t.data),resolve:Object.assign(Object.assign({},e.resolve),t._resolvedData)}),{params:{},data:{},resolve:{}})}(n.slice(i))}class ek{constructor(e,t,n,i,r,o,s,a,l,c,h){this.url=e,this.params=t,this.queryParams=n,this.fragment=i,this.data=r,this.outlet=o,this.component=s,this.routeConfig=a,this._urlSegment=l,this._lastPathIndex=c,this._resolve=h}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=fA(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=fA(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(e=>e.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class tk extends GA{constructor(e,t){super(t),this.url=e,nk(this,t)}toString(){return ik(this._root)}}function nk(e,t){t.value._routerState=e,t.children.forEach(t=>nk(e,t))}function ik(e){const t=e.children.length>0?` { ${e.children.map(ik).join(", ")} } `:"";return`${e.value}${t}`}function rk(e){if(e.snapshot){const t=e.snapshot,n=e._futureSnapshot;e.snapshot=n,yA(t.queryParams,n.queryParams)||e.queryParams.next(n.queryParams),t.fragment!==n.fragment&&e.fragment.next(n.fragment),yA(t.params,n.params)||e.params.next(n.params),function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(!yA(e[n],t[n]))return!1;return!0}(t.url,n.url)||e.url.next(n.url),yA(t.data,n.data)||e.data.next(n.data)}else e.snapshot=e._futureSnapshot,e.data.next(e._futureSnapshot.data)}function ok(e,t){var n,i;return yA(e.params,t.params)&&EA(n=e.url,i=t.url)&&n.every((e,t)=>yA(e.parameters,i[t].parameters))&&!(!e.parent!=!t.parent)&&(!e.parent||ok(e.parent,t.parent))}function sk(e){return"object"==typeof e&&null!=e&&!e.outlets&&!e.segmentPath}function ak(e,t,n,i,r){let o={};return i&&_A(i,(e,t)=>{o[t]=Array.isArray(e)?e.map(e=>""+e):""+e}),new AA(n.root===e?t:function e(t,n,i){const r={};return _A(t.children,(t,o)=>{r[o]=t===n?i:e(t,n,i)}),new kA(t.segments,r)}(n.root,e,t),o,r)}class lk{constructor(e,t,n){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=n,e&&n.length>0&&sk(n[0]))throw new Error("Root segment cannot have matrix parameters");const i=n.find(e=>"object"==typeof e&&null!=e&&e.outlets);if(i&&i!==wA(n))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ck{constructor(e,t,n){this.segmentGroup=e,this.processChildren=t,this.index=n}}function hk(e){return"object"==typeof e&&null!=e&&e.outlets?e.outlets.primary:""+e}function dk(e,t,n){if(e||(e=new kA([],{})),0===e.segments.length&&e.hasChildren())return uk(e,t,n);const i=function(e,t,n){let i=0,r=t;const o={match:!1,pathIndex:0,commandIndex:0};for(;r<e.segments.length;){if(i>=n.length)return o;const t=e.segments[r],s=hk(n[i]),a=i<n.length-1?n[i+1]:null;if(r>0&&void 0===s)break;if(s&&a&&"object"==typeof a&&void 0===a.outlets){if(!mk(s,a,t))return o;i+=2}else{if(!mk(s,{},t))return o;i++}r++}return{match:!0,pathIndex:r,commandIndex:i}}(e,t,n),r=n.slice(i.commandIndex);if(i.match&&i.pathIndex<e.segments.length){const t=new kA(e.segments.slice(0,i.pathIndex),{});return t.children.primary=new kA(e.segments.slice(i.pathIndex),e.children),uk(t,0,r)}return i.match&&0===r.length?new kA(e.segments,{}):i.match&&!e.hasChildren()?pk(e,t,n):i.match?uk(e,0,r):pk(e,t,n)}function uk(e,t,n){if(0===n.length)return new kA(e.segments,{});{const i=function(e){return"object"==typeof e[0]&&null!==e[0]&&e[0].outlets?e[0].outlets:{primary:e}}(n),r={};return _A(i,(n,i)=>{null!==n&&(r[i]=dk(e.children[i],t,n))}),_A(e.children,(e,t)=>{void 0===i[t]&&(r[t]=e)}),new kA(e.segments,r)}}function pk(e,t,n){const i=e.segments.slice(0,t);let r=0;for(;r<n.length;){if("object"==typeof n[r]&&null!==n[r]&&void 0!==n[r].outlets){const e=gk(n[r].outlets);return new kA(i,e)}if(0===r&&sk(n[0])){i.push(new SA(e.segments[t].path,n[0])),r++;continue}const o=hk(n[r]),s=r<n.length-1?n[r+1]:null;o&&s&&sk(s)?(i.push(new SA(o,fk(s))),r+=2):(i.push(new SA(o,{})),r++)}return new kA(i,{})}function gk(e){const t={};return _A(e,(e,n)=>{null!==e&&(t[n]=pk(new kA([],{}),0,e))}),t}function fk(e){const t={};return _A(e,(e,n)=>t[n]=""+e),t}function mk(e,t,n){return e==n.path&&yA(t,n.parameters)}class vk{constructor(e,t,n,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=n,this.forwardEvent=i}activate(e){const t=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,n,e),rk(this.futureState.root),this.activateChildRoutes(t,n,e)}deactivateChildRoutes(e,t,n){const i=YA(t);e.children.forEach(e=>{const t=e.value.outlet;this.deactivateRoutes(e,i[t],n),delete i[t]}),_A(i,(e,t)=>{this.deactivateRouteAndItsChildren(e,n)})}deactivateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(i===r)if(i.component){const r=n.getContext(i.outlet);r&&this.deactivateChildRoutes(e,t,r.children)}else this.deactivateChildRoutes(e,t,n);else r&&this.deactivateRouteAndItsChildren(t,n)}deactivateRouteAndItsChildren(e,t){this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const n=t.getContext(e.value.outlet);if(n&&n.outlet){const t=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:t,route:e,contexts:i})}}deactivateRouteAndOutlet(e,t){const n=t.getContext(e.value.outlet);if(n){const i=YA(e),r=e.value.component?n.children:t;_A(i,(e,t)=>this.deactivateRouteAndItsChildren(e,r)),n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated())}}activateChildRoutes(e,t,n){const i=YA(t);e.children.forEach(e=>{this.activateRoutes(e,i[e.value.outlet],n),this.forwardEvent(new uA(e.value.snapshot))}),e.children.length&&this.forwardEvent(new hA(e.value.snapshot))}activateRoutes(e,t,n){const i=e.value,r=t?t.value:null;if(rk(i),i===r)if(i.component){const r=n.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,r.children)}else this.activateChildRoutes(e,t,n);else if(i.component){const t=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const e=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),t.children.onOutletReAttached(e.contexts),t.attachRef=e.componentRef,t.route=e.route.value,t.outlet&&t.outlet.attach(e.componentRef,e.route.value),yk(e.route)}else{const n=function(e){for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig;if(e&&e.component)return null}return null}(i.snapshot),r=n?n.module.componentFactoryResolver:null;t.attachRef=null,t.route=i,t.resolver=r,t.outlet&&t.outlet.activateWith(i,r),this.activateChildRoutes(e,null,t.children)}}else this.activateChildRoutes(e,null,n)}}function yk(e){rk(e.value),e.children.forEach(yk)}class bk{constructor(e,t){this.routes=e,this.module=t}}function Ck(e){return"function"==typeof e}function wk(e){return e instanceof AA}class _k{constructor(e){this.segmentGroup=e||null}}class xk{constructor(e){this.urlTree=e}}function Ik(e){return new y(t=>t.error(new _k(e)))}function Ak(e){return new y(t=>t.error(new xk(e)))}function kk(e){return new y(t=>t.error(new Error(`Only absolute redirects can have named outlets. redirectTo: '${e}'`)))}class Sk{constructor(e,t,n,i,r){this.configLoader=t,this.urlSerializer=n,this.urlTree=i,this.config=r,this.allowRedirects=!0,this.ngModule=e.get(qe)}apply(){return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(N(e=>this.createUrlTree(e,this.urlTree.queryParams,this.urlTree.fragment))).pipe(ww(e=>{if(e instanceof xk)return this.allowRedirects=!1,this.match(e.urlTree);if(e instanceof _k)throw this.noMatchError(e);throw e}))}match(e){return this.expandSegmentGroup(this.ngModule,this.config,e.root,"primary").pipe(N(t=>this.createUrlTree(t,e.queryParams,e.fragment))).pipe(ww(e=>{if(e instanceof _k)throw this.noMatchError(e);throw e}))}noMatchError(e){return new Error(`Cannot match any routes. URL Segment: '${e.segmentGroup}'`)}createUrlTree(e,t,n){const i=e.segments.length>0?new kA([],{primary:e}):e;return new AA(i,t,n)}expandSegmentGroup(e,t,n,i){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(e,t,n).pipe(N(e=>new kA([],e))):this.expandSegment(e,n,t,n.segments,i,!0)}expandChildren(e,t,n){return function(e,t){if(0===Object.keys(e).length)return Gu({});const n=[],i=[],r={};return _A(e,(e,o)=>{const s=t(o,e).pipe(N(e=>r[o]=e));"primary"===o?n.push(s):i.push(s)}),Gu.apply(null,n.concat(i)).pipe(qg(),function(e,t){const n=arguments.length>=2;return i=>i.pipe(e?Ku((t,n)=>e(t,n,i)):v,LI(1),n?WI(t):VI(()=>new NI))}(),N(()=>r))}(n.children,(n,i)=>this.expandSegmentGroup(e,t,i,n))}expandSegment(e,t,n,i,r,o){return Gu(...n).pipe(N(s=>this.expandSegmentAgainstRoute(e,t,n,s,i,r,o).pipe(ww(e=>{if(e instanceof _k)return Gu(null);throw e}))),qg(),ZI(e=>!!e),ww((e,n)=>{if(e instanceof NI||"EmptyError"===e.name){if(this.noLeftoversInUrl(t,i,r))return Gu(new kA([],{}));throw new _k(t)}throw e}))}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}expandSegmentAgainstRoute(e,t,n,i,r,o,s){return Mk(i)!==o?Ik(t):void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,r):s&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o):Ik(t)}expandSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,n,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,n,i){const r=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Ak(r):this.lineralizeSegments(n,r).pipe($(n=>{const r=new kA(n,{});return this.expandSegment(e,r,t,n,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,n,i,r,o){const{matched:s,consumedSegments:a,lastChild:l,positionalParamSegments:c}=Ek(t,i,r);if(!s)return Ik(t);const h=this.applyRedirectCommands(a,i.redirectTo,c);return i.redirectTo.startsWith("/")?Ak(h):this.lineralizeSegments(i,h).pipe($(i=>this.expandSegment(e,t,n,i.concat(r.slice(l)),o,!1)))}matchSegmentAgainstRoute(e,t,n,i){if("**"===n.path)return n.loadChildren?this.configLoader.load(e.injector,n).pipe(N(e=>(n._loadedConfig=e,new kA(i,{})))):Gu(new kA(i,{}));const{matched:r,consumedSegments:o,lastChild:s}=Ek(t,n,i);if(!r)return Ik(t);const a=i.slice(s);return this.getChildConfig(e,n,i).pipe($(e=>{const n=e.module,i=e.routes,{segmentGroup:r,slicedSegments:s}=function(e,t,n,i){return n.length>0&&function(e,t,n){return n.some(n=>Pk(e,t,n)&&"primary"!==Mk(n))}(e,n,i)?{segmentGroup:Ok(new kA(t,function(e,t){const n={};n.primary=t;for(const i of e)""===i.path&&"primary"!==Mk(i)&&(n[Mk(i)]=new kA([],{}));return n}(i,new kA(n,e.children)))),slicedSegments:[]}:0===n.length&&function(e,t,n){return n.some(n=>Pk(e,t,n))}(e,n,i)?{segmentGroup:Ok(new kA(e.segments,function(e,t,n,i){const r={};for(const o of n)Pk(e,t,o)&&!i[Mk(o)]&&(r[Mk(o)]=new kA([],{}));return Object.assign(Object.assign({},i),r)}(e,n,i,e.children))),slicedSegments:n}:{segmentGroup:e,slicedSegments:n}}(t,o,a,i);return 0===s.length&&r.hasChildren()?this.expandChildren(n,i,r).pipe(N(e=>new kA(o,e))):0===i.length&&0===s.length?Gu(new kA(o,{})):this.expandSegment(n,r,i,s,"primary",!0).pipe(N(e=>new kA(o.concat(e.segments),e.children)))}))}getChildConfig(e,t,n){return t.children?Gu(new bk(t.children,e)):t.loadChildren?void 0!==t._loadedConfig?Gu(t._loadedConfig):this.runCanLoadGuards(e.injector,t,n).pipe($(n=>n?this.configLoader.load(e.injector,t).pipe(N(e=>(t._loadedConfig=e,e))):function(e){return new y(t=>t.error(mA(`Cannot load children because the guard of the route "path: '${e.path}'" returned false`)))}(t))):Gu(new bk([],e))}runCanLoadGuards(e,t,n){const i=t.canLoad;return i&&0!==i.length?V(i).pipe(N(i=>{const r=e.get(i);let o;if(function(e){return e&&Ck(e.canLoad)}(r))o=r.canLoad(t,n);else{if(!Ck(r))throw new Error("Invalid CanLoad guard");o=r(t,n)}return xA(o)})).pipe(qg(),Vp(e=>{if(!wk(e))return;const t=mA(`Redirecting to "${this.urlSerializer.serialize(e)}"`);throw t.url=e,t}),(r=e=>!0===e,e=>e.lift(new KI(r,void 0,e)))):Gu(!0);var r}lineralizeSegments(e,t){let n=[],i=t.root;for(;;){if(n=n.concat(i.segments),0===i.numberOfChildren)return Gu(n);if(i.numberOfChildren>1||!i.children.primary)return kk(e.redirectTo);i=i.children.primary}}applyRedirectCommands(e,t,n){return this.applyRedirectCreatreUrlTree(t,this.urlSerializer.parse(t),e,n)}applyRedirectCreatreUrlTree(e,t,n,i){const r=this.createSegmentGroup(e,t.root,n,i);return new AA(r,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const n={};return _A(e,(e,i)=>{if("string"==typeof e&&e.startsWith(":")){const r=e.substring(1);n[i]=t[r]}else n[i]=e}),n}createSegmentGroup(e,t,n,i){const r=this.createSegments(e,t.segments,n,i);let o={};return _A(t.children,(t,r)=>{o[r]=this.createSegmentGroup(e,t,n,i)}),new kA(r,o)}createSegments(e,t,n,i){return t.map(t=>t.path.startsWith(":")?this.findPosParam(e,t,i):this.findOrReturn(t,n))}findPosParam(e,t,n){const i=n[t.path.substring(1)];if(!i)throw new Error(`Cannot redirect to '${e}'. Cannot find '${t.path}'.`);return i}findOrReturn(e,t){let n=0;for(const i of t){if(i.path===e.path)return t.splice(n),i;n++}return e}}function Ek(e,t,n){if(""===t.path)return"full"===t.pathMatch&&(e.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};const i=(t.matcher||vA)(n,e,t);return i?{matched:!0,consumedSegments:i.consumed,lastChild:i.consumed.length,positionalParamSegments:i.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Ok(e){if(1===e.numberOfChildren&&e.children.primary){const t=e.children.primary;return new kA(e.segments.concat(t.segments),t.children)}return e}function Pk(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Mk(e){return e.outlet||"primary"}class Tk{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Rk{constructor(e,t){this.component=e,this.route=t}}function Dk(e,t,n){const i=e._root;return function e(t,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=YA(n);return t.children.forEach(t=>{!function(t,n,i,r,o={canDeactivateChecks:[],canActivateChecks:[]}){const s=t.value,a=n?n.value:null,l=i?i.getContext(t.value.outlet):null;if(a&&s.routeConfig===a.routeConfig){const c=function(e,t,n){if("function"==typeof n)return n(e,t);switch(n){case"pathParamsChange":return!EA(e.url,t.url);case"pathParamsOrQueryParamsChange":return!EA(e.url,t.url)||!yA(e.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ok(e,t)||!yA(e.queryParams,t.queryParams);case"paramsChange":default:return!ok(e,t)}}(a,s,s.routeConfig.runGuardsAndResolvers);c?o.canActivateChecks.push(new Tk(r)):(s.data=a.data,s._resolvedData=a._resolvedData),e(t,n,s.component?l?l.children:null:i,r,o),c&&o.canDeactivateChecks.push(new Rk(l&&l.outlet&&l.outlet.component||null,a))}else a&&Lk(n,l,o),o.canActivateChecks.push(new Tk(r)),e(t,null,s.component?l?l.children:null:i,r,o)}(t,s[t.value.outlet],i,r.concat([t.value]),o),delete s[t.value.outlet]}),_A(s,(e,t)=>Lk(e,i.getContext(t),o)),o}(i,t?t._root:null,n,[i.value])}function Nk(e,t,n){const i=function(e){if(!e)return null;for(let t=e.parent;t;t=t.parent){const e=t.routeConfig;if(e&&e._loadedConfig)return e._loadedConfig}return null}(t);return(i?i.module.injector:n).get(e)}function Lk(e,t,n){const i=YA(e),r=e.value;_A(i,(e,i)=>{Lk(e,r.component?t?t.children.getContext(i):null:t,n)}),n.canDeactivateChecks.push(new Rk(r.component&&t&&t.outlet&&t.outlet.isActivated?t.outlet.component:null,r))}const Bk=Symbol("INITIAL_VALUE");function Fk(){return tf(e=>YC(...e.map(e=>e.pipe(eg(1),ef(Bk)))).pipe(function(e,t){let n=!1;return arguments.length>=2&&(n=!0),function(i){return i.lift(new YI(e,t,n))}}((e,t)=>{let n=!1;return t.reduce((e,i,r)=>{if(e!==Bk)return e;if(i===Bk&&(n=!0),!n){if(!1===i)return i;if(r===t.length-1||wk(i))return i}return e},e)},Bk),Ku(e=>e!==Bk),N(e=>wk(e)?e:!0===e),eg(1)))}function Vk(e,t){return null!==e&&t&&t(new dA(e)),Gu(!0)}function $k(e,t){return null!==e&&t&&t(new cA(e)),Gu(!0)}function Hk(e,t,n){const i=t.routeConfig?t.routeConfig.canActivate:null;return i&&0!==i.length?Gu(i.map(i=>cC(()=>{const r=Nk(i,t,n);let o;if(function(e){return e&&Ck(e.canActivate)}(r))o=xA(r.canActivate(t,e));else{if(!Ck(r))throw new Error("Invalid CanActivate guard");o=xA(r(t,e))}return o.pipe(ZI())}))).pipe(Fk()):Gu(!0)}function jk(e,t,n){const i=t[t.length-1],r=t.slice(0,t.length-1).reverse().map(e=>function(e){const t=e.routeConfig?e.routeConfig.canActivateChild:null;return t&&0!==t.length?{node:e,guards:t}:null}(e)).filter(e=>null!==e).map(t=>cC(()=>Gu(t.guards.map(r=>{const o=Nk(r,t.node,n);let s;if(function(e){return e&&Ck(e.canActivateChild)}(o))s=xA(o.canActivateChild(i,e));else{if(!Ck(o))throw new Error("Invalid CanActivateChild guard");s=xA(o(i,e))}return s.pipe(ZI())})).pipe(Fk())));return Gu(r).pipe(Fk())}class Wk{}class zk{constructor(e,t,n,i,r,o){this.rootComponentType=e,this.config=t,this.urlTree=n,this.url=i,this.paramsInheritanceStrategy=r,this.relativeLinkResolution=o}recognize(){try{const e=Kk(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,t=this.processSegmentGroup(this.config,e,"primary"),n=new ek([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),i=new XA(n,t),r=new tk(this.url,i);return this.inheritParamsAndData(r._root),Gu(r)}catch(e){return new y(t=>t.error(e))}}inheritParamsAndData(e){const t=e.value,n=QA(t,this.paramsInheritanceStrategy);t.params=Object.freeze(n.params),t.data=Object.freeze(n.data),e.children.forEach(e=>this.inheritParamsAndData(e))}processSegmentGroup(e,t,n){return 0===t.segments.length&&t.hasChildren()?this.processChildren(e,t):this.processSegment(e,t,t.segments,n)}processChildren(e,t){const n=OA(t,(t,n)=>this.processSegmentGroup(e,t,n));return function(e){const t={};e.forEach(e=>{const n=t[e.value.outlet];if(n){const t=n.url.map(e=>e.toString()).join("/"),i=e.value.url.map(e=>e.toString()).join("/");throw new Error(`Two segments cannot have the same outlet name: '${t}' and '${i}'.`)}t[e.value.outlet]=e.value})}(n),n.sort((e,t)=>"primary"===e.value.outlet?-1:"primary"===t.value.outlet?1:e.value.outlet.localeCompare(t.value.outlet)),n}processSegment(e,t,n,i){for(const o of e)try{return this.processSegmentAgainstRoute(o,t,n,i)}catch(r){if(!(r instanceof Wk))throw r}if(this.noLeftoversInUrl(t,n,i))return[];throw new Wk}noLeftoversInUrl(e,t,n){return 0===t.length&&!e.children[n]}processSegmentAgainstRoute(e,t,n,i){if(e.redirectTo)throw new Wk;if((e.outlet||"primary")!==i)throw new Wk;let r,o=[],s=[];if("**"===e.path){const o=n.length>0?wA(n).parameters:{};r=new ek(n,o,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uk(e),i,e.component,e,Gk(t),Zk(t)+n.length,Jk(e))}else{const a=function(e,t,n){if(""===t.path){if("full"===t.pathMatch&&(e.hasChildren()||n.length>0))throw new Wk;return{consumedSegments:[],lastChild:0,parameters:{}}}const i=(t.matcher||vA)(n,e,t);if(!i)throw new Wk;const r={};_A(i.posParams,(e,t)=>{r[t]=e.path});const o=i.consumed.length>0?Object.assign(Object.assign({},r),i.consumed[i.consumed.length-1].parameters):r;return{consumedSegments:i.consumed,lastChild:i.consumed.length,parameters:o}}(t,e,n);o=a.consumedSegments,s=n.slice(a.lastChild),r=new ek(o,a.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,Uk(e),i,e.component,e,Gk(t),Zk(t)+o.length,Jk(e))}const a=function(e){return e.children?e.children:e.loadChildren?e._loadedConfig.routes:[]}(e),{segmentGroup:l,slicedSegments:c}=Kk(t,o,s,a,this.relativeLinkResolution);if(0===c.length&&l.hasChildren()){const e=this.processChildren(a,l);return[new XA(r,e)]}if(0===a.length&&0===c.length)return[new XA(r,[])];const h=this.processSegment(a,l,c,"primary");return[new XA(r,h)]}}function Gk(e){let t=e;for(;t._sourceSegment;)t=t._sourceSegment;return t}function Zk(e){let t=e,n=t._segmentIndexShift?t._segmentIndexShift:0;for(;t._sourceSegment;)t=t._sourceSegment,n+=t._segmentIndexShift?t._segmentIndexShift:0;return n-1}function Kk(e,t,n,i,r){if(n.length>0&&function(e,t,n){return n.some(n=>Xk(e,t,n)&&"primary"!==Yk(n))}(e,n,i)){const r=new kA(t,function(e,t,n,i){const r={};r.primary=i,i._sourceSegment=e,i._segmentIndexShift=t.length;for(const o of n)if(""===o.path&&"primary"!==Yk(o)){const n=new kA([],{});n._sourceSegment=e,n._segmentIndexShift=t.length,r[Yk(o)]=n}return r}(e,t,i,new kA(n,e.children)));return r._sourceSegment=e,r._segmentIndexShift=t.length,{segmentGroup:r,slicedSegments:[]}}if(0===n.length&&function(e,t,n){return n.some(n=>Xk(e,t,n))}(e,n,i)){const o=new kA(e.segments,function(e,t,n,i,r,o){const s={};for(const a of i)if(Xk(e,n,a)&&!r[Yk(a)]){const n=new kA([],{});n._sourceSegment=e,n._segmentIndexShift="legacy"===o?e.segments.length:t.length,s[Yk(a)]=n}return Object.assign(Object.assign({},r),s)}(e,t,n,i,e.children,r));return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}const o=new kA(e.segments,e.children);return o._sourceSegment=e,o._segmentIndexShift=t.length,{segmentGroup:o,slicedSegments:n}}function Xk(e,t,n){return(!(e.hasChildren()||t.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function Yk(e){return e.outlet||"primary"}function Uk(e){return e.data||{}}function Jk(e){return e.resolve||{}}function qk(e){return function(t){return t.pipe(tf(t=>{const n=e(t);return n?V(n).pipe(N(()=>t)):V([t])}))}}class Qk{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let eS=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["ng-component"]],decls:1,vars:0,template:function(e,t){1&e&&Ms(0,"router-outlet")},directives:function(){return[gS]},encapsulation:2}),e})();function tS(e,t=""){for(let n=0;n<e.length;n++){const i=e[n];nS(i,iS(t,i))}}function nS(e,t){if(!e)throw new Error(`\n      Invalid configuration of route '${t}': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    `);if(Array.isArray(e))throw new Error(`Invalid configuration of route '${t}': Array cannot be specified`);if(!e.component&&!e.children&&!e.loadChildren&&e.outlet&&"primary"!==e.outlet)throw new Error(`Invalid configuration of route '${t}': a componentless route without children or loadChildren cannot have a named outlet set`);if(e.redirectTo&&e.children)throw new Error(`Invalid configuration of route '${t}': redirectTo and children cannot be used together`);if(e.redirectTo&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': redirectTo and loadChildren cannot be used together`);if(e.children&&e.loadChildren)throw new Error(`Invalid configuration of route '${t}': children and loadChildren cannot be used together`);if(e.redirectTo&&e.component)throw new Error(`Invalid configuration of route '${t}': redirectTo and component cannot be used together`);if(e.path&&e.matcher)throw new Error(`Invalid configuration of route '${t}': path and matcher cannot be used together`);if(void 0===e.redirectTo&&!e.component&&!e.children&&!e.loadChildren)throw new Error(`Invalid configuration of route '${t}'. One of the following must be provided: component, redirectTo, children or loadChildren`);if(void 0===e.path&&void 0===e.matcher)throw new Error(`Invalid configuration of route '${t}': routes must have either a path or a matcher specified`);if("string"==typeof e.path&&"/"===e.path.charAt(0))throw new Error(`Invalid configuration of route '${t}': path cannot start with a slash`);if(""===e.path&&void 0!==e.redirectTo&&void 0===e.pathMatch)throw new Error(`Invalid configuration of route '{path: "${t}", redirectTo: "${e.redirectTo}"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.`);if(void 0!==e.pathMatch&&"full"!==e.pathMatch&&"prefix"!==e.pathMatch)throw new Error(`Invalid configuration of route '${t}': pathMatch can only be set to 'prefix' or 'full'`);e.children&&tS(e.children,t)}function iS(e,t){return t?e||t.path?e&&!t.path?e+"/":!e&&t.path?t.path:`${e}/${t.path}`:"":e}function rS(e){const t=e.children&&e.children.map(rS),n=t?Object.assign(Object.assign({},e),{children:t}):Object.assign({},e);return!n.component&&(t||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=eS),n}const oS=new Be("ROUTES");class sS{constructor(e,t,n,i){this.loader=e,this.compiler=t,this.onLoadStartListener=n,this.onLoadEndListener=i}load(e,t){return this.onLoadStartListener&&this.onLoadStartListener(t),this.loadModuleFactory(t.loadChildren).pipe(N(n=>{this.onLoadEndListener&&this.onLoadEndListener(t);const i=n.create(e);return new bk(CA(i.injector.get(oS)).map(rS),i)}))}loadModuleFactory(e){return"string"==typeof e?V(this.loader.load(e)):xA(e()).pipe($(e=>e instanceof Qe?Gu(e):V(this.compiler.compileModuleAsync(e))))}}class aS{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new lS,this.attachRef=null}}class lS{constructor(){this.contexts=new Map}onChildOutletCreated(e,t){const n=this.getOrCreateContext(e);n.outlet=t,this.contexts.set(e,n)}onChildOutletDestroyed(e){const t=this.getContext(e);t&&(t.outlet=null)}onOutletDeactivated(){const e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let t=this.getContext(e);return t||(t=new aS,this.contexts.set(e,t)),t}getContext(e){return this.contexts.get(e)||null}}class cS{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,t){return e}}function hS(e){throw e}function dS(e,t,n){return t.parse("/")}function uS(e,t){return Gu(null)}let pS=(()=>{class e{constructor(e,t,n,i,r,o,s,a){this.rootComponentType=e,this.urlSerializer=t,this.rootContexts=n,this.location=i,this.config=a,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new x,this.errorHandler=hS,this.malformedUriErrorHandler=dS,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:uS,afterPreactivation:uS},this.urlHandlingStrategy=new cS,this.routeReuseStrategy=new Qk,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=r.get(qe),this.console=r.get(ic);const l=r.get(mc);this.isNgZoneEnabled=l instanceof mc,this.resetConfig(a),this.currentUrlTree=new AA(new kA([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new sS(o,s,e=>this.triggerEvent(new aA(e)),e=>this.triggerEvent(new lA(e))),this.routerState=JA(this.currentUrlTree,this.rootComponentType),this.transitions=new hm({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}setupNavigations(e){const t=this.events;return e.pipe(Ku(e=>0!==e.id),N(e=>Object.assign(Object.assign({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl)})),tf(e=>{let n=!1,i=!1;return Gu(e).pipe(Vp(e=>{this.currentNavigation={id:e.id,initialUrl:e.currentRawUrl,extractedUrl:e.extractedUrl,trigger:e.source,extras:e.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),tf(e=>{const n=!this.navigated||e.extractedUrl.toString()!==this.browserUrlTree.toString();if(("reload"===this.onSameUrlNavigation||n)&&this.urlHandlingStrategy.shouldProcessUrl(e.rawUrl))return Gu(e).pipe(tf(e=>{const n=this.transitions.getValue();return t.next(new qI(e.id,this.serializeUrl(e.extractedUrl),e.source,e.restoredState)),n!==this.transitions.getValue()?qp:[e]}),tf(e=>Promise.resolve(e)),(i=this.ngModule.injector,r=this.configLoader,o=this.urlSerializer,s=this.config,function(e){return e.pipe(tf(e=>function(e,t,n,i,r){return new Sk(e,t,n,i,r).apply()}(i,r,o,e.extractedUrl,s).pipe(N(t=>Object.assign(Object.assign({},e),{urlAfterRedirects:t})))))}),Vp(e=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:e.urlAfterRedirects})}),function(e,t,n,i,r){return function(o){return o.pipe($(o=>function(e,t,n,i,r="emptyOnly",o="legacy"){return new zk(e,t,n,i,r,o).recognize()}(e,t,o.urlAfterRedirects,n(o.urlAfterRedirects),i,r).pipe(N(e=>Object.assign(Object.assign({},o),{targetSnapshot:e})))))}}(this.rootComponentType,this.config,e=>this.serializeUrl(e),this.paramsInheritanceStrategy,this.relativeLinkResolution),Vp(e=>{"eager"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(e.urlAfterRedirects,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),Vp(e=>{const n=new nA(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);t.next(n)}));var i,r,o,s;if(n&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:n,extractedUrl:i,source:r,restoredState:o,extras:s}=e,a=new qI(n,this.serializeUrl(i),r,o);t.next(a);const l=JA(i,this.rootComponentType).snapshot;return Gu(Object.assign(Object.assign({},e),{targetSnapshot:l,urlAfterRedirects:i,extras:Object.assign(Object.assign({},s),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=e.rawUrl,this.browserUrlTree=e.urlAfterRedirects,e.resolve(null),qp}),qk(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.beforePreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),Vp(e=>{const t=new iA(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),N(e=>Object.assign(Object.assign({},e),{guards:Dk(e.targetSnapshot,e.currentSnapshot,this.rootContexts)})),function(e,t){return function(n){return n.pipe($(n=>{const{targetSnapshot:i,currentSnapshot:r,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return 0===s.length&&0===o.length?Gu(Object.assign(Object.assign({},n),{guardsResult:!0})):function(e,t,n,i){return V(e).pipe($(e=>function(e,t,n,i,r){const o=t&&t.routeConfig?t.routeConfig.canDeactivate:null;return o&&0!==o.length?Gu(o.map(o=>{const s=Nk(o,t,r);let a;if(function(e){return e&&Ck(e.canDeactivate)}(s))a=xA(s.canDeactivate(e,t,n,i));else{if(!Ck(s))throw new Error("Invalid CanDeactivate guard");a=xA(s(e,t,n,i))}return a.pipe(ZI())})).pipe(Fk()):Gu(!0)}(e.component,e.route,n,t,i)),ZI(e=>!0!==e,!0))}(s,i,r,e).pipe($(n=>n&&"boolean"==typeof n?function(e,t,n,i){return V(t).pipe(Zu(t=>V([$k(t.route.parent,i),Vk(t.route,i),jk(e,t.path,n),Hk(e,t.route,n)]).pipe(qg(),ZI(e=>!0!==e,!0))),ZI(e=>!0!==e,!0))}(i,o,e,t):Gu(n)),N(e=>Object.assign(Object.assign({},n),{guardsResult:e})))}))}}(this.ngModule.injector,e=>this.triggerEvent(e)),Vp(e=>{if(wk(e.guardsResult)){const t=mA(`Redirecting to "${this.serializeUrl(e.guardsResult)}"`);throw t.url=e.guardsResult,t}}),Vp(e=>{const t=new rA(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot,!!e.guardsResult);this.triggerEvent(t)}),Ku(e=>{if(!e.guardsResult){this.resetUrlToCurrentUrlTree();const n=new eA(e.id,this.serializeUrl(e.extractedUrl),"");return t.next(n),e.resolve(!1),!1}return!0}),qk(e=>{if(e.guards.canActivateChecks.length)return Gu(e).pipe(Vp(e=>{const t=new oA(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}),tf(e=>{let n=!1;return Gu(e).pipe((i=this.paramsInheritanceStrategy,r=this.ngModule.injector,function(e){return e.pipe($(e=>{const{targetSnapshot:t,guards:{canActivateChecks:n}}=e;if(!n.length)return Gu(e);let o=0;return V(n).pipe(Zu(e=>function(e,t,n,i){return function(e,t,n,i){const r=Object.keys(e);if(0===r.length)return Gu({});const o={};return V(r).pipe($(r=>function(e,t,n,i){const r=Nk(e,t,i);return xA(r.resolve?r.resolve(t,n):r(t,n))}(e[r],t,n,i).pipe(Vp(e=>{o[r]=e}))),LI(1),$(()=>Object.keys(o).length===r.length?Gu(o):qp))}(e._resolve,e,t,i).pipe(N(t=>(e._resolvedData=t,e.data=Object.assign(Object.assign({},e.data),QA(e,n).resolve),null)))}(e.route,t,i,r)),Vp(()=>o++),LI(1),$(t=>o===n.length?Gu(e):qp))}))}),Vp({next:()=>n=!0,complete:()=>{if(!n){const n=new eA(e.id,this.serializeUrl(e.extractedUrl),"At least one route resolver didn't emit any value.");t.next(n),e.resolve(!1)}}}));var i,r}),Vp(e=>{const t=new sA(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(e.urlAfterRedirects),e.targetSnapshot);this.triggerEvent(t)}))}),qk(e=>{const{targetSnapshot:t,id:n,extractedUrl:i,rawUrl:r,extras:{skipLocationChange:o,replaceUrl:s}}=e;return this.hooks.afterPreactivation(t,{navigationId:n,appliedUrlTree:i,rawUrlTree:r,skipLocationChange:!!o,replaceUrl:!!s})}),N(e=>{const t=function(e,t,n){const i=function e(t,n,i){if(i&&t.shouldReuseRoute(n.value,i.value.snapshot)){const r=i.value;r._futureSnapshot=n.value;const o=function(t,n,i){return n.children.map(n=>{for(const r of i.children)if(t.shouldReuseRoute(r.value.snapshot,n.value))return e(t,n,r);return e(t,n)})}(t,n,i);return new XA(r,o)}{const i=t.retrieve(n.value);if(i){const e=i.route;return function e(t,n){if(t.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(t.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=t.value;for(let i=0;i<t.children.length;++i)e(t.children[i],n.children[i])}(n,e),e}{const i=new qA(new hm((r=n.value).url),new hm(r.params),new hm(r.queryParams),new hm(r.fragment),new hm(r.data),r.outlet,r.component,r),o=n.children.map(n=>e(t,n));return new XA(i,o)}}var r}(e,t._root,n?n._root:void 0);return new UA(i,t)}(this.routeReuseStrategy,e.targetSnapshot,e.currentRouterState);return Object.assign(Object.assign({},e),{targetRouterState:t})}),Vp(e=>{this.currentUrlTree=e.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.rawUrl),this.routerState=e.targetRouterState,"deferred"===this.urlUpdateStrategy&&(e.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,!!e.extras.replaceUrl,e.id,e.extras.state),this.browserUrlTree=e.urlAfterRedirects)}),(r=this.rootContexts,o=this.routeReuseStrategy,s=e=>this.triggerEvent(e),N(e=>(new vk(o,e.targetRouterState,e.currentRouterState,s).activate(r),e))),Vp({next(){n=!0},complete(){n=!0}}),Iw(()=>{if(!n&&!i){this.resetUrlToCurrentUrlTree();const n=new eA(e.id,this.serializeUrl(e.extractedUrl),`Navigation ID ${e.id} is not equal to the current navigation id ${this.navigationId}`);t.next(n),e.resolve(!1)}this.currentNavigation=null}),ww(n=>{if(i=!0,(r=n)&&r.ngNavigationCancelingError){const i=wk(n.url);i||(this.navigated=!0,this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl));const r=new eA(e.id,this.serializeUrl(e.extractedUrl),n.message);t.next(r),i?setTimeout(()=>{const t=this.urlHandlingStrategy.merge(n.url,this.rawUrlTree);return this.scheduleNavigation(t,"imperative",null,{skipLocationChange:e.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy},{resolve:e.resolve,reject:e.reject,promise:e.promise})},0):e.resolve(!1)}else{this.resetStateAndUrl(e.currentRouterState,e.currentUrlTree,e.rawUrl);const i=new tA(e.id,this.serializeUrl(e.extractedUrl),n);t.next(i);try{e.resolve(this.errorHandler(n))}catch(o){e.reject(o)}}var r;return qp}));var r,o,s}))}resetRootComponentType(e){this.rootComponentType=e,this.routerState.root.component=this.rootComponentType}getTransition(){const e=this.transitions.value;return e.urlAfterRedirects=this.browserUrlTree,e}setTransition(e){this.transitions.next(Object.assign(Object.assign({},this.getTransition()),e))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(e=>{let t=this.parseUrl(e.url);const n="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout(()=>{this.scheduleNavigation(t,n,i,{replaceUrl:!0})},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(e){this.events.next(e)}resetConfig(e){tS(e),this.config=e.map(rS),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)}createUrlTree(e,t={}){const{relativeTo:n,queryParams:i,fragment:r,preserveQueryParams:o,queryParamsHandling:s,preserveFragment:a}=t;Ei()&&o&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");const l=n||this.routerState.root,c=a?this.currentUrlTree.fragment:r;let h=null;if(s)switch(s){case"merge":h=Object.assign(Object.assign({},this.currentUrlTree.queryParams),i);break;case"preserve":h=this.currentUrlTree.queryParams;break;default:h=i||null}else h=o?this.currentUrlTree.queryParams:i||null;return null!==h&&(h=this.removeEmptyProps(h)),function(e,t,n,i,r){if(0===n.length)return ak(t.root,t.root,t,i,r);const o=function(e){if("string"==typeof e[0]&&1===e.length&&"/"===e[0])return new lk(!0,0,e);let t=0,n=!1;const i=e.reduce((e,i,r)=>{if("object"==typeof i&&null!=i){if(i.outlets){const t={};return _A(i.outlets,(e,n)=>{t[n]="string"==typeof e?e.split("/"):e}),[...e,{outlets:t}]}if(i.segmentPath)return[...e,i.segmentPath]}return"string"!=typeof i?[...e,i]:0===r?(i.split("/").forEach((i,r)=>{0==r&&"."===i||(0==r&&""===i?n=!0:".."===i?t++:""!=i&&e.push(i))}),e):[...e,i]},[]);return new lk(n,t,i)}(n);if(o.toRoot())return ak(t.root,new kA([],{}),t,i,r);const s=function(e,t,n){if(e.isAbsolute)return new ck(t.root,!0,0);if(-1===n.snapshot._lastPathIndex){const e=n.snapshot._urlSegment;return new ck(e,e===t.root,0)}const i=sk(e.commands[0])?0:1;return function(e,t,n){let i=e,r=t,o=n;for(;o>r;){if(o-=r,i=i.parent,!i)throw new Error("Invalid number of '../'");r=i.segments.length}return new ck(i,!1,r-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+i,e.numberOfDoubleDots)}(o,t,e),a=s.processChildren?uk(s.segmentGroup,s.index,o.commands):dk(s.segmentGroup,s.index,o.commands);return ak(s.segmentGroup,a,t,i,r)}(l,this.currentUrlTree,e,h,c)}navigateByUrl(e,t={skipLocationChange:!1}){Ei()&&this.isNgZoneEnabled&&!mc.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");const n=wk(e)?e:this.parseUrl(e),i=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(i,"imperative",null,t)}navigate(e,t={skipLocationChange:!1}){return function(e){for(let t=0;t<e.length;t++){const n=e[t];if(null==n)throw new Error(`The requested path contains ${n} segment at index ${t}`)}}(e),this.navigateByUrl(this.createUrlTree(e,t),t)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){let t;try{t=this.urlSerializer.parse(e)}catch(n){t=this.malformedUriErrorHandler(n,this.urlSerializer,e)}return t}isActive(e,t){if(wk(e))return IA(this.currentUrlTree,e,t);const n=this.parseUrl(e);return IA(this.currentUrlTree,n,t)}removeEmptyProps(e){return Object.keys(e).reduce((t,n)=>{const i=e[n];return null!=i&&(t[n]=i),t},{})}processNavigations(){this.navigations.subscribe(e=>{this.navigated=!0,this.lastSuccessfulId=e.id,this.events.next(new QI(e.id,this.serializeUrl(e.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,this.currentNavigation=null,e.resolve(!0)},e=>{this.console.warn("Unhandled Navigation Error: ")})}scheduleNavigation(e,t,n,i,r){const o=this.getTransition();if(o&&"imperative"!==t&&"imperative"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"hashchange"==t&&"popstate"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);if(o&&"popstate"==t&&"hashchange"===o.source&&o.rawUrl.toString()===e.toString())return Promise.resolve(!0);let s,a,l;r?(s=r.resolve,a=r.reject,l=r.promise):l=new Promise((e,t)=>{s=e,a=t});const c=++this.navigationId;return this.setTransition({id:c,source:t,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:e,extras:i,resolve:s,reject:a,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(e=>Promise.reject(e))}setBrowserUrl(e,t,n,i){const r=this.urlSerializer.serialize(e);i=i||{},this.location.isCurrentPathEqualTo(r)||t?this.location.replaceState(r,"",Object.assign(Object.assign({},i),{navigationId:n})):this.location.go(r,"",Object.assign(Object.assign({},i),{navigationId:n}))}resetStateAndUrl(e,t,n){this.routerState=e,this.currentUrlTree=t,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})}}return e.\u0275fac=function(t){return new(t||e)(Ke(Uo),Ke(PA),Ke(lS),Ke(lh),Ke(ds),Ke(Bc),Ke(pc),Ke(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),gS=(()=>{class e{constructor(e,t,n,i,r){this.parentContexts=e,this.location=t,this.resolver=n,this.changeDetector=r,this.activated=null,this._activatedRoute=null,this.activateEvents=new Ol,this.deactivateEvents=new Ol,this.name=i||"primary",e.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const e=this.parentContexts.getContext(this.name);e&&e.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const e=this.activated;return this.activated=null,this._activatedRoute=null,e}attach(e,t){this.activated=e,this._activatedRoute=t,this.location.insert(e.hostView)}deactivate(){if(this.activated){const e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,t){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=e;const n=(t=t||this.resolver).resolveComponentFactory(e._futureSnapshot.routeConfig.component),i=this.parentContexts.getOrCreateContext(this.name).children,r=new fS(e,i,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,r),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return e.\u0275fac=function(t){return new(t||e)(As(lS),As(cl),As(La),ks("name"),As(Xo))},e.\u0275dir=yt({type:e,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),e})();class fS{constructor(e,t,n){this.route=e,this.childContexts=t,this.parent=n}get(e,t){return e===qA?this.route:e===lS?this.childContexts:this.parent.get(e,t)}}class mS{}class vS{preload(e,t){return Gu(null)}}let yS=(()=>{class e{constructor(e,t,n,i,r){this.router=e,this.injector=i,this.preloadingStrategy=r,this.loader=new sS(t,n,t=>e.triggerEvent(new aA(t)),t=>e.triggerEvent(new lA(t)))}setUpPreloading(){this.subscription=this.router.events.pipe(Ku(e=>e instanceof QI),Zu(()=>this.preload())).subscribe(()=>{})}preload(){const e=this.injector.get(qe);return this.processRoutes(e,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,t){const n=[];for(const i of t)if(i.loadChildren&&!i.canLoad&&i._loadedConfig){const e=i._loadedConfig;n.push(this.processRoutes(e.module,e.routes))}else i.loadChildren&&!i.canLoad?n.push(this.preloadConfig(e,i)):i.children&&n.push(this.processRoutes(e,i.children));return V(n).pipe(W(),N(e=>{}))}preloadConfig(e,t){return this.preloadingStrategy.preload(t,()=>this.loader.load(e.injector,t).pipe($(e=>(t._loadedConfig=e,this.processRoutes(e.module,e.routes)))))}}return e.\u0275fac=function(t){return new(t||e)(Ke(pS),Ke(Bc),Ke(pc),Ke(ds),Ke(mS))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})(),bS=(()=>{class e{constructor(e,t,n={}){this.router=e,this.viewportScroller=t,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(e=>{e instanceof qI?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof QI&&(this.lastId=e.id,this.scheduleScrollEvent(e,this.router.parseUrl(e.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(e=>{e instanceof pA&&(e.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,t){this.router.triggerEvent(new pA(e,"popstate"===this.lastSource?this.store[this.restoredId]:null,t))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return e.\u0275fac=function(t){return new(t||e)(Ke(pS),Ke(Eh),Ke(void 0))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();const CS=new Be("ROUTER_CONFIGURATION"),wS=new Be("ROUTER_FORROOT_GUARD"),_S=[lh,{provide:PA,useClass:MA},{provide:pS,useFactory:function(e,t,n,i,r,o,s,a={},l,c){const h=new pS(null,e,t,n,i,r,o,CA(s));if(l&&(h.urlHandlingStrategy=l),c&&(h.routeReuseStrategy=c),a.errorHandler&&(h.errorHandler=a.errorHandler),a.malformedUriErrorHandler&&(h.malformedUriErrorHandler=a.malformedUriErrorHandler),a.enableTracing){const e=Zc();h.events.subscribe(t=>{e.logGroup("Router Event: "+t.constructor.name),e.log(t.toString()),e.log(t),e.logGroupEnd()})}return a.onSameUrlNavigation&&(h.onSameUrlNavigation=a.onSameUrlNavigation),a.paramsInheritanceStrategy&&(h.paramsInheritanceStrategy=a.paramsInheritanceStrategy),a.urlUpdateStrategy&&(h.urlUpdateStrategy=a.urlUpdateStrategy),a.relativeLinkResolution&&(h.relativeLinkResolution=a.relativeLinkResolution),h},deps:[PA,lS,lh,ds,Bc,pc,oS,CS,[class{},new ie],[class{},new ie]]},lS,{provide:qA,useFactory:function(e){return e.routerState.root},deps:[pS]},{provide:Bc,useClass:$c},yS,vS,class{preload(e,t){return t().pipe(ww(()=>Gu(null)))}},{provide:CS,useValue:{enableTracing:!1}}];function xS(){return new Pc("Router",pS)}let IS=(()=>{class e{constructor(e,t){}static forRoot(t,n){return{ngModule:e,providers:[_S,ES(t),{provide:wS,useFactory:SS,deps:[[pS,new ie,new oe]]},{provide:CS,useValue:n||{}},{provide:ih,useFactory:kS,deps:[Xc,[new ne(oh),new ie],CS]},{provide:bS,useFactory:AS,deps:[pS,Eh,CS]},{provide:mS,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:vS},{provide:Pc,multi:!0,useFactory:xS},[OS,{provide:Yl,multi:!0,useFactory:PS,deps:[OS]},{provide:TS,useFactory:MS,deps:[OS]},{provide:nc,multi:!0,useExisting:TS}]]}}static forChild(t){return{ngModule:e,providers:[ES(t)]}}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)(Ke(wS,8),Ke(pS,8))}}),e})();function AS(e,t,n){return n.scrollOffset&&t.setOffset(n.scrollOffset),new bS(e,t,n)}function kS(e,t,n={}){return n.useHash?new ah(e,t):new sh(e,t)}function SS(e){if(e)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function ES(e){return[{provide:us,multi:!0,useValue:e},{provide:oS,multi:!0,useValue:e}]}let OS=(()=>{class e{constructor(e){this.injector=e,this.initNavigation=!1,this.resultOfPreactivationDone=new x}appInitializer(){return this.injector.get(Uc,Promise.resolve(null)).then(()=>{let e=null;const t=new Promise(t=>e=t),n=this.injector.get(pS),i=this.injector.get(CS);if(this.isLegacyDisabled(i)||this.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)n.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error(`Invalid initialNavigation options: '${i.initialNavigation}'`);n.hooks.afterPreactivation=()=>this.initNavigation?Gu(null):(this.initNavigation=!0,e(!0),this.resultOfPreactivationDone),n.initialNavigation()}return t})}bootstrapListener(e){const t=this.injector.get(CS),n=this.injector.get(yS),i=this.injector.get(bS),r=this.injector.get(pS),o=this.injector.get(Nc);e===o.components[0]&&(this.isLegacyEnabled(t)?r.initialNavigation():this.isLegacyDisabled(t)&&r.setUpLocationChangeListener(),n.setUpPreloading(),i.init(),r.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}isLegacyEnabled(e){return"legacy_enabled"===e.initialNavigation||!0===e.initialNavigation||void 0===e.initialNavigation}isLegacyDisabled(e){return"legacy_disabled"===e.initialNavigation||!1===e.initialNavigation}}return e.\u0275fac=function(t){return new(t||e)(Ke(ds))},e.\u0275prov=ce({token:e,factory:e.\u0275fac}),e})();function PS(e){return e.appInitializer.bind(e)}function MS(e){return e.bootstrapListener.bind(e)}const TS=new Be("Router Initializer");function RS(e,t,n,i){return new(n||(n=Promise))((function(r,o){function s(e){try{l(i.next(e))}catch(t){o(t)}}function a(e){try{l(i.throw(e))}catch(t){o(t)}}function l(e){var t;e.done?r(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}l((i=i.apply(e,t||[])).next())}))}function DS(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=2&o[0]?i.return:o[0]?i.throw||((r=i.return)&&r.call(i),0):i.next)&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[2&o[0],r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!((r=(r=s.trys).length>0&&r[r.length-1])||6!==o[0]&&2!==o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(a){o=[6,a],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}}var NS,LS,BS=(NS=Math.pow(2,-32),LS=Math.pow(2,32),function(e){var t=1,n=0,i=0,r=0;function o(e){return function(e){if(e%1!=0||e<=0)throw new TypeError('Expected seed to be an unsigned integer greater or equal 1, but got "'.concat(e,'"'))}(e),n=(e>>>0)*NS,i=(e=69069*e+1>>>0)*NS,r=(e=69069*e+1>>>0)*NS,t=1,e}function s(){var e=2091639*n+t*NS;return n=i,i=r,r=e-(t=0|e)}return o(void 0===e?1:e),{setSeed:o,uFloat32:s,uInt32:function(){return s()*LS>>>0},getState:function(){return{correction:t,sequence:[n,i,r]}},setState:function(e){(e=e||{correction:1,sequence:[0,0,0]}).sequence=e.sequence||[],t=e.correction||1,n=e.sequence[0]||0,i=e.sequence[1]||0,r=e.sequence[2]||0}}}),FS=function(){function e(e){if(this._maxConcurrency=e,this._queue=[],e<=0)throw new Error("semaphore must be initialized to a positive value");this._value=e}return e.prototype.acquire=function(){var e=this,t=this.isLocked(),n=new Promise((function(t){return e._queue.push(t)}));return t||this._dispatch(),n},e.prototype.runExclusive=function(e){return RS(this,void 0,void 0,(function(){var t,n,i;return DS(this,(function(r){switch(r.label){case 0:return[4,this.acquire()];case 1:t=r.sent(),n=t[0],i=t[1],r.label=2;case 2:return r.trys.push([2,,4,5]),[4,e(n)];case 3:return[2,r.sent()];case 4:return i(),[7];case 5:return[2]}}))}))},e.prototype.isLocked=function(){return this._value<=0},e.prototype.release=function(){if(this._maxConcurrency>1)throw new Error("this method is unavailabel on semaphores with concurrency > 1; use the scoped release returned by acquire instead");this._currentReleaser&&(this._currentReleaser(),this._currentReleaser=void 0)},e.prototype._dispatch=function(){var e=this,t=this._queue.shift();if(t){var n=!1;this._currentReleaser=function(){n||(n=!0,e._value++,e._dispatch())},t([this._value--,this._currentReleaser])}},e}(),VS=function(){function e(){this._semaphore=new FS(1)}return e.prototype.acquire=function(){return RS(this,void 0,void 0,(function(){return DS(this,(function(e){switch(e.label){case 0:return[4,this._semaphore.acquire()];case 1:return[2,e.sent()[1]]}}))}))},e.prototype.runExclusive=function(e){return this._semaphore.runExclusive((function(){return e()}))},e.prototype.isLocked=function(){return this._semaphore.isLocked()},e.prototype.release=function(){this._semaphore.release()},e}();BS(2);let $S=1;const HS=new class{getTokens(e){let t,n=new Array;e=e.trim(),e+=" ";let i=0,r=1;for(;i<e.length&&r<=e.length;){if(t=e.slice(i,r),this.isUnaryOperator(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isRelationalOperator(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isArithematicOperator(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isBooleanOperator(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isSymbol(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isComparisonOperator(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isNumericConstant(t))t=t.slice(0,-1),n.push({type:"nc",lexeme:t}),i=--r;else if(this.isBooleanConstant(t))t=t.slice(0,-1),n.push({type:t,lexeme:"null"}),i=--r;else if(this.isIdentifier(t)){if(t=t.slice(0,-1),this.isKeyword(t))if("Pmin"==t||"Pmax"==t||"Rmin"==t||"Rmax"==t||"Tmin"==t||"Tmax"==t||"Smin"==t||"Smax"==t||"LRAmin"==t||"LRAmax"==t){let e=t.split("m",2);n.push({type:e[0],lexeme:"null"}),n.push({type:"m"+e[1],lexeme:"null"})}else n.push({type:t,lexeme:"null"});else t=t.replace("'",""),t=t.replace("'",""),n.push({type:"id",lexeme:t});i=--r}i==r&&" "==e[i]&&i++,r++}if(i<r-2)throw t;return n}isUnaryOperator(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("!"!=e[t])return!1;n=1;break;case 1:return"="!=e[t]}return!1}isRelationalOperator(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("<"!=e[t]&&">"!=e[t])return!1;n=1;break;case 1:if("="!=e[t])return!0;n=2;break;case 2:return!0}return!1}isArithematicOperator(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("+"!=e[t]&&"-"!=e[t]&&"*"!=e[t]&&"/"!=e[t]&&"%"!=e[t])return!1;n=1;break;case 1:return!0}return!1}isBooleanOperator(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("="==e[t])n=1;else{if("&"!=e[t]&&"|"!=e[t])return!1;n=2}break;case 1:if(">"!=e[t])return!1;n=2;break;case 2:return!0}return!1}isSymbol(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("?"!=e[t]&&"("!=e[t]&&")"!=e[t]&&":"!=e[t]&&","!=e[t]&&"["!=e[t]&&"]"!=e[t]&&"{"!=e[t]&&"}"!=e[t]&&"^"!=e[t]&&'"'!=e[t])return!1;n=1;break;case 1:return!0}return!1}isComparisonOperator(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("!"==e[t])n=1;else{if("="!=e[t])return!1;n=2}break;case 1:if("="!=e[t])return!1;n=3;break;case 2:return">"!=e[t];case 3:return!0}return!1}isNumericConstant(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if(!(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57))return!1;n=1;break;case 1:if(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57)n=1;else if("."==e[t])n=2;else{if("e"!=e[t]&&"E"!=e[t])return!0;n=4}break;case 2:if(!(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57))return!1;n=3;break;case 3:if(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57)n=3;else{if("e"!=e[t]&&"E"!=e[t])return!0;n=4}break;case 4:if("+"==e[t]||"-"==e[t])n=5;else{if(!(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57))return!1;n=6}break;case 5:if(!(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57))return!1;n=6;break;case 6:if(!(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57))return!0;n=6}return!1}isBooleanConstant(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("t"==e[t])n=1;else{if("f"!=e[t])return!1;n=5}break;case 1:if("r"!=e[t])return!1;n=2;break;case 2:if("u"!=e[t])return!1;n=3;break;case 3:if("e"!=e[t])return!1;n=4;break;case 4:return!(e.charCodeAt(t)>=65&&e.charCodeAt(t)<=90||e.charCodeAt(t)>=97&&e.charCodeAt(t)<=122);case 5:if("a"!=e[t])return!1;n=6;break;case 6:if("l"!=e[t])return!1;n=7;break;case 7:if("s"!=e[t])return!1;n=3}return!1}isIdentifier(e){for(let t=0,n=0;t<e.length;t++)switch(n){case 0:if("'"==e[t])n=1;else{if(e.charCodeAt(t)>=47&&e.charCodeAt(t)<=57||"?"==e[t]||"("==e[t]||")"==e[t]||":"==e[t]||","==e[t]||"+"==e[t]||"-"==e[t]||"*"==e[t]||"/"==e[t]||"%"==e[t]||"<"==e[t]||">"==e[t]||" "==e[t]||"="==e[t]||"!"==e[t]||"|"==e[t]||"&"==e[t]||"{"==e[t]||"}"==e[t]||"["==e[t]||"]"==e[t]||"^"==e[t]||'"'==e[t])return!1;n=2}break;case 1:n="'"==e[t]?3:1;break;case 2:if("?"==e[t]||"("==e[t]||")"==e[t]||":"==e[t]||","==e[t]||"+"==e[t]||"-"==e[t]||"*"==e[t]||"/"==e[t]||"%"==e[t]||"<"==e[t]||">"==e[t]||" "==e[t]||"="==e[t]||"!"==e[t]||"|"==e[t]||"&"==e[t]||"{"==e[t]||"}"==e[t]||"["==e[t]||"]"==e[t]||"^"==e[t]||'"'==e[t])return!0;n=2;break;case 3:return!0}return!1}isKeyword(e){return-1!==["Pmin","Pmax","Smin","Smax","Tmin","Tmax","Rmin","Rmax","LRAmin","LRAmax","P","R","T","S","LRA","min","max","G","U","F","W","C","I","rew","state","transition","pow","log","floor","ceil","der","abs","sgn","trc","sinh","cosh","tanh","coth","sech","csch","asinh","acosh","atanh","acoth","asech","acsch","sin","cos","tan","cot","sec","csc","asin","acos","atan","acot","asec","acsc"].indexOf(e)}},jS=new class{parseProperty(e){this.tokens=e,this.index=0;try{return this.look=this.nextToken(),this.PROP(),this.match("null"),!0}catch(t){throw"null"==t.lexeme?""+t.type:t.lexeme}}parseExpression(e){this.tokens=e,this.index=0;try{return this.look=this.nextToken(),this.E(),this.match("null"),!0}catch(t){throw"null"==t.lexeme?""+t.type:t.lexeme}}PROP(){if("P"==this.look.type)this.PROB(),this.E9(),this.match("["),this.PF(),this.match("]");else if("T"==this.look.type||"R"==this.look.type)this.EXPECT(),this.E9(),this.match("["),this.RF(),this.match("]");else{if("LRA"!=this.look.type&&"S"!=this.look.type)throw this.look;this.LR(),this.E9(),this.match("["),this.SF(),this.match("]")}}PROB(){if("P"!=this.look.type)throw this.look;this.match("P"),this.OP8()}OP8(){"min"==this.look.type?this.match("min"):"max"==this.look.type&&this.match("max")}EXPECT(){if("R"==this.look.type)this.RD(),this.ORL(),this.OP8();else{if("T"!=this.look.type)throw this.look;this.match("T"),this.OP8()}}RD(){"R"==this.look.type&&(this.match("R"),this.RE())}RE(){"{"==this.look.type&&(this.match("{"),this.match('"'),this.E(),this.match('"'),this.match("}"))}ORL(){"["==this.look.type&&(this.match("["),this.RL(),this.match("]"))}RL(){this.RT(),this.RLR()}RT(){if("state"==this.look.type)this.match("state");else{if("transition"!=this.look.type)throw this.look;this.match("transition")}}RLR(){","==this.look.type&&(this.match(","),this.RT())}LR(){if("LRA"==this.look.type)this.match("LRA"),this.OP8();else{if("S"!=this.look.type)throw this.look;this.match("S"),this.OP8()}}E9(){"="==this.look.type?(this.match("="),this.match("?")):(this.OP7(),this.E())}OP7(){if("<="==this.look.type)this.match("<=");else if(">="==this.look.type)this.match(">=");else if("<"==this.look.type)this.match("<");else{if(">"!=this.look.type)throw this.look;this.match(">")}}PF(){"G"==this.look.type?(this.match("G"),this.OP9(),this.BE(),this.SF()):"F"==this.look.type?(this.match("F"),this.BE(),this.SF()):(this.SF(),this.match("U"),this.BE(),this.SF())}OP9(){if("U"==this.look.type)this.match("U");else if("W"==this.look.type)this.match("W");else{if("R"!=this.look.type)throw this.look;this.match("R")}}BE(){"^"==this.look.type?(this.match("^"),this.match("{"),this.B(),this.match("}")):"{"==this.look.type?(this.match("{"),this.B(),this.match("}")):"["!=this.look.type&&"rew"!=this.look.type&&"<="!=this.look.type&&">="!=this.look.type&&"<"!=this.look.type&&">"!=this.look.type||this.B()}B(){"["==this.look.type?(this.match("["),this.E(),this.match(","),this.E(),this.match("]")):"rew"==this.look.type?(this.match("rew"),this.match("{"),this.match('"'),this.E(),this.match('"'),this.match("}"),this.OP7(),this.E()):(this.OP7(),this.E())}RF(){"I"==this.look.type?(this.match("I"),this.match("="),this.E()):"C"==this.look.type?(this.match("C"),this.match("<="),this.E()):"F"==this.look.type?(this.match("F"),this.SF()):this.LR()}SF(){this.SFE(),this.SFR()}SFR(){"&"!=this.look.type&&"|"!=this.look.type||(this.OP1(),this.SFE(),this.SFR())}SFE(){"P"==this.look.type?(this.PROB(),this.OP7(),this.E(),this.match("["),this.PF(),this.match("]")):"LRA"==this.look.type||"S"==this.look.type?(this.LR(),this.OP7(),this.E(),this.match("["),this.SF(),this.match("]")):"!"==this.look.type?(this.match("!"),this.exception()):this.E()}exception(){"P"==this.look.type?(this.PROB(),this.OP7(),this.E(),this.match("["),this.PF(),this.match("]")):"LRA"==this.look.type||"S"==this.look.type?(this.LR(),this.OP7(),this.E(),this.match("["),this.SF(),this.match("]")):this.E6()}E(){this.E0(),this.ER()}ER(){"=>"==this.look.type&&(this.OP0(),this.E0(),this.ER())}E0(){this.E1(),this.E0R()}E0R(){"&"!=this.look.type&&"|"!=this.look.type||(this.OP1(),this.E1(),this.E0R())}E1(){this.E2(),this.E1R()}E1R(){"="!=this.look.type&&"!="!=this.look.type&&"<="!=this.look.type&&">="!=this.look.type&&">"!=this.look.type&&"<"!=this.look.type||(this.OP2(),this.E2(),this.E1R())}E2(){this.E3(),this.E2R()}E2R(){"+"!=this.look.type&&"-"!=this.look.type||(this.OP3(),this.E3(),this.E2R())}E3(){this.E4(),this.E3R()}E3R(){"*"!=this.look.type&&"/"!=this.look.type&&"%"!=this.look.type||(this.OP4(),this.E4(),this.E3R())}E4(){if('"'==this.look.type)this.match('"'),this.match("id"),this.match('"');else if("id"==this.look.type)this.match("id"),this.E5();else if("true"==this.look.type)this.match("true");else if("false"==this.look.type)this.match("false");else if("nc"==this.look.type)this.match("nc");else if("!"==this.look.type)this.match("!"),this.E6();else if("der"==this.look.type)this.match("der"),this.match("("),this.match("id"),this.match(")");else if("pow"==this.look.type||"log"==this.look.type)this.OP5(),this.match("("),this.E(),this.match(","),this.E(),this.match(")");else if("floor"==this.look.type||"ceil"==this.look.type)this.OP6(),this.match("("),this.E(),this.match(")");else{if("("!=this.look.type)throw this.look;this.match("("),this.E7()}}E5(){"("==this.look.type&&(this.match("("),this.OPL(),this.match(")"))}E6(){if("("==this.look.type)this.match("("),this.E(),this.match(")");else if('"'==this.look.type)this.match('"'),this.match("id"),this.match('"');else if("id"==this.look.type)this.match("id"),this.E5();else if("true"==this.look.type)this.match("true");else{if("false"!=this.look.type)throw this.look;this.match("false")}}E7(){"+"==this.look.type||"-"==this.look.type?(this.OP3(),this.match("nc"),this.match(")")):(this.E(),this.E8())}E8(){if("?"==this.look.type)this.match("?"),this.E(),this.match(":"),this.E(),this.match(")");else{if(")"!=this.look.type)throw this.look;this.match(")")}}OPL(){'"'!=this.look.type&&"id"!=this.look.type&&"true"!=this.look.type&&"false"!=this.look.type&&"nc"!=this.look.type&&"!"!=this.look.type&&"der"!=this.look.type&&"power"!=this.look.type&&"log"!=this.look.type&&"floor"!=this.look.type&&"ceil"!=this.look.type&&"("!=this.look.type||this.PL()}PL(){this.E(),this.PLR()}PLR(){","==this.look.type&&(this.match(","),this.E(),this.PLR())}OP0(){if("=>"!=this.look.type)throw this.look;this.match("=>")}OP1(){if("&"==this.look.type)this.match("&");else{if("|"!=this.look.type)throw this.look;this.match("|")}}OP2(){if("="==this.look.type)this.match("=");else if("!="==this.look.type)this.match("!=");else if("<"==this.look.type)this.match("<");else if(">"==this.look.type)this.match(">");else if("<="==this.look.type)this.match("<=");else{if(">="!=this.look.type)throw this.look;this.match(">=")}}OP3(){if("+"==this.look.type)this.match("+");else{if("-"!=this.look.type)throw this.look;this.match("-")}}OP4(){if("*"==this.look.type)this.match("*");else if("/"==this.look.type)this.match("/");else{if("%"!=this.look.type)throw this.look;this.match("%")}}OP5(){if("pow"==this.look.type)this.match("pow");else if("log"==this.look.type)this.match("log");else if("min"==this.look.type)this.match("min");else{if("max"!=this.look.type)throw this.look;this.match("max")}}OP6(){if(-1===["floor","ceil","abs","sgn","trc","sinh","cosh","tanh","coth","sech","csch","asinh","acosh","atanh","acoth","asech","acsch","sin","cos","tan","cot","sec","csc","asin","acos","atan","acot","asec","acsc"].indexOf(this.look.type))throw this.look;this.match(this.look.type)}nextToken(){return this.index==this.tokens.length?{type:"null",lexeme:"null"}:this.tokens[this.index++]}match(e){if(this.look.type!=e)throw this.look;this.look=this.nextToken()}};let WS;const zS="http://localhost:5000/",GS={headers:new qu({"Content-Type":"application/json"})},ZS=new VS;let KS;function XS(){try{var e=new Date,t=e.getHours().toString()+""+e.getMinutes().toString()+e.getSeconds().toString()+e.getMilliseconds().toString()+($S+=1).toString();return t.length>15&&(t=t.substr(0,15)),t}catch(n){console.log(n.message)}}function YS(e){KS=e}function US(e){WS=e}let JS=(()=>{class e{constructor(e,t,n){this.http=e,this._router=t,this.activatedRoute=n,this.modelInfo={id:"",name:"",type:""},this.load=!0}setModelInfo(e){this.modelInfo.id=e.id,this.modelInfo.name=e.name,this.modelInfo.type=e.type}getModelInfo(){return this.modelInfo}createModelRoute(){return RS(this,void 0,void 0,(function*(){yield this.http.post(zS+"/model/create",this.modelInfo).toPromise().then(e=>window.location.reload())}))}modelInfoRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/info",GS).toPromise().then(e=>{0!=Object.keys(e).length&&(this.setModelInfo(e),US(this.modelInfo.id))}),null!=WS}))}loadModelRoute(e,t){return RS(this,void 0,void 0,(function*(){yield this.http.post(zS+"/model/load",{model:e,modelType:t},GS).toPromise().then(e=>{})}))}modelJSONRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/json").toPromise().then(e=>e)}))}modelJANIRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/jani").toPromise().then(e=>e)}))}}return e.\u0275fac=function(t){return new(t||e)(Ke(up),Ke(pS),Ke(qA))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),qS=(()=>{class e{constructor(e,t){this._headerService=e,this.http=t,this.declarationId=new hm(""),this.currentdeclarationId=this.declarationId.asObservable()}setTreeObj(){return RS(this,void 0,void 0,(function*(){this.treeData=[],this.projectCredentials=this._headerService.getModelInfo(),this.treeData=[{id:this.projectCredentials.id,displayName:this.projectCredentials.name+" - "+this.projectCredentials.type,isModel:!0,children:[{displayName:"Declaration",id:this.projectCredentials.id,route:"global-declaration"},{displayName:"Automata",children:[]},{displayName:"Composition",id:this.projectCredentials.id,route:"composition"},{displayName:"Properties",id:this.projectCredentials.id,route:"properties"},{displayName:"Code.jani",id:this.projectCredentials.id,route:"jani"},{displayName:"Build Model",id:this.projectCredentials.id,route:"build-model"},{displayName:"Verification",id:this.projectCredentials.id,route:"verification"}]}]}))}getTreeObj(){return this.treeData}editModelName(e,t){if(e==WS)this.treeData[0].displayName=t+" - "+this.projectCredentials.type;else{let n;n=this.treeData[0].children[1].children;for(let i=0;i<n.length;i++)n[i].id==e&&(this.treeData[0].children[1].children[i].displayName=t)}this.http.post(zS+"/model/update/name",{modelId:e,modelName:t},GS).toPromise().then(e=>e)}addNewModel(e,t){this.treeData[0].children[1].children.push({id:t,displayName:e,isModel:!0,children:[{displayName:"Declaration",id:t,route:"local-declaration"},{displayName:"Automaton",id:t,route:"automata"},{displayName:"Labels/Rewards",id:t,route:"rewards"}]})}setDeclarationId(e){this.declarationId.next(e)}getModels(){let e=new Array;return this.treeData[0].children[1].children.map(t=>e.push({modelID:t.id,modelName:t.displayName})),e}createAutomatonRoute(e,t){this.http.post(zS+"/automaton/create",{id:e,name:t}).toPromise().then(e=>e)}automataInfoRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/automata/get/info",GS).toPromise().then(e=>e)}))}}return e.\u0275fac=function(t){return new(t||e)(Ke(JS),Ke(up))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function QS(e,t){if(1&e){const e=Ns();Os(0,"div"),Os(1,"button",19),Fs("click",(function(){return nn(e),Ws(2).openPopup()})),Os(2,"mat-icon"),ga(3,"add_circle_outline"),Ps(),Ps(),Ps()}}function eE(e,t){if(1&e){const e=Ns();Os(0,"mat-tree-node",14),Os(1,"li",15),Ms(2,"button",16),ga(3),Os(4,"a",17),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().onSelect(n)})),ga(5),Ps(),xs(6,QS,4,0,"div",18),Ps(),Ps()}if(2&e){const e=t.$implicit,n=Ws();br(3),ma(" ",n.count," "),br(2),ma(" ",e.displayName," "),br(1),Ss("ngIf","Automata"==e.displayName)}}function tE(e,t){if(1&e){const e=Ns();Os(0,"div"),Os(1,"button",19),Fs("click",(function(){return nn(e),Ws(2).openPopup()})),Os(2,"mat-icon"),ga(3,"add_circle_outline"),Ps(),Ps(),Ps()}}function nE(e,t){if(1&e){const e=Ns();Os(0,"div"),Os(1,"button",19),Fs("click",(function(){nn(e);const t=Ws().$implicit;return Ws().openPopup(t.id)})),Os(2,"mat-icon"),ga(3,"create"),Ps(),Ps(),Ps()}}function iE(e,t){if(1&e&&(Os(0,"mat-nested-tree-node"),Os(1,"li"),Os(2,"div",15),Os(3,"button",20),Os(4,"mat-icon",21),ga(5),Ps(),Ps(),ga(6),xs(7,tE,4,0,"div",18),xs(8,nE,4,0,"div",18),Ps(),Os(9,"ul"),Ds(10,22),Ps(),Ps(),Ps()),2&e){const e=t.$implicit,n=Ws();br(3),ws("aria-label","toggle "+e.name),br(2),ma(" ",n.treeControl.isExpanded(e)?"expand_more":"chevron_right"," "),br(1),ma(" ",e.displayName," "),br(1),Ss("ngIf","Automata"==e.displayName),br(1),Ss("ngIf",e.isModel),br(1),ia("example-tree-invisible",!n.treeControl.isExpanded(e))}}let rE=(()=>{class e{constructor(e,t,n,i){this.dialog=e,this._sideBarService=t,this.router=n,this.activatedRoute=i,this.treeControl=new Xm(e=>e.children),this.dataSource=new xI,this.hasChild=(e,t)=>!!t.children&&t.children.length>0,this.addPopup=!0,this.selectedModelId=""}ngOnInit(){return RS(this,void 0,void 0,(function*(){let e;yield this._sideBarService.setTreeObj();const t=yield ZS.acquire();try{e=yield this._sideBarService.automataInfoRoute()}finally{t()}for(let n of e)this._sideBarService.addNewModel(n.name,n.id);this.dataSource.data=this._sideBarService.getTreeObj()}))}openPopup(e){document.getElementById("nameError").innerHTML="",this.addPopup=!1,this.selectedModelId=e}updateAddName(){if(console.log("modell Nmae: ",this.modelName),null==this.modelName)document.getElementById("nameError").innerHTML="Name must not be empty";else{if(null==this.selectedModelId){var e=XS();this._sideBarService.addNewModel(this.modelName,e),this._sideBarService.createAutomatonRoute(e,this.modelName)}else this._sideBarService.editModelName(this.selectedModelId,this.modelName);this.addPopup=!0,this.modelName=null}let t=this.dataSource.data;this.dataSource.data=null,this.dataSource.data=t}closeForm(){this.addPopup=!0,this.modelName=null}onSelect(e){this._sideBarService.setDeclarationId(e.id);let t=e.route+"/"+e.id;this.router.navigateByUrl("model",{skipLocationChange:!0}).then(()=>{this.router.navigate([t],{relativeTo:this.activatedRoute})})}}return e.\u0275fac=function(t){return new(t||e)(As(r_),As(qS),As(pS),As(qA))},e.\u0275cmp=ut({type:e,selectors:[["app-sidebar"]],decls:18,vars:5,consts:[[1,"example-container"],["id","leftnav","opened","","mode","side"],[1,"example-tree",3,"dataSource","treeControl"],["matTreeNodeToggle","",4,"matTreeNodeDef"],[4,"matTreeNodeDef","matTreeNodeDefWhen"],[1,"addPopup",3,"hidden"],[2,"text-align","center","margin","10px"],[1,"form-group",2,"margin-bottom","0px"],["for","name"],["autocomplete","off","type","text","id","name",1,"form-control",3,"ngModel","ngModelChange"],["id","nameError"],["mat-dialog-actions",""],["id","btns","mat-raised-button","","color","accent",3,"click"],["id","btns","mat-raised-button","","color","primary",3,"click"],["matTreeNodeToggle",""],[1,"mat-tree-node"],["mat-icon-button","","disabled",""],[3,"click"],[4,"ngIf"],["mat-icon-button","",3,"click"],["mat-icon-button","","matTreeNodeToggle",""],[1,"mat-icon-rtl-mirror"],["matTreeNodeOutlet",""]],template:function(e,t){1&e&&(Os(0,"mat-sidenav-container",0),Os(1,"mat-sidenav",1),Os(2,"mat-tree",2),xs(3,eE,7,3,"mat-tree-node",3),xs(4,iE,11,7,"mat-nested-tree-node",4),Ps(),Ps(),Ps(),Os(5,"div",5),Os(6,"h3",6),ga(7,"Model Name"),Ps(),Os(8,"div",7),Os(9,"label",8),ga(10,"Name"),Ps(),Os(11,"input",9),Fs("ngModelChange",(function(e){return t.modelName=e})),Ps(),Ms(12,"label",10),Ps(),Os(13,"div",11),Os(14,"button",12),Fs("click",(function(){return t.updateAddName()})),ga(15,"Ok"),Ps(),Os(16,"button",13),Fs("click",(function(){return t.closeForm()})),ga(17,"Close"),Ps(),Ps(),Ps()),2&e&&(br(2),Ss("dataSource",t.dataSource)("treeControl",t.treeControl),br(2),Ss("matTreeNodeDefWhen",t.hasChild),br(1),Ss("hidden",t.addPopup),br(6),Ss("ngModel",t.modelName))},directives:[Ax,xx,yI,gI,gd,wd,Ou,s_,uw,pI,CI,bh,Hw,mI,vI],styles:[".example-container[_ngcontent-%COMP%]{position:fixed;top:4%;bottom:0;width:12%}#leftnav[_ngcontent-%COMP%]{padding-top:8px;border-right:1px solid #b9b9b9;width:100%}.example-tree-invisible[_ngcontent-%COMP%]{display:none}.example-tree[_ngcontent-%COMP%]   li[_ngcontent-%COMP%], .example-tree[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{font-weight:400;font-size:15px;margin-top:0;padding-top:1%;margin-bottom:0;list-style-type:none;background-color:#e6e6e6}a[_ngcontent-%COMP%]{color:#000;text-decoration:unset}a[_ngcontent-%COMP%]:hover{cursor:pointer;color:brown}ul[_ngcontent-%COMP%]{display:block;list-style-type:disc;-webkit-padding-start:8px;padding-inline-start:8px}.material-icons[_ngcontent-%COMP%]{font-size:18px}.addPopup[_ngcontent-%COMP%]{position:absolute;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:30;top:33%;left:40%;padding:30px;box-shadow:0 0 5px #6d6d6d}#nameError[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-weight:400}#nameError[_ngcontent-%COMP%]{font-size:small;color:red}#btns[_ngcontent-%COMP%]{margin:0 10px 0 0;width:20px;height:32px;padding:0}"]}),e})();var oE=n("ROFb"),sE=n("EVdn"),aE=n("/iKR"),lE=n.n(aE),cE=n("zRRv"),hE=n.n(cE),dE=n("qLhR"),uE=n.n(dE),pE=n("ICWq"),gE=function(e){return e[e.add=0]="add",e[e.update=1]="update",e[e.delete=2]="delete",e}({}),fE=n("oOCA");let mE=(()=>{class e{constructor(e){this.http=e,this.edges={},this.nodes={}}nodeOperations(e,t,n){if(n==gE.add)this.nodes[e].push(t);else if(n==gE.update)for(let i in this.nodes[e])this.nodes[e][i].id==t.id&&(this.nodes[e][i]=t);else if(n==gE.delete)for(let i in this.nodes[e])this.nodes[e][i].id==t.id&&this.nodes[e].splice(i,1)}edgeOperations(e,t,n){if(n==gE.add)this.edges[e].push(t);else if(n==gE.update)for(let i in this.edges[e])this.edges[e][i].id==t.id&&(this.edges[e][i]=t);else if(n==gE.delete)for(let i in this.edges[e])this.edges[e][i].id==t.id&&this.edges[e].splice(i,1);console.log("Added Edge: ",this.edges)}getNode(e,t){for(let n in this.nodes[e])if(this.nodes[e][n].id==t)return this.nodes[e][n]}getEdge(e,t){for(let n in this.edges[e])if(this.edges[e][n].id==t)return this.edges[e][n]}getGraph(e){return RS(this,void 0,void 0,(function*(){if(null==this.nodes[e]&&null==this.edges[e]){let t=yield this.modelGraphRoute(e);this.nodes[e]=[],this.edges[e]=[];for(let n of t.nodes)this.nodeOperations(e,n,gE.add);for(let n of t.edges)this.edgeOperations(e,n,gE.add)}return{nodes:this.nodes[e],edges:this.edges[e]}}))}updateNodePositions(e,t,n,i){let r=this.nodes[e].findIndex(e=>e.id==t);this.nodes[e][r].xCordinate=n,this.nodes[e][r].yCordinate=i}graphOperationsRoute(e,t,n){return RS(this,void 0,void 0,(function*(){let i={modelId:n,nodeOperations:[],edgeOperations:[]};for(let t=0;t<e.length;t++){let r={};if(r.opId=e[t][1],e[t][1]==gE.delete)r.value={},r.value.id=e[t][0],i.nodeOperations.push(r);else for(let o of this.nodes[n])o.id==e[t][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.xCordinate=o.xCordinate,r.value.yCordinate=o.yCordinate,r.value.type=o.type,r.value.initialNode=o.initialNode,r.value.transientValues=o.transientValues,i.nodeOperations.push(r))}for(let e=0;e<t.length;e++){let r={};if(r.opId=t[e][1],t[e][1]==gE.delete)r.value={},r.value.id=t[e][0],i.edgeOperations.push(r);else for(let o of this.edges[n])o.id==t[e][0]&&(console.log("EDGE: ",o),r.value={},r.value.id=o.id,r.value.name=o.name,r.value.type=o.type,r.value.sourceNodeId=o.sourceNodeId,r.value.destinationNodeId=o.destinationNodeId,"EndInterEdge"==o.type?(r.value.action=o.action,r.value.rate=o.rate,r.value.guard=o.guard):"InterEndEdge"==o.type&&(r.value.probability=o.probability,r.value.indexAssignments=o.indexAssignments),i.edgeOperations.push(r))}yield this.http.post(zS+"/model/operation/graph",i,GS).toPromise().then(e=>e)}))}modelGraphRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/graph",e).toPromise().then(e=>e)}))}graphPositionRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/graph/position",e).toPromise().then(e=>{})}))}}return e.\u0275fac=function(t){return new(t||e)(Ke(up))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),vE=(()=>{class e{constructor(e){this.http=e,this.constants={},this.variables={},this.expressions={},this.functions={},this.labels={},this.initialConditions={},this.rewards={}}constantOperations(e,t,n){if(n==gE.add)this.constants[e].push(t);else if(n==gE.update)for(let i in this.constants[e])this.constants[e][i].id==t.id&&(this.constants[e][i]=t);else if(n==gE.delete)for(let i in this.constants[e])this.constants[e][i].id==t.id&&this.constants[e].splice(i,1)}variableOperations(e,t,n){if(n==gE.add)try{this.variables[e].push(t)}catch(AM){this.variables[e]=[t]}else if(n==gE.update)for(let i in this.variables[e])this.variables[e][i].id==t.id&&(this.variables[e][i]=t);else if(n==gE.delete)for(let i in this.variables[e])this.variables[e][i].id==t.id&&this.variables[e].splice(i,1)}expressionOperations(e,t,n){if(n==gE.add)this.expressions[e].push(t);else if(n==gE.update)for(let i in this.expressions[e])this.expressions[e][i].id==t.id&&(this.expressions[e][i]=t);else if(n==gE.delete)for(let i in this.expressions[e])this.expressions[e][i].id==t.id&&this.expressions[e].splice(i,1)}functionOperations(e,t,n){if(n==gE.add)this.functions[e].push(t);else if(n==gE.update)for(let i in this.functions[e])this.functions[e][i].id==t.id&&(this.functions[e][i]=t);else if(n==gE.delete)for(let i in this.functions[e])this.functions[e][i].id==t.id&&this.functions[e].splice(i,1)}labelOperations(e,t,n){if(n==gE.add)this.labels[e].push(t);else if(n==gE.update)for(let i in this.labels[e])this.labels[e][i].id==t.id&&(this.labels[e][i]=t);else if(n==gE.delete)for(let i in this.labels[e])this.labels[e][i].id==t.id&&this.labels[e].splice(i,1)}rewardOperations(e,t,n){if(n==gE.add)try{this.rewards[e].push(t)}catch(AM){this.rewards[e]=[t]}else if(n==gE.update)for(let i in this.rewards[e])this.rewards[e][i].id==t.id&&(this.rewards[e][i]=t);else if(n==gE.delete)for(let i in this.rewards[e])this.rewards[e][i].id==t.id&&this.rewards[e].splice(i,1)}getRewards(e){return RS(this,void 0,void 0,(function*(){if(null==this.rewards[e]){let t=yield this.modelRewardsRoute(e);this.rewards[e]=[];for(let n of t)this.rewardOperations(e,n,gE.add)}return this.rewards[e]}))}rewardOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){let n={modelId:t,operations:[]};for(let i=0;i<e.length;i++){let r={};if(r.opId=e[i][1],e[i][1]==gE.delete)r.value={},r.value.id=e[i][0],n.operations.push(r);else for(let o of this.rewards[t])o.id==e[i][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.type=o.type,r.value.expression=o.expression,n.operations.push(r))}return yield this.http.post(zS+"/model/operation/reward",n).toPromise().then(e=>YS(e))}))}modelRewardsRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/reward",e,GS).toPromise().then(e=>e)}))}getConstants(e){return RS(this,void 0,void 0,(function*(){if(null==this.constants[e]){let t=yield this.modelConstantsRoute(e);this.constants[e]=[];for(let n of t)this.constantOperations(e,n,gE.add)}return this.constants[e]}))}getVariables(e){return RS(this,void 0,void 0,(function*(){if(null==this.variables[e]){let t=yield this.modelVariablesRoute(e);this.variables[e]=[];for(let n of t)this.variableOperations(e,n,gE.add)}return this.variables[e]}))}getExpressions(e){return RS(this,void 0,void 0,(function*(){if(null==this.expressions[e]){let t=yield this.modelExpressionsRoute(e);this.expressions[e]=[];for(let n of t)this.expressionOperations(e,n,gE.add)}return this.expressions[e]}))}getFunctions(e){return RS(this,void 0,void 0,(function*(){if(null==this.functions[e]){let t=yield this.modelFunctionRoute(e);this.functions[e]=[];for(let n of t)this.functionOperations(e,n,gE.add)}return this.functions[e]}))}getLabels(e){return RS(this,void 0,void 0,(function*(){if(null==this.labels[e]){let t=yield this.modelLabelsRoute(e);this.labels[e]=[];for(let n of t)this.labelOperations(e,n,gE.add)}return this.labels[e]}))}constantOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){console.log("LOGS RECEIVED: ",e);let n={modelId:t,operations:[]};for(let i=0;i<e.length;i++){let r={};if(r.opId=e[i][1],e[i][1]==gE.delete)r.value={},r.value.id=e[i][0],n.operations.push(r);else for(let o of this.constants[t])o.id==e[i][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.type=o.type,r.value.bounded=o.bounded,r.value.lowerBound=o.lowerBound,r.value.upperBound=o.upperBound,r.value.value=o.value,n.operations.push(r))}return yield this.http.post(zS+"/model/operation/constant",n,GS).toPromise().then(e=>YS(e))}))}modelConstantsRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/constant",e,GS).toPromise().then(e=>e)}))}variableOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){let n={modelId:t,operations:[]};for(let i=0;i<e.length;i++){let r={};if(r.opId=e[i][1],e[i][1]==gE.delete)r.value={},r.value.id=e[i][0],n.operations.push(r);else for(let o of this.variables[t])o.id==e[i][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.type=o.type,r.value.bounded=o.bounded,r.value.lowerBound=o.lowerBound,r.value.upperBound=o.upperBound,r.value.transient=o.transient,r.value.initialValue=o.initialValue,n.operations.push(r))}return yield this.http.post(zS+"/model/operation/variable",n,GS).toPromise().then(e=>YS(e))}))}modelVariablesRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/variable",e).toPromise().then(e=>e)}))}expressionOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){let n={modelId:t,operations:[]};for(let i=0;i<e.length;i++){let r={};if(r.opId=e[i][1],e[i][1]==gE.delete)r.value={},r.value.id=e[i][0],n.operations.push(r);else for(let o of this.expressions[t])o.id==e[i][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.type=o.type,r.value.value=o.value,n.operations.push(r))}return yield this.http.post(zS+"/model/operation/expression",n,GS).toPromise().then(e=>YS(e))}))}modelExpressionsRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/expression",e,GS).toPromise().then(e=>e)}))}labelOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){let n={modelId:t,operations:[]};for(let i=0;i<e.length;i++){let r={};if(r.opId=e[i][1],e[i][1]==gE.delete)r.value={},r.value.id=e[i][0],n.operations.push(r);else for(let o of this.labels[t])o.id==e[i][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.value=o.value,n.operations.push(r))}return yield this.http.post(zS+"/model/operation/label",n).toPromise().then(e=>YS(e))}))}modelLabelsRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/label",e,GS).toPromise().then(e=>e)}))}functionOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){let n={modelId:t,operations:[]};for(let i=0;i<e.length;i++){let r={};if(r.opId=e[i][1],e[i][1]==gE.delete)r.value={},r.value.id=e[i][0],n.operations.push(r);else for(let o of this.functions[t])o.id==e[i][0]&&(r.value={},r.value.id=o.id,r.value.name=o.name,r.value.type=o.type,r.value.parameter=o.parameter,r.value.expression=o.expression,n.operations.push(r))}return yield this.http.post(zS+"/model/operation/function",n,GS).toPromise().then(e=>YS(e))}))}modelFunctionRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/function",e,GS).toPromise().then(e=>e)}))}getInitialCondition(e){return RS(this,void 0,void 0,(function*(){if(null==this.initialConditions[e]){let t=yield this.modelInitialConditionRoute(e);this.initialConditions[e]=t}return this.initialConditions[e]}))}setInitialConditionRoute(e,t){return RS(this,void 0,void 0,(function*(){this.initialConditions[e]=t;let n={modelId:e,value:this.initialConditions[e]};return yield this.http.post(zS+"/model/set/initialcondition",n,GS).toPromise().then(e=>YS(e))}))}modelInitialConditionRoute(e){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/get/initialcondition",e).toPromise().then(e=>e)}))}}return e.\u0275fac=function(t){return new(t||e)(Ke(up))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function yE(e,t){if(1&e){const e=Ns();Os(0,"tr",76),Os(1,"td",77),ga(2),Ps(),Os(3,"td",78),Os(4,"span",79),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getTransValueRow(n)})),ga(5,"create"),Ps(),Os(6,"span",80),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().nodeAssignmentOperations(n,2)})),ga(7,"delete"),Ps(),Ps(),Ps()}if(2&e){const e=t.$implicit;br(2),va("",e.name," = ",e.value[0],"")}}function bE(e,t){if(1&e){const e=Ns();Os(0,"tr",76),Os(1,"td",77),ga(2),Ps(),Os(3,"td",78),Os(4,"span",79),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getIndexAssignmentRow(n)})),ga(5,"create"),Ps(),Os(6,"span",80),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().edgeAssignmentOperations(n,2)})),ga(7,"delete"),Ps(),Ps(),Ps()}if(2&e){const e=t.$implicit;br(2),ya("",e.index," : ",e.assignment.name," = ",e.assignment.value[0],"")}}function CE(e,t){1&e&&(Os(0,"span",83),ga(1," = "),Ps())}function wE(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),Os(2,"span",81),ga(3),Ps(),ga(4),xs(5,CE,2,0,"span",82),ga(6),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.value[0]),br(1),ma(" ",e.value[0]," ")}}function _E(e,t){1&e&&(Os(0,"span",83),ga(1," Transient "),Ps())}function xE(e,t){1&e&&(Os(0,"span",83),ga(1," = "),Ps())}function IE(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),xs(2,_E,2,0,"span",82),Os(3,"span",81),ga(4),Ps(),ga(5),xs(6,xE,2,0,"span",82),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(2),Ss("ngIf",e.transient),br(2),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.initialValue[0]),br(1),ma(" ",e.initialValue[0]," ")}}function AE(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),Os(2,"span",81),ga(3),Ps(),ga(4),Os(5,"span",83),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.value[0]," ")}}function kE(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),Os(2,"span",81),ga(3),Ps(),ga(4),Os(5,"span",83),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.expression[0]," ")}}function SE(e,t){1&e&&(Os(0,"span",83),ga(1," Transient "),Ps())}function EE(e,t){1&e&&(Os(0,"span",83),ga(1," = "),Ps())}function OE(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),xs(2,SE,2,0,"span",82),Os(3,"span",81),ga(4),Ps(),ga(5),xs(6,EE,2,0,"span",82),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(2),Ss("ngIf",e.transient),br(2),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.initialValue[0]),br(1),ma(" ",e.initialValue[0]," ")}}function PE(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),Os(2,"span",81),ga(3),Ps(),ga(4),Os(5,"span",83),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.value[0]," ")}}function ME(e,t){if(1&e&&(Os(0,"tr",76),Os(1,"td"),Os(2,"span",81),ga(3),Ps(),ga(4),Os(5,"span",83),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.expression[0]," ")}}oE.use(lE.a),hE()(oE),oE.use(uE.a);let TE=(()=>{class e{constructor(e,t,n,i){this._automataService=e,this._sidebarService=t,this.formBuild=n,this._declarationService=i,this.hideVariables=!1,this.hideLabels=!0,this.hideConstants=!0,this.hideGlobals=!1,this.hideLocals=!0,this.column=["name","type","value"],this.labelColumn=["name","value"],this.modelID="none",this.nodeLogs=new fE.Queue,this.edgeLogs=new fE.Queue,this.transition=!1,this.localVariables=new Array,this.localExpressions=new Array,this.localFunctions=new Array,this.localLabels=new Array,this.globalConstants=new Array,this.globalVariables=new Array,this.globalExpressions=new Array,this.globalFunctions=new Array}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.selectedTool="none",this.hideNodesPopper=!0,this.hideEdgesPopper=!0,this.hideDestsPopper=!0,this.cy=oE({container:document.getElementById("automata"),style:pE,minZoom:.05,maxZoom:1,userPanningEnabled:!1}),this.navigator=this.cy.navigator({container:!1,viewLiveFramerate:0,thumbnailEventFramerate:30,thumbnailLiveFramerate:!1,dblClickDelay:200,removeCustomContainer:!0,rerenderDelay:100}),this.getAutomataID(),this.setToolClick(),this.tapCanvas(),this.setNodeClick(),this.setEdgeClick(),this.setMouseOver(),this.setMouseOut(),this.initForm(),this.loadGraph(),yield this.loadSidebar(),this.loadSidebar(),this.dragNode(),this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveAutomata()})))}))}setModelId(e){"none"==this.modelID&&(this.modelID=e)}getAutomataID(){this._sidebarService.currentdeclarationId.subscribe(e=>this.setModelId(e))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){let e={modelId:this.modelID,positions:[]};document.getElementById("automata").remove(),this.cy.nodes().forEach(t=>{this._automataService.updateNodePositions(this.modelID,t.id(),t.position().x,t.position().y),e.positions.push({id:t.id(),xCordinate:t.position().x,yCordinate:t.position().y})}),yield this.autoSaveAutomata(),this._automataService.graphPositionRoute(e),this.navigator.destroy(),this.removePoppers(),this.autoSave.unsubscribe()}))}autoSaveAutomata(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.nodeLogs.length>0||this.edgeLogs.length>0){for(var t=[],n=[];0!=this.nodeLogs.length;)t.push(this.nodeLogs.dequeue());for(;0!=this.edgeLogs.length;)n.push(this.edgeLogs.dequeue());yield this._automataService.graphOperationsRoute(t,n,this.modelID),t=[],n=[]}}finally{e()}}))}loadSidebar(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{this.localVariables=yield this._declarationService.getVariables(this.modelID),this.localExpressions=yield this._declarationService.getExpressions(this.modelID),this.localFunctions=yield this._declarationService.getFunctions(this.modelID),this.localLabels=yield this._declarationService.getLabels(this.modelID),this.globalConstants=yield this._declarationService.getConstants(WS),this.globalVariables=yield this._declarationService.getVariables(WS),this.globalExpressions=yield this._declarationService.getExpressions(WS),this.globalFunctions=yield this._declarationService.getFunctions(WS)}finally{e()}}))}dragNode(){this.cy.on("drag",e=>{this.cy.getElementById(e.target._private.data.id).connectedEdges().map(e=>{this.cy.getElementById(e.id()).poper.scheduleUpdate()})})}initForm(){this.nodeForm=this.formBuild.group({$key:new mu(null),id:new mu(""),name:new mu("",Ed.required),type:new mu(""),transientValues:this.formBuild.array([]),initialNode:new mu(!1)}),this.hideNodeForm=!0,this.transValueForm=new vu({$key:new mu(null),id:new mu(XS()),name:new mu("",Ed.required),value:new mu("",Ed.required)}),this.hideTransValueForm=!0,this.endToInterEdgeForm=new vu({id:new mu(""),name:new mu(""),type:new mu(""),guard:new mu(""),action:new mu(""),rate:new mu("")}),this.hideEndToInterForm=!0,this.interToEndEdgeForm=new vu({$key:new mu(""),id:new mu(""),name:new mu(""),type:new mu(""),indexAssignment:this.formBuild.array([]),probability:new mu("")}),this.hideInterToEndForm=!0,this.indexAssignForm=new vu({$key:new mu(null),id:new mu(XS()),index:new mu(0,Ed.required),name:new mu("",Ed.required),value:new mu("",Ed.required)}),this.hideIndexAssignForm=!0,this.hideAddBtn=!0,this.hideUpdateBtn=!0,this.hideFormErrorPopUp=!0}loadGraph(){return RS(this,void 0,void 0,(function*(){let e=yield this._automataService.getGraph(this.modelID);e.hasOwnProperty("nodes")&&(e.nodes.forEach(e=>{-1!=e.xCordinate&&-1!=e.yCordinate||(this.cy.add({data:{id:e.id,name:e.name},classes:e.type}),"InterNode"!=e.type&&(this.endNode=e,this.bindEndNodeInfo()))}),this.cy.layout({name:"circle"}).run(),e.nodes.forEach(e=>{-1!=e.xCordinate&&-1!=e.yCordinate&&(this.cy.add({data:{id:e.id,name:e.name},position:{x:e.xCordinate,y:e.yCordinate},classes:e.type}),"InterNode"!=e.type&&(this.endNode=e,this.bindEndNodeInfo()))})),e.hasOwnProperty("edges")&&e.edges.forEach(e=>{this.cy.add({data:{id:e.id,name:e.name,source:e.sourceNodeId,target:e.destinationNodeId},classes:e.type}),"EndInterEdge"==e.type?(this.endToInterEdge=e,this.bindEndToInterEdgeInfo()):(this.interToEndEdge=e,this.bindInterToEndEdgeInfo())}),this.cy.fit()}))}setToolClick(){sE(".node").click(()=>{sE(".node").toggleClass("nodeAfterClick"),sE(".edge").removeClass("nodeAfterClick"),this.selectedTool="node"==this.selectedTool?"none":"node"}),sE(".edge").click(()=>{sE(".node").removeClass("nodeAfterClick"),sE(".edge").toggleClass("nodeAfterClick"),this.selectedTool="edge"==this.selectedTool?"none":"edge"})}tapCanvas(){this.cy.on("tap",e=>{"node"==this.selectedTool&&e.target===this.cy&&this.addEndNode(e.position.x,e.position.y)})}setMouseOver(){this.cy.on("mouseover",e=>{null!=e.target&&(this.cy.getElementById(e.target._private.data.id).isNode()?this.nodeID=e.target._private.data.id:this.cy.getElementById(e.target._private.data.id).isEdge()&&(this.edgeID=e.target._private.data.id),document.getElementById(e.target._private.data.id)&&document.getElementById(e.target._private.data.id).classList.add("active"))})}setMouseOut(){this.cy.on("mouseout",e=>{if(null!=e.target&&document.getElementById(e.target._private.data.id)){let t=document.getElementById(e.target._private.data.id);(t.classList.contains("location-popper")&&this.hideNodesPopper||t.classList.contains("edge-popper")&&this.hideEdgesPopper||t.classList.contains("destination-popper")&&this.hideDestsPopper)&&document.getElementById(e.target._private.data.id).classList.remove("active")}})}togglePoppers(e){let t;if("nodes"==e)if(t=document.getElementsByClassName(this.modelID+" location-popper"),1==this.hideNodesPopper){for(let e=0;e<t.length;e++)t[e].classList.add("active");this.hideNodesPopper=!1}else{for(let e=0;e<t.length;e++)t[e].classList.remove("active");this.hideNodesPopper=!0}else if("edges"==e)if(t=document.getElementsByClassName(this.modelID+" edge-popper"),1==this.hideEdgesPopper){for(let e=0;e<t.length;e++)t[e].classList.add("active");this.hideEdgesPopper=!1}else{for(let e=0;e<t.length;e++)t[e].classList.remove("active");this.hideEdgesPopper=!0}else if("destinations"==e)if(t=document.getElementsByClassName(this.modelID+" destination-popper"),1==this.hideDestsPopper){for(let e=0;e<t.length;e++)t[e].classList.add("active");this.hideDestsPopper=!1}else{for(let e=0;e<t.length;e++)t[e].classList.remove("active");this.hideDestsPopper=!0}}removePoppers(){let e;e=document.getElementsByClassName(this.modelID+" location-popper");for(let t=0;t<e.length;t++)e[t].classList.remove("active");e=document.getElementsByClassName(this.modelID+" edge-popper");for(let t=0;t<e.length;t++)e[t].classList.remove("active");this.hideEdgesPopper=!0,e=document.getElementsByClassName(this.modelID+" destination-popper");for(let t=0;t<e.length;t++)e[t].classList.remove("active");this.hideDestsPopper=!0}setNodeClick(){this.cy.on("click","node",e=>{null!=document.getElementById(this.nodeID)&&document.getElementById(this.nodeID).classList.remove("active"),"node"!=this.selectedTool&&"none"!=this.selectedTool||"InterNode"==e.target.classes()?"edge"==this.selectedTool&&(null==this.cySourceNodeID?this.cySourceNodeID=this.nodeID:(this.cyDestNodeID=this.nodeID,this.cy.getElementById(this.cySourceNodeID).hasClass("Node")||this.cy.getElementById(this.cySourceNodeID).hasClass("InitialNode")?(this.cy.getElementById(this.cyDestNodeID).hasClass("Node")||this.cy.getElementById(this.cyDestNodeID).hasClass("InitialNode"))&&this.addEndToEndEdge():(this.cy.getElementById(this.cyDestNodeID).hasClass("Node")||this.cy.getElementById(this.cyDestNodeID).hasClass("InitialNode"))&&this.addInterToEndEdge(this.cySourceNodeID,this.cyDestNodeID),this.cySourceNodeID=null,this.cyDestNodeID=null,this.nodeID=null)):(this.endNode=this._automataService.getNode(this.modelID,this.nodeID),this.setNodeForm())})}setEdgeClick(){this.cy.on("click","edge",()=>{let e;document.getElementById(this.edgeID).classList.remove("active"),e=this._automataService.getEdge(this.modelID,this.edgeID),"edge"!=this.selectedTool&&"none"!=this.selectedTool||("EndInterEdge"==e.type?(this.endToInterEdge=e,this.setEndToInterEdgeForm()):"InterEndEdge"==e.type&&(this.interToEndEdge=e,this.setInterToEndEdgeForm()))})}addEndNode(e,t){let n=XS();this.endNode={id:n,name:"l-"+(this.cy.nodes(".Node , .InitialNode").length+1).toString(),xCordinate:e,yCordinate:t,type:"Node",transientValues:[],initialNode:!1},this.cyNodeOperation(this.endNode,gE.add),this.setNodeForm()}setNodeForm(){document.getElementById("parentDisable").style.display="block",this.nodeForm.controls.transientValues.clear(),this.nodeForm.reset(),delete this.nodeForm,this.nodeForm=this.formBuild.group({$key:new mu(null),id:new mu(this.endNode.id),name:new mu(this.endNode.name,Ed.required),type:new mu(this.endNode.type),transientValues:this.formBuild.array(this.endNode.transientValues),initialNode:new mu(this.endNode.initialNode)}),this.hideNodeForm=!1}updateEndNode(e){document.getElementById("parentDisable").style.display="block",this.endNode.name=e.name,this.endNode.transientValues=this.nodeForm.controls.transientValues.value,this.endNode.initialNode=e.initialNode,this.endNode.type=1==e.initialNode?"InitialNode":"Node",this.cyNodeOperation(this.endNode,gE.update),this.bindEndNodeInfo(),this.hideNodeForm=!0,document.getElementById("parentDisable").style.display="none"}setTransValueForm(){document.getElementById("parentDisable").style.display="block",this.transValueForm.setValue({$key:null,id:XS(),name:"",value:""}),this.hideTransValueForm=!1,this.hideAddBtn=!1,this.hideUpdateBtn=!0}getTransValueRow(e){document.getElementById("parentDisable").style.display="block",this.transValueForm.setValue({$key:null,id:e.id,name:e.name,value:e.value[0]}),this.hideTransValueForm=!1,this.hideUpdateBtn=!1,this.hideAddBtn=!0}cyNodeOperation(e,t){if(t==gE.add)this.cy.add({data:{id:e.id,name:e.name},position:{x:e.xCordinate,y:e.yCordinate},classes:e.type}),this._automataService.nodeOperations(this.modelID,e,gE.add),this.nodeLogs.enqueue([e.id,gE.add]);else if(t==gE.update){let t=this.cy.getElementById(e.id);t.data("name",e.name),"InitialNode"==e.type&&t.hasClass("Node")?(t.removeClass("Node"),t.addClass("InitialNode")):"Node"==e.type&&t.hasClass("InitialNode")&&(t.removeClass("InitialNode"),t.addClass("Node")),this._automataService.nodeOperations(this.modelID,e,gE.update),this.nodeLogs.enqueue([e.id,gE.update])}else t==gE.delete&&(this.cy.remove("#"+e.id),this._automataService.nodeOperations(this.modelID,e,gE.delete),this.nodeLogs.enqueue([e.id,gE.delete]),document.getElementById(e.id)&&document.getElementById(e.id).remove())}nodeAssignmentOperations(e,t){let n=new Object,i={id:e.id};if(i.name=e.name,t==gE.add){if(""!=e.value)try{i.value=[e.value,HS.getTokens(e.value)],jS.parseExpression(i.value[1])}catch(r){n.transientValueError="Invalid Syntax"}else n.transientValueError="Value must not be empty";if(document.getElementById("transientValueError").innerHTML="",document.getElementById("transientNameError").innerHTML="",0!=Object.keys(n).length){for(let e in n)document.getElementById(e).innerHTML=n[e];return n={},!1}this.nodeForm.controls.transientValues.push(new mu(i)),this.hideAddBtn=!0}else if(t==gE.update){try{i.value=[e.value,HS.getTokens(e.value)],jS.parseExpression(i.value[1])}catch(r){n.transientValueError="Invalid Syntax"}if(document.getElementById("transientValueError").innerHTML="",document.getElementById("transientNameError").innerHTML="",0!=Object.keys(n).length){this.hideFormErrorPopUp=!1;for(let e in n)document.getElementById(e).innerHTML=n[e];return n={},!1}this.nodeForm.controls.transientValues.at(this.nodeForm.controls.transientValues.value.findIndex(t=>t.id==e.id)).patchValue(i),this.hideUpdateBtn=!0}else t==gE.delete&&this.nodeForm.controls.transientValues.removeAt(this.nodeForm.controls.transientValues.value.findIndex(t=>t.id==e.id));return this.hideTransValueForm=!0,!0}returnNodeAssignments(){return this.nodeForm.get("transientValues").value}addEndToEndEdge(){let e,t=XS(),n=this.cy.getElementById(this.cySourceNodeID),i=this.cy.getElementById(this.cyDestNodeID);e=i.position().x==n.position().x&&i.position().y==n.position().y?{id:t,name:"inter-node-"+t,xCordinate:i.position().x+50,yCordinate:i.position().y+50,type:"InterNode"}:{id:t,name:"inter-node-"+t,xCordinate:(i.position().x+n.position().x)/2,yCordinate:(i.position().y+n.position().y)/2,type:"InterNode"},this.cyNodeOperation(e,gE.add),this.transition=!0,this.addEndToInterEdge(this.cySourceNodeID,e.id),this.addInterToEndEdge(e.id,this.cyDestNodeID)}addEndToInterEdge(e,t){let n=XS();this.endToInterEdge={id:n,name:"end-inter-"+n,type:"EndInterEdge",sourceNodeId:e,destinationNodeId:t,guard:[""],action:"",rate:[""]},this.cyEdgeOperation(this.endToInterEdge,gE.add),this.setEndToInterEdgeForm()}setEndToInterEdgeForm(){document.getElementById("parentDisable").style.display="block",this.endToInterEdgeForm.setValue({id:this.endToInterEdge.id,name:this.endToInterEdge.name,type:this.endToInterEdge.type,guard:this.endToInterEdge.guard[0],action:this.endToInterEdge.action,rate:this.endToInterEdge.rate[0]}),this.hideEndToInterForm=!1}updateEndToInterEdge(e){document.getElementById("parentDisable").style.display="block";let t=new Object;this.endToInterEdge.action=e.action;try{""!=e.guard?(this.endToInterEdge.guard=[e.guard,HS.getTokens(e.guard)],jS.parseExpression(this.endToInterEdge.guard[1])):this.endToInterEdge.guard=["true",[]]}catch(n){t.guardError="Invalid Syntax"}try{""!=e.rate?(this.endToInterEdge.rate=[e.rate,HS.getTokens(e.rate)],jS.parseExpression(this.endToInterEdge.rate[1])):this.endToInterEdge.rate=["",[]]}catch(n){t.rateError="Invalid Syntax"}if(document.getElementById("rateError").innerHTML="",document.getElementById("guardError").innerHTML="",0!=Object.keys(t).length){for(let e in t)document.getElementById(e).innerHTML=t[e];return!1}return this.cyEdgeOperation(this.endToInterEdge,gE.update),this.bindEndToInterEdgeInfo(),this.hideEndToInterForm=!0,0==this.transition&&(document.getElementById("parentDisable").style.display="none"),this.transition=!1,!0}addInterToEndEdge(e,t){let n=XS();this.interToEndEdge={id:n,name:"inter-end-"+n,type:"InterEndEdge",sourceNodeId:e,destinationNodeId:t,probability:[""],indexAssignments:[]},this.cyEdgeOperation(this.interToEndEdge,gE.add),this.setInterToEndEdgeForm()}setInterToEndEdgeForm(){document.getElementById("parentDisable").style.display="block",this.interToEndEdgeForm.controls.indexAssignment.clear(),this.interToEndEdgeForm.reset(),delete this.interToEndEdgeForm,this.interToEndEdgeForm=this.formBuild.group({$key:new mu(null),id:new mu(this.interToEndEdge.id),name:new mu(this.interToEndEdge.name),type:new mu(this.interToEndEdge.type),probability:new mu(this.interToEndEdge.probability[0]),indexAssignment:this.formBuild.array(this.interToEndEdge.indexAssignments)}),this.hideInterToEndForm=!1,this.hideAddBtn=!1}updateInterToEndEdge(e){document.getElementById("parentDisable").style.display="block";let t=new Object;this.interToEndEdge.name=e.name,this.interToEndEdge.indexAssignments=this.interToEndEdgeForm.controls.indexAssignment.value;try{""!=e.probability?(this.interToEndEdge.probability=[e.probability,HS.getTokens(e.probability)],jS.parseExpression(this.interToEndEdge.probability[1])):this.interToEndEdge.probability=["1",[]]}catch(n){t.probabilityError="Invalid Syntax"}return document.getElementById("probabilityError").innerHTML="",0!=Object.keys(t).length?(this.hideFormErrorPopUp=!1,document.getElementById("probabilityError").innerHTML=t.probabilityError,!1):(this.cyEdgeOperation(this.interToEndEdge,gE.update),this.bindInterToEndEdgeInfo(),this.hideInterToEndForm=!0,document.getElementById("parentDisable").style.display="none",!0)}setIndexAssignmentForm(){document.getElementById("parentDisable").style.display="block",this.indexAssignForm.setValue({$key:null,id:XS(),index:0,name:"",value:""}),this.hideIndexAssignForm=!1,this.hideAddBtn=!1,this.hideUpdateBtn=!0}getIndexAssignmentRow(e){document.getElementById("parentDisable").style.display="block",this.indexAssignForm.setValue({$key:null,id:e.assignment.id,index:e.index,name:e.assignment.name,value:e.assignment.value[0]}),this.hideIndexAssignForm=!1,this.hideUpdateBtn=!1,this.hideAddBtn=!0}cyEdgeOperation(e,t){if(t==gE.add)this.cy.add({data:{id:e.id,name:e.name,source:e.sourceNodeId,target:e.destinationNodeId},classes:e.type}),this._automataService.edgeOperations(this.modelID,e,gE.add),this.edgeLogs.enqueue([e.id,gE.add]);else if(t==gE.update){this._automataService.edgeOperations(this.modelID,e,gE.update);let t=!0;for(let n of this.edgeLogs)if(n[0]==e.id){t=!1;break}t&&this.edgeLogs.enqueue([e.id,gE.update])}else t==gE.delete&&(this.cy.remove("#"+e.id),this._automataService.edgeOperations(this.modelID,e,gE.delete),this.edgeLogs.enqueue([e.id,gE.delete]),document.getElementById(e.id)&&document.getElementById(e.id).remove())}edgeAssignmentOperations(e,t){let n=new Object,i={id:e.id};i.name=e.name;let r={index:e.index,assignment:i};if(t==gE.add){if(""!=e.value)try{i.value=[e.value,HS.getTokens(e.value)],jS.parseExpression(i.value[1])}catch(o){n.assignmentValueError="Invalid Syntax"}if(document.getElementById("assignmentValueError").innerHTML="",0!=Object.keys(n).length)return document.getElementById("assignmentValueError").innerHTML=n.assignmentValueError,n={},!1;this.interToEndEdgeForm.controls.indexAssignment.push(new mu(r)),this.hideAddBtn=!0,this.hideIndexAssignForm=!0}else if(t==gE.update){try{i.value=[e.value,HS.getTokens(e.value)],jS.parseExpression(i.value[1])}catch(o){n.assignmentValueError="Invalid Syntax"}if(document.getElementById("assignmentValueError").innerHTML="",0!=Object.keys(n).length)return document.getElementById("assignmentValueError").innerHTML=n.assignmentValueError,n={},!1;this.interToEndEdgeForm.controls.indexAssignment.at(this.interToEndEdgeForm.controls.indexAssignment.value.findIndex(t=>t.assignment.id==e.id)).patchValue(r),this.hideUpdateBtn=!0,this.hideIndexAssignForm=!0}else t==gE.delete&&this.interToEndEdgeForm.controls.indexAssignment.removeAt(this.interToEndEdgeForm.controls.indexAssignment.value.findIndex(t=>t.assignment.id==e.id));return!0}returnEdgeAssignments(){return this.interToEndEdgeForm.get("indexAssignment").value}bindEndNodeInfo(){let e=this.cy.getElementById(this.endNode.id);document.getElementById(this.endNode.id)&&(document.getElementById(this.endNode.id).remove(),e.poper={}),e.poper=e.popper({content:()=>{let e=document.createElement("div");e.id=this.endNode.id,e.classList.add(this.modelID),e.classList.add("location-popper");let t=document.createElement("p");t.classList.add("values"),t.innerHTML="<b> Name : </b>"+this.endNode.name,e.append(t);let n=document.createElement("p");n.classList.add("values"),n.innerHTML="<b> Transient Variables : </b>",e.append(n);for(let i in this.endNode.transientValues){let t=document.createElement("p");t.classList.add("values"),t.innerHTML=this.endNode.transientValues[i].name+" = "+this.endNode.transientValues[i].value[0],e.append(t)}return document.body.appendChild(e),e}}),e.on("position",()=>{e.poper.scheduleUpdate()}),e.cy().on("pan zoom resize",()=>{e.poper.scheduleUpdate()})}bindEndToInterEdgeInfo(){let e=this.cy.getElementById(this.endToInterEdge.id);document.getElementById(this.endToInterEdge.id)&&(document.getElementById(this.endToInterEdge.id).remove(),e.poper={}),e.poper=e.popper({content:()=>{let e=document.createElement("div");e.id=this.endToInterEdge.id,e.classList.add(this.modelID),e.classList.add("edge-popper");let t=document.createElement("p");if(t.classList.add("values"),t.innerHTML="<b> Guard : </b>"+this.endToInterEdge.guard[0],e.append(t),""==this.endToInterEdge.rate[0]){let t=document.createElement("p");t.classList.add("values"),t.innerHTML="<b> Action : </b>"+this.endToInterEdge.action,e.append(t)}else{let t=document.createElement("p");t.classList.add("values"),t.innerHTML="<b> Rate : </b>"+this.endToInterEdge.rate[0],e.append(t)}return document.body.appendChild(e),e}}),e.on("position",()=>{e.poper.scheduleUpdate()}),e.cy().on("pan zoom resize",()=>{e.poper.scheduleUpdate()})}bindInterToEndEdgeInfo(){let e=this.cy.getElementById(this.interToEndEdge.id);document.getElementById(this.interToEndEdge.id)&&(document.getElementById(this.interToEndEdge.id).remove(),e.poper={}),e.poper=e.popper({content:()=>{let e=document.createElement("div");e.id=this.interToEndEdge.id,e.classList.add(this.modelID),e.classList.add("destination-popper");let t=document.createElement("p");t.classList.add("values"),t.innerHTML="<b> Probability : </b>"+this.interToEndEdge.probability[0],e.append(t);let n=document.createElement("p");n.classList.add("values"),n.innerHTML="<b> Index Assignments : </b>",e.append(n);for(let i in this.interToEndEdge.indexAssignments){let t=document.createElement("p");t.classList.add("values"),t.innerHTML=this.interToEndEdge.indexAssignments[i].index+" : "+this.interToEndEdge.indexAssignments[i].assignment.name+" = "+this.interToEndEdge.indexAssignments[i].assignment.value[0],e.append(t)}return document.body.appendChild(e),e}}),e.on("position",()=>{e.poper.scheduleUpdate()}),e.cy().on("pan zoom resize",()=>{e.poper.scheduleUpdate()})}deleteNode(e){let t=this.cy.getElementById(e);t.connectedEdges().map(t=>{t.source().id()==e&&this.deleteEdge(t.id())}),t.connectedEdges().map(e=>{this.deleteEdge(e.id())}),this.cyNodeOperation({id:e},gE.delete),document.getElementById("parentDisable").style.display="none",this.hideNodeForm=!0}deleteEdge(e){let t=this.cy.getElementById(e);t.target().hasClass("InterNode")?(this.cyEdgeOperation({id:e},gE.delete),this.deleteNode(t.target().id())):this.cyEdgeOperation({id:e},gE.delete),document.getElementById("parentDisable").style.display="none",this.hideInterToEndForm=!0,this.hideEndToInterForm=!0}globalsSelected(){let e=document.getElementById("globalsTab");e.classList.remove("notSelectedWindow"),e.classList.add("selectedWindow"),this.hideGlobals=!1,this.hideLocals=!0;let t=document.getElementById("localsTab");t.classList.remove("selectedWindow"),t.classList.add("notSelectedWindow")}localsSelected(){let e=document.getElementById("localsTab");e.classList.remove("notSelectedWindow"),e.classList.add("selectedWindow"),this.hideGlobals=!0,this.hideLocals=!1;let t=document.getElementById("globalsTab");t.classList.remove("selectedWindow"),t.classList.add("notSelectedWindow")}}return e.\u0275fac=function(t){return new(t||e)(As(mE),As(qS),As(ju),As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-automata"]],decls:238,vars:32,consts:[["id","parentDisable"],[1,"container"],["id","toolBar",2,"z-index","20"],["id","toolNode",1,"nodeDiv"],["src","../../../../assets/images/node.png","alt","Node","width","70%","height","80%",1,"node"],["id","toolEdge",1,"edgeDiv"],["src","../../../../assets/images/edge.png","alt","Edge","width","90%","height","90%",1,"edge"],[1,"details"],[2,"margin-right","10px"],[1,"checkbox-inline"],["type","checkbox","value","nodes",3,"change"],["type","checkbox","value","edges",3,"change"],["type","checkbox","value","destinations","value","destinations",3,"change"],["id","canvas",2,"z-index","10"],["id","automata",1,"gallery"],[1,"addNode",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],[1,"form-group","col-md-6",2,"padding-top","30px"],[1,"form-check"],["formControlName","initialNode","type","checkbox","id","initialNode",1,"form-check-input"],["for","initialNode",1,"form-check-label",2,"padding-left","5px"],[1,"form-group","col-md-12",2,"padding","0px","margin","0px"],[2,"padding","0px","margin","0px 0px 0px 10px"],[1,"addIcon",3,"click"],[1,"form-group","col-md-12"],[1,"tableData"],["border","1",1,"table-sm"],["mdbTableCol","",4,"ngFor","ngForOf"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],[1,"addTransient",3,"hidden"],[1,"form-group","col-md-3"],["id","transientNameError"],[1,"form-group","col-md-1",2,"padding","30px 5px 0px 5px"],[2,"font-size","25px"],[1,"form-group","col-md-8"],["id","helpIcon","data-toggle","tooltip","title","Expression defined on constants, variables, functions and/or expressions e.g. x+2, x , 2, 2.5 , true etc.",1,"material-icons"],["formControlName","value","type","text","id","value",1,"form-control"],["id","transientValueError"],[3,"hidden"],[1,"addEndToInterEdge",3,"hidden"],["for","guard"],["id","helpIcon","data-toggle","tooltip","title","Boolean expression defined on constants, variables, functions and/or expressions e.g. x>y, true etc.",1,"material-icons"],["formControlName","guard","type","text","id","guard",1,"form-control"],["id","guardError"],["for","action"],["id","helpIcon","data-toggle","tooltip","title","Any string",1,"material-icons"],["formControlName","action","rows","2",1,"form-control","rounded-0"],["for","rate"],["id","helpIcon","data-toggle","tooltip","title","Numeric expression defined on constants, variables, functions and/or expressions e.g. x+2, x , 2, 2.5 etc.",1,"material-icons"],["formControlName","rate","rows","2",1,"form-control","rounded-0"],["id","rateError"],[1,"addInterToEndEdge",3,"hidden"],["for","probability"],["formControlName","probability","type","text","id","probability",1,"form-control"],["id","probabilityError"],[1,"form-group","col-md-2",2,"padding","0px"],["for","index"],["formControlName","index","type","number","id","index",1,"form-control"],[1,"col-sm-1",2,"padding","30px 0px 0px 0px","width","10px"],[1,"form-group","col-md-3",2,"padding","0px"],[1,"col-sm-1",2,"padding","30px 0px 0px 0px","width","15px"],[1,"form-group","col-md-5",2,"padding","0px"],["id","assignmentValueError"],[1,"side-container",2,"z-index","20"],["id","rightNav","opened","","mode","side","position","end"],[1,"heading"],["id","globalsTab",1,"selectedWindow",3,"click"],["id","localsTab",3,"click"],[1,"declaration",3,"hidden"],[1,"example-container"],["mdbTableCol",""],[2,"width","85%"],[2,"width","15%"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],[2,"color","rgb(78, 78, 253)"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(Ms(0,"div",0),Os(1,"div",1),Os(2,"div",2),Os(3,"div",3),Ms(4,"img",4),Ps(),Os(5,"div",5),Ms(6,"img",6),Ps(),Os(7,"div",7),Os(8,"label",8),Os(9,"strong"),ga(10,"Details:"),Ps(),Ps(),Os(11,"label",9),Os(12,"input",10),Fs("change",(function(e){return t.togglePoppers(e.target.value)})),Ps(),ga(13,"Locations"),Ps(),Os(14,"label",9),Os(15,"input",11),Fs("change",(function(e){return t.togglePoppers(e.target.value)})),Ps(),ga(16,"Edges"),Ps(),Os(17,"label",9),Os(18,"input",12),Fs("change",(function(e){return t.togglePoppers(e.target.value)})),Ps(),ga(19,"Destinations"),Ps(),Ps(),Ps(),Os(20,"div",13),Ms(21,"div",14),Os(22,"div",15),Os(23,"form",16),Os(24,"h2",17),ga(25,"Location"),Ps(),Os(26,"div",18),Os(27,"div",19),Os(28,"label",20),ga(29,"Name"),Ps(),Ms(30,"input",21),Ps(),Os(31,"div",22),Os(32,"div",23),Ms(33,"input",24),Os(34,"label",25),ga(35," Is Initial Location? "),Ps(),Ps(),Ps(),Ps(),Os(36,"div",26),Os(37,"h3",27),ga(38,"Transient Variables "),Os(39,"mat-icon",28),Fs("click",(function(){return t.setTransValueForm()})),ga(40,"add_circle"),Ps(),Ps(),Ps(),Os(41,"div",29),Os(42,"div",30),Os(43,"table",31),Os(44,"tbody"),xs(45,yE,8,2,"tr",32),Ps(),Ps(),Ps(),Ps(),Os(46,"div",29),Os(47,"span"),Os(48,"button",33),Fs("click",(function(){return t.updateEndNode(t.nodeForm.value)})),ga(49,"Save"),Ps(),Ps(),Os(50,"button",34),Fs("click",(function(){return t.deleteNode(t.nodeForm.value.id)})),ga(51,"Delete"),Ps(),Ps(),Ps(),Ps(),Os(52,"div",35),Os(53,"form",16),Os(54,"h2",17),ga(55,"Transient Variable"),Ps(),Os(56,"div",18),Os(57,"div",36),Os(58,"label",20),ga(59,"Name"),Ps(),Ms(60,"input",21),Ms(61,"label",37),Ps(),Os(62,"div",38),Os(63,"strong",39),ga(64," = "),Ps(),Ps(),Os(65,"div",40),Os(66,"label",20),ga(67,"Value "),Os(68,"span",41),ga(69,"info"),Ps(),Ps(),Ms(70,"input",42),Ms(71,"label",43),Ps(),Ps(),Os(72,"div",29),Os(73,"span",44),Os(74,"button",33),Fs("click",(function(){return t.nodeAssignmentOperations(t.transValueForm.value,0)})),ga(75,"Add"),Ps(),Ps(),Os(76,"span",44),Os(77,"button",33),Fs("click",(function(){return t.nodeAssignmentOperations(t.transValueForm.value,1)})),ga(78,"Update"),Ps(),Ps(),Os(79,"button",34),Fs("click",(function(){return t.hideTransValueForm=!0})),ga(80,"Close"),Ps(),Ps(),Ps(),Ps(),Os(81,"div",45),Os(82,"form",16),Os(83,"h2",17),ga(84,"Edge"),Ps(),Os(85,"div",29),Os(86,"label",46),ga(87,"Guard "),Os(88,"span",47),ga(89,"info"),Ps(),Ps(),Ms(90,"input",48),Ms(91,"label",49),Ps(),Os(92,"div",29),Os(93,"label",50),ga(94,"Action "),Os(95,"span",51),ga(96,"info"),Ps(),Ps(),Ms(97,"textarea",52),Ps(),Os(98,"div",29),Os(99,"label",53),ga(100,"Rate "),Os(101,"span",54),ga(102,"info"),Ps(),Ps(),Ms(103,"textarea",55),Ms(104,"label",56),Ps(),Os(105,"div",29),Os(106,"span"),Os(107,"button",33),Fs("click",(function(){return t.updateEndToInterEdge(t.endToInterEdgeForm.value)})),ga(108,"Save"),Ps(),Ps(),Os(109,"button",34),Fs("click",(function(){return t.deleteEdge(t.endToInterEdgeForm.value.id)})),ga(110,"Delete"),Ps(),Ps(),Ps(),Ps(),Os(111,"div",57),Os(112,"form",16),Os(113,"h2",17),ga(114,"Destination"),Ps(),Os(115,"div",29),Os(116,"label",58),ga(117,"Probability "),Os(118,"span",54),ga(119,"info"),Ps(),Ps(),Ms(120,"input",59),Ms(121,"label",60),Ps(),Os(122,"div",26),Os(123,"h3",27),ga(124,"Index Assignments "),Os(125,"mat-icon",28),Fs("click",(function(){return t.setIndexAssignmentForm()})),ga(126,"add_circle"),Ps(),Ps(),Ps(),Os(127,"div",29),Os(128,"div",30),Os(129,"table",31),Os(130,"tbody"),xs(131,bE,8,3,"tr",32),Ps(),Ps(),Ps(),Ps(),Os(132,"div",29),Os(133,"span"),Os(134,"button",33),Fs("click",(function(){return t.updateInterToEndEdge(t.interToEndEdgeForm.value)})),ga(135,"Save"),Ps(),Ps(),Os(136,"button",34),Fs("click",(function(){return t.deleteEdge(t.interToEndEdgeForm.value.id)})),ga(137,"Delete"),Ps(),Ps(),Ps(),Ps(),Os(138,"div",35),Os(139,"form",16),Os(140,"h2",17),ga(141,"Index Assignment"),Ps(),Os(142,"div",18),Os(143,"div",61),Os(144,"label",62),ga(145,"Index"),Ps(),Ms(146,"input",63),Ps(),Os(147,"div",64),Os(148,"strong",39),ga(149," : "),Ps(),Ps(),Os(150,"div",65),Os(151,"label",20),ga(152,"Name"),Ps(),Ms(153,"input",21),Ps(),Os(154,"div",66),Os(155,"strong",39),ga(156," = "),Ps(),Ps(),Os(157,"div",67),Os(158,"label",20),ga(159,"Value "),Os(160,"span",41),ga(161,"info"),Ps(),Ps(),Ms(162,"input",42),Ms(163,"label",68),Ps(),Ps(),Os(164,"div",29),Os(165,"span",44),Os(166,"button",33),Fs("click",(function(){return t.edgeAssignmentOperations(t.indexAssignForm.value,0)})),ga(167,"Add"),Ps(),Ps(),Os(168,"span",44),Os(169,"button",33),Fs("click",(function(){return t.edgeAssignmentOperations(t.indexAssignForm.value,1)})),ga(170,"Update"),Ps(),Ps(),Os(171,"button",34),Fs("click",(function(){return t.hideIndexAssignForm=!0})),ga(172,"Close"),Ps(),Ps(),Ps(),Ps(),Ps(),Os(173,"mat-sidenav-container",69),Os(174,"mat-sidenav",70),Os(175,"div",71),Os(176,"div",72),Fs("click",(function(){return t.globalsSelected()})),ga(177,"Globals"),Ps(),Os(178,"div",73),Fs("click",(function(){return t.localsSelected()})),ga(179,"Locals"),Ps(),Ps(),Os(180,"div",74),Os(181,"div",75),Os(182,"table",31),Os(183,"thead"),Os(184,"tr"),Os(185,"th"),ga(186,"Constants"),Ps(),Ps(),Ps(),Os(187,"tbody"),xs(188,wE,7,4,"tr",32),Ps(),Ps(),Ps(),Os(189,"div",75),Os(190,"table",31),Os(191,"thead"),Os(192,"tr"),Os(193,"th"),ga(194,"Variables"),Ps(),Ps(),Ps(),Os(195,"tbody"),xs(196,IE,8,5,"tr",32),Ps(),Ps(),Ps(),Os(197,"div",75),Os(198,"table",31),Os(199,"thead"),Os(200,"tr"),Os(201,"th"),ga(202,"Expressions/Formulas"),Ps(),Ps(),Ps(),Os(203,"tbody"),xs(204,AE,8,3,"tr",32),Ps(),Ps(),Ps(),Os(205,"div",75),Os(206,"table",31),Os(207,"thead"),Os(208,"tr"),Os(209,"th"),ga(210,"Functions"),Ps(),Ps(),Ps(),Os(211,"tbody"),xs(212,kE,8,3,"tr",32),Ps(),Ps(),Ps(),Ps(),Os(213,"div",74),Os(214,"div",75),Os(215,"table",31),Os(216,"thead"),Os(217,"tr"),Os(218,"th"),ga(219,"Variables"),Ps(),Ps(),Ps(),Os(220,"tbody"),xs(221,OE,8,5,"tr",32),Ps(),Ps(),Ps(),Os(222,"div",75),Os(223,"table",31),Os(224,"thead"),Os(225,"tr"),Os(226,"th"),ga(227,"Expressions/Formulas"),Ps(),Ps(),Ps(),Os(228,"tbody"),xs(229,PE,8,3,"tr",32),Ps(),Ps(),Ps(),Os(230,"div",75),Os(231,"table",31),Os(232,"thead"),Os(233,"tr"),Os(234,"th"),ga(235,"Functions"),Ps(),Ps(),Ps(),Os(236,"tbody"),xs(237,ME,8,3,"tr",32),Ps(),Ps(),Ps(),Ps(),Ps(),Ps(),Ps()),2&e&&(br(22),Ss("hidden",t.hideNodeForm),br(1),Ss("formGroup",t.nodeForm),br(22),Ss("ngForOf",t.returnNodeAssignments()),br(3),Ss("disabled",t.nodeForm.invalid),br(4),Ss("hidden",t.hideTransValueForm),br(1),Ss("formGroup",t.transValueForm),br(20),Ss("hidden",t.hideAddBtn),br(1),Ss("disabled",t.transValueForm.invalid),br(2),Ss("hidden",t.hideUpdateBtn),br(1),Ss("disabled",t.transValueForm.invalid),br(4),Ss("hidden",t.hideEndToInterForm),br(1),Ss("formGroup",t.endToInterEdgeForm),br(25),Ss("disabled",t.endToInterEdgeForm.invalid),br(4),Ss("hidden",t.hideInterToEndForm||t.transition),br(1),Ss("formGroup",t.interToEndEdgeForm),br(19),Ss("ngForOf",t.returnEdgeAssignments()),br(3),Ss("disabled",t.interToEndEdgeForm.invalid),br(4),Ss("hidden",t.hideIndexAssignForm),br(1),Ss("formGroup",t.indexAssignForm),br(26),Ss("hidden",t.hideAddBtn),br(1),Ss("disabled",t.indexAssignForm.invalid),br(2),Ss("hidden",t.hideUpdateBtn),br(1),Ss("disabled",t.indexAssignForm.invalid),br(11),Ss("hidden",t.hideGlobals),br(8),Ss("ngForOf",t.globalConstants),br(8),Ss("ngForOf",t.globalVariables),br(8),Ss("ngForOf",t.globalExpressions),br(8),Ss("ngForOf",t.globalFunctions),br(1),Ss("hidden",t.hideLocals),br(8),Ss("ngForOf",t.localVariables),br(8),Ss("ngForOf",t.localExpressions),br(8),Ss("ngForOf",t.localFunctions))},directives:[Pu,_d,Ru,gd,wd,$u,dd,Hw,vh,uw,Nd,Ax,xx,bh],styles:[".container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%}#toolBar[_ngcontent-%COMP%]{width:83%;height:5%;min-height:40px;background-color:#e7e7e7;border-bottom:1px solid #b9b9b9}.col[_ngcontent-%COMP%], .row[_ngcontent-%COMP%]{padding:0;margin:0}#canvas[_ngcontent-%COMP%]{height:85vh;width:83%}div.gallery[_ngcontent-%COMP%]{width:100%;height:100%}.edgeDiv[_ngcontent-%COMP%]{margin:0 10px 0 20px;min-width:35px;min-height:25px;width:8%;padding:5px}.edgeDiv[_ngcontent-%COMP%], .nodeDiv[_ngcontent-%COMP%]{display:inline-block;height:100%;cursor:pointer;border:none}.nodeDiv[_ngcontent-%COMP%]{margin:0 0 0 20px;width:4%;min-width:30px;min-height:30px;padding-top:10px}.details[_ngcontent-%COMP%]{position:relative;left:40%;margin:0 10px 0 0;display:inline-block;min-width:350px;min-height:30px;width:30%;height:100%;padding:1% 0 0}.nodeAfterClick[_ngcontent-%COMP%]{border:2px solid #b9b9b9}#edgeTable[_ngcontent-%COMP%], #edgeTable2[_ngcontent-%COMP%], #nodeTable[_ngcontent-%COMP%]{border-style:solid}#action[_ngcontent-%COMP%], #guardInfo[_ngcontent-%COMP%], #indexTable[_ngcontent-%COMP%], #probab[_ngcontent-%COMP%], #rate[_ngcontent-%COMP%]{margin:15px 0 0 10px;padding:5px;box-shadow:0 0 8px #505050;border-radius:5px}#Textinfo[_ngcontent-%COMP%]{margin-left:25px;font-size:large;width:200px;border-radius:3px}#editEdgeButtonsConfigure[_ngcontent-%COMP%]{margin-bottom:10px;margin-top:10px;margin-left:32vh}#editNodeButtonsConfigure[_ngcontent-%COMP%]{margin-bottom:20px;margin-left:20vh}.tableData[_ngcontent-%COMP%]{height:160px;overflow:auto}.addEndToInterEdge[_ngcontent-%COMP%], .addInterToEndEdge[_ngcontent-%COMP%], .addNode[_ngcontent-%COMP%]{position:absolute;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:25;width:60vh;top:20%;margin:40px 0 0 250px;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}#assignmentValueError[_ngcontent-%COMP%], #guardError[_ngcontent-%COMP%], #probabilityError[_ngcontent-%COMP%], #rateError[_ngcontent-%COMP%], #transientNameError[_ngcontent-%COMP%], #transientValueError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.addTransient[_ngcontent-%COMP%]{position:absolute;border-radius:7px;background:#b3b3b3;color:#2b2b2b;z-index:30;width:60vh;top:30%;margin:40px 0 0 250px;padding:20px;box-shadow:0 0 5px #6d6d6d}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:relative;top:5px;text-align:center}.side-container[_ngcontent-%COMP%]{position:fixed;right:0;top:4%;bottom:0;height:96%;min-height:400px;width:17%}#rightNav[_ngcontent-%COMP%]{background-color:#e6e6e6;color:#000;width:100%}.example-container[_ngcontent-%COMP%]{height:25%;padding:0 3px 3px;overflow:auto;margin-bottom:3px}.declaration[_ngcontent-%COMP%]{z-index:0;width:100%;top:7%;height:90%;position:relative}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px;font-size:small}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;text-align:center;background-color:#acacac;border:1px solid #888;position:-webkit-sticky;position:sticky;top:0;border-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;text-align:left;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-value[_ngcontent-%COMP%]{width:60%}.mat-column-name[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]{width:15%}.mat-column-actions[_ngcontent-%COMP%]{width:40px}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}#parentDisable[_ngcontent-%COMP%]{position:fixed;display:none;top:0;background:#fff;opacity:.8;z-index:20;height:100%;width:70.5%}.heading[_ngcontent-%COMP%]{z-index:5;position:absolute;text-align:center;top:0;width:100%;height:5%;min-height:40px;background-color:#cacaca;color:#000}#globalsTab[_ngcontent-%COMP%], #localsTab[_ngcontent-%COMP%]{padding:5px;margin:2%;cursor:pointer;width:70px;height:27px;display:inline-block}.selectedWindow[_ngcontent-%COMP%]{border:1px solid #000;background-color:#acacac;color:#000;border-radius:4px}.notSelectedWindow[_ngcontent-%COMP%]{border:none;background-color:initial;color:initial}"]}),e})(),RE=(()=>{class e{constructor(e){this.http=e,this.syncs=null,this.elements=null}elementOperations(e,t){if(t==gE.add)try{this.elements.push(e)}catch(AM){this.elements=[e]}else if(t==gE.update)for(let n=0;n<this.elements.length;n++)this.elements[n].id==e.id&&(this.elements[n]=e);else if(t==gE.delete)for(let n=0;n<this.elements.length;n++)this.elements[n].id==e.id&&this.elements.splice(n,1)}syncOperations(e,t){if(t==gE.add)try{this.syncs.push(e)}catch(AM){this.syncs=[e]}else if(t==gE.update)for(let n=0;n<this.syncs.length;n++)this.syncs[n].id==e.id&&(this.syncs[n]=e);else if(t==gE.delete)for(let n=0;n<this.syncs.length;n++)this.syncs[n].id==e.id&&this.syncs.splice(n,1)}getComposition(){return RS(this,void 0,void 0,(function*(){if(null==this.elements&&null==this.syncs){this.elements=[],this.syncs=[];let e=yield this.modelGetComposition();for(let t of e.elements)this.elementOperations(t,gE.add);for(let t of e.syncs)this.syncOperations(t,gE.add)}}))}getElements(){return null==this.elements&&this.getComposition(),this.elements}getSyncs(){return null==this.syncs?this.syncs=new Array:this.syncs}compositionOperationsRoute(e,t,n){let i={modelId:n,elementOperations:[],syncOperations:[]};for(let r=0;r<e.length;r++){let t={};if(t.opId=e[r][1],e[r][1]==gE.delete)t.value={},t.value.id=e[r][0],i.elementOperations.push(t);else for(let n of this.elements)n.id==e[r][0]&&(t.value={},t.value.id=n.id,t.value.name=n.name,t.value.modelId=n.modelId,t.value.modelName=n.modelName,i.elementOperations.push(t))}for(let r=0;r<t.length;r++){let e={};if(e.opId=t[r][1],t[r][1]==gE.delete)e.value={},e.value.id=t[r][0],i.syncOperations.push(e);else for(let n of this.syncs)n.id==t[r][0]&&(e.value={},e.value.id=n.id,e.value.actions=n.actions,i.syncOperations.push(e))}console.log("elementttttt obj: ",i),this.http.post(zS+"/model/operation/composition",i,GS).toPromise().then(e=>YS(e))}modelGetComposition(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/composition").toPromise().then(e=>e)}))}modelActionsRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/action").toPromise().then(e=>e)}))}}return e.\u0275fac=function(t){return new(t||e)(Ke(up))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function DE(e,t){if(1&e&&(Os(0,"option",18),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e.modelID),br(1),ma("",e.modelName," ")}}function NE(e,t){if(1&e){const e=Ns();Os(0,"tr",12),Os(1,"td"),Os(2,"input",13),Fs("change",(function(n){nn(e);const i=t.$implicit;return Ws().setElementName(n.target.value,i)})),Ps(),Ps(),Os(3,"td"),Os(4,"select",14),Fs("change",(function(n){nn(e);const i=t.$implicit;return Ws().setElementModel(n.target.value,i)})),Os(5,"option",15),ga(6),Ps(),xs(7,DE,2,2,"option",16),Ps(),Ps(),Os(8,"td"),Os(9,"span",17),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteElement(n)})),ga(10,"delete"),Ps(),Ps(),Ps()}if(2&e){const e=t.$implicit,n=Ws();br(2),Ks("value",e.name),br(4),fa(e.modelName),br(1),Ss("ngForOf",n.models)}}function LE(e,t){if(1&e&&(Os(0,"th"),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.name)}}function BE(e,t){if(1&e&&(Os(0,"option",18),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),ma(" ",e,"")}}function FE(e,t){if(1&e){const e=Ns();Os(0,"td"),Os(1,"select",14),Fs("change",(function(n){nn(e);const i=t.$implicit,r=Ws().$implicit;return Ws().updateSyncAction(r,i.id,n.target.value)})),Os(2,"option",19),ga(3),Ps(),xs(4,BE,2,2,"option",16),Ps(),Ps()}if(2&e){const e=t.$implicit,n=Ws().$implicit,i=Ws();br(3),fa(n.actions[e.id]),br(1),Ss("ngForOf",i.modelActions[e.modelId])}}function VE(e,t){if(1&e){const e=Ns();Os(0,"tr"),xs(1,FE,5,2,"td",11),Os(2,"td"),Os(3,"span",17),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteSync(n)})),ga(4,"delete"),Ps(),Ps(),Ps()}if(2&e){const e=Ws();br(1),Ss("ngForOf",e.elements)}}let $E=(()=>{class e{constructor(e,t){this._sidebarService=e,this._compositionService=t,this.displayedColumns=["name","type","actions"],this.modelActions=[],this.elementlogs=new fE.Queue,this.syncslogs=new fE.Queue,this.elements=new Array,this.syncs=new Array,this.modelActions=[]}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization(),this.models=this._sidebarService.getModels();const e=yield ZS.acquire();try{yield this._compositionService.getComposition(),this.elements=this._compositionService.getElements(),this.modelActions=yield this._compositionService.modelActionsRoute()}finally{e()}this.syncs=this._compositionService.getSyncs();for(let t in this.modelActions)this.modelActions[t].push("null");this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveCompositions()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveCompositions(),this.autoSave.unsubscribe()}))}autoSaveCompositions(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.elementlogs.length>0||this.syncslogs.length>0){for(var t=[],n=[];0!=this.elementlogs.length;)t.push(this.elementlogs.dequeue());for(;0!=this.syncslogs.length;)n.push(this.syncslogs.dequeue());yield this._compositionService.compositionOperationsRoute(t,n,WS),t=[],n=[]}}finally{e()}}))}formInitialization(){this.form=new vu({id:new mu(""),name:new mu(""),model:new mu("")})}initializeFormGroup(){this.form.setValue({id:"",name:"",model:""})}onClear(){this.form.reset(),this.initializeFormGroup()}addSync(){let e=XS(),t={};this.elements=this._compositionService.getElements();for(let i of this.elements)t[i.id]="null";let n={id:e,actions:t};this._compositionService.syncOperations(n,gE.add),this.syncslogs.enqueue([n.id,gE.add]),this.syncs=this._compositionService.getSyncs()}addElement(){if(this.models.length>0){let e=XS(),t={id:e,name:"element_name",modelId:this.models[0].modelID,modelName:this.models[0].modelName};for(let n=0;n<this.syncs.length;n++)this.updateSyncAction(this.syncs[n],e,"null");this._compositionService.elementOperations(t,gE.add),this.elementlogs.enqueue([t.id,gE.add]),this.elements=this._compositionService.getElements()}else alert("No automaton exist")}setElementName(e,t){this._compositionService.elementOperations({id:t.id,name:e,modelId:t.modelID,modelName:t.modelName},gE.update),this.elementlogs.enqueue([t.id,gE.update]),this.elements=this._compositionService.getElements()}setElementModel(e,t){for(var n of this.models)if(n.modelID==e)break;this._compositionService.elementOperations({id:t.id,name:t.name,modelId:e,modelName:n.modelName},gE.update),this.elementlogs.enqueue([t.id,gE.update]),this.elements=this._compositionService.getElements()}deleteElement(e){if(confirm("Are you sure to delete?")){this._compositionService.elementOperations(e,gE.delete),this.elementlogs.enqueue([e.id,gE.delete]),this.elements=this._compositionService.getElements(),console.log("after delete element: ",this.elements);for(let t=0;t<this.syncs.length;t++)delete this.syncs[t].actions[e.id],this._compositionService.syncOperations(this.syncs[t],gE.update),this.syncslogs.enqueue([this.syncs[t].id,gE.update])}}updateSyncAction(e,t,n){e.actions[t]=n,this._compositionService.syncOperations(e,gE.update),this.syncslogs.enqueue([e.id,gE.update]),this.syncs=this._compositionService.getSyncs()}deleteSync(e){confirm("Are you sure to delete?")&&(this._compositionService.syncOperations(e,gE.delete),this.syncslogs.enqueue([e.id,gE.delete]),this.syncs=this._compositionService.getSyncs())}}return e.\u0275fac=function(t){return new(t||e)(As(qS),As(RE))},e.\u0275cmp=ut({type:e,selectors:[["app-composition"]],decls:32,vars:4,consts:[[1,"composition"],[2,"padding","0px","margin","0px"],[1,"elementsWindow"],[2,"padding","0px","margin","0px 0px 0px 10px"],[1,"addIcon",3,"click"],[1,"tableData"],["border","1",1,"table"],[2,"width","45%"],[2,"width","10%"],["mdbTableCol","",4,"ngFor","ngForOf"],[1,"syncWindow",3,"hidden"],[4,"ngFor","ngForOf"],["mdbTableCol",""],[1,"form-control",3,"value","change"],[1,"form-control",3,"change"],["disabled","","hidden","true","selected",""],[3,"value",4,"ngFor","ngForOf"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(248, 59, 59)",3,"click"],[3,"value"],["value","null","selected","","disabled",""]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"h2",1),ga(2,"Composition"),Ps(),Os(3,"div",2),Os(4,"h3",3),ga(5,"Elements "),Os(6,"mat-icon",4),Fs("click",(function(){return t.addElement()})),ga(7,"add_circle"),Ps(),Ps(),Os(8,"div",5),Os(9,"table",6),Os(10,"thead"),Os(11,"tr"),Os(12,"th",7),ga(13,"Name"),Ps(),Os(14,"th",7),ga(15,"Automata"),Ps(),Ms(16,"th",8),Ps(),Ps(),Os(17,"tbody"),xs(18,NE,11,3,"tr",9),Ps(),Ps(),Ps(),Ps(),Os(19,"div",10),Os(20,"h3",3),ga(21,"Synchronization Actions "),Os(22,"mat-icon",4),Fs("click",(function(){return t.addSync()})),ga(23,"add_circle"),Ps(),Ps(),Os(24,"div",5),Os(25,"table",6),Os(26,"thead"),Os(27,"tr"),xs(28,LE,2,1,"th",11),Ms(29,"th",8),Ps(),Ps(),Os(30,"tbody"),xs(31,VE,5,1,"tr",11),Ps(),Ps(),Ps(),Ps(),Ps()),2&e&&(br(18),Ss("ngForOf",t.elements),br(1),Ss("hidden",!t.elements.length),br(9),Ss("ngForOf",t.elements),br(3),Ss("ngForOf",t.syncs))},directives:[Hw,vh,Xd,qd],styles:[".composition[_ngcontent-%COMP%]{width:100%;height:93vh;padding:15px}.elementsWindow[_ngcontent-%COMP%], .syncWindow[_ngcontent-%COMP%]{padding:10px;width:100%;margin-bottom:15px;height:48%;box-shadow:0 0 5px #6d6d6d;border-radius:4px}.addIcon[_ngcontent-%COMP%]{position:relative;top:4px;font-size:large;text-align:center;cursor:pointer}.tableData[_ngcontent-%COMP%]{height:90%;padding:0 10px 10px;overflow:auto}#editDeleteIcon[_ngcontent-%COMP%]{font-size:large;padding-top:5px;cursor:pointer}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;background-color:#acacac;position:-webkit-sticky;position:sticky;top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px;text-align:center;color:#000;font-weight:400;border:1px solid #888}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:2px;background-color:#fff}table[_ngcontent-%COMP%]{width:100%;border-top:0}"]}),e})(),HE=(()=>{class e{constructor(e){this.http=e,this.properties=null}propertyOperations(e,t){if(t==gE.add)try{this.properties.push(e)}catch(AM){this.properties=[e]}else if(t==gE.update)for(let n=0;n<this.properties.length;n++)this.properties[n].id==e.id&&(this.properties[n]=e);else if(t==gE.delete)for(let n=0;n<this.properties.length;n++)this.properties[n].id==e.id&&this.properties.splice(n,1)}getProperties(e){return RS(this,void 0,void 0,(function*(){if(null==this.properties){this.properties=[];let e=yield this.modelPropertiesRoute();for(let t of e)this.propertyOperations(t,gE.add)}return this.properties}))}propertyOperationsRoute(e,t){return RS(this,void 0,void 0,(function*(){let n={modelId:t,operations:[]};for(let t=0;t<e.length;t++){let i={};if(i.opId=e[t][1],e[t][1]==gE.delete)i.value={},i.value.id=e[t][0],n.operations.push(i);else for(let r of this.properties)r.id==e[t][0]&&(i.value={},i.value.id=r.id,i.value.name=r.name,i.value.operation=r.operation,i.value.property=r.property,i.value.stateLabel=r.stateLabel,n.operations.push(i))}return yield this.http.post(zS+"/model/operation/property",n).toPromise().then(e=>YS(e))}))}modelPropertiesRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/property",GS).toPromise().then(e=>e)}))}}return e.\u0275fac=function(t){return new(t||e)(Ke(up))},e.\u0275prov=ce({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();function jE(e,t){1&e&&(Os(0,"th",53),ga(1," Name "),Ps())}function WE(e,t){if(1&e&&(Os(0,"td",54),Os(1,"span",55),ga(2),Ps(),Ps()),2&e){const e=t.$implicit;br(1),Ks("matTooltip",e.name),br(1),fa(e.name)}}function zE(e,t){1&e&&(Os(0,"th",53),ga(1," Operation "),Ps())}function GE(e,t){if(1&e&&(Os(0,"td",54),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.operation," ")}}function ZE(e,t){1&e&&(Os(0,"th",53),ga(1," Property "),Ps())}function KE(e,t){if(1&e&&(Os(0,"td",54),Os(1,"span",55),ga(2),Ps(),Ps()),2&e){const e=t.$implicit;br(1),Ks("matTooltip",e.property[0]),br(1),fa(e.property[0])}}function XE(e,t){1&e&&(Os(0,"th",53),ga(1," State Label "),Ps())}function YE(e,t){if(1&e&&(Os(0,"td",54),Os(1,"span",55),ga(2),Ps(),Ps()),2&e){const e=t.$implicit;br(1),Ks("matTooltip",e.stateLabel[0]),br(1),fa(e.stateLabel[0])}}function UE(e,t){1&e&&Ms(0,"th",53)}function JE(e,t){if(1&e){const e=Ns();Os(0,"td",56),Os(1,"span",57),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",58),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteProperty(n)})),ga(4,"delete"),Ps(),Ps()}}function qE(e,t){1&e&&Ms(0,"tr",59)}function QE(e,t){1&e&&Ms(0,"tr",60)}function eO(e,t){if(1&e&&(Os(0,"option",61),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}function tO(e,t){if(1&e&&(Os(0,"option",61),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}function nO(e,t){1&e&&(Os(0,"span",65),ga(1," = "),Ps())}function iO(e,t){if(1&e&&(Os(0,"tr",62),Os(1,"td"),Os(2,"span",63),ga(3),Ps(),ga(4),xs(5,nO,2,0,"span",64),ga(6),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.value[0]),br(1),ma(" ",e.value[0]," ")}}function rO(e,t){1&e&&(Os(0,"span",65),ga(1," = "),Ps())}function oO(e,t){if(1&e&&(Os(0,"tr",62),Os(1,"td"),Os(2,"span",63),ga(3),Ps(),ga(4),xs(5,rO,2,0,"span",64),ga(6),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.initialValue[0]),br(1),ma(" ",e.initialValue[0]," ")}}function sO(e,t){if(1&e&&(Os(0,"tr",62),Os(1,"td"),Os(2,"span",63),ga(3),Ps(),ga(4),Os(5,"span",65),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.value[0]," ")}}function aO(e,t){if(1&e&&(Os(0,"tr",62),Os(1,"td"),Os(2,"span",63),ga(3),Ps(),ga(4),Os(5,"span",65),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.expression[0]," ")}}function lO(e,t){if(1&e&&(Os(0,"tr",62),Os(1,"td"),ga(2),Os(3,"span",65),ga(4," = "),Ps(),ga(5),Ps(),Ps()),2&e){const e=t.$implicit;br(2),ma(" ",e.name," "),br(3),ma(" ",e.value," ")}}function cO(e,t){if(1&e&&(Os(0,"tr",62),Os(1,"td"),ga(2,"[ "),Os(3,"span",65),ga(4),Ps(),ga(5),Os(6,"span",65),ga(7," = "),Ps(),ga(8),Ps(),Ps()),2&e){const e=t.$implicit;br(4),ma(" ",e.type," "),br(1),ma("] ",e.name," "),br(3),ma(" ",e.value," ")}}let hO=(()=>{class e{constructor(e,t,n){this._declarationService=e,this._propertyService=t,this._compositionService=n,this.hideVariables=!1,this.hideConstants=!0,this.hideDeclaration=!1,this.hideRewards=!0,this.hideAddProperty=!0,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.error=new Object,this.column=["name","type","value"],this.labelColumn=["name"],this.propertyColumn=["name","operation","property","stateLabel","actions"],this.logs=new fE.Queue,this.propertyOperations=new Array,this.stateLabelDropdown=new Array,this.properties=new Array,this.elements=new Array,this.globalConstants=new Array,this.globalVariables=new Array,this.globalExpressions=new Array,this.globalFunctions=new Array,this.labels=[],this.rewards=[],this.error={}}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization();const e=yield ZS.acquire();try{this.elements=yield this._compositionService.getElements(),yield this.setLabelsRewards(),this.properties=yield this._propertyService.getProperties(WS),yield this.loadSidebar()}finally{e()}this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveProperties()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveProperties(),this.autoSave.unsubscribe()}))}autoSaveProperties(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._propertyService.propertyOperationsRoute(t,WS),t=[]}}finally{e()}}))}loadSidebar(){return RS(this,void 0,void 0,(function*(){this.globalConstants=yield this._declarationService.getConstants(WS),this.globalVariables=yield this._declarationService.getVariables(WS),this.globalExpressions=yield this._declarationService.getExpressions(WS),this.globalFunctions=yield this._declarationService.getFunctions(WS)}))}setLabelsRewards(){return RS(this,void 0,void 0,(function*(){for(let e of this.elements){let t=yield this._declarationService.getLabels(e.modelId);for(let i of t)this.labels.push({name:i.name+"_"+e.name+"_"+e.modelName,value:i.value[0]});let n=yield this._declarationService.getRewards(e.modelId);for(let i of n)this.rewards.push({type:i.type,name:i.name+"_"+e.name+"_"+e.modelName,value:i.expression[0]})}}))}formInitialization(){this.stateLabelDropdown.push("initial","custom condition"),this.propertyOperations.push("values","min","max","sum","avg","count","\u2200","\u2203","argmin","argmax"),this.form=new vu({id:new mu(XS()),name:new mu(""),operation:new mu("values"),property:new mu(""),stateLabel:new mu("initial")})}clearForm(){this.form.reset(),this.hideAddProperty=!0,this.form.setValue({id:XS(),name:"",operation:"values",property:"",stateLabel:"initial"})}getRowData(e){this.form.setValue({id:e.id,name:e.name,operation:e.operation,property:e.property[0],stateLabel:e.stateLabel[0]}),this.hideAddProperty=!1,this.toggleEditBtn=!1,this.toggleAddBtn=!0}toggleView(){this.hideAddProperty=!1,this.toggleEditBtn=!0,this.toggleAddBtn=!1}createProperty(e){let t={id:e.id};if(t.name=e.name,t.operation=e.operation,""!=e.property)try{t.property=[e.property,HS.getTokens(e.property)],jS.parseProperty(t.property[1])}catch(n){this.error.propertyError="Invalid Syntax"}else this.error.propertyError="Property must not be empty";if("initial"!=e.stateLabel)try{t.stateLabel=[e.stateLabel,HS.getTokens(e.stateLabel)],jS.parseExpression(t.stateLabel[1])}catch(n){this.error.stateLabelError="Invalid Syntax"}else t.stateLabel=["initial",[]];if(this.setErroLabels(),0==Object.keys(this.error).length)return t;throw this.error}setErroLabels(){document.getElementById("stateLabelError").innerHTML="",document.getElementById("propertyError").innerHTML=""}addProperty(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createProperty(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}this._propertyService.propertyOperations(t,gE.add),this.logs.enqueue([e.id,gE.add]),this.properties=yield this._propertyService.getProperties(WS),this.table.renderRows(),this.clearForm()}))}updateProperty(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createProperty(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}return this._propertyService.propertyOperations(t,gE.update),this.logs.enqueue([e.id,gE.update]),this.properties=yield this._propertyService.getProperties(WS),this.table.renderRows(),this.clearForm(),!0}))}deleteProperty(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._propertyService.propertyOperations({id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.properties=yield this._propertyService.getProperties(WS),this.table.renderRows(),this.clearForm(),!0}))}rewardSelected(){let e=document.getElementById("rewrdsLabelTab");e.classList.remove("notSelectedWindow"),e.classList.add("selectedWindow"),this.hideDeclaration=!0,this.hideRewards=!1;let t=document.getElementById("declarationTab");t.classList.remove("selectedWindow"),t.classList.add("notSelectedWindow")}declarationSelected(){let e=document.getElementById("declarationTab");e.classList.remove("notSelectedWindow"),e.classList.add("selectedWindow"),this.hideDeclaration=!1,this.hideRewards=!0;let t=document.getElementById("rewrdsLabelTab");t.classList.remove("selectedWindow"),t.classList.add("notSelectedWindow")}}return e.\u0275fac=function(t){return new(t||e)(As(vE),As(HE),As(RE))},e.\u0275cmp=ut({type:e,selectors:[["app-properties"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},decls:125,vars:21,consts:[[1,"viewProperty"],[2,"padding","0px","margin","0px 0px 0px 10px"],[1,"addIcon",3,"click"],[1,"propertyTable"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","operation"],["matColumnDef","property"],["matColumnDef","stateLabel"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px; text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"addProperty",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","propertyOperations"],["id","helpIcon","data-toggle","tooltip","title","Filter operators to the values of property  over states satisfying state label",1,"material-icons"],["formControlName","operation","id","propertyOperations",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-12"],["for","property"],["id","helpIcon","data-toggle","tooltip","title",'In the form of a string just like in Storm e.g  R=? [ I=10 ],  R{"reward1"}max=? [F "elected" ], R=? [ LRA ], P=? [ F s<10 || F s<7 ] , etc.\nFor reward type properties, also mention reward type (state or/and transition), e.g. R{"x + y"} [state] max=? [F "elected" ]',1,"material-icons"],["formControlName","property","rows","2",1,"form-control","rounded-0"],["id","propertyError"],["for","stateLabel"],["formControlName","stateLabel","id","stateLabel",1,"form-control"],[1,"form-group","col-md-12",3,"hidden"],["for","customCondition"],["id","helpIcon","data-toggle","tooltip","title","Boolean expression defined on constants, variables, functions and/or expressions e.g. x>y, true etc.",1,"material-icons"],["id","customCondition","formControlName","stateLabel","rows","2",1,"form-control","rounded-0"],["id","stateLabelError"],[3,"hidden"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],[1,"side-container"],["id","rightNav","opened","","mode","side","position","end"],[1,"heading"],["id","declarationTab",1,"selectedWindow",3,"click"],["id","rewrdsLabelTab",3,"click"],[1,"declaration",3,"hidden"],[1,"example-container"],["border","1",1,"table-sm"],["mdbTableCol","",4,"ngFor","ngForOf"],[1,"rewards",3,"hidden"],[1,"rewards-container"],[2,"font-weight","normal"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip"],["mat-cell","",2,"padding","0px","text-align","center"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""],[3,"value"],["mdbTableCol",""],[2,"color","rgb(78, 78, 253)"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"h2",1),ga(2,"Properties "),Os(3,"mat-icon",2),Fs("click",(function(){return t.toggleView()})),ga(4,"add_circle"),Ps(),Ps(),Os(5,"div",3),Os(6,"table",4),Ts(7,5),xs(8,jE,2,0,"th",6),xs(9,WE,3,2,"td",7),Rs(),Ts(10,8),xs(11,zE,2,0,"th",6),xs(12,GE,2,1,"td",7),Rs(),Ts(13,9),xs(14,ZE,2,0,"th",6),xs(15,KE,3,2,"td",7),Rs(),Ts(16,10),xs(17,XE,2,0,"th",6),xs(18,YE,3,2,"td",7),Rs(),Ts(19,11),xs(20,UE,1,0,"th",6),xs(21,JE,5,0,"td",12),Rs(),xs(22,qE,1,0,"tr",13),xs(23,QE,1,0,"tr",14),Ps(),Ps(),Ps(),Os(24,"div",15),Os(25,"form",16),Os(26,"h2",17),ga(27,"Filter Property"),Ps(),Os(28,"div",18),Os(29,"div",19),Os(30,"label",20),ga(31,"Name"),Ps(),Ms(32,"input",21),Ps(),Os(33,"div",19),Os(34,"label",22),ga(35,"Operation "),Os(36,"span",23),ga(37,"info"),Ps(),Ps(),Os(38,"select",24),xs(39,eO,2,2,"option",25),Ps(),Ps(),Ps(),Os(40,"div",26),Os(41,"label",27),ga(42,"Property "),Os(43,"span",28),ga(44,"info"),Ps(),Ps(),Ms(45,"textarea",29),Ms(46,"label",30),Ps(),Os(47,"div",26),Os(48,"label",31),ga(49,"State Label"),Ps(),Os(50,"select",32),xs(51,tO,2,2,"option",25),Ps(),Ps(),Os(52,"div",33),Os(53,"label",34),ga(54,"Custom Condition "),Os(55,"span",35),ga(56,"info"),Ps(),Ps(),Ms(57,"textarea",36),Ms(58,"label",37),Ps(),Os(59,"div",26),Os(60,"span",38),Os(61,"button",39),Fs("click",(function(){return t.addProperty(t.form.value)})),ga(62,"Add"),Ps(),Ps(),Os(63,"span",38),Os(64,"button",39),Fs("click",(function(){return t.updateProperty(t.form.value)})),ga(65,"Update"),Ps(),Ps(),Os(66,"button",40),Fs("click",(function(){return t.clearForm()})),ga(67,"Close"),Ps(),Ps(),Ps(),Ps(),Os(68,"mat-sidenav-container",41),Os(69,"mat-sidenav",42),Os(70,"div",43),Os(71,"div",44),Fs("click",(function(){return t.declarationSelected()})),ga(72,"Declarations"),Ps(),Os(73,"div",45),Fs("click",(function(){return t.rewardSelected()})),ga(74,"Rewards/Labels"),Ps(),Ps(),Os(75,"div",46),Os(76,"div",47),Os(77,"table",48),Os(78,"thead"),Os(79,"tr"),Os(80,"th"),ga(81,"Constants"),Ps(),Ps(),Ps(),Os(82,"tbody"),xs(83,iO,7,4,"tr",49),Ps(),Ps(),Ps(),Os(84,"div",47),Os(85,"table",48),Os(86,"thead"),Os(87,"tr"),Os(88,"th"),ga(89,"Variables"),Ps(),Ps(),Ps(),Os(90,"tbody"),xs(91,oO,7,4,"tr",49),Ps(),Ps(),Ps(),Os(92,"div",47),Os(93,"table",48),Os(94,"thead"),Os(95,"tr"),Os(96,"th"),ga(97,"Expressions/Formulas"),Ps(),Ps(),Ps(),Os(98,"tbody"),xs(99,sO,8,3,"tr",49),Ps(),Ps(),Ps(),Os(100,"div",47),Os(101,"table",48),Os(102,"thead"),Os(103,"tr"),Os(104,"th"),ga(105,"Functions"),Ps(),Ps(),Ps(),Os(106,"tbody"),xs(107,aO,8,3,"tr",49),Ps(),Ps(),Ps(),Ps(),Os(108,"div",50),Os(109,"div",51),Os(110,"table",48),Os(111,"thead"),Os(112,"tr"),Os(113,"th",52),ga(114," Labels "),Ps(),Ps(),Ps(),Os(115,"tbody"),xs(116,lO,6,2,"tr",49),Ps(),Ps(),Ps(),Os(117,"div",51),Os(118,"table",48),Os(119,"thead"),Os(120,"tr"),Os(121,"th",52),ga(122," Rewards "),Ps(),Ps(),Ps(),Os(123,"tbody"),xs(124,cO,9,3,"tr",49),Ps(),Ps(),Ps(),Ps(),Ps(),Ps()),2&e&&(br(6),Ss("dataSource",t.properties),br(16),Ss("matHeaderRowDef",t.propertyColumn)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.propertyColumn),br(1),Ss("hidden",t.hideAddProperty),br(1),Ss("formGroup",t.form),br(14),Ss("ngForOf",t.propertyOperations),br(12),Ss("ngForOf",t.stateLabelDropdown),br(1),Ss("hidden","initial"==t.form.value.stateLabel),br(8),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid),br(11),Ss("hidden",t.hideDeclaration),br(8),Ss("ngForOf",t.globalConstants),br(8),Ss("ngForOf",t.globalVariables),br(8),Ss("ngForOf",t.globalExpressions),br(8),Ss("ngForOf",t.globalFunctions),br(1),Ss("hidden",t.hideRewards),br(8),Ss("ngForOf",t.labels),br(8),Ss("ngForOf",t.rewards))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,Pu,_d,Ru,gd,wd,$u,Kd,vh,uw,Ax,xx,Gx,Kx,U_,Qx,tI,Xd,qd,bh],styles:[".side-container[_ngcontent-%COMP%]{position:fixed;right:0;top:4%;bottom:0;height:95%;width:28%}#rightNav[_ngcontent-%COMP%]{background-color:#e6e6e6}#rightNav[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{color:#000;width:100%}.heading[_ngcontent-%COMP%]{z-index:5;position:absolute;text-align:center;top:0;height:5%;min-height:40px;background-color:#cacaca}.example-container[_ngcontent-%COMP%]{height:26%;padding:0 3px 3px;overflow:auto}.rewards-container[_ngcontent-%COMP%]{height:52%;border-bottom:2px solid #000;overflow:auto}.declaration[_ngcontent-%COMP%], .rewards[_ngcontent-%COMP%]{z-index:0;width:100%;top:6%;height:90%;position:relative}.addProperty[_ngcontent-%COMP%]{position:absolute;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:10%;margin:5% 0 0 10%;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}#declarationTab[_ngcontent-%COMP%], #rewrdsLabelTab[_ngcontent-%COMP%]{padding:5px;margin:2% 5%;cursor:pointer;width:110px;height:27px;display:inline-block}.selectedWindow[_ngcontent-%COMP%]{border:1px solid #000;background-color:#acacac;color:#000;border-radius:4px}.notSelectedWindow[_ngcontent-%COMP%]{border:none;background-color:initial;color:initial}label[_ngcontent-%COMP%]{font-weight:400}#propertyError[_ngcontent-%COMP%], #stateLabelError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.viewProperty[_ngcontent-%COMP%]{width:66%;height:92vh;padding:5px;margin:12px;z-index:0;box-shadow:0 0 5px #6d6d6d;border-radius:6px}.propertyTable[_ngcontent-%COMP%]{width:100%;padding:10px;position:relative;z-index:0}.propertyTable[_ngcontent-%COMP%], .tableData[_ngcontent-%COMP%]{height:90%;overflow:auto}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:absolute;top:25px;text-align:center}.tabelData[_ngcontent-%COMP%]{height:82%;overflow:auto}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;text-align:center;background-color:#acacac;border:1px solid #888;position:-webkit-sticky;position:sticky;top:0;border-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;text-align:left;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-property[_ngcontent-%COMP%]{width:50%}.mat-column-stateLabel[_ngcontent-%COMP%]{width:20%}.mat-column-name[_ngcontent-%COMP%]{width:15%}.mat-column-operation[_ngcontent-%COMP%]{width:11%}.mat-column-actions[_ngcontent-%COMP%]{width:50px}.mat-column-type[_ngcontent-%COMP%]{width:10%}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})();function dO(e,t){1&e&&(Os(0,"th",47),ga(1," Name "),Ps())}function uO(e,t){if(1&e&&(Os(0,"td",48),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.name)}}function pO(e,t){1&e&&(Os(0,"th",47),ga(1," Type "),Ps())}function gO(e,t){if(1&e&&(Os(0,"td",48),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.type," ")}}function fO(e,t){1&e&&(Os(0,"th",47),ga(1," Transient "),Ps())}function mO(e,t){if(1&e&&(Os(0,"td",48),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.transient," ")}}function vO(e,t){1&e&&(Os(0,"th",47),ga(1," Lower Bound "),Ps())}function yO(e,t){if(1&e&&(Os(0,"td",48),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma("",e.lowerBound[0]," ")}}function bO(e,t){1&e&&(Os(0,"th",47),ga(1," Upper Bound "),Ps())}function CO(e,t){if(1&e&&(Os(0,"td",48),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.upperBound[0])}}function wO(e,t){1&e&&(Os(0,"th",47),ga(1," Initial Value "),Ps())}function _O(e,t){if(1&e&&(Os(0,"td",48),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.initialValue[0])}}function xO(e,t){1&e&&Ms(0,"th",47)}function IO(e,t){if(1&e){const e=Ns();Os(0,"td",49),Os(1,"span",50),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",51),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteVariable(n)})),ga(4,"delete"),Ps(),Ps()}}function AO(e,t){1&e&&Ms(0,"tr",52)}function kO(e,t){1&e&&Ms(0,"tr",53)}function SO(e,t){if(1&e&&(Os(0,"option",54),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}let EO=(()=>{class e{constructor(e){this._declarationService=e,this.editMode=!0,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.error=new Object,this.logs=new fE.Queue,this.dataType=new Array,this.displayedColumns=new Array,this.dataSource=new Array,this.error={}}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization();const e=yield ZS.acquire();try{this.dataSource=yield this._declarationService.getVariables(this.modelID)}finally{e()}this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveVariables()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveVariables(),this.autoSave.unsubscribe()}))}autoSaveVariables(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._declarationService.variableOperationsRoute(t,this.modelID),t=[]}}finally{e()}}))}formInitialization(){this.dataType.push("int"),this.dataType.push("bool"),this.dataType.push("real"),this.form=new vu({id:new mu(XS()),name:new mu(""),type:new mu("int"),bounded:new mu(!1),lowerBound:new mu(""),upperBound:new mu(""),transient:new mu(!1),initialValue:new mu("")}),this.displayedColumns=["name","type","transient","lowerBound","upperBound","initialValue","actions"]}getRowData(e){this.form.setValue({id:e.id,name:e.name,type:e.type,bounded:e.bounded,lowerBound:e.lowerBound[0],upperBound:e.upperBound[0],transient:e.transient,initialValue:e.initialValue[0]}),this.editMode=this.toggleEditBtn=!1,this.toggleAddBtn=!0}createVariable(e){console.log("LOGS IN VARIABLE: ",this.logs);let t={id:e.id};if(t.name=e.name,t.type=e.type,t.bounded=e.bounded,t.transient=e.transient,1==t.bounded){if(""!=e.lowerBound)try{t.lowerBound=[e.lowerBound,HS.getTokens(e.lowerBound)],jS.parseExpression(t.lowerBound[1])}catch(n){this.error.lowerBoundError="Invalid Syntax"}if(""!=e.upperBound)try{t.upperBound=[e.upperBound,HS.getTokens(e.upperBound)],jS.parseExpression(t.upperBound[1])}catch(n){this.error.upperBoundError="Invalid Syntax"}}else t.lowerBound=["",[]],t.upperBound=["",[]];if(""!=e.initialValue)try{t.initialValue=[e.initialValue,HS.getTokens(e.initialValue)],jS.parseExpression(t.initialValue[1])}catch(n){this.error.initialValueError="Invalid Syntax"}else t.initialValue=["",[]];if(this.setErroLabels(),0==Object.keys(this.error).length)return t;throw this.error}setErroLabels(){document.getElementById("lowerBoundError").innerHTML="",document.getElementById("upperBoundError").innerHTML="",document.getElementById("initialValueError").innerHTML=""}addVariable(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createVariable(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}this._declarationService.variableOperations(this.modelID,t,gE.add),this.logs.enqueue([e.id,gE.add]),this.dataSource=yield this._declarationService.getVariables(this.modelID),this.table.renderRows(),this.clearForm()}))}updateVariable(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createVariable(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=this.error[e];return this.error={},!1}return this._declarationService.variableOperations(this.modelID,t,gE.update),this.logs.enqueue([e.id,gE.update]),this.dataSource=yield this._declarationService.getVariables(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}deleteVariable(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._declarationService.variableOperations(this.modelID,{id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.dataSource=yield this._declarationService.getVariables(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}clearForm(){this.form.reset(),this.editMode=!0,this.form.setValue({id:XS(),name:"",type:"int",bounded:!1,lowerBound:"",upperBound:"",transient:!1,initialValue:""}),this.setErroLabels()}toggleView(){this.editMode=!this.editMode,this.toggleEditBtn=!0,this.toggleAddBtn=!1}}return e.\u0275fac=function(t){return new(t||e)(As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-variables"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},inputs:{modelID:"modelID"},decls:87,vars:13,consts:[[2,"padding","0px","margin","0px"],[1,"addIcon",3,"click"],[1,"example-container",2,"width","100%"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","transient"],["matColumnDef","lowerBound"],["matColumnDef","upperBound"],["matColumnDef","initialValue"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"addVar",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","type"],["formControlName","type","id","type",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-check"],["formControlName","transient","type","checkbox","id","transient",1,"form-check-input"],["for","transient",1,"form-check-label",2,"padding-left","5px"],["id","helpIcon","data-toggle","tooltip","title","Transient variables have no \u201chistory\u201d and can be viewed as being periodically reset.",1,"material-icons"],[1,"form-group","col-md-6",3,"hidden"],["formControlName","bounded","type","checkbox","id","bounded",1,"form-check-input"],["for","bounded",1,"form-check-label",2,"padding-left","5px"],[3,"hidden"],[1,"form-group","col-md-12"],["for","lowerBound"],["id","helpIcon","data-toggle","tooltip","title","Expression defined on constants e.g. x+2, x , 2, 2.5 , true etc.",1,"material-icons"],["formControlName","lowerBound","rows","2",1,"form-control","rounded-0"],["id","lowerBoundError"],["for","upperBound"],["formControlName","upperBound","rows","2",1,"form-control","rounded-0"],["id","upperBoundError"],["for","initialValue"],["formControlName","initialValue","rows","2",1,"form-control","rounded-0"],["id","initialValueError"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"padding","0px"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""],[3,"value"]],template:function(e,t){1&e&&(Os(0,"h2",0),ga(1,"Variables "),Os(2,"mat-icon",1),Fs("click",(function(){return t.toggleView()})),ga(3,"add_circle"),Ps(),Ps(),Os(4,"div",2),Os(5,"table",3),Ts(6,4),xs(7,dO,2,0,"th",5),xs(8,uO,2,1,"td",6),Rs(),Ts(9,7),xs(10,pO,2,0,"th",5),xs(11,gO,2,1,"td",6),Rs(),Ts(12,8),xs(13,fO,2,0,"th",5),xs(14,mO,2,1,"td",6),Rs(),Ts(15,9),xs(16,vO,2,0,"th",5),xs(17,yO,2,1,"td",6),Rs(),Ts(18,10),xs(19,bO,2,0,"th",5),xs(20,CO,2,1,"td",6),Rs(),Ts(21,11),xs(22,wO,2,0,"th",5),xs(23,_O,2,1,"td",6),Rs(),Ts(24,12),xs(25,xO,1,0,"th",5),xs(26,IO,5,0,"td",13),Rs(),xs(27,AO,1,0,"tr",14),xs(28,kO,1,0,"tr",15),Ps(),Ps(),Os(29,"div",16),Os(30,"form",17),Os(31,"h2",18),ga(32,"Variable"),Ps(),Os(33,"div",19),Os(34,"div",20),Os(35,"label",21),ga(36,"Name"),Ps(),Ms(37,"input",22),Ps(),Os(38,"div",20),Os(39,"label",23),ga(40,"Type"),Ps(),Os(41,"select",24),xs(42,SO,2,2,"option",25),Ps(),Ps(),Ps(),Os(43,"div",19),Os(44,"div",20),Os(45,"div",26),Ms(46,"input",27),Os(47,"label",28),ga(48," Is transient "),Os(49,"span",29),ga(50,"info"),Ps(),Ps(),Ps(),Ps(),Os(51,"div",30),Os(52,"div",26),Ms(53,"input",31),Os(54,"label",32),ga(55," Is bounded? "),Ps(),Ps(),Ps(),Ps(),Os(56,"div",33),Os(57,"div",34),Os(58,"label",35),ga(59,"Lower Bound "),Os(60,"span",36),ga(61,"info"),Ps(),Ps(),Ms(62,"textarea",37),Ms(63,"label",38),Ps(),Os(64,"div",34),Os(65,"label",39),ga(66,"Upper Bound "),Os(67,"span",36),ga(68,"info"),Ps(),Ps(),Ms(69,"textarea",40),Ms(70,"label",41),Ps(),Ps(),Os(71,"div",34),Os(72,"label",42),ga(73,"Initial Value "),Os(74,"span",36),ga(75,"info"),Ps(),Ps(),Ms(76,"textarea",43),Ms(77,"label",44),Ps(),Os(78,"div",34),Os(79,"span",33),Os(80,"button",45),Fs("click",(function(){return t.addVariable(t.form.value)})),ga(81,"Add"),Ps(),Ps(),Os(82,"span",33),Os(83,"button",45),Fs("click",(function(){return t.updateVariable(t.form.value)})),ga(84,"Update"),Ps(),Ps(),Os(85,"button",46),Fs("click",(function(){return t.clearForm()})),ga(86,"Close"),Ps(),Ps(),Ps(),Ps()),2&e&&(br(5),Ss("dataSource",t.dataSource),br(22),Ss("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.displayedColumns),br(1),Ss("hidden",t.editMode),br(1),Ss("formGroup",t.form),br(12),Ss("ngForOf",t.dataType),br(9),Ss("hidden","bool"==t.form.value.type),br(5),Ss("hidden",!t.form.value.bounded||"bool"==t.form.value.type),br(23),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,Pu,_d,Ru,gd,wd,$u,Kd,vh,dd,uw,Gx,Kx,Qx,tI,Xd,qd],styles:[".example-container[_ngcontent-%COMP%]{z-index:0;position:relative;height:38vh;min-height:20vh;overflow:auto;box-shadow:0 0 5px #6d6d6d;border-radius:5px;margin:0 0 10px}.addVar[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:8%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}#initialValueError[_ngcontent-%COMP%], #lowerBoundError[_ngcontent-%COMP%], #upperBoundError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.add-bottom-padding[_ngcontent-%COMP%]{padding:10px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:relative;top:5px;text-align:center}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;background-color:#acacac;border:1px solid #888;border-top:0;margin-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-align:center;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-initialValue[_ngcontent-%COMP%], .mat-column-lowerBound[_ngcontent-%COMP%], .mat-column-upperBound[_ngcontent-%COMP%]{width:19%}.mat-column-name[_ngcontent-%COMP%]{width:13%}.mat-column-transient[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]{width:11%}.mat-column-actions[_ngcontent-%COMP%]{width:50px}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;z-index:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})();function OO(e,t){1&e&&(Os(0,"th",43),ga(1," Name "),Ps())}function PO(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.name)}}function MO(e,t){1&e&&(Os(0,"th",43),ga(1," Type "),Ps())}function TO(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.type," ")}}function RO(e,t){1&e&&(Os(0,"th",43),ga(1," Lower Bound "),Ps())}function DO(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma("",e.lowerBound[0]," ")}}function NO(e,t){1&e&&(Os(0,"th",43),ga(1," Upper Bound "),Ps())}function LO(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.upperBound[0])}}function BO(e,t){1&e&&(Os(0,"th",43),ga(1,"Value "),Ps())}function FO(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.value[0])}}function VO(e,t){1&e&&Ms(0,"th",43)}function $O(e,t){if(1&e){const e=Ns();Os(0,"td",45),Os(1,"span",46),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",47),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteConstant(n)})),ga(4,"delete"),Ps(),Ps()}}function HO(e,t){1&e&&Ms(0,"tr",48)}function jO(e,t){1&e&&Ms(0,"tr",49)}function WO(e,t){if(1&e&&(Os(0,"option",50),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}let zO=(()=>{class e{constructor(e){this._declarationService=e,this.editMode=!0,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.error=new Object,this.dataType=new Array,this.displayedColumns=new Array,this.dataSource=new Array,this.error={},this.logs=new fE.Queue}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization();const e=yield ZS.acquire();try{this.dataSource=yield this._declarationService.getConstants(this.modelID)}finally{e()}this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveConstants()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveConstants(),this.autoSave.unsubscribe()}))}autoSaveConstants(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._declarationService.constantOperationsRoute(t,this.modelID),t=[]}}finally{console.log("Mutex Released"),e()}}))}formInitialization(){this.dataType.push("int","bool","real"),this.form=new vu({id:new mu(XS()),name:new mu(""),type:new mu("int"),bounded:new mu(!1),lowerBound:new mu(""),upperBound:new mu(""),value:new mu("")}),this.displayedColumns=["name","type","lowerBound","upperBound","value","actions"]}getRowData(e){this.form.setValue({id:e.id,name:e.name,type:e.type,bounded:e.bounded,lowerBound:e.lowerBound[0],upperBound:e.upperBound[0],value:e.value[0]}),this.editMode=this.toggleEditBtn=!1,this.toggleAddBtn=!0}createConstant(e){let t={id:e.id};if(t.name=e.name,t.type=e.type,t.bounded=e.bounded,1==t.bounded){if(""!=e.lowerBound)try{t.lowerBound=[e.lowerBound,HS.getTokens(e.lowerBound)],jS.parseExpression(t.lowerBound[1])}catch(n){this.error.constLowerBoundError="Invalid Syntax"}if(""!=e.upperBound)try{t.upperBound=[e.upperBound,HS.getTokens(e.upperBound)],jS.parseExpression(t.upperBound[1])}catch(n){this.error.constUpperBoundError="Invalid Syntax"}}else t.lowerBound=["",[]],t.upperBound=["",[]];if(""!=e.value)try{t.value=[e.value,HS.getTokens(e.value)],jS.parseExpression(t.value[1])}catch(n){this.error.valueError="Invalid Syntax"}else t.value=["",[]];if(this.setErroLabels(),0==Object.keys(this.error).length)return t;throw this.error}setErroLabels(){document.getElementById("constLowerBoundError").innerHTML="",document.getElementById("constUpperBoundError").innerHTML="",document.getElementById("valueError").innerHTML=""}addConstant(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createConstant(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}this._declarationService.constantOperations(this.modelID,t,gE.add),this.logs.enqueue([e.id,gE.add]),this.dataSource=yield this._declarationService.getConstants(this.modelID),this.table.renderRows(),this.clearForm()}))}updateConstant(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createConstant(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}return this._declarationService.constantOperations(this.modelID,t,gE.update),this.logs.enqueue([e.id,gE.update]),this.dataSource=yield this._declarationService.getConstants(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}deleteConstant(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._declarationService.constantOperations(this.modelID,{id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.dataSource=yield this._declarationService.getConstants(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}clearForm(){this.form.reset(),this.editMode=!0,this.form.setValue({id:XS(),name:"",type:"int",bounded:!1,lowerBound:"",upperBound:"",value:""}),this.setErroLabels()}toggleView(){this.editMode=!this.editMode,this.toggleEditBtn=!0,this.toggleAddBtn=!1}}return e.\u0275fac=function(t){return new(t||e)(As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-constants"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},inputs:{modelID:"modelID"},decls:77,vars:13,consts:[[2,"padding","0px","margin","0px"],[1,"addIcon",3,"click"],[1,"example-container"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","lowerBound"],["matColumnDef","upperBound"],["matColumnDef","value"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"addConst",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","type"],["formControlName","type","id","type",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-row",3,"hidden"],[1,"form-group","col-md-12"],[1,"form-check"],["formControlName","bounded","type","checkbox","id","bounded",1,"form-check-input"],["for","bounded",1,"form-check-label",2,"padding-left","5px"],[3,"hidden"],["for","lowerBound"],["id","helpIcon","data-toggle","tooltip","title","Expression defined on constants e.g. x+2, x , 2, 2.5 , true etc.",1,"material-icons"],["formControlName","lowerBound","rows","2",1,"form-control","rounded-0"],["id","constLowerBoundError"],["for","upperBound"],["formControlName","upperBound","rows","2",1,"form-control","rounded-0"],["id","constUpperBoundError"],["for","value"],["formControlName","value","rows","2",1,"form-control","rounded-0"],["id","valueError"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"padding","0px"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""],[3,"value"]],template:function(e,t){1&e&&(Os(0,"h2",0),ga(1,"Constants "),Os(2,"mat-icon",1),Fs("click",(function(){return t.toggleView()})),ga(3,"add_circle"),Ps(),Ps(),Os(4,"div",2),Os(5,"table",3),Ts(6,4),xs(7,OO,2,0,"th",5),xs(8,PO,2,1,"td",6),Rs(),Ts(9,7),xs(10,MO,2,0,"th",5),xs(11,TO,2,1,"td",6),Rs(),Ts(12,8),xs(13,RO,2,0,"th",5),xs(14,DO,2,1,"td",6),Rs(),Ts(15,9),xs(16,NO,2,0,"th",5),xs(17,LO,2,1,"td",6),Rs(),Ts(18,10),xs(19,BO,2,0,"th",5),xs(20,FO,2,1,"td",6),Rs(),Ts(21,11),xs(22,VO,1,0,"th",5),xs(23,$O,5,0,"td",12),Rs(),xs(24,HO,1,0,"tr",13),xs(25,jO,1,0,"tr",14),Ps(),Ps(),Os(26,"div",15),Os(27,"form",16),Os(28,"h2",17),ga(29,"Constant"),Ps(),Os(30,"div",18),Os(31,"div",19),Os(32,"label",20),ga(33,"Name"),Ps(),Ms(34,"input",21),Ps(),Os(35,"div",19),Os(36,"label",22),ga(37,"Type"),Ps(),Os(38,"select",23),xs(39,WO,2,2,"option",24),Ps(),Ps(),Ps(),Os(40,"div",25),Os(41,"div",26),Os(42,"div",27),Ms(43,"input",28),Os(44,"label",29),ga(45," Is bounded? "),Ps(),Ps(),Ps(),Ps(),Os(46,"div",30),Os(47,"div",26),Os(48,"label",31),ga(49,"Lower Bound "),Os(50,"span",32),ga(51,"info"),Ps(),Ps(),Ms(52,"textarea",33),Ms(53,"label",34),Ps(),Os(54,"div",26),Os(55,"label",35),ga(56,"Upper Bound "),Os(57,"span",32),ga(58,"info"),Ps(),Ps(),Ms(59,"textarea",36),Ms(60,"label",37),Ps(),Ps(),Os(61,"div",26),Os(62,"label",38),ga(63,"value "),Os(64,"span",32),ga(65,"info"),Ps(),Ps(),Ms(66,"textarea",39),Ms(67,"label",40),Ps(),Os(68,"div",26),Os(69,"span",30),Os(70,"button",41),Fs("click",(function(){return t.addConstant(t.form.value)})),ga(71,"Add"),Ps(),Ps(),Os(72,"span",30),Os(73,"button",41),Fs("click",(function(){return t.updateConstant(t.form.value)})),ga(74,"Update"),Ps(),Ps(),Os(75,"button",42),Fs("click",(function(){return t.clearForm()})),ga(76,"Close"),Ps(),Ps(),Ps(),Ps()),2&e&&(br(5),Ss("dataSource",t.dataSource),br(19),Ss("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.displayedColumns),br(1),Ss("hidden",t.editMode),br(1),Ss("formGroup",t.form),br(12),Ss("ngForOf",t.dataType),br(1),Ss("hidden","bool"==t.form.value.type),br(6),Ss("hidden",!t.form.value.bounded||"bool"==t.form.value.type),br(23),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,Pu,_d,Ru,gd,wd,$u,Kd,vh,dd,uw,Gx,Kx,Qx,tI,Xd,qd],styles:[".example-container[_ngcontent-%COMP%]{z-index:0;position:relative;height:38vh;min-height:20vh;overflow:auto;box-shadow:0 0 5px #6d6d6d;border-radius:5px;margin:0 0 10px}.addConst[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:8%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}#constLowerBoundError[_ngcontent-%COMP%], #constUpperBoundError[_ngcontent-%COMP%], #valueError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.add-bottom-padding[_ngcontent-%COMP%]{padding:10px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:relative;top:5px;text-align:center}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;background-color:#acacac;border:1px solid #888;border-top:0;margin-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-align:center;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-lowerBound[_ngcontent-%COMP%], .mat-column-upperBound[_ngcontent-%COMP%], .mat-column-value[_ngcontent-%COMP%]{width:30%}.mat-column-name[_ngcontent-%COMP%]{width:13%}.mat-column-type[_ngcontent-%COMP%]{width:11%}.mat-column-actions[_ngcontent-%COMP%]{width:50px}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})();function GO(e,t){1&e&&(Os(0,"th",32),ga(1," Name "),Ps())}function ZO(e,t){if(1&e&&(Os(0,"td",33),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.name," ")}}function KO(e,t){1&e&&(Os(0,"th",32),ga(1," Type "),Ps())}function XO(e,t){if(1&e&&(Os(0,"td",33),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.type," ")}}function YO(e,t){1&e&&(Os(0,"th",32),ga(1,"Expression "),Ps())}function UO(e,t){if(1&e&&(Os(0,"td",33),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.value[0])}}function JO(e,t){1&e&&Ms(0,"th",32)}function qO(e,t){if(1&e){const e=Ns();Os(0,"td",34),Os(1,"span",35),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",36),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteExpression(n)})),ga(4,"delete"),Ps(),Ps()}}function QO(e,t){1&e&&Ms(0,"tr",37)}function eP(e,t){1&e&&Ms(0,"tr",38)}function tP(e,t){if(1&e&&(Os(0,"option",39),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}let nP=(()=>{class e{constructor(e){this._declarationService=e,this.editMode=!0,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.error=new Object,this.logs=new fE.Queue,this.dataType=new Array,this.displayedColumns=new Array,this.error={}}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization();const e=yield ZS.acquire();try{this.dataSource=yield this._declarationService.getExpressions(this.modelID)}finally{e()}this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveExpressions()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveExpressions(),this.autoSave.unsubscribe()}))}autoSaveExpressions(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._declarationService.expressionOperationsRoute(t,this.modelID),t=[]}}finally{e()}}))}formInitialization(){this.dataType.push("int"),this.dataType.push("bool"),this.dataType.push("real"),this.form=new vu({id:new mu(XS()),name:new mu(""),type:new mu("int"),value:new mu("")}),this.displayedColumns=["name","type","expression","actions"]}getRowData(e){this.form.setValue({id:e.id,name:e.name,type:e.type,value:e.value[0]}),this.editMode=this.toggleEditBtn=!1,this.toggleAddBtn=!0}createExpression(e){let t={id:e.id};if(t.name=e.name,t.type=e.type,""!=e.value)try{t.value=[e.value,HS.getTokens(e.value)],console.log("Tokens in expr: ",HS.getTokens(e.value)),jS.parseExpression(t.value[1])}catch(n){console.log(""),this.error.expValueError="Invalid Syntax"}else this.error.expValueError="Expression must not be empty";if(document.getElementById("expValueError").innerHTML="",0==Object.keys(this.error).length)return t;throw this.error}addExpression(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createExpression(e)}catch(n){return document.getElementById("expValueError").innerHTML=n.expValueError,this.error={},!1}this._declarationService.expressionOperations(this.modelID,t,gE.add),this.logs.enqueue([e.id,gE.add]),this.dataSource=yield this._declarationService.getExpressions(this.modelID),this.table.renderRows(),this.clearForm()}))}updateExpression(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createExpression(e)}catch(n){return document.getElementById("expValueError").innerHTML=n.expValueError,this.error={},!1}return this._declarationService.expressionOperations(this.modelID,t,gE.update),this.logs.enqueue([e.id,gE.update]),this.dataSource=yield this._declarationService.getExpressions(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}deleteExpression(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._declarationService.expressionOperations(this.modelID,{id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.dataSource=yield this._declarationService.getExpressions(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}clearForm(){this.form.reset(),this.editMode=!0,this.form.setValue({id:XS(),name:"",type:"int",value:""})}toggleView(){this.editMode=!this.editMode,this.toggleEditBtn=!0,this.toggleAddBtn=!1}}return e.\u0275fac=function(t){return new(t||e)(As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-expressions"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},inputs:{modelID:"modelID"},decls:50,vars:11,consts:[[2,"padding","0px","margin","0px"],[1,"addIcon",3,"click"],[1,"example-container"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","expression"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"addExpr",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","type"],["formControlName","type","id","type",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-12"],["for","value"],["id","helpIcon","data-toggle","tooltip","title","Expression defined on constants, variables, functions and/or expressions e.g. x+2, x , 2, 2.5 , true etc.",1,"material-icons"],["formControlName","value","rows","2",1,"form-control","rounded-0"],["id","expValueError"],["x","",1,"form-group","col-md-12"],[3,"hidden"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"padding","0px"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""],[3,"value"]],template:function(e,t){1&e&&(Os(0,"h2",0),ga(1,"Expressions/Formulae "),Os(2,"mat-icon",1),Fs("click",(function(){return t.toggleView()})),ga(3,"add_circle"),Ps(),Ps(),Os(4,"div",2),Os(5,"table",3),Ts(6,4),xs(7,GO,2,0,"th",5),xs(8,ZO,2,1,"td",6),Rs(),Ts(9,7),xs(10,KO,2,0,"th",5),xs(11,XO,2,1,"td",6),Rs(),Ts(12,8),xs(13,YO,2,0,"th",5),xs(14,UO,2,1,"td",6),Rs(),Ts(15,9),xs(16,JO,1,0,"th",5),xs(17,qO,5,0,"td",10),Rs(),xs(18,QO,1,0,"tr",11),xs(19,eP,1,0,"tr",12),Ps(),Ps(),Os(20,"div",13),Os(21,"form",14),Os(22,"h2",15),ga(23,"Expression/Formula"),Ps(),Os(24,"div",16),Os(25,"div",17),Os(26,"label",18),ga(27,"Name"),Ps(),Ms(28,"input",19),Ps(),Os(29,"div",17),Os(30,"label",20),ga(31,"Type"),Ps(),Os(32,"select",21),xs(33,tP,2,2,"option",22),Ps(),Ps(),Ps(),Os(34,"div",23),Os(35,"label",24),ga(36,"value "),Os(37,"span",25),ga(38,"info"),Ps(),Ps(),Ms(39,"textarea",26),Ms(40,"label",27),Ps(),Os(41,"div",28),Os(42,"span",29),Os(43,"button",30),Fs("click",(function(){return t.addExpression(t.form.value)})),ga(44,"Add"),Ps(),Ps(),Os(45,"span",29),Os(46,"button",30),Fs("click",(function(){return t.updateExpression(t.form.value)})),ga(47,"Update"),Ps(),Ps(),Os(48,"button",31),Fs("click",(function(){return t.clearForm()})),ga(49,"Close"),Ps(),Ps(),Ps(),Ps()),2&e&&(br(5),Ss("dataSource",t.dataSource),br(13),Ss("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.displayedColumns),br(1),Ss("hidden",t.editMode),br(1),Ss("formGroup",t.form),br(12),Ss("ngForOf",t.dataType),br(9),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,Pu,_d,Ru,gd,wd,$u,Kd,vh,uw,Gx,Kx,Qx,tI,Xd,qd],styles:[".example-container[_ngcontent-%COMP%]{z-index:0;position:relative;height:38vh;min-height:20vh;overflow:auto;box-shadow:0 0 5px #6d6d6d;border-radius:5px;margin:0 0 10px}.addExpr[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:8%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}#expValueError[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-weight:400}#expValueError[_ngcontent-%COMP%]{font-size:small;color:red}.add-bottom-padding[_ngcontent-%COMP%]{padding:10px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:relative;top:5px;text-align:center}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;background-color:#acacac;border:1px solid #888;border-top:0;margin-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-align:center;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-expression[_ngcontent-%COMP%]{width:65%}.mat-column-name[_ngcontent-%COMP%]{width:15%}.mat-column-type[_ngcontent-%COMP%]{width:12%}.mat-column-actions[_ngcontent-%COMP%]{width:50px}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})();function iP(e,t){1&e&&(Os(0,"th",36),ga(1," Name "),Ps())}function rP(e,t){if(1&e&&(Os(0,"td",37),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma("",e.name," ")}}function oP(e,t){1&e&&(Os(0,"th",36),ga(1," Return Type "),Ps())}function sP(e,t){if(1&e&&(Os(0,"td",37),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.type," ")}}function aP(e,t){1&e&&(Os(0,"th",36),ga(1," Parameter "),Ps())}function lP(e,t){if(1&e&&(Os(0,"span",37),ga(1),Ps()),2&e){const e=t.$implicit;br(1),va(" ",e.name,":",e.type," ")}}function cP(e,t){if(1&e&&(Os(0,"td",37),xs(1,lP,2,2,"span",38),Ps()),2&e){const e=t.$implicit;br(1),Ss("ngForOf",e.parameter)}}function hP(e,t){1&e&&(Os(0,"th",36),ga(1," Body "),Ps())}function dP(e,t){if(1&e&&(Os(0,"td",37),ga(1),Ps()),2&e){const e=t.$implicit;br(1),fa(e.expression[0])}}function uP(e,t){1&e&&Ms(0,"th",36)}function pP(e,t){if(1&e){const e=Ns();Os(0,"td",39),Os(1,"span",40),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",41),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteFunction(n)})),ga(4,"delete"),Ps(),Ps()}}function gP(e,t){1&e&&Ms(0,"tr",42)}function fP(e,t){1&e&&Ms(0,"tr",43)}function mP(e,t){if(1&e&&(Os(0,"option",44),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}let vP=(()=>{class e{constructor(e){this._declarationService=e,this.editMode=!0,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.error=new Object,this.logs=new fE.Queue,this.dataType=new Array,this.displayedColumns=new Array,this.functions=new Array,this.error={}}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization();const e=yield ZS.acquire();try{this.functions=yield this._declarationService.getFunctions(this.modelID)}finally{e()}this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveFunctions()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveFunctions(),this.autoSave.unsubscribe()}))}autoSaveFunctions(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._declarationService.functionOperationsRoute(t,this.modelID),t=[]}}finally{e()}}))}formInitialization(){this.dataType.push("int"),this.dataType.push("bool"),this.dataType.push("real"),this.form=new vu({id:new mu(XS()),name:new mu(""),type:new mu("int"),parameter:new mu(""),expression:new mu("")}),this.displayedColumns=["name","type","parameter","expression","actions"]}getRowData(e){let t="";for(let n=0;n<e.parameter.length;n++)t=t+e.parameter[n].name+":"+e.parameter[n].type+", ";this.form.setValue({id:e.id,name:e.name,type:e.type,parameter:t,expression:e.expression[0]}),this.editMode=this.toggleEditBtn=!1,this.toggleAddBtn=!0}createFunction(e){let t={id:e.id},n=[];if(""!=e.parameter)try{var i=e.parameter.split(",");for(let e=0;e<i.length;e++){let t=i[e].split(":");t[1]=t[1].trim(),"int"==t[1]||"real"==t[1]||"bool"==t[1]?n.push({name:t[0],type:t[1]}):this.error.parameterError="Invalid  return type"}e.parameter=n}catch(r){throw this.error.parameterError="Invalid Syntax",this.error}if(t.name=e.name,t.type=e.type,t.parameter=e.parameter,""!=e.expression)try{t.expression=[e.expression,HS.getTokens(e.expression)],jS.parseExpression(t.expression[1])}catch(r){this.error.expressionError="Invalid Syntax"}else this.error.expressionError="Function body must not be empty";if(this.setErroLabels(),0==Object.keys(this.error).length)return t;throw this.error}setErroLabels(){document.getElementById("expressionError").innerHTML="",document.getElementById("parameterError").innerHTML=""}addFunction(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createFunction(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}this._declarationService.functionOperations(this.modelID,t,gE.add),this.logs.enqueue([e.id,gE.add]),this.functions=yield this._declarationService.getFunctions(this.modelID),this.table.renderRows(),this.clearForm()}))}updateFunction(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createFunction(e)}catch(n){for(let e in n)document.getElementById(e).innerHTML=n[e];return this.error={},!1}return this._declarationService.functionOperations(this.modelID,t,gE.update),this.logs.enqueue([e.id,gE.update]),this.functions=yield this._declarationService.getFunctions(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}deleteFunction(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._declarationService.functionOperations(this.modelID,{id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.functions=yield this._declarationService.getFunctions(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}clearForm(){this.form.reset(),this.editMode=!0,this.form.setValue({id:XS(),name:"",type:"int",parameter:"",expression:""}),this.setErroLabels()}toggleView(){this.editMode=!this.editMode,this.toggleEditBtn=!0,this.toggleAddBtn=!1}}return e.\u0275fac=function(t){return new(t||e)(As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-functions"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},inputs:{modelID:"modelID"},decls:60,vars:11,consts:[[2,"padding","0px","margin","0px"],[1,"addIcon",3,"click"],[1,"example-container"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","parameter"],["matColumnDef","expression"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"addFormula",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","type"],["formControlName","type","id","type",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-12"],["for","parameter"],["id","helpIcon","data-toggle","tooltip","title","List of parameters (name: type) separated by comma (,) e.g. name1:int, name2:bool",1,"material-icons"],["formControlName","parameter","rows","1",1,"form-control","rounded-0"],["id","parameterError"],["for","expression"],["id","helpIcon","data-toggle","tooltip","title","Expression defined on constants, variables, functions and/or expressions e.g. x+2, x , 2, 2.5 , true etc.",1,"material-icons"],["formControlName","expression","rows","2",1,"form-control","rounded-0"],["id","expressionError"],[3,"hidden"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",4,"ngFor","ngForOf"],["mat-cell","",2,"padding","0px"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""],[3,"value"]],template:function(e,t){1&e&&(Os(0,"h2",0),ga(1,"Functions "),Os(2,"mat-icon",1),Fs("click",(function(){return t.toggleView()})),ga(3,"add_circle"),Ps(),Ps(),Os(4,"div",2),Os(5,"table",3),Ts(6,4),xs(7,iP,2,0,"th",5),xs(8,rP,2,1,"td",6),Rs(),Ts(9,7),xs(10,oP,2,0,"th",5),xs(11,sP,2,1,"td",6),Rs(),Ts(12,8),xs(13,aP,2,0,"th",5),xs(14,cP,2,1,"td",6),Rs(),Ts(15,9),xs(16,hP,2,0,"th",5),xs(17,dP,2,1,"td",6),Rs(),Ts(18,10),xs(19,uP,1,0,"th",5),xs(20,pP,5,0,"td",11),Rs(),xs(21,gP,1,0,"tr",12),xs(22,fP,1,0,"tr",13),Ps(),Ps(),Os(23,"div",14),Os(24,"form",15),Os(25,"h2",16),ga(26,"Function"),Ps(),Os(27,"div",17),Os(28,"div",18),Os(29,"label",19),ga(30,"Name"),Ps(),Ms(31,"input",20),Ps(),Os(32,"div",18),Os(33,"label",21),ga(34,"Return Type"),Ps(),Os(35,"select",22),xs(36,mP,2,2,"option",23),Ps(),Ps(),Ps(),Os(37,"div",24),Os(38,"label",25),ga(39,"Parameters "),Os(40,"span",26),ga(41,"info"),Ps(),Ps(),Ms(42,"textarea",27),Ms(43,"label",28),Ps(),Os(44,"div",24),Os(45,"label",29),ga(46,"Body "),Os(47,"span",30),ga(48,"info"),Ps(),Ps(),Ms(49,"textarea",31),Ms(50,"label",32),Ps(),Os(51,"div",24),Os(52,"span",33),Os(53,"button",34),Fs("click",(function(){return t.addFunction(t.form.value)})),ga(54,"Add"),Ps(),Ps(),Os(55,"span",33),Os(56,"button",34),Fs("click",(function(){return t.updateFunction(t.form.value)})),ga(57,"Update"),Ps(),Ps(),Os(58,"button",35),Fs("click",(function(){return t.clearForm()})),ga(59,"Close"),Ps(),Ps(),Ps(),Ps()),2&e&&(br(5),Ss("dataSource",t.functions),br(16),Ss("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.displayedColumns),br(1),Ss("hidden",t.editMode),br(1),Ss("formGroup",t.form),br(12),Ss("ngForOf",t.dataType),br(16),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,Pu,_d,Ru,gd,wd,$u,Kd,vh,uw,Gx,Kx,Qx,tI,Xd,qd],styles:[".example-container[_ngcontent-%COMP%]{z-index:0;position:relative;height:38vh;min-height:20vh;overflow:auto;box-shadow:0 0 5px #6d6d6d;border-radius:5px;margin:0 0 10px}.addFormula[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:8%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}#expressionError[_ngcontent-%COMP%], #parameterError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.add-bottom-padding[_ngcontent-%COMP%]{padding:10px}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:absolute;top:8px;text-align:center}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;background-color:#acacac;border:1px solid #888;border-top:0;margin-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;font-size:15px;text-align:center;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-expression[_ngcontent-%COMP%], .mat-column-parameter[_ngcontent-%COMP%]{width:30%}.mat-column-name[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]{width:15%}.mat-column-actions[_ngcontent-%COMP%]{width:50px}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;z-index:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})(),yP=(()=>{class e{constructor(e){this._declarationService=e,this.initialCondition=["",[]],this.hideEditMode=!0}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization(),this.initialCondition=yield this._declarationService.getInitialCondition(this.modelID),this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveInitCond()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveInitCond(),this.autoSave.unsubscribe()}))}autoSaveInitCond(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{yield this._declarationService.setInitialConditionRoute(this.modelID,this.initialCondition)}finally{e()}}))}formInitialization(){this.form=new vu({value:new mu("true")})}deleteInitialCondition(){this.initialCondition=["true",[]],this.hideEditMode=!0}getRowData(e){this.form.setValue({value:e}),this.hideEditMode=!1}setInitialCondition(e){return RS(this,void 0,void 0,(function*(){if(""!=e)try{document.getElementById("conditionError").innerHTML="",this.initialCondition=[e,HS.getTokens(e)],jS.parseExpression(this.initialCondition[1]),this.hideEditMode=!0}catch(t){document.getElementById("conditionError").innerHTML="Invalid Syntax"}else this.hideEditMode=!0,this.initialCondition=["true",[]]}))}}return e.\u0275fac=function(t){return new(t||e)(As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-initial-condition"]],inputs:{modelID:"modelID"},decls:29,vars:3,consts:[[2,"width","100%"],[2,"width","20%","display","inline-block"],[2,"padding","5px","margin","0px"],[2,"width","75%","display","inline-block"],["readonly","",1,"form-control",3,"value"],["condition",""],[2,"width","5%","display","inline-block"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],[1,"addInitialCondition",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-group","col-md-12"],["for","value"],["id","helpIcon","data-toggle","tooltip","title","Boolean expression defined on constants, variables, functions and/or expressions e.g. x>y, true etc.",1,"material-icons"],["formControlName","value","rows","3",1,"form-control","rounded-0"],["id","conditionError"],[1,"button-row"],["mat-raised-button","","color","accent","type","submit",3,"click"],[2,"margin","0px 10px 0px 10px"],["mat-raised-button","","color","primary","type","submit",3,"click"]],template:function(e,t){if(1&e){const e=Ns();Os(0,"div",0),Os(1,"div",1),Os(2,"h2",2),ga(3,"Initial Condition/Restrict Initial: "),Ps(),Ps(),Os(4,"div",3),Ms(5,"input",4,5),Ps(),Os(7,"div",6),Os(8,"span",7),Fs("click",(function(){nn(e);const n=Is(6);return t.getRowData(n.value)})),ga(9,"create"),Ps(),Os(10,"span",8),Fs("click",(function(){return t.deleteInitialCondition()})),ga(11,"delete"),Ps(),Ps(),Ps(),Os(12,"div",9),Os(13,"form",10),Os(14,"h2",11),ga(15,"Initial Condition"),Ps(),Os(16,"div",12),Os(17,"label",13),ga(18,"Condition "),Os(19,"span",14),ga(20,"info"),Ps(),Ps(),Ms(21,"textarea",15),Ms(22,"label",16),Ps(),Os(23,"div",17),Os(24,"button",18),Fs("click",(function(){return t.setInitialCondition(t.form.value.value)})),ga(25,"Save "),Ps(),Ms(26,"span",19),Os(27,"button",20),Fs("click",(function(){return t.hideEditMode=!0})),ga(28,"Close "),Ps(),Ps(),Ps(),Ps()}2&e&&(br(5),Ks("value",t.initialCondition[0]),br(7),Ss("hidden",t.hideEditMode),br(1),Ss("formGroup",t.form))},directives:[Pu,_d,Ru,gd,wd,$u,uw],styles:[".addInitialCondition[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:20%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}h2[_ngcontent-%COMP%], label[_ngcontent-%COMP%]{font-weight:400}h2[_ngcontent-%COMP%]{font-size:18px}#editDeleteIcon[_ngcontent-%COMP%]{font-size:large;padding:10px 0 10px 10px;cursor:pointer}#conditionError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}"]}),e})(),bP=(()=>{class e{constructor(e){this._sidebarService=e}ngOnInit(){this.getDeclarationId()}getDeclarationId(){this._sidebarService.currentdeclarationId.subscribe(e=>this.modelID=e)}}return e.\u0275fac=function(t){return new(t||e)(As(qS))},e.\u0275cmp=ut({type:e,selectors:[["app-global-declaration"]],decls:13,vars:5,consts:[[1,"container"],[1,"row"],[1,"col-sm-6"],[3,"modelID"],["id","initialCondition",1,"row"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"div",2),Ms(3,"app-variables",3),Ps(),Os(4,"div",2),Ms(5,"app-constants",3),Ps(),Ps(),Os(6,"div",1),Os(7,"div",2),Ms(8,"app-expressions",3),Ps(),Os(9,"div",2),Ms(10,"app-functions",3),Ps(),Ps(),Os(11,"div",4),Ms(12,"app-initial-condition",3),Ps(),Ps()),2&e&&(br(3),Ss("modelID",t.modelID),br(2),Ss("modelID",t.modelID),br(3),Ss("modelID",t.modelID),br(2),Ss("modelID",t.modelID),br(2),Ss("modelID",t.modelID))},directives:[EO,zO,nP,vP,yP],styles:[".col-sm-6[_ngcontent-%COMP%]{border:3px solid #bbb}.row[_ngcontent-%COMP%]{padding:0;margin:0}.container[_ngcontent-%COMP%]{padding:0;width:100%;height:100%;min-height:20vh}"]}),e})(),CP=(()=>{class e{constructor(e,t){this._sidebarService=e,this.activatedRoute=t}ngOnInit(){this.getDeclarationId()}getDeclarationId(){this._sidebarService.currentdeclarationId.subscribe(e=>this.modelID=e),console.log("local model id:",this.modelID)}}return e.\u0275fac=function(t){return new(t||e)(As(qS),As(qA))},e.\u0275cmp=ut({type:e,selectors:[["app-local-declaration"]],decls:11,vars:4,consts:[[1,"container"],[1,"row"],[1,"col-sm-12"],[3,"modelID"],[1,"col-sm-6"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"div",2),Ms(3,"app-variables",3),Ps(),Ps(),Os(4,"div",1),Os(5,"div",4),Ms(6,"app-expressions",3),Ps(),Os(7,"div",4),Ms(8,"app-functions",3),Ps(),Ps(),Os(9,"div",1),Ms(10,"app-initial-condition",3),Ps(),Ps()),2&e&&(br(3),Ss("modelID",t.modelID),br(3),Ss("modelID",t.modelID),br(2),Ss("modelID",t.modelID),br(2),Ss("modelID",t.modelID))},directives:[EO,nP,vP,yP],styles:[".col-sm-6[_ngcontent-%COMP%]{border:3px solid #bbb}.row[_ngcontent-%COMP%]{padding:0;margin:0}.container[_ngcontent-%COMP%]{padding:0;width:100%}"]}),e})();var wP=n("YfBG");const _P=["jsonEditorContainer"];class xP{constructor(){this.enableSort=!0,this.enableTransform=!0,this.escapeUnicode=!1,this.expandAll=!1,this.sortObjectKeys=!1,this.history=!0,this.mode="tree",this.search=!0,this.indentation=2}}let IP=(()=>{class e{constructor(){this.id="angjsoneditor"+Math.floor(1e6*Math.random()),this.disabled=!1,this.isFocused=!1,this.optionsChanged=!1,this._data={},this.options=new xP,this.debug=!1,this.change=new Ol,this.jsonChange=new Ol,this.onTouched=()=>{},this.onChangeModel=e=>{}}set data(e){this._data=e,this.editor&&(this.editor.destroy(),this.ngOnInit())}ngOnInit(){let e=this.options;!this.optionsChanged&&this.editor&&(e=this.editor.options),!this.options.onChangeJSON&&this.jsonChange&&(this.options.onChangeJSON=this.onChangeJSON.bind(this)),!this.options.onChange&&this.change&&(this.options.onChange=this.onChange.bind(this));const t=Object.assign({},e);delete t.expandAll,this.debug&&console.log(t,this._data),this.jsonEditorContainer.nativeElement||console.error("Can't find the ElementRef reference for jsoneditor)"),"text"!==t.mode&&"code"!==t.mode||(t.onChangeJSON=null),this.editor=new wP(this.jsonEditorContainer.nativeElement,t,this._data),this.options.expandAll&&this.editor.expandAll()}writeValue(e){this.data=e}registerOnChange(e){this.onChangeModel=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this.disabled=e}onChange(e){if(this.editor)try{const e=this.editor.get();this.onChangeModel(e),this.change.emit(e)}catch(e){this.debug&&console.log(e)}}onChangeJSON(e){if(this.editor)try{this.jsonChange.emit(this.editor.get())}catch(e){this.debug&&console.log(e)}}collapseAll(){this.editor.collapseAll()}expandAll(){this.editor.expandAll()}focus(){this.editor.focus()}get(){return this.editor.get()}getMode(){return this.editor.getMode()}getName(){return this.editor.getName()}getText(){return this.editor.getText()}set(e){this.editor.set(e)}setMode(e){this.editor.setMode(e)}setName(e){this.editor.setName(e)}setSelection(e,t){this.editor.setSelection(e,t)}getSelection(){return this.editor.getSelection()}getValidateSchema(){return this.editor.validateSchema}setSchema(e,t){this.editor.setSchema(e,t)}search(e){this.editor.search(e)}setOptions(e){this.editor&&this.editor.destroy(),this.optionsChanged=!0,this.options=e,this.ngOnInit()}update(e){this.editor.update(e)}destroy(){this.editor.destroy()}isValidJson(){try{return JSON.parse(this.getText()),!0}catch(e){return!1}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["json-editor"]],viewQuery:function(e,t){var n;1&e&&Hl(_P,!0),2&e&&$l(n=Gl())&&(t.jsonEditorContainer=n.first)},inputs:{options:"options",debug:"debug",data:"data"},outputs:{change:"change",jsonChange:"jsonChange"},features:[Ra([{provide:cd,useExisting:_e(()=>e),multi:!0}])],decls:2,vars:1,consts:[[3,"id"],["jsonEditorContainer",""]],template:function(e,t){1&e&&Ms(0,"div",0,1),2&e&&Ss("id",t.id)},encapsulation:2,changeDetection:0}),e})(),AP=(()=>{class e{static forRoot(){return{ngModule:e,providers:[]}}}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[Sh,Wu]]}),e})(),kP=(()=>{class e{constructor(e,t){this.http=e,this._sidebarService=t}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.codeJani="::Loading Jani.........",this.editorOptions=new xP,this.editorOptions.modes=["view","code"],this.getModelID();const e=yield ZS.acquire();try{this.codeJani=yield this.modelJaniRoute()}finally{e()}}))}setModelId(e){"none"==this.modelID&&(this.modelID=e)}getModelID(){this._sidebarService.currentdeclarationId.subscribe(e=>this.setModelId(e))}modelJaniRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/get/jani").toPromise().then(e=>(console.log("JANI: ",e),e))}))}}return e.\u0275fac=function(t){return new(t||e)(As(up),As(qS))},e.\u0275cmp=ut({type:e,selectors:[["app-jani"]],viewQuery:function(e,t){var n;1&e&&jl(IP,!0),2&e&&$l(n=Gl())&&(t.editor=n.first)},decls:1,vars:2,consts:[[3,"options","data"]],template:function(e,t){1&e&&Ms(0,"json-editor",0),2&e&&Ss("options",t.editorOptions)("data",t.codeJani)},directives:[IP],styles:[""]}),e})(),SP=(()=>{class e{constructor(e,t){this._headerService=e,this.route=t}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)(As(JS),As(qA))},e.\u0275cmp=ut({type:e,selectors:[["app-model"]],decls:3,vars:0,consts:[[1,"mainbpdyBody"]],template:function(e,t){1&e&&(Ms(0,"app-sidebar"),Os(1,"div",0),Ms(2,"router-outlet"),Ps())},directives:[rE,gS],styles:[".mainbpdyBody[_ngcontent-%COMP%]{margin-left:12%;position:absolute;width:88%;top:4%;height:94%;min-height:200px;z-index:0}"]}),e})(),EP=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=ut({type:e,selectors:[["app-analysis"]],decls:2,vars:0,template:function(e,t){1&e&&(Os(0,"p"),ga(1,"analysis works!"),Ps())},styles:[""]}),e})();function OP(e,t){1&e&&(Os(0,"th",25),ga(1," Name "),Ps())}function PP(e,t){if(1&e&&(Os(0,"td",26),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.name," ")}}function MP(e,t){1&e&&(Os(0,"th",25),ga(1,"Value "),Ps())}function TP(e,t){if(1&e&&(Os(0,"td",26),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.value[0]," ")}}function RP(e,t){1&e&&Ms(0,"th",25)}function DP(e,t){if(1&e){const e=Ns();Os(0,"td",27),Os(1,"span",28),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",29),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteLabel(n)})),ga(4,"delete"),Ps(),Ps()}}function NP(e,t){1&e&&Ms(0,"tr",30)}function LP(e,t){1&e&&Ms(0,"tr",31)}let BP=(()=>{class e{constructor(e,t){this._declarationService=e,this._sidebarService=t,this.editMode=!0,this.error=new Object,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.modelID="none",this.logs=new fE.Queue,this.dataType=new Array,this.displayedColumns=new Array,this.labels=new Array,this.error={}}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization(),this.getModelId();const e=yield ZS.acquire();try{this.labels=yield this._declarationService.getLabels(this.modelID)}finally{e()}this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveLabels()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveLabels(),this.autoSave.unsubscribe()}))}autoSaveLabels(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._declarationService.labelOperationsRoute(t,this.modelID),t=[]}}finally{e()}}))}setModelId(e){"none"==this.modelID&&(this.modelID=e)}getModelId(){this._sidebarService.currentdeclarationId.subscribe(e=>this.setModelId(e))}formInitialization(){this.form=new vu({id:new mu(XS()),name:new mu(""),value:new mu("")}),this.displayedColumns=["name","value","actions"]}getRowData(e){this.form.setValue({id:e.id,name:e.name,value:e.value[0]}),this.editMode=this.toggleEditBtn=!1,this.toggleAddBtn=!0}createLabel(e){let t={id:e.id};if(t.name=e.name,""!=e.value)try{t.value=[e.value,HS.getTokens(e.value)],jS.parseExpression(t.value[1])}catch(n){this.error.labelExpressionError="Invalid Syntax"}else this.error.labelExpressionError="Value must not be empty";if(document.getElementById("labelExpressionError").innerHTML="",0==Object.keys(this.error).length)return t;throw this.error}addLabel(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createLabel(e)}catch(n){return document.getElementById("labelExpressionError").innerHTML=n.labelExpressionError,this.error={},!1}this._declarationService.labelOperations(this.modelID,t,gE.add),this.logs.enqueue([e.id,gE.add]),this.labels=yield this._declarationService.getLabels(this.modelID),this.table.renderRows(),this.clearForm()}))}updateLabel(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createLabel(e)}catch(n){return document.getElementById("labelExpressionError").innerHTML=n.labelExpressionError,this.error={},!1}return this._declarationService.labelOperations(this.modelID,t,gE.update),this.logs.enqueue([e.id,gE.update]),this.labels=yield this._declarationService.getLabels(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}deleteLabel(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._declarationService.labelOperations(this.modelID,{id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.labels=yield this._declarationService.getLabels(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}clearForm(){this.form.reset(),this.editMode=!0,this.form.setValue({id:XS(),name:"",value:""})}toggleView(){this.editMode=!this.editMode,this.toggleEditBtn=!0,this.toggleAddBtn=!1}}return e.\u0275fac=function(t){return new(t||e)(As(vE),As(qS))},e.\u0275cmp=ut({type:e,selectors:[["app-labels"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},decls:41,vars:10,consts:[[2,"padding","0px","margin","0px 0px 0px 10px"],[1,"addIcons",3,"click"],[1,"labelTable"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","value"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px; text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"addLabel",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-group","col-md-12"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","value"],["id","helpIcon","data-toggle","tooltip","title","Boolean expression defined on constants, variables, functions and/or expressions e.g. x>y, true etc.",1,"material-icons"],["formControlName","value","rows","2",1,"form-control","rounded-0"],["id","labelExpressionError"],[3,"hidden"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"padding","0px","text-align","center"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(e,t){1&e&&(Os(0,"h2",0),ga(1,"Labels "),Os(2,"mat-icon",1),Fs("click",(function(){return t.toggleView()})),ga(3,"add_circle"),Ps(),Ps(),Os(4,"div",2),Os(5,"table",3),Ts(6,4),xs(7,OP,2,0,"th",5),xs(8,PP,2,1,"td",6),Rs(),Ts(9,7),xs(10,MP,2,0,"th",5),xs(11,TP,2,1,"td",6),Rs(),Ts(12,8),xs(13,RP,1,0,"th",5),xs(14,DP,5,0,"td",9),Rs(),xs(15,NP,1,0,"tr",10),xs(16,LP,1,0,"tr",11),Ps(),Ps(),Os(17,"div",12),Os(18,"form",13),Os(19,"h2",14),ga(20,"Label"),Ps(),Os(21,"div",15),Os(22,"label",16),ga(23,"Name"),Ps(),Ms(24,"input",17),Ps(),Os(25,"div",15),Os(26,"label",18),ga(27,"Value "),Os(28,"span",19),ga(29,"info"),Ps(),Ps(),Ms(30,"textarea",20),Ms(31,"label",21),Ps(),Os(32,"div",15),Os(33,"span",22),Os(34,"button",23),Fs("click",(function(){return t.addLabel(t.form.value)})),ga(35,"Add"),Ps(),Ps(),Os(36,"span",22),Os(37,"button",23),Fs("click",(function(){return t.updateLabel(t.form.value)})),ga(38,"Update"),Ps(),Ps(),Os(39,"button",24),Fs("click",(function(){return t.clearForm()})),ga(40,"Close"),Ps(),Ps(),Ps(),Ps()),2&e&&(br(5),Ss("dataSource",t.labels),br(10),Ss("matHeaderRowDef",t.displayedColumns)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.displayedColumns),br(1),Ss("hidden",t.editMode),br(1),Ss("formGroup",t.form),br(15),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,Pu,_d,Ru,gd,wd,$u,uw,Gx,Kx,Qx,tI],styles:[".labelTable[_ngcontent-%COMP%]{width:100%;height:90%;padding:0 20px 20px;overflow:auto;z-index:0;position:relative}.addLabel[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:8%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}#labelExpressionError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcons[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcons[_ngcontent-%COMP%]{top:8px;text-align:center}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;text-align:center;background-color:#acacac;border:1px solid #888;border-top:0;margin-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:400;font-size:15px;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;text-align:left;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-value[_ngcontent-%COMP%]{width:72%}.mat-column-name[_ngcontent-%COMP%]{width:20%}.mat-column-actions[_ngcontent-%COMP%]{width:50px}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})();function FP(e,t){1&e&&(Os(0,"th",43),ga(1," Name "),Ps())}function VP(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.name," ")}}function $P(e,t){1&e&&(Os(0,"th",43),ga(1," Type "),Ps())}function HP(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma("",e.type," ")}}function jP(e,t){1&e&&(Os(0,"th",43),ga(1," Value "),Ps())}function WP(e,t){if(1&e&&(Os(0,"td",44),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.expression[0]," ")}}function zP(e,t){1&e&&Ms(0,"th",43)}function GP(e,t){if(1&e){const e=Ns();Os(0,"td",45),Os(1,"span",46),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n)})),ga(2,"create"),Ps(),Os(3,"span",47),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().deleteReward(n)})),ga(4,"delete"),Ps(),Ps()}}function ZP(e,t){1&e&&Ms(0,"tr",48)}function KP(e,t){1&e&&Ms(0,"tr",49)}function XP(e,t){if(1&e&&(Os(0,"option",50),ga(1),Ps()),2&e){const e=t.$implicit;Ks("value",e),br(1),fa(e)}}function YP(e,t){1&e&&(Os(0,"span",54),ga(1," = "),Ps())}function UP(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),xs(5,YP,2,0,"span",53),ga(6),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.value[0]),br(1),ma(" ",e.value[0]," ")}}function JP(e,t){1&e&&(Os(0,"span",54),ga(1," = "),Ps())}function qP(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),xs(5,JP,2,0,"span",53),ga(6),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.initialValue[0]),br(1),ma(" ",e.initialValue[0]," ")}}function QP(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),Os(5,"span",54),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.value[0]," ")}}function eM(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),Os(5,"span",54),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.expression[0]," ")}}function tM(e,t){1&e&&(Os(0,"span",54),ga(1," = "),Ps())}function nM(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),xs(5,tM,2,0,"span",53),ga(6),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(1),Ss("ngIf",""!=e.initialValue[0]),br(1),ma(" ",e.initialValue[0]," ")}}function iM(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),Os(5,"span",54),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.value[0]," ")}}function rM(e,t){if(1&e&&(Os(0,"tr",51),Os(1,"td"),Os(2,"span",52),ga(3),Ps(),ga(4),Os(5,"span",54),ga(6," = "),Ps(),ga(7),Ps(),Ps()),2&e){const e=t.$implicit;br(3),ma(" ",e.type," "),br(1),ma(" ",e.name," "),br(3),ma(" ",e.expression[0]," ")}}function oM(e,t){if(1&e){const e=Ns();Os(0,"tr"),Os(1,"td"),ga(2),Ps(),Os(3,"td"),ga(4),Ps(),Os(5,"td",14),Os(6,"span",15),Os(7,"input",16),Fs("focus",(function(){nn(e);const n=t.$implicit;return Ws().hideError(n.id)}))("change",(function(n){nn(e);const i=t.$implicit;return Ws().setElementValue(n.target.value,i)})),Ps(),Ps(),Os(8,"span",17),Ms(9,"label",18),Ps(),Ps(),Ps()}if(2&e){const e=t.$implicit;br(2),ma(" ",e.name," "),br(2),ma(" ",e.type," "),br(3),Ks("value",e.value[0]),br(2),Ks("id",e.id)}}function sM(e,t){1&e&&(Os(0,"th",29),ga(1," Name "),Ps())}function aM(e,t){if(1&e&&(Os(0,"td",30),Os(1,"span",31),ga(2),Ps(),Ps()),2&e){const e=t.$implicit;br(1),Ks("matTooltip",e.name),br(1),fa(e.name)}}function lM(e,t){1&e&&(Os(0,"th",29),ga(1," Operation "),Ps())}function cM(e,t){if(1&e&&(Os(0,"td",30),ga(1),Ps()),2&e){const e=t.$implicit;br(1),ma(" ",e.operation," ")}}function hM(e,t){1&e&&(Os(0,"th",29),ga(1," Property "),Ps())}function dM(e,t){if(1&e&&(Os(0,"td",30),Os(1,"span",31),ga(2),Ps(),Ps()),2&e){const e=t.$implicit;br(1),Ks("matTooltip",e.property[0]),br(1),fa(e.property[0])}}function uM(e,t){1&e&&(Os(0,"th",29),ga(1," State Label "),Ps())}function pM(e,t){if(1&e&&(Os(0,"td",30),Os(1,"span",31),ga(2),Ps(),Ps()),2&e){const e=t.$implicit;br(1),Ks("matTooltip",e.stateLabel[0]),br(1),fa(e.stateLabel[0])}}function gM(e,t){1&e&&Ms(0,"th",29)}function fM(e,t){if(1&e){const e=Ns();Os(0,"td",32),Os(1,"button",33),Fs("click",(function(){nn(e);const n=t.$implicit;return Ws().getRowData(n.name)})),ga(2,"Verify"),Ps(),Ps()}}function mM(e,t){1&e&&Ms(0,"tr",34)}function vM(e,t){1&e&&Ms(0,"tr",35)}function yM(e,t){if(1&e){const e=Ns();Os(0,"tr"),Os(1,"td"),ga(2),Ps(),Os(3,"td"),ga(4),Ps(),Os(5,"td",36),Os(6,"div",37),Os(7,"input",38),Fs("focus",(function(){nn(e);const n=t.$implicit;return Ws().hideError(n.id)}))("change",(function(n){nn(e);const i=t.$implicit;return Ws().setElementValue(n.target.value,i)})),Ps(),Ps(),Os(8,"div",39),Ms(9,"label",40),Ps(),Ps(),Ps()}if(2&e){const e=t.$implicit;br(2),ma(" ",e.name," "),br(2),ma(" ",e.type," "),br(3),Ks("value",e.value[0]),br(2),Ks("id",e.id)}}const bM=[{path:"",redirectTo:"",pathMatch:"full"},{path:"sidebar",component:rE},{path:"model",component:SP,children:[{path:"",redirectTo:"/model",pathMatch:"full"},{path:"automata/:id",component:TE},{path:"rewards/:id",component:(()=>{class e{constructor(e,t){this._sidebarService=e,this._declarationService=t,this.hideVariables=!1,this.hideLabels=!0,this.hideConstants=!0,this.hideGlobals=!1,this.hideLocals=!0,this.hideAddRewards=!0,this.toggleEditBtn=!0,this.toggleAddBtn=!0,this.error=new Object,this.column=["name","type","value"],this.labelColumn=["name","value"],this.rewardsColumn=["name","type","expression","actions"],this.modelID="none",this.logs=new fE.Queue,this.rewardsType=new Array,this.error={},this.rewards=new Array,this.localVariables=new Array,this.localExpressions=new Array,this.localFunctions=new Array,this.globalConstants=new Array,this.globalVariables=new Array,this.globalExpressions=new Array,this.globalFunctions=new Array}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.formInitialization(),this.getModelId();const e=yield ZS.acquire();try{this.rewards=yield this._declarationService.getRewards(this.modelID)}finally{e()}this.loadSidebar(),this.timeInterval=yf(6e4),this.autoSave=this.timeInterval.subscribe(()=>RS(this,void 0,void 0,(function*(){return yield this.autoSaveRewards()})))}))}ngOnDestroy(){return RS(this,void 0,void 0,(function*(){yield this.autoSaveRewards(),this.autoSave.unsubscribe()}))}autoSaveRewards(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{if(this.logs.length>0){for(var t=[];0!=this.logs.length;)t.push(this.logs.dequeue());yield this._declarationService.rewardOperationsRoute(t,this.modelID),t=[]}}finally{e()}}))}loadSidebar(){return RS(this,void 0,void 0,(function*(){this.localVariables=yield this._declarationService.getVariables(this.modelID),this.localExpressions=yield this._declarationService.getExpressions(this.modelID),this.localFunctions=yield this._declarationService.getFunctions(this.modelID),this.globalConstants=yield this._declarationService.getConstants(WS),this.globalVariables=yield this._declarationService.getVariables(WS),this.globalExpressions=yield this._declarationService.getExpressions(WS),this.globalFunctions=yield this._declarationService.getFunctions(WS)}))}setModelId(e){"none"==this.modelID&&(this.modelID=e)}getModelId(){this._sidebarService.currentdeclarationId.subscribe(e=>this.setModelId(e))}getLocalVariables(){return this._declarationService.getVariables(this.modelID)}getLocalExpressions(){return this._declarationService.getExpressions(this.modelID)}getLocalFunctions(){return this._declarationService.getFunctions(this.modelID)}getLabels(){return this._declarationService.getLabels(this.modelID)}getConstants(){return this._declarationService.getConstants(WS)}getGlobalVariables(){return this._declarationService.getVariables(WS)}getGlobalExpressions(){return this._declarationService.getExpressions(WS)}getGlobalFunctions(){return this._declarationService.getFunctions(WS)}formInitialization(){this.rewardsType.push("state","transition","state and transition"),this.form=new vu({id:new mu(XS()),name:new mu(""),type:new mu("state"),expression:new mu("")})}clearForm(){this.form.reset(),this.hideAddRewards=!0,this.form.setValue({id:XS(),name:"",type:"state",expression:""})}getRowData(e){this.form.setValue({id:e.id,name:e.name,type:e.type,expression:e.expression[0]}),this.hideAddRewards=!1,this.toggleEditBtn=!1,this.toggleAddBtn=!0}toggleView(){this.hideAddRewards=!1,this.toggleEditBtn=!0,this.toggleAddBtn=!1}createReward(e){let t={id:e.id};if(t.name=e.name,t.type=e.type,""!=e.expression)try{t.expression=[e.expression,HS.getTokens(e.expression)],jS.parseExpression(t.expression[1])}catch(n){this.error.rewardExpressionError="Invalid Syntax"}else this.error.rewardExpressionError="Expression must not be empty";if(document.getElementById("rewardExpressionError").innerHTML="",0==Object.keys(this.error).length)return t;throw this.error}addReward(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createReward(e)}catch(n){return document.getElementById("rewardExpressionError").innerHTML=n.rewardExpressionError,this.error={},!1}this._declarationService.rewardOperations(this.modelID,t,gE.add),this.logs.enqueue([e.id,gE.add]),this.rewards=yield this._declarationService.getRewards(this.modelID),this.table.renderRows(),this.clearForm()}))}updateReward(e){return RS(this,void 0,void 0,(function*(){let t;try{t=this.createReward(e)}catch(n){return document.getElementById("rewardExpressionError").innerHTML=n.rewardExpressionError,this.error={},!1}return this._declarationService.rewardOperations(this.modelID,t,gE.update),this.logs.enqueue([e.id,gE.update]),this.rewards=yield this._declarationService.getRewards(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}deleteReward(e){return RS(this,void 0,void 0,(function*(){if(confirm("Are you sure to delete?"))return this._declarationService.rewardOperations(this.modelID,{id:e.id},gE.delete),this.logs.enqueue([e.id,gE.delete]),this.rewards=yield this._declarationService.getRewards(this.modelID),this.table.renderRows(),this.clearForm(),!0}))}globalsSelected(){let e=document.getElementById("globalsTab");e.classList.remove("notSelectedWindow"),e.classList.add("selectedWindow"),this.hideGlobals=!1,this.hideLocals=!0;let t=document.getElementById("localsTab");t.classList.remove("selectedWindow"),t.classList.add("notSelectedWindow")}localsSelected(){let e=document.getElementById("localsTab");e.classList.remove("notSelectedWindow"),e.classList.add("selectedWindow"),this.hideGlobals=!0,this.hideLocals=!1;let t=document.getElementById("globalsTab");t.classList.remove("selectedWindow"),t.classList.add("notSelectedWindow")}}return e.\u0275fac=function(t){return new(t||e)(As(qS),As(vE))},e.\u0275cmp=ut({type:e,selectors:[["app-rewards"]],viewQuery:function(e,t){var n;1&e&&jl(Bx,!0),2&e&&$l(n=Gl())&&(t.table=n.first)},decls:119,vars:20,consts:[[1,"viewRewards"],["id","rewardData",1,"row"],[2,"padding","0px","margin","0px 0px 0px 10px"],[1,"addIcon",3,"click"],[1,"rewardsTable"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","type"],["matColumnDef","expression"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px; text-align: center;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],["id","labelData",1,"row"],[1,"addReward",3,"hidden"],["autocomplete","off",3,"formGroup"],[2,"text-align","center"],[1,"form-row"],[1,"form-group","col-md-6"],["for","name"],["formControlName","name","type","text","id","name",1,"form-control"],["for","type"],["formControlName","type","id","type",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[1,"form-group","col-md-12"],["for","expression"],["id","helpIcon","data-toggle","tooltip","title","Numeric expression defined on constants, variables, functions and/or expressions. Use if-then-else for different rewards based on values of variables e.g (x > y ? 10 : 5)",1,"material-icons"],["formControlName","expression","rows","2",1,"form-control","rounded-0"],["id","rewardExpressionError"],[3,"hidden"],["mat-raised-button","","color","accent","type","submit",3,"disabled","click"],["mat-raised-button","","color","primary",2,"margin-left","15px",3,"click"],[1,"side-container"],["id","rightNav","opened","","mode","side","position","end"],[1,"heading"],["id","globalsTab",1,"selectedWindow",3,"click"],["id","localsTab",3,"click"],[1,"declaration",3,"hidden"],[1,"example-container"],["border","1",1,"table-sm"],["mdbTableCol","",4,"ngFor","ngForOf"],["mat-header-cell",""],["mat-cell",""],["mat-cell","",2,"padding","0px","text-align","center"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(45, 45, 255)",3,"click"],["id","editDeleteIcon",1,"material-icons",2,"color","rgb(255, 31, 31)",3,"click"],["mat-header-row",""],["mat-row",""],[3,"value"],["mdbTableCol",""],[2,"color","rgb(78, 78, 253)"],["style","color: red;",4,"ngIf"],[2,"color","red"]],template:function(e,t){1&e&&(Os(0,"div",0),Os(1,"div",1),Os(2,"h2",2),ga(3,"Rewards "),Os(4,"mat-icon",3),Fs("click",(function(){return t.toggleView()})),ga(5,"add_circle"),Ps(),Ps(),Os(6,"div",4),Os(7,"table",5),Ts(8,6),xs(9,FP,2,0,"th",7),xs(10,VP,2,1,"td",8),Rs(),Ts(11,9),xs(12,$P,2,0,"th",7),xs(13,HP,2,1,"td",8),Rs(),Ts(14,10),xs(15,jP,2,0,"th",7),xs(16,WP,2,1,"td",8),Rs(),Ts(17,11),xs(18,zP,1,0,"th",7),xs(19,GP,5,0,"td",12),Rs(),xs(20,ZP,1,0,"tr",13),xs(21,KP,1,0,"tr",14),Ps(),Ps(),Ps(),Os(22,"div",15),Ms(23,"app-labels"),Ps(),Ps(),Os(24,"div",16),Os(25,"form",17),Os(26,"h2",18),ga(27,"Reward"),Ps(),Os(28,"div",19),Os(29,"div",20),Os(30,"label",21),ga(31,"Name"),Ps(),Ms(32,"input",22),Ps(),Os(33,"div",20),Os(34,"label",23),ga(35,"Type"),Ps(),Os(36,"select",24),xs(37,XP,2,2,"option",25),Ps(),Ps(),Ps(),Os(38,"div",26),Os(39,"label",27),ga(40,"Value "),Os(41,"span",28),ga(42,"info"),Ps(),Ps(),Ms(43,"textarea",29),Ms(44,"label",30),Ps(),Os(45,"div",26),Os(46,"span",31),Os(47,"button",32),Fs("click",(function(){return t.addReward(t.form.value)})),ga(48,"Add"),Ps(),Ps(),Os(49,"span",31),Os(50,"button",32),Fs("click",(function(){return t.updateReward(t.form.value)})),ga(51,"Update"),Ps(),Ps(),Os(52,"button",33),Fs("click",(function(){return t.clearForm()})),ga(53,"Close"),Ps(),Ps(),Ps(),Ps(),Os(54,"mat-sidenav-container",34),Os(55,"mat-sidenav",35),Os(56,"div",36),Os(57,"div",37),Fs("click",(function(){return t.globalsSelected()})),ga(58,"Globals"),Ps(),Os(59,"div",38),Fs("click",(function(){return t.localsSelected()})),ga(60,"Locals"),Ps(),Ps(),Os(61,"div",39),Os(62,"div",40),Os(63,"table",41),Os(64,"thead"),Os(65,"tr"),Os(66,"th"),ga(67,"Constants"),Ps(),Ps(),Ps(),Os(68,"tbody"),xs(69,UP,7,4,"tr",42),Ps(),Ps(),Ps(),Os(70,"div",40),Os(71,"table",41),Os(72,"thead"),Os(73,"tr"),Os(74,"th"),ga(75,"Variables"),Ps(),Ps(),Ps(),Os(76,"tbody"),xs(77,qP,7,4,"tr",42),Ps(),Ps(),Ps(),Os(78,"div",40),Os(79,"table",41),Os(80,"thead"),Os(81,"tr"),Os(82,"th"),ga(83,"Expressions/Formulas"),Ps(),Ps(),Ps(),Os(84,"tbody"),xs(85,QP,8,3,"tr",42),Ps(),Ps(),Ps(),Os(86,"div",40),Os(87,"table",41),Os(88,"thead"),Os(89,"tr"),Os(90,"th"),ga(91,"Functions"),Ps(),Ps(),Ps(),Os(92,"tbody"),xs(93,eM,8,3,"tr",42),Ps(),Ps(),Ps(),Ps(),Os(94,"div",39),Os(95,"div",40),Os(96,"table",41),Os(97,"thead"),Os(98,"tr"),Os(99,"th"),ga(100,"Variables"),Ps(),Ps(),Ps(),Os(101,"tbody"),xs(102,nM,7,4,"tr",42),Ps(),Ps(),Ps(),Os(103,"div",40),Os(104,"table",41),Os(105,"thead"),Os(106,"tr"),Os(107,"th"),ga(108,"Expressions"),Ps(),Ps(),Ps(),Os(109,"tbody"),xs(110,iM,8,3,"tr",42),Ps(),Ps(),Ps(),Os(111,"div",40),Os(112,"table",41),Os(113,"thead"),Os(114,"tr"),Os(115,"th"),ga(116,"Functions"),Ps(),Ps(),Ps(),Os(117,"tbody"),xs(118,rM,8,3,"tr",42),Ps(),Ps(),Ps(),Ps(),Ps(),Ps()),2&e&&(br(7),Ss("dataSource",t.rewards),br(13),Ss("matHeaderRowDef",t.rewardsColumn)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.rewardsColumn),br(3),Ss("hidden",t.hideAddRewards),br(1),Ss("formGroup",t.form),br(12),Ss("ngForOf",t.rewardsType),br(9),Ss("hidden",t.toggleAddBtn),br(1),Ss("disabled",t.form.invalid),br(2),Ss("hidden",t.toggleEditBtn),br(1),Ss("disabled",t.form.invalid),br(11),Ss("hidden",t.hideGlobals),br(8),Ss("ngForOf",t.globalConstants),br(8),Ss("ngForOf",t.globalVariables),br(8),Ss("ngForOf",t.globalExpressions),br(8),Ss("ngForOf",t.globalFunctions),br(1),Ss("hidden",t.hideLocals),br(8),Ss("ngForOf",t.localVariables),br(8),Ss("ngForOf",t.localExpressions),br(8),Ss("ngForOf",t.localFunctions))},directives:[Hw,Bx,Wx,Hx,Vx,Yx,Jx,BP,Pu,_d,Ru,gd,wd,$u,Kd,vh,uw,Ax,xx,Gx,Kx,Qx,tI,Xd,qd,bh],styles:[".side-container[_ngcontent-%COMP%]{position:fixed;right:0;top:4%;bottom:0;height:94%;width:22%}#rightNav[_ngcontent-%COMP%]{background-color:#e6e6e6}#rightNav[_ngcontent-%COMP%], .heading[_ngcontent-%COMP%]{color:#000;width:100%}.heading[_ngcontent-%COMP%]{z-index:5;position:absolute;text-align:center;top:0;height:5%;background-color:#cacaca}#globalsTab[_ngcontent-%COMP%], #localsTab[_ngcontent-%COMP%]{padding:3px;margin:2px 10px;cursor:pointer;width:23%;height:80%;display:inline-block}.selectedWindow[_ngcontent-%COMP%]{border:1px solid #000;background-color:#acacac;color:#000;border-radius:4px}.notSelectedWindow[_ngcontent-%COMP%]{border:none;background-color:initial;color:initial}.example-container[_ngcontent-%COMP%]{height:26%;padding:0 3px 3px;overflow:auto}.declaration[_ngcontent-%COMP%], .rewards[_ngcontent-%COMP%]{z-index:0;width:100%;top:6%;height:90%;position:relative}#labelData[_ngcontent-%COMP%], #rewardData[_ngcontent-%COMP%]{position:relative;z-index:0;margin:0 10px 10px;height:50%;border-radius:6px;box-shadow:0 0 5px #6d6d6d}.addReward[_ngcontent-%COMP%]{position:fixed;border-radius:7px;background:#dadada;color:#2b2b2b;z-index:9;width:50%;top:8%;left:28%;margin:0;padding:20px;box-shadow:0 0 5px #6d6d6d}#helpIcon[_ngcontent-%COMP%]{position:relative;top:2px;font-size:16px;cursor:pointer}label[_ngcontent-%COMP%]{font-weight:400}#rewardExpressionError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}.viewRewards[_ngcontent-%COMP%]{padding:0;width:75%;height:93vh}.rewardsTable[_ngcontent-%COMP%], .viewRewards[_ngcontent-%COMP%]{z-index:0;position:relative}.rewardsTable[_ngcontent-%COMP%]{width:100%;height:90%;padding:0 20px 20px;overflow:auto}.example-spacer[_ngcontent-%COMP%]{margin:0;flex:auto}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}#editDeleteIcon[_ngcontent-%COMP%]{padding:5px 0}#editDeleteIcon[_ngcontent-%COMP%], .addIcon[_ngcontent-%COMP%]{font-size:large;cursor:pointer}.addIcon[_ngcontent-%COMP%]{position:absolute;top:8px;text-align:center}.tabelData[_ngcontent-%COMP%]{height:82%;overflow:auto}h2[_ngcontent-%COMP%]{font-size:18px;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{height:10%;padding:5px 0;text-align:center;background-color:#acacac;border:1px solid #888;position:-webkit-sticky;position:sticky;top:0;border-top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-size:15px;font-weight:400;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;text-align:left;background-color:#fff;border:1px solid #888}.example-button[_ngcontent-%COMP%]{margin-top:0}.mat-column-expression[_ngcontent-%COMP%]{width:60%}.mat-column-name[_ngcontent-%COMP%], .mat-column-type[_ngcontent-%COMP%]{width:15%}.mat-column-actions[_ngcontent-%COMP%]{width:8%}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})()},{path:"composition/:id",component:$E},{path:"properties/:id",component:hO},{path:"global-declaration/:id",component:bP},{path:"local-declaration/:id",component:CP},{path:"jani/:id",component:kP},{path:"build-model/:id",component:(()=>{class e{constructor(e,t,n){this._declarationService=e,this.http=t,this.spinner=n,this.deepGlobalConstants=new Array,this.errors=new Array,this.output=""}ngOnInit(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{this.shallowGlobalConstant=yield this._declarationService.getConstants(WS)}finally{e()}this.deepGlobalConstants=this.shallowGlobalConstant.map(e=>Object.assign({},e))}))}setElementValue(e,t){for(let n of this.deepGlobalConstants)n.id==t.id&&(n.value=[e])}modelBuild(){return RS(this,void 0,void 0,(function*(){this.updateErrorLabels();let e=[];for(let n of this.deepGlobalConstants){try{n.value=[n.value[0],HS.getTokens(n.value[0])],jS.parseExpression(n.value[1])}catch(t){this.errors.push(n.id)}e.push([n.id,gE.update])}if(0==this.errors.length){this.spinner.show();for(let e in this.shallowGlobalConstant)this.shallowGlobalConstant[e].value[0]=this.deepGlobalConstants[e].value[0],this.shallowGlobalConstant[e].value[1]=this.deepGlobalConstants[e].value[1];yield this._declarationService.constantOperationsRoute(e,WS),this.output=yield this.buildModelRoute(),this.spinner.hide()}else for(let n of this.errors)document.getElementById(n).innerHTML="Invalid Syntax"}))}updateErrorLabels(){if(this.errors.length>0){for(let e of this.errors)document.getElementById(e).innerHTML="";this.errors=[]}}buildModelRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.get(zS+"/model/build").toPromise().then(e=>e.output).catch(e=>e.message)}))}hideError(e){document.getElementById(e).innerHTML=""}}return e.\u0275fac=function(t){return new(t||e)(As(vE),As(up),As(MI))},e.\u0275cmp=ut({type:e,selectors:[["app-build-model"]],decls:26,vars:2,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"verifyProperty"],[2,"padding","5px","margin-bottom","0px"],[1,"tableData"],[1,"table"],[2,"width","20%"],[2,"width","10%"],[2,"width","70%"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",2,"float","right","margin","15px",3,"click"],[2,"padding","0px 0px 0px 10px","margin","0px"],[1,"output-container"],["readonly","",2,"width","100%","height","100%"],[1,"form-row"],[1,"col-md-9"],["id","constantValue",1,"form-control",3,"value","focus","change"],[1,"col-md-3",2,"padding","5px 5px 0px 5px","width","5px"],[1,"constError",3,"id"]],template:function(e,t){1&e&&(Os(0,"ngx-spinner",0),Os(1,"p",1),ga(2,"Loading..."),Ps(),Ps(),Os(3,"div",2),Os(4,"h2",3),ga(5,"Constants"),Ps(),Os(6,"div",4),Os(7,"table",5),Os(8,"thead"),Os(9,"tr"),Os(10,"th",6),ga(11,"Name"),Ps(),Os(12,"th",7),ga(13,"Type"),Ps(),Os(14,"th",8),ga(15,"Value"),Ps(),Ps(),Ps(),Os(16,"tbody"),xs(17,oM,10,4,"tr",9),Ps(),Ps(),Ps(),Os(18,"button",10),Fs("click",(function(){return t.modelBuild()})),ga(19,"Build Model"),Ps(),Ps(),Os(20,"div"),Os(21,"h2",11),ga(22,"Output"),Ps(),Os(23,"div",12),Os(24,"textarea",13),ga(25),Ps(),Ps(),Ps()),2&e&&(br(17),Ss("ngForOf",t.deepGlobalConstants),br(8),fa(t.output))},directives:[TI,vh],styles:[".verifyProperty[_ngcontent-%COMP%]{height:60vh;margin:12px 12px 0}.output-container[_ngcontent-%COMP%], .verifyProperty[_ngcontent-%COMP%]{width:98.5%;padding:10px;box-shadow:0 0 5px #6d6d6d;border-radius:6px}.output-container[_ngcontent-%COMP%]{height:28vh;margin:0 12px 12px}label[_ngcontent-%COMP%]{font-weight:400}.button-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{margin:10px}.tableData[_ngcontent-%COMP%]{height:78%;overflow:auto}.constError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400;width:8%}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;z-index:10;height:10%;padding:5px 0;background-color:#acacac;font-weight:400;position:-webkit-sticky;position:sticky;top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;color:#000;border:1px solid #888}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;background-color:#fff}.example-button[_ngcontent-%COMP%]{margin-top:0}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}.btn-group-lg[_ngcontent-%COMP%] > .btn[_ngcontent-%COMP%], .btn-lg[_ngcontent-%COMP%]{padding:10px 16px;font-size:14px;line-height:1.3333333;border-radius:6px;float:right;margin-right:2%}"]}),e})()},{path:"verification/:id",component:(()=>{class e{constructor(e,t,n,i){this._propertyService=e,this._declarationService=t,this.http=n,this.spinner=i,this.properties=Array(),this.propertyColumn=Array(),this.selectedProperty=Array(),this.deepGlobalConstants=Array(),this.output="",this.hidePopup=!0,this.errors=new Array,this.verifyPropertyObj={}}ngOnInit(){return RS(this,void 0,void 0,(function*(){this.propertyColumn=["name","operation","property","stateLabel","actions"];const e=yield ZS.acquire();try{this.properties=yield this._propertyService.getProperties(WS),this.shallowGlobalConstant=yield this._declarationService.getConstants(WS)}finally{e()}this.deepGlobalConstants=this.shallowGlobalConstant.map(e=>Object.assign({},e))}))}getRowData(e){this.selectedProperty=e,this.hidePopup=!1}setElementValue(e,t){for(let n of this.deepGlobalConstants)n.id==t.id&&(n.value=[e])}propertyVerification(){return RS(this,void 0,void 0,(function*(){this.updateErrorLabels();let e=[];for(let n of this.deepGlobalConstants){try{n.value=[n.value[0],HS.getTokens(n.value[0])],jS.parseExpression(n.value[1])}catch(t){this.errors.push(n.id)}e.push([n.id,gE.update])}if(0==this.errors.length){this.spinner.show();for(let e in this.shallowGlobalConstant)this.shallowGlobalConstant[e].value[0]=this.deepGlobalConstants[e].value[0],this.shallowGlobalConstant[e].value[1]=this.deepGlobalConstants[e].value[1];this.verifyPropertyObj.propertyName=this.selectedProperty,yield this._declarationService.constantOperationsRoute(e,WS),this.output=yield this.verifyModelRoute(),this.hidePopup=!0,this.spinner.hide()}else for(let n of this.errors)document.getElementById(n).innerHTML="Invalid Syntax"}))}updateErrorLabels(){if(this.errors.length>0){for(let e of this.errors)document.getElementById(e).innerHTML="";this.errors=[]}}verifyModelRoute(){return RS(this,void 0,void 0,(function*(){return yield this.http.post(zS+"/model/verify",this.verifyPropertyObj).toPromise().then(e=>e.output).catch(e=>e.message)}))}hideError(e){document.getElementById(e).innerHTML=""}}return e.\u0275fac=function(t){return new(t||e)(As(HE),As(vE),As(up),As(MI))},e.\u0275cmp=ut({type:e,selectors:[["app-verification"]],decls:50,vars:7,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],[1,"viewProperty"],[2,"padding","0px","margin","0px 0px 0px 10px"],[1,"propertyTable"],["mat-table","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","operation"],["matColumnDef","property"],["matColumnDef","stateLabel"],["matColumnDef","actions"],["mat-cell","","style","padding: 0px;",4,"matCellDef"],["mat-header-row","",4,"matHeaderRowDef","matHeaderRowDefSticky"],["mat-row","",4,"matRowDef","matRowDefColumns"],[1,"verifyPropertyPopup",3,"hidden"],[2,"padding","5px","margin-bottom","0px"],[1,"tableData"],[1,"table"],[2,"width","20%"],[2,"width","10%"],[2,"width","70%"],[4,"ngFor","ngForOf"],["type","button",1,"btn","btn-primary",2,"float","right","margin","15px",3,"click"],["type","button",1,"btn","btn-dark",2,"float","right","margin","15px","background-color","rgb(161, 161, 161)",3,"click"],[2,"padding","0px 0px 0px 10px","margin","0px"],[1,"output-container"],["readonly","",2,"width","100%","height","100%"],["mat-header-cell",""],["mat-cell",""],[3,"matTooltip"],["mat-cell","",2,"padding","0px"],["id","verifyBtn","type","button",1,"btn","btn-secondary","btn-sm",3,"click"],["mat-header-row",""],["mat-row",""],[1,"form-row"],[1,"col-md-9"],["id","constantValue",1,"form-control",3,"value","focus","change"],[1,"col-md-3",2,"padding","5px 5px 0px 5px","width","5px"],[1,"constError",3,"id"]],template:function(e,t){1&e&&(Os(0,"ngx-spinner",0),Os(1,"p",1),ga(2,"Loading..."),Ps(),Ps(),Os(3,"div",2),Os(4,"h2",3),ga(5,"Verify Properties"),Ps(),Os(6,"div",4),Os(7,"table",5),Ts(8,6),xs(9,sM,2,0,"th",7),xs(10,aM,3,2,"td",8),Rs(),Ts(11,9),xs(12,lM,2,0,"th",7),xs(13,cM,2,1,"td",8),Rs(),Ts(14,10),xs(15,hM,2,0,"th",7),xs(16,dM,3,2,"td",8),Rs(),Ts(17,11),xs(18,uM,2,0,"th",7),xs(19,pM,3,2,"td",8),Rs(),Ts(20,12),xs(21,gM,1,0,"th",7),xs(22,fM,3,0,"td",13),Rs(),xs(23,mM,1,0,"tr",14),xs(24,vM,1,0,"tr",15),Ps(),Ps(),Ps(),Os(25,"div",16),Os(26,"h2",17),ga(27,"Constants"),Ps(),Os(28,"div",18),Os(29,"table",19),Os(30,"thead"),Os(31,"tr"),Os(32,"th",20),ga(33,"Name"),Ps(),Os(34,"th",21),ga(35,"Type"),Ps(),Os(36,"th",22),ga(37,"Value"),Ps(),Ps(),Ps(),Os(38,"tbody"),xs(39,yM,10,4,"tr",23),Ps(),Ps(),Ps(),Os(40,"button",24),Fs("click",(function(){return t.propertyVerification()})),ga(41,"Run"),Ps(),Os(42,"button",25),Fs("click",(function(){return t.hidePopup=!0})),ga(43,"Cancel"),Ps(),Ps(),Os(44,"div"),Os(45,"h2",26),ga(46,"Output"),Ps(),Os(47,"div",27),Os(48,"textarea",28),ga(49),Ps(),Ps(),Ps()),2&e&&(br(7),Ss("dataSource",t.properties),br(16),Ss("matHeaderRowDef",t.propertyColumn)("matHeaderRowDefSticky",!0),br(1),Ss("matRowDefColumns",t.propertyColumn),br(1),Ss("hidden",t.hidePopup),br(14),Ss("ngForOf",t.deepGlobalConstants),br(10),fa(t.output))},directives:[TI,Bx,Wx,Hx,Vx,Yx,Jx,vh,Gx,Kx,U_,Qx,tI],styles:[".viewProperty[_ngcontent-%COMP%]{width:98.5%;height:60vh;padding:10px;margin:12px 12px 0;z-index:0;box-shadow:0 0 5px #6d6d6d;border-radius:6px}.propertyTable[_ngcontent-%COMP%]{width:100%;height:90%;padding:0 10px 10px;overflow:auto;z-index:0;position:relative}.output-container[_ngcontent-%COMP%]{width:98.5%;height:28vh;margin:0 12px 12px;padding:10px;z-index:0;box-shadow:0 0 5px #6d6d6d;border-radius:6px}.row[_ngcontent-%COMP%]{padding:0;margin:0}.verifyPropertyPopup[_ngcontent-%COMP%]{position:absolute;border-radius:6px;background:#e9e9e9;color:#2b2b2b;z-index:15;width:70%;height:55vh;top:8%;margin:0 0 0 170px;padding:20px;box-shadow:0 0 5px #6d6d6d}#verifyBtn[_ngcontent-%COMP%]{margin:8px;width:50px;height:25px;color:#fff;background-color:#3b7ac2}.tableData[_ngcontent-%COMP%]{height:70%;overflow:auto}.constError[_ngcontent-%COMP%]{font-size:small;color:red;font-weight:400}table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{position:relative;z-index:10;height:10%;padding:5px 0;background-color:#acacac;font-weight:400;border:1px solid #888;border-top:0;position:-webkit-sticky;position:sticky;top:0}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%], table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{text-align:center;color:#000}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{height:2%;padding:3px;background-color:#fff;border:1px solid #888}.mat-column-property[_ngcontent-%COMP%]{width:50%}.mat-column-name[_ngcontent-%COMP%]{width:15%}.mat-column-operation[_ngcontent-%COMP%]{width:11%}.mat-column-actions[_ngcontent-%COMP%]{width:8%}.mat-column-type[_ngcontent-%COMP%]{width:10%}table[_ngcontent-%COMP%]{width:100%;table-layout:fixed;border-top:0}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{overflow:hidden;width:auto;text-overflow:ellipsis;white-space:nowrap}"]}),e})()}]},{path:"analysis",component:EP}];let CM=(()=>{class e{}return e.\u0275mod=mt({type:e}),e.\u0275inj=he({factory:function(t){return new(t||e)},imports:[[IS.forRoot(bM,{useHash:!0})],IS]}),e})(),wM=(()=>{class e{constructor(e){this._headerService=e,this.types=new Array}ngOnInit(){this.modelType="JANI",this.model=null}loadModelDataObject(e){return RS(this,void 0,void 0,(function*(){const t=e.target.files.item(0);this.model=yield t.text()}))}setModelType(e){this.modelType=e}sendLoadModelData(){return RS(this,void 0,void 0,(function*(){let e;document.getElementById("loadError").innerHTML="";try{if(this.model.length>0||null!=this.model){try{e=JSON.parse(this.model)}catch(t){return document.getElementById("loadError").innerHTML="Invalid file data",!1}yield this._headerService.loadModelRoute(this.model,this.modelType),(yield this._headerService.modelInfoRoute())&&window.location.reload()}}catch(t){document.getElementById("loadError").innerHTML="Invalid file data"}}))}}return e.\u0275fac=function(t){return new(t||e)(As(JS))},e.\u0275cmp=ut({type:e,selectors:[["app-load-model"]],decls:21,vars:0,consts:[[2,"text-align","center"],["id","radioOption"],[1,"form-check"],["type","radio","name","exampleRadios","value","JANI","checked","",1,"form-check-input",3,"click"],["for","JANI",1,"form-check-label"],["type","radio","name","exampleRadios","value","JGM",1,"form-check-input",3,"click"],["for","JGM",1,"form-check-label"],["type","file",2,"width","100%",3,"change"],["id","loadError"],["id","okCancelBtn","mat-raised-button","","color","accent",3,"click"],["id","okCancelBtn","mat-raised-button","","color","primary","mat-dialog-close",""]],template:function(e,t){1&e&&(Os(0,"h3",0),ga(1," Load Model"),Ps(),Os(2,"table"),Os(3,"tr"),Os(4,"td",1),Os(5,"div",2),Os(6,"input",3),Fs("click",(function(e){return t.setModelType(e.target.value)})),Ps(),Os(7,"label",4),ga(8,"JANI"),Ps(),Ps(),Ps(),Os(9,"td",1),Os(10,"div",2),Os(11,"input",5),Fs("click",(function(e){return t.setModelType(e.target.value)})),Ps(),Os(12,"label",6),ga(13,"JGM"),Ps(),Ps(),Ps(),Ps(),Ps(),Os(14,"input",7),Fs("change",(function(e){return t.loadModelDataObject(e)})),Ps(),Ms(15,"label",8),Os(16,"div"),Os(17,"button",9),Fs("click",(function(){return t.sendLoadModelData()})),ga(18,"Ok"),Ps(),Os(19,"button",10),ga(20,"Close"),Ps(),Ps())},directives:[uw,o_],styles:["#radioOption[_ngcontent-%COMP%]{padding:0 0 10px 10px}#loadError[_ngcontent-%COMP%]{font-size:small;color:#c70000;font-weight:400}#okCancelBtn[_ngcontent-%COMP%]{width:60px;margin-right:10px}.mat-raised-button[_ngcontent-%COMP%]{line-height:30px;padding:0 12px}"]}),e})(),_M=(()=>{class e{constructor(e,t,n,i){this._headerService=e,this._router=t,this._activatedRoute=n,this.dialog=i}ngOnInit(){return RS(this,void 0,void 0,(function*(){const e=yield ZS.acquire();try{(yield this._headerService.modelInfoRoute())&&this._router.navigate(["model"],{relativeTo:this._activatedRoute})}finally{e()}}))}saveModelInfo(e){US(XS()),this._headerService.setModelInfo({name:"MainProject",id:WS,type:e}),this._headerService.createModelRoute()}openDialog(){this.dialog.open(wM)}saveModel(e){return RS(this,void 0,void 0,(function*(){if(void 0!==WS){const i=yield ZS.acquire();try{if(console.log("Mutex in"),"JsonGraph"==e){let e=yield this._headerService.modelJSONRoute();var t=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"text/plain"});t.href=URL.createObjectURL(n),t.download=WS+".jgm",t.click()}else if("Jani"==e){let e=yield this._headerService.modelJANIRoute();console.log("Content jani: ",e),t=document.createElement("a"),n=new Blob([JSON.stringify(e)],{type:"text/plain"}),t.href=URL.createObjectURL(n),t.download=WS+".jani",t.click()}}finally{i()}}else console.log("No project to save")}))}}return e.\u0275fac=function(t){return new(t||e)(As(JS),As(pS),As(qA),As(r_))},e.\u0275cmp=ut({type:e,selectors:[["app-header"]],decls:36,vars:3,consts:[["bdColor","rgba(51,51,51,0.8)","size","medium","color","#fff","type","ball-scale-multiple"],[2,"font-size","20px","color","white"],["color","primary",1,"header-toolbar"],[1,"wi","wi-thunderstorm",2,"color","#0290d5","font-weight","bold"],["mat-button",""],["mat-button","",3,"matMenuTriggerFor"],[1,"dgbLogo"],["src","../../../assets/images/dgbLogo.png","alt","DGB-Logo",2,"width","auto","height","25px"],[2,"padding","0px"],["Model","matMenu"],["mat-menu-item","",3,"matMenuTriggerFor"],["mat-menu-item","",3,"click"],["newModel","matMenu"],["mat-menu-item","","value","DTMC",3,"click"],["mat-menu-item","","value","CTMC",3,"click"],["mat-menu-item","","value","MDP",3,"click"],["mat-menu-item","","value","MA",3,"click"],["export","matMenu"],["mat-menu-item","","value","JsonGraph",3,"click"],["mat-menu-item","","value","Jani",3,"click"]],template:function(e,t){if(1&e&&(Os(0,"ngx-spinner",0),Os(1,"p",1),ga(2,"Loading..."),Ps(),Ps(),Os(3,"mat-toolbar",2),Os(4,"i",3),ga(5," Storm"),Ps(),Os(6,"button",4),ga(7,"File"),Ps(),Os(8,"button",5),ga(9,"Model"),Ps(),Os(10,"div",6),Ms(11,"img",7),Ps(),Os(12,"mat-menu",8,9),Os(14,"button",10),ga(15,"New"),Ps(),Os(16,"button",11),Fs("click",(function(){return t.openDialog()})),ga(17,"Load"),Ps(),Os(18,"button",10),ga(19,"Export"),Ps(),Ps(),Os(20,"mat-menu",null,12),Os(22,"button",13),Fs("click",(function(e){return t.saveModelInfo(e.target.value)})),ga(23,"Discrete Time Markov Chain (DTMC)"),Ps(),Os(24,"button",14),Fs("click",(function(e){return t.saveModelInfo(e.target.value)})),ga(25,"Continuous Time Markov Chain (CTMC)"),Ps(),Os(26,"button",15),Fs("click",(function(e){return t.saveModelInfo(e.target.value)})),ga(27,"Markov Decision Process (MDP)"),Ps(),Os(28,"button",16),Fs("click",(function(e){return t.saveModelInfo(e.target.value)})),ga(29,"Markov Automaton (MA)"),Ps(),Ps(),Os(30,"mat-menu",null,17),Os(32,"button",18),Fs("click",(function(e){return t.saveModel(e.target.value)})),ga(33,"JSON Graph Model"),Ps(),Os(34,"button",19),Fs("click",(function(e){return t.saveModel(e.target.value)})),ga(35,"JANI"),Ps(),Ps(),Ps()),2&e){const e=Is(13),t=Is(21),n=Is(31);br(8),Ss("matMenuTriggerFor",e),br(6),Ss("matMenuTriggerFor",t),br(4),Ss("matMenuTriggerFor",n)}},directives:[TI,hI,uw,V_,N_,O_],styles:[".basic-container[_ngcontent-%COMP%]{padding:64px}.header-toolbar[_ngcontent-%COMP%]{position:fixed;z-index:9;height:4%;min-height:30px;background-color:#e7e7e7;border-bottom:1px solid #b9b9b9;color:#000}.mat-button[_ngcontent-%COMP%], .mat-flat-button[_ngcontent-%COMP%], .mat-icon-button[_ngcontent-%COMP%], .mat-menu-item[_ngcontent-%COMP%], .mat-stroked-button[_ngcontent-%COMP%]{-webkit-user-select:none;-moz-user-select:none;user-select:none;cursor:pointer;outline:none;border:none;-webkit-tap-highlight-color:transparent;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;display:block;line-height:0;height:25px;margin-top:0;text-align:left;text-decoration:none;max-width:100%;position:relative}.mat-menu-content[_ngcontent-%COMP%]:not(:empty){padding:0}.mat-menu-item-highlighted[_ngcontent-%COMP%]:not([disabled]), .mat-menu-item.cdk-keyboard-focused[_ngcontent-%COMP%]:not([disabled]), .mat-menu-item.cdk-program-focused[_ngcontent-%COMP%]:not([disabled]), .mat-menu-item[_ngcontent-%COMP%]:hover:not([disabled]){background:#d3d3d3}.mat-menu-item-submenu-trigger[_ngcontent-%COMP%]:after, .mat-menu-item[_ngcontent-%COMP%]   .mat-icon-no-color[_ngcontent-%COMP%]{color:#000}.dgbLogo[_ngcontent-%COMP%]{position:absolute;right:20px;padding:5px}"]}),e})(),xM=(()=>{class e{constructor(e){this.router=e,this.title="Storm-model-checker-GUI"}ngOnInit(){this.router.navigate([""])}}return e.\u0275fac=function(t){return new(t||e)(As(pS))},e.\u0275cmp=ut({type:e,selectors:[["app-root"]],decls:2,vars:0,template:function(e,t){1&e&&(Ms(0,"app-header"),Ms(1,"router-outlet"))},directives:[_M,gS],styles:[""]}),e})(),IM=(()=>{class e{}return e.\u0275mod=mt({type:e,bootstrap:[xM]}),e.\u0275inj=he({factory:function(t){return new(t||e)},providers:[JS,qS,vE,{provide:ih,useClass:ah}],imports:[[sd,CM,Ob,Wu,zu,Ep,AP,DI,Sg,Eg,cm,Km,rv,Qf,ZC,KC,sw,pw,gw,fw,vw,Cw,Gw,f_,a_,m_,y_,b_,jw,c_,C_,H_,Yb,tx,nx,ix,rx,sC,W_,Sx,Ex,Px,Mx,Dx,iI,rI,dI,q_,_I,VC,lm,vf]]}),e})();(function(){if(Si)throw new Error("Cannot enable prod mode after platform setup.");ki=!1})(),rd().bootstrapModule(IM).catch(e=>console.error(e))},zn8P:function(e,t){function n(e){return Promise.resolve().then((function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}))}n.keys=function(){return[]},n.resolve=n,e.exports=n,n.id="zn8P"}},[[0,0]]]);